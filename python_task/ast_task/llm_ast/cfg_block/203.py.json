{
    "type": "module",
    "start_token": 0,
    "end_token": 535,
    "children": [
        {
            "type": "import_statement",
            "start_token": 0,
            "end_token": 1,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 1,
                    "end_token": 1,
                    "label": "contextlib"
                }
            ],
            "label": "import contextlib"
        },
        {
            "type": "import_statement",
            "start_token": 3,
            "end_token": 7,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 4,
                    "end_token": 6,
                    "label": "logging.config"
                }
            ],
            "label": "import logging.config\n"
        },
        {
            "type": "import_statement",
            "start_token": 8,
            "end_token": 10,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 9,
                    "end_token": 9,
                    "label": "os"
                }
            ],
            "label": "import os\n"
        },
        {
            "type": "import_statement",
            "start_token": 12,
            "end_token": 14,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 13,
                    "end_token": 13,
                    "label": "dotenv"
                }
            ],
            "label": "import dotenv\n"
        },
        {
            "type": "import_statement",
            "start_token": 15,
            "end_token": 17,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 16,
                    "end_token": 16,
                    "label": "fastapi"
                }
            ],
            "label": "import fastapi\n"
        },
        {
            "type": "import_statement",
            "start_token": 18,
            "end_token": 24,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 19,
                    "end_token": 23,
                    "label": "fastapi.middleware.cors"
                }
            ],
            "label": "import fastapi.middleware.cors\n"
        },
        {
            "type": "import_statement",
            "start_token": 25,
            "end_token": 31,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 26,
                    "end_token": 30,
                    "label": "fastapi.middleware.gzip"
                }
            ],
            "label": "import fastapi.middleware.gzip\n"
        },
        {
            "type": "import_statement",
            "start_token": 32,
            "end_token": 34,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 33,
                    "end_token": 33,
                    "label": "prisma"
                }
            ],
            "label": "import prisma\n"
        },
        {
            "type": "import_statement",
            "start_token": 35,
            "end_token": 37,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 36,
                    "end_token": 36,
                    "label": "prometheus_fastapi_instrumentator"
                }
            ],
            "label": "import prometheus_fastapi_instrumentator\n"
        },
        {
            "type": "import_statement",
            "start_token": 38,
            "end_token": 40,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 39,
                    "end_token": 39,
                    "label": "sentry_sdk"
                }
            ],
            "label": "import sentry_sdk\n"
        },
        {
            "type": "import_statement",
            "start_token": 41,
            "end_token": 47,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 42,
                    "end_token": 46,
                    "label": "sentry_sdk.integrations.asyncio"
                }
            ],
            "label": "import sentry_sdk.integrations.asyncio\n"
        },
        {
            "type": "import_statement",
            "start_token": 48,
            "end_token": 54,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 49,
                    "end_token": 53,
                    "label": "sentry_sdk.integrations.fastapi"
                }
            ],
            "label": "import sentry_sdk.integrations.fastapi\n"
        },
        {
            "type": "import_statement",
            "start_token": 55,
            "end_token": 61,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 56,
                    "end_token": 60,
                    "label": "sentry_sdk.integrations.starlette"
                }
            ],
            "label": "import sentry_sdk.integrations.starlette\n"
        },
        {
            "type": "import_statement",
            "start_token": 63,
            "end_token": 67,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 64,
                    "end_token": 66,
                    "label": "market.config"
                }
            ],
            "label": "import market.config\n"
        },
        {
            "type": "import_statement",
            "start_token": 68,
            "end_token": 74,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 69,
                    "end_token": 73,
                    "label": "market.routes.admin"
                }
            ],
            "label": "import market.routes.admin\n"
        },
        {
            "type": "import_statement",
            "start_token": 75,
            "end_token": 81,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 76,
                    "end_token": 80,
                    "label": "market.routes.agents"
                }
            ],
            "label": "import market.routes.agents\n"
        },
        {
            "type": "import_statement",
            "start_token": 82,
            "end_token": 88,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 83,
                    "end_token": 87,
                    "label": "market.routes.analytics"
                }
            ],
            "label": "import market.routes.analytics\n"
        },
        {
            "type": "import_statement",
            "start_token": 89,
            "end_token": 95,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 90,
                    "end_token": 94,
                    "label": "market.routes.search"
                }
            ],
            "label": "import market.routes.search\n"
        },
        {
            "type": "import_statement",
            "start_token": 96,
            "end_token": 102,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 97,
                    "end_token": 101,
                    "label": "market.routes.submissions"
                }
            ],
            "label": "import market.routes.submissions\n"
        },
        {
            "type": "call",
            "start_token": 104,
            "end_token": 108,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 104,
                    "end_token": 106,
                    "label": "dotenv.load_dotenv"
                },
                {
                    "type": "argument_list",
                    "start_token": 107,
                    "end_token": 108,
                    "label": "()"
                }
            ],
            "label": "dotenv.load_dotenv()"
        },
        {
            "type": "call",
            "start_token": 111,
            "end_token": 129,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 111,
                    "end_token": 115,
                    "label": "logging.config.dictConfig"
                },
                {
                    "type": "argument_list",
                    "start_token": 116,
                    "end_token": 128,
                    "children": [
                        {
                            "type": "call",
                            "start_token": 117,
                            "end_token": 127,
                            "children": [
                                {
                                    "type": "dotted_name",
                                    "start_token": 117,
                                    "end_token": 121,
                                    "label": "market.config.LogConfig"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 122,
                                    "end_token": 127,
                                    "label": "().model_dump()"
                                }
                            ],
                            "label": "market.config.LogConfig().model_dump()"
                        }
                    ],
                    "label": "(market.config.LogConfig().model_dump())"
                }
            ],
            "label": "logging.config.dictConfig(market.config.LogConfig().model_dump())\n"
        },
        {
            "type": "if_statement",
            "start_token": 131,
            "end_token": 246,
            "children": [
                {
                    "type": "boolean_operator",
                    "start_token": 131,
                    "end_token": 140,
                    "children": [
                        {
                            "type": "call",
                            "start_token": 132,
                            "end_token": 139,
                            "children": [
                                {
                                    "type": "dotted_name",
                                    "start_token": 132,
                                    "end_token": 136,
                                    "label": "os.environ.get"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 137,
                                    "end_token": 139,
                                    "label": "(\"SENTRY_DSN\")"
                                }
                            ],
                            "label": "os.environ.get(\"SENTRY_DSN\")"
                        }
                    ],
                    "label": "if os.environ.get(\"SENTRY_DSN\"):"
                },
                {
                    "type": "block",
                    "start_token": 141,
                    "end_token": 246,
                    "children": [
                        {
                            "type": "call",
                            "start_token": 142,
                            "end_token": 246,
                            "children": [
                                {
                                    "type": "dotted_name",
                                    "start_token": 142,
                                    "end_token": 144,
                                    "label": "sentry_sdk.init"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 145,
                                    "end_token": 246,
                                    "children": [
                                        {
                                            "type": "keyword_argument",
                                            "start_token": 147,
                                            "end_token": 157,
                                            "children": [
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 149,
                                                    "end_token": 153,
                                                    "label": "os.environ.get"
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "start_token": 154,
                                                    "end_token": 157,
                                                    "label": "(\"SENTRY_DSN\"),"
                                                }
                                            ],
                                            "label": "dsn=os.environ.get(\"SENTRY_DSN\"),"
                                        },
                                        {
                                            "type": "keyword_argument",
                                            "start_token": 159,
                                            "end_token": 164,
                                            "label": "traces_sample_rate=1.0,"
                                        },
                                        {
                                            "type": "keyword_argument",
                                            "start_token": 166,
                                            "end_token": 171,
                                            "label": "profiles_sample_rate=1.0,"
                                        },
                                        {
                                            "type": "keyword_argument",
                                            "start_token": 173,
                                            "end_token": 176,
                                            "label": "enable_tracing=True,"
                                        },
                                        {
                                            "type": "keyword_argument",
                                            "start_token": 178,
                                            "end_token": 196,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 180,
                                                    "end_token": 195,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 180,
                                                            "end_token": 184,
                                                            "label": "os.environ.get"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 185,
                                                            "end_token": 191,
                                                            "label": "(\"RUN_ENV\", default=\"CLOUD\")"
                                                        }
                                                    ],
                                                    "label": "os.environ.get(\"RUN_ENV\", default=\"CLOUD\").lower()"
                                                }
                                            ],
                                            "label": "environment=os.environ.get(\"RUN_ENV\", default=\"CLOUD\").lower(),"
                                        },
                                        {
                                            "type": "keyword_argument",
                                            "start_token": 198,
                                            "end_token": 243,
                                            "children": [
                                                {
                                                    "type": "list",
                                                    "start_token": 200,
                                                    "end_token": 243,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 202,
                                                            "end_token": 215,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 202,
                                                                    "end_token": 208,
                                                                    "label": "sentry_sdk.integrations.starlette.StarletteIntegration"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 209,
                                                                    "end_token": 215,
                                                                    "label": "(\n                transaction_style=\"url\"\n            )"
                                                                }
                                                            ],
                                                            "label": "sentry_sdk.integrations.starlette.StarletteIntegration(\n                transaction_style=\"url\"\n            )"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 218,
                                                            "end_token": 230,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 218,
                                                                    "end_token": 224,
                                                                    "label": "sentry_sdk.integrations.fastapi.FastApiIntegration"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 225,
                                                                    "end_token": 229,
                                                                    "label": "(transaction_style=\"url\")"
                                                                }
                                                            ],
                                                            "label": "sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 233,
                                                            "end_token": 240,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 233,
                                                                    "end_token": 238,
                                                                    "label": ".integrations.asyncio.AsyncioIntegration"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 239,
                                                                    "end_token": 240,
                                                                    "label": "()"
                                                                }
                                                            ],
                                                            "label": ".integrations.asyncio.AsyncioIntegration()"
                                                        }
                                                    ],
                                                    "label": "[\n            sentry_sdk.integrations.starlette.StarletteIntegration(\n                transaction_style=\"url\"\n            ),\n            sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\n            sentry_sdk.integrations.asyncio.AsyncioIntegration(),\n        ]"
                                                }
                                            ],
                                            "label": "integrations=[\n            sentry_sdk.integrations.starlette.StarletteIntegration(\n                transaction_style=\"url\"\n            ),\n            sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\n            sentry_sdk.integrations.asyncio.AsyncioIntegration(),\n        ]"
                                        }
                                    ],
                                    "label": "(\n        dsn=os.environ.get(\"SENTRY_DSN\"),\n        traces_sample_rate=1.0,\n        profiles_sample_rate=1.0,\n        enable_tracing=True,\n        environment=os.environ.get(\"RUN_ENV\", default=\"CLOUD\").lower(),\n        integrations=[\n            sentry_sdk.integrations.starlette.StarletteIntegration(\n                transaction_style=\"url\"\n            ),\n            sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\n            sentry_sdk.integrations.asyncio.AsyncioIntegration(),\n        ],\n    )"
                                }
                            ],
                            "label": "sentry_sdk.init(\n        dsn=os.environ.get(\"SENTRY_DSN\"),\n        traces_sample_rate=1.0,\n        profiles_sample_rate=1.0,\n        enable_tracing=True,\n        environment=os.environ.get(\"RUN_ENV\", default=\"CLOUD\").lower(),\n        integrations=[\n            sentry_sdk.integrations.starlette.StarletteIntegration(\n                transaction_style=\"url\"\n            ),\n            sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\n            sentry_sdk.integrations.asyncio.AsyncioIntegration(),\n        ],\n    )"
                        }
                    ],
                    "label": "\n    sentry_sdk.init(\n        dsn=os.environ.get(\"SENTRY_DSN\"),\n        traces_sample_rate=1.0,\n        profiles_sample_rate=1.0,\n        enable_tracing=True,\n        environment=os.environ.get(\"RUN_ENV\", default=\"CLOUD\").lower(),\n        integrations=[\n            sentry_sdk.integrations.starlette.StarletteIntegration(\n                transaction_style=\"url\"\n            ),\n            sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\n            sentry_sdk.integrations.asyncio.AsyncioIntegration(),\n        ],\n    )"
                }
            ],
            "label": "if os.environ.get(\"SENTRY_DSN\"):\n    sentry_sdk.init(\n        dsn=os.environ.get(\"SENTRY_DSN\"),\n        traces_sample_rate=1.0,\n        profiles_sample_rate=1.0,\n        enable_tracing=True,\n        environment=os.environ.get(\"RUN_ENV\", default=\"CLOUD\").lower(),\n        integrations=[\n            sentry_sdk.integrations.starlette.StarletteIntegration(\n                transaction_style=\"url\"\n            ),\n            sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\n            sentry_sdk.integrations.asyncio.AsyncioIntegration(),\n        ],\n    )"
        },
        {
            "type": "assignment",
            "start_token": 249,
            "end_token": 259,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 251,
                    "end_token": 253,
                    "label": "prisma.Prisma"
                },
                {
                    "type": "call",
                    "start_token": 253,
                    "end_token": 258,
                    "children": [
                        {
                            "type": "argument_list",
                            "start_token": 254,
                            "end_token": 258,
                            "label": "(auto_register=True)"
                        }
                    ],
                    "label": "Prisma(auto_register=True)"
                }
            ],
            "label": "db_client = prisma.Prisma(auto_register=True)\n"
        },
        {
            "type": "decorator",
            "start_token": 262,
            "end_token": 266,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 263,
                    "end_token": 265,
                    "label": "contextlib.asynccontextmanager"
                }
            ],
            "label": "@contextlib.asynccontextmanager\n"
        },
        {
            "type": "assignment",
            "start_token": 269,
            "end_token": 272,
            "label": "docs_url = \"/docs\"\n"
        },
        {
            "type": "assignment",
            "start_token": 273,
            "end_token": 316,
            "children": [
                {
                    "type": "call",
                    "start_token": 275,
                    "end_token": 315,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 275,
                            "end_token": 277,
                            "label": "fastapi.FastAPI"
                        },
                        {
                            "type": "argument_list",
                            "start_token": 278,
                            "end_token": 315,
                            "label": "(\n    title=\"Marketplace API\",\n    description=\"AutoGPT Marketplace API is a service that allows users to share AI agents.\",\n    summary=\"Maketplace API\",\n    version=\"0.1\",\n    lifespan=lifespan,\n    root_path=\"/api/v1/market\",\n    docs_url=docs_url,\n)"
                        }
                    ],
                    "label": "fastapi.FastAPI(\n    title=\"Marketplace API\",\n    description=\"AutoGPT Marketplace API is a service that allows users to share AI agents.\",\n    summary=\"Maketplace API\",\n    version=\"0.1\",\n    lifespan=lifespan,\n    root_path=\"/api/v1/market\",\n    docs_url=docs_url,\n)"
                }
            ],
            "label": "app = fastapi.FastAPI(\n    title=\"Marketplace API\",\n    description=\"AutoGPT Marketplace API is a service that allows users to share AI agents.\",\n    summary=\"Maketplace API\",\n    version=\"0.1\",\n    lifespan=lifespan,\n    root_path=\"/api/v1/market\",\n    docs_url=docs_url,\n)\n"
        },
        {
            "type": "call",
            "start_token": 318,
            "end_token": 333,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 318,
                    "end_token": 320,
                    "label": "app.add_middleware"
                },
                {
                    "type": "argument_list",
                    "start_token": 321,
                    "end_token": 333,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 322,
                            "end_token": 328,
                            "label": "fastapi.middleware.gzip.GZipMiddleware"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 330,
                            "end_token": 332,
                            "label": "minimum_size=1000"
                        }
                    ],
                    "label": "(fastapi.middleware.gzip.GZipMiddleware, minimum_size=1000)"
                }
            ],
            "label": "app.add_middleware(fastapi.middleware.gzip.GZipMiddleware, minimum_size=1000)"
        },
        {
            "type": "call",
            "start_token": 335,
            "end_token": 391,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 335,
                    "end_token": 337,
                    "label": "app.add_middleware"
                },
                {
                    "type": "argument_list",
                    "start_token": 338,
                    "end_token": 391,
                    "children": [
                        {
                            "type": "keyword_argument",
                            "start_token": 340,
                            "end_token": 369,
                            "label": "middleware_class=fastapi.middleware.cors.CORSMiddleware,\n    allow_origins=os.environ.get(\n        \"BACKEND_CORS_ALLOW_ORIGINS\", \"http://localhost:3000,http://127.0.0.1:3000\"\n    ).split(\",\")"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 372,
                            "end_token": 374,
                            "label": "allow_credentials=True"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 377,
                            "end_token": 382,
                            "label": "allow_methods=[\"*\"],"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 384,
                            "end_token": 389,
                            "label": "allow_headers=[\"*\"],"
                        }
                    ],
                    "label": "(\n    middleware_class=fastapi.middleware.cors.CORSMiddleware,\n    allow_origins=os.environ.get(\n        \"BACKEND_CORS_ALLOW_ORIGINS\", \"http://localhost:3000,http://127.0.0.1:3000\"\n    ).split(\",\"),\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)"
                }
            ],
            "label": "app.add_middleware(\n    middleware_class=fastapi.middleware.cors.CORSMiddleware,\n    allow_origins=os.environ.get(\n        \"BACKEND_CORS_ALLOW_ORIGINS\", \"http://localhost:3000,http://127.0.0.1:3000\"\n    ).split(\",\"),\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)"
        },
        {
            "type": "call",
            "start_token": 393,
            "end_token": 410,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 393,
                    "end_token": 395,
                    "label": "app.include_router"
                },
                {
                    "type": "argument_list",
                    "start_token": 396,
                    "end_token": 410,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 397,
                            "end_token": 403,
                            "label": "market.routes.agents.router"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 405,
                            "end_token": 409,
                            "label": "tags=[\"agents\"]"
                        }
                    ],
                    "label": "(market.routes.agents.router, tags=[\"agents\"])"
                }
            ],
            "label": "app.include_router(market.routes.agents.router, tags=[\"agents\"])"
        },
        {
            "type": "call",
            "start_token": 412,
            "end_token": 429,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 412,
                    "end_token": 414,
                    "label": "app.include_router"
                },
                {
                    "type": "argument_list",
                    "start_token": 415,
                    "end_token": 429,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 416,
                            "end_token": 422,
                            "label": "market.routes.search.router"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 424,
                            "end_token": 428,
                            "label": "tags=[\"search\"]"
                        }
                    ],
                    "label": "(market.routes.search.router, tags=[\"search\"])"
                }
            ],
            "label": "app.include_router(market.routes.search.router, tags=[\"search\"])"
        },
        {
            "type": "call",
            "start_token": 431,
            "end_token": 448,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 431,
                    "end_token": 433,
                    "label": "app.include_router"
                },
                {
                    "type": "argument_list",
                    "start_token": 434,
                    "end_token": 448,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 435,
                            "end_token": 441,
                            "label": "market.routes.submissions.router"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 443,
                            "end_token": 447,
                            "label": "tags=[\"submissions\"]"
                        }
                    ],
                    "label": "(market.routes.submissions.router, tags=[\"submissions\"])"
                }
            ],
            "label": "app.include_router(market.routes.submissions.router, tags=[\"submissions\"])"
        },
        {
            "type": "call",
            "start_token": 450,
            "end_token": 471,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 450,
                    "end_token": 452,
                    "label": "app.include_router"
                },
                {
                    "type": "argument_list",
                    "start_token": 453,
                    "end_token": 471,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 454,
                            "end_token": 460,
                            "label": "market.routes.admin.router"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 462,
                            "end_token": 464,
                            "label": "prefix=\"/admin\""
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 466,
                            "end_token": 470,
                            "label": "tags=[\"admin\"]"
                        }
                    ],
                    "label": "(market.routes.admin.router, prefix=\"/admin\", tags=[\"admin\"])"
                }
            ],
            "label": "app.include_router(market.routes.admin.router, prefix=\"/admin\", tags=[\"admin\"])"
        },
        {
            "type": "call",
            "start_token": 473,
            "end_token": 496,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 473,
                    "end_token": 475,
                    "label": "app.include_router"
                },
                {
                    "type": "argument_list",
                    "start_token": 476,
                    "end_token": 496,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 478,
                            "end_token": 484,
                            "label": "market.routes.analytics.router"
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 486,
                            "end_token": 488,
                            "label": "prefix=\"/analytics\""
                        },
                        {
                            "type": "keyword_argument",
                            "start_token": 490,
                            "end_token": 494,
                            "label": "tags=[\"analytics\"]"
                        }
                    ],
                    "label": "(\n    market.routes.analytics.router, prefix=\"/analytics\", tags=[\"analytics\"]\n)"
                }
            ],
            "label": "app.include_router(\n    market.routes.analytics.router, prefix=\"/analytics\", tags=[\"analytics\"]\n)"
        },
        {
            "type": "decorator",
            "start_token": 500,
            "end_token": 506,
            "children": [
                {
                    "type": "call",
                    "start_token": 501,
                    "end_token": 506,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 501,
                            "end_token": 503,
                            "label": "app.get"
                        },
                        {
                            "type": "argument_list",
                            "start_token": 504,
                            "end_token": 506,
                            "label": "(\"/health\")"
                        }
                    ],
                    "label": "app.get(\"/health\")"
                }
            ],
            "label": "@app.get(\"/health\")"
        },
        {
            "type": "decorator",
            "start_token": 510,
            "end_token": 516,
            "children": [
                {
                    "type": "call",
                    "start_token": 511,
                    "end_token": 516,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 511,
                            "end_token": 513,
                            "label": "app.get"
                        },
                        {
                            "type": "argument_list",
                            "start_token": 514,
                            "end_token": 516,
                            "label": "(\"/\")"
                        }
                    ],
                    "label": "app.get(\"/\")"
                }
            ],
            "label": "@app.get(\"/\")"
        },
        {
            "type": "call",
            "start_token": 520,
            "end_token": 534,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 520,
                    "end_token": 522,
                    "label": "prometheus_fastapi_instrumentator.Instrumentator"
                },
                {
                    "type": "argument_list",
                    "start_token": 523,
                    "end_token": 534,
                    "children": [
                        {
                            "type": "dotted_name",
                            "start_token": 527,
                            "end_token": 527,
                            "label": "("
                        },
                        {
                            "type": "call",
                            "start_token": 529,
                            "end_token": 534,
                            "children": [
                                {
                                    "type": "dotted_name",
                                    "start_token": 529,
                                    "end_token": 531,
                                    "label": ").expose"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 532,
                                    "end_token": 534,
                                    "label": "(app)"
                                }
                            ],
                            "label": ").expose(app)"
                        }
                    ],
                    "label": "().instrument(app).expose(app)"
                }
            ],
            "label": "prometheus_fastapi_instrumentator.Instrumentator().instrument(app).expose(app)"
        },
        {
            "type": "function_placeholder",
            "name": "lifespan",
            "start_line": 47,
            "end_line": 50,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 27,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 27,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "async"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 8,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "label": "app"
                                                },
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 6,
                                                    "end_token": 8,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 6,
                                                            "end_token": 6,
                                                            "label": "fastapi"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 8,
                                                            "end_token": 8,
                                                            "label": "FastAPI"
                                                        }
                                                    ],
                                                    "label": "fastapi.FastAPI"
                                                }
                                            ],
                                            "label": "app: fastapi.FastAPI"
                                        }
                                    ],
                                    "label": "(app: fastapi.FastAPI)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 11,
                                    "end_token": 27,
                                    "children": [
                                        {
                                            "type": "await",
                                            "start_token": 12,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 13,
                                                    "end_token": 17,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 13,
                                                            "end_token": 15,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 13,
                                                                    "end_token": 13,
                                                                    "label": "db_client"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 15,
                                                                    "end_token": 15,
                                                                    "label": "connect"
                                                                }
                                                            ],
                                                            "label": "db_client.connect"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 16,
                                                            "end_token": 17,
                                                            "label": "()"
                                                        }
                                                    ],
                                                    "label": "db_client.connect()"
                                                }
                                            ],
                                            "label": "await db_client.connect()"
                                        },
                                        {
                                            "type": "yield",
                                            "start_token": 19,
                                            "end_token": 19,
                                            "label": "yield"
                                        },
                                        {
                                            "type": "await",
                                            "start_token": 21,
                                            "end_token": 26,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 22,
                                                    "end_token": 26,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 22,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 22,
                                                                    "end_token": 22,
                                                                    "label": "db_client"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "label": "disconnect"
                                                                }
                                                            ],
                                                            "label": "db_client.disconnect"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 25,
                                                            "end_token": 26,
                                                            "label": "()"
                                                        }
                                                    ],
                                                    "label": "db_client.disconnect()"
                                                }
                                            ],
                                            "label": "await db_client.disconnect()"
                                        }
                                    ],
                                    "label": "\n    await db_client.connect()\n    yield\n    await db_client.disconnect()\n"
                                }
                            ],
                            "label": "async def lifespan(app: fastapi.FastAPI):\n    await db_client.connect()\n    yield\n    await db_client.disconnect()\n"
                        }
                    ],
                    "label": "async def lifespan(app: fastapi.FastAPI):\n    await db_client.connect()\n    yield\n    await db_client.disconnect()\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "health",
            "start_line": 84,
            "end_line": 87,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 23,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 23,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "health"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 3,
                                    "children": [],
                                    "label": "()"
                                },
                                {
                                    "type": "block",
                                    "start_token": 5,
                                    "end_token": 23,
                                    "children": [
                                        {
                                            "type": "return_statement",
                                            "start_token": 6,
                                            "end_token": 22,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 7,
                                                    "end_token": 22,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 7,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 7,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "fastapi"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "children": [],
                                                                            "label": "responses"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "HTMLResponse"
                                                                        }
                                                                    ],
                                                                    "label": "fastapi.responses.HTMLResponse"
                                                                }
                                                            ],
                                                            "label": "fastapi.responses.HTMLResponse"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 12,
                                                            "end_token": 22,
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "start_token": 14,
                                                                    "end_token": 17,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 14,
                                                                            "end_token": 14,
                                                                            "children": [],
                                                                            "label": "content"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 16,
                                                                            "end_token": 16,
                                                                            "children": [],
                                                                            "label": "\"<h1>Marketplace API</h1>\""
                                                                        }
                                                                    ],
                                                                    "label": "content=\"<h1>Marketplace API</h1>\","
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "start_token": 18,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 18,
                                                                            "end_token": 18,
                                                                            "children": [],
                                                                            "label": "status_code"
                                                                        },
                                                                        {
                                                                            "type": "integer",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [],
                                                                            "label": "200"
                                                                        }
                                                                    ],
                                                                    "label": "status_code=200"
                                                                }
                                                            ],
                                                            "label": "(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )"
                                                        }
                                                    ],
                                                    "label": "fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )"
                                                }
                                            ],
                                            "label": "return fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )"
                                        }
                                    ],
                                    "label": "\n    return fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )\n"
                                }
                            ],
                            "label": "def health():\n    return fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )\n"
                        }
                    ],
                    "label": "def health():\n    return fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "default",
            "start_line": 91,
            "end_line": 94,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 23,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 23,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "default"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 3,
                                    "children": [],
                                    "label": "()"
                                },
                                {
                                    "type": "block",
                                    "start_token": 5,
                                    "end_token": 23,
                                    "children": [
                                        {
                                            "type": "return_statement",
                                            "start_token": 6,
                                            "end_token": 22,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 7,
                                                    "end_token": 22,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 7,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 9,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "fastapi"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "children": [],
                                                                            "label": "responses"
                                                                        }
                                                                    ],
                                                                    "label": "fastapi.responses"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "HTMLResponse"
                                                                }
                                                            ],
                                                            "label": "fastapi.responses.HTMLResponse"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 12,
                                                            "end_token": 22,
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "start_token": 14,
                                                                    "end_token": 17,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 14,
                                                                            "end_token": 14,
                                                                            "children": [],
                                                                            "label": "content"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 16,
                                                                            "end_token": 16,
                                                                            "children": [],
                                                                            "label": "\"<h1>Marketplace API</h1>\""
                                                                        }
                                                                    ],
                                                                    "label": "content=\"<h1>Marketplace API</h1>\","
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "start_token": 18,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 18,
                                                                            "end_token": 18,
                                                                            "children": [],
                                                                            "label": "status_code"
                                                                        },
                                                                        {
                                                                            "type": "integer",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [],
                                                                            "label": "200"
                                                                        }
                                                                    ],
                                                                    "label": "status_code=200"
                                                                }
                                                            ],
                                                            "label": "(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )"
                                                        }
                                                    ],
                                                    "label": "fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )"
                                                }
                                            ],
                                            "label": "return fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )"
                                        }
                                    ],
                                    "label": "\n    return fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )\n"
                                }
                            ],
                            "label": "def default():\n    return fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )\n"
                        }
                    ],
                    "label": "def default():\n    return fastapi.responses.HTMLResponse(\n        content=\"<h1>Marketplace API</h1>\", status_code=200\n    )\n"
                }
            ]
        }
    ],
    "label": "import contextlib\nimport logging.config\nimport os\n\nimport dotenv\nimport fastapi\nimport fastapi.middleware.cors\nimport fastapi.middleware.gzip\nimport prisma\nimport prometheus_fastapi_instrumentator\nimport sentry_sdk\nimport sentry_sdk.integrations.asyncio\nimport sentry_sdk.integrations.fastapi\nimport sentry_sdk.integrations.starlette\n\nimport market.config\nimport market.routes.admin\nimport market.routes.agents\nimport market.routes.analytics\nimport market.routes.search\nimport market.routes.submissions\n\ndotenv.load_dotenv()\n\nlogging.config.dictConfig(market.config.LogConfig().model_dump())\n\nif os.environ.get(\"SENTRY_DSN\"):\n    sentry_sdk.init(\n        dsn=os.environ.get(\"SENTRY_DSN\"),\n        traces_sample_rate=1.0,\n        profiles_sample_rate=1.0,\n        enable_tracing=True,\n        environment=os.environ.get(\"RUN_ENV\", default=\"CLOUD\").lower(),\n        integrations=[\n            sentry_sdk.integrations.starlette.StarletteIntegration(\n                transaction_style=\"url\"\n            ),\n            sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\n            sentry_sdk.integrations.asyncio.AsyncioIntegration(),\n        ],\n    )\n\ndb_client = prisma.Prisma(auto_register=True)\n\n\n@contextlib.asynccontextmanager\n\n\ndocs_url = \"/docs\"\napp = fastapi.FastAPI(\n    title=\"Marketplace API\",\n    description=\"AutoGPT Marketplace API is a service that allows users to share AI agents.\",\n    summary=\"Maketplace API\",\n    version=\"0.1\",\n    lifespan=lifespan,\n    root_path=\"/api/v1/market\",\n    docs_url=docs_url,\n)\n\napp.add_middleware(fastapi.middleware.gzip.GZipMiddleware, minimum_size=1000)\napp.add_middleware(\n    middleware_class=fastapi.middleware.cors.CORSMiddleware,\n    allow_origins=os.environ.get(\n        \"BACKEND_CORS_ALLOW_ORIGINS\", \"http://localhost:3000,http://127.0.0.1:3000\"\n    ).split(\",\"),\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\napp.include_router(market.routes.agents.router, tags=[\"agents\"])\napp.include_router(market.routes.search.router, tags=[\"search\"])\napp.include_router(market.routes.submissions.router, tags=[\"submissions\"])\napp.include_router(market.routes.admin.router, prefix=\"/admin\", tags=[\"admin\"])\napp.include_router(\n    market.routes.analytics.router, prefix=\"/analytics\", tags=[\"analytics\"]\n)\n\n\n@app.get(\"/health\")\n\n\n@app.get(\"/\")\n\n\nprometheus_fastapi_instrumentator.Instrumentator().instrument(app).expose(app)\n"
}