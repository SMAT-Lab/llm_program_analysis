{
    "type": "module",
    "start_token": 0,
    "end_token": 298,
    "children": [
        {
            "type": "import_statement",
            "start_token": 0,
            "end_token": 1,
            "children": [],
            "label": "import asyncio"
        },
        {
            "type": "import_statement",
            "start_token": 3,
            "end_token": 4,
            "children": [],
            "label": "import builtins"
        },
        {
            "type": "import_statement",
            "start_token": 6,
            "end_token": 7,
            "children": [],
            "label": "import logging"
        },
        {
            "type": "import_statement",
            "start_token": 9,
            "end_token": 10,
            "children": [],
            "label": "import os"
        },
        {
            "type": "import_statement",
            "start_token": 12,
            "end_token": 13,
            "children": [],
            "label": "import threading"
        },
        {
            "type": "import_statement",
            "start_token": 15,
            "end_token": 16,
            "children": [],
            "label": "import time"
        },
        {
            "type": "import_statement",
            "start_token": 18,
            "end_token": 19,
            "children": [],
            "label": "import typing"
        },
        {
            "type": "import_from_statement",
            "start_token": 21,
            "end_token": 26,
            "children": [],
            "label": "from abc import ABC, abstractmethod"
        },
        {
            "type": "import_from_statement",
            "start_token": 28,
            "end_token": 31,
            "children": [],
            "label": "from enum import Enum"
        },
        {
            "type": "import_from_statement",
            "start_token": 33,
            "end_token": 38,
            "children": [],
            "label": "from types import NoneType, UnionType"
        },
        {
            "type": "import_from_statement",
            "start_token": 40,
            "end_token": 96,
            "children": [
                {
                    "type": "argument_list",
                    "start_token": 43,
                    "end_token": 96,
                    "children": [],
                    "label": "(\n    Annotated,\n    Any,\n    Awaitable,\n    Callable,\n    Coroutine,\n    Dict,\n    FrozenSet,\n    Iterator,\n    List,\n    Set,\n    Tuple,\n    Type,\n    TypeVar,\n    Union,\n    cast,\n    get_args,\n    get_origin,\n)"
                }
            ],
            "label": "from typing import (\n    Annotated,\n    Any,\n    Awaitable,\n    Callable,\n    Coroutine,\n    Dict,\n    FrozenSet,\n    Iterator,\n    List,\n    Set,\n    Tuple,\n    Type,\n    TypeVar,\n    Union,\n    cast,\n    get_args,\n    get_origin,\n)"
        },
        {
            "type": "import_statement",
            "start_token": 99,
            "end_token": 102,
            "children": [],
            "label": "import Pyro5.api"
        },
        {
            "type": "import_from_statement",
            "start_token": 104,
            "end_token": 107,
            "children": [],
            "label": "from pydantic import BaseModel"
        },
        {
            "type": "aliased_import",
            "start_token": 109,
            "end_token": 114,
            "children": [],
            "label": "from Pyro5 import api as pyro"
        },
        {
            "type": "aliased_import",
            "start_token": 116,
            "end_token": 121,
            "children": [],
            "label": "from Pyro5 import config as pyro_config"
        },
        {
            "type": "import_from_statement",
            "start_token": 124,
            "end_token": 132,
            "children": [],
            "label": "from backend.data import db, redis\n"
        },
        {
            "type": "import_from_statement",
            "start_token": 133,
            "end_token": 140,
            "children": [],
            "label": "from backend.util.process import AppProcess"
        },
        {
            "type": "import_from_statement",
            "start_token": 142,
            "end_token": 149,
            "children": [],
            "label": "from backend.util.retry import conn_retry"
        },
        {
            "type": "import_from_statement",
            "start_token": 151,
            "end_token": 161,
            "children": [],
            "label": "from backend.util.settings import Config, Secrets\n"
        },
        {
            "type": "assignment",
            "start_token": 163,
            "end_token": 170,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 165,
                    "end_token": 168,
                    "children": [],
                    "label": "logging.getLogger("
                }
            ],
            "label": "logger = logging.getLogger(__name__)"
        },
        {
            "type": "assignment",
            "start_token": 172,
            "end_token": 177,
            "children": [],
            "label": "T = TypeVar(\"T\")"
        },
        {
            "type": "assignment",
            "start_token": 179,
            "end_token": 188,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 186,
                    "end_token": 187,
                    "children": [],
                    "label": "=Callable"
                }
            ],
            "label": "C = TypeVar(\"C\", bound=Callable)"
        },
        {
            "type": "assignment",
            "start_token": 191,
            "end_token": 195,
            "children": [],
            "label": "config = Config()"
        },
        {
            "type": "assignment",
            "start_token": 197,
            "end_token": 202,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 199,
                    "end_token": 201,
                    "children": [],
                    "label": "config.pyro_host"
                }
            ],
            "label": "pyro_host = config.pyro_host\n"
        },
        {
            "type": "assignment",
            "start_token": 203,
            "end_token": 226,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 204,
                    "end_token": 206,
                    "children": [],
                    "label": ".MAX_RETRIES ="
                },
                {
                    "type": "attribute",
                    "start_token": 208,
                    "end_token": 209,
                    "children": [],
                    "label": ".pyro_client_comm_retry"
                }
            ],
            "label": "pyro_config.MAX_RETRIES = config.pyro_client_comm_retry  # type: ignore\npyro_config.COMMTIMEOUT = config.pyro_client_comm_timeout  # type: ignore\n"
        },
        {
            "type": "assignment",
            "start_token": 215,
            "end_token": 226,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 216,
                    "end_token": 217,
                    "children": [],
                    "label": ".COMMTIMEOUT"
                },
                {
                    "type": "attribute",
                    "start_token": 219,
                    "end_token": 221,
                    "children": [],
                    "label": "config.pyro_client_comm_timeout"
                }
            ],
            "label": "pyro_config.COMMTIMEOUT = config.pyro_client_comm_timeout  # type: ignore\n"
        },
        {
            "type": "assignment",
            "start_token": 263,
            "end_token": 272,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 266,
                    "end_token": 266,
                    "children": [],
                    "label": "("
                }
            ],
            "label": "AS = TypeVar(\"AS\", bound=AppService)"
        },
        {
            "type": "assignment",
            "start_token": 282,
            "end_token": 298,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 286,
                    "end_token": 294,
                    "children": [],
                    "label": "vars(builtins).values(),"
                }
            ],
            "label": "builtin_types = [*vars(builtins).values(), NoneType, Enum]"
        },
        {
            "type": "function_placeholder",
            "name": "expose",
            "start_line": 51,
            "end_line": 70,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 83,
                    "children": [
                        {
                            "type": "decorated_definition",
                            "start_token": 0,
                            "end_token": 78,
                            "children": [
                                {
                                    "type": "decorator",
                                    "start_token": 0,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 0,
                                            "end_token": 0,
                                            "label": "def"
                                        },
                                        {
                                            "type": "argument_list",
                                            "start_token": 1,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "expose"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "start_token": 3,
                                                            "end_token": 5,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "label": "func"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 5,
                                                                            "end_token": 5,
                                                                            "label": "C"
                                                                        }
                                                                    ],
                                                                    "label": "C"
                                                                }
                                                            ],
                                                            "label": "func: C"
                                                        }
                                                    ],
                                                    "label": "(func: C)"
                                                }
                                            ],
                                            "label": "expose(func: C)"
                                        }
                                    ],
                                    "label": "def expose(func: C)"
                                },
                                {
                                    "type": "function_definition",
                                    "start_token": 19,
                                    "end_token": 78,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 19,
                                            "end_token": 19,
                                            "label": "def"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 20,
                                            "end_token": 28,
                                            "children": [
                                                {
                                                    "type": "list_splat",
                                                    "start_token": 21,
                                                    "end_token": 23,
                                                    "label": "(*args"
                                                },
                                                {
                                                    "type": "dictionary_splat",
                                                    "start_token": 25,
                                                    "end_token": 27,
                                                    "label": "**kwargs"
                                                }
                                            ],
                                            "label": "wrapper(*args, **kwargs)"
                                        },
                                        {
                                            "type": "block",
                                            "start_token": 29,
                                            "end_token": 78,
                                            "children": [
                                                {
                                                    "type": "try_statement",
                                                    "start_token": 31,
                                                    "end_token": 64,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 32,
                                                            "end_token": 43,
                                                            "children": [
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 34,
                                                                    "end_token": 43,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 35,
                                                                            "end_token": 43,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 35,
                                                                                    "end_token": 35,
                                                                                    "label": "func"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 36,
                                                                                    "end_token": 43,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "list_splat",
                                                                                            "start_token": 37,
                                                                                            "end_token": 38,
                                                                                            "label": "*args"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary_splat",
                                                                                            "start_token": 40,
                                                                                            "end_token": 42,
                                                                                            "label": "**kwargs"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(*args, **kwargs)"
                                                                                }
                                                                            ],
                                                                            "label": "func(*args, **kwargs)"
                                                                        }
                                                                    ],
                                                                    "label": "return func(*args, **kwargs)"
                                                                }
                                                            ],
                                                            "label": ":\n            return func(*args, **kwargs)"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 45,
                                                            "end_token": 64,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 46,
                                                                    "end_token": 48,
                                                                    "label": "Exception as e"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 49,
                                                                    "end_token": 64,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 51,
                                                                            "end_token": 54,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 51,
                                                                                    "end_token": 51,
                                                                                    "label": "msg"
                                                                                },
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 54,
                                                                                    "end_token": 54,
                                                                                    "label": "\"Error in {func.__name__}: {e.__str__()}\""
                                                                                }
                                                                            ],
                                                                            "label": "msg = f\"Error in {func.__name__}: {e.__str__()}\""
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 56,
                                                                            "end_token": 61,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 56,
                                                                                    "end_token": 58,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 56,
                                                                                            "end_token": 56,
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 58,
                                                                                            "end_token": 58,
                                                                                            "label": "exception"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.exception"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 59,
                                                                                    "end_token": 61,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 60,
                                                                                            "end_token": 60,
                                                                                            "label": "msg"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(msg)"
                                                                                }
                                                                            ],
                                                                            "label": "logger.exception(msg)"
                                                                        },
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 63,
                                                                            "end_token": 63,
                                                                            "label": "raise"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            msg = f\"Error in {func.__name__}: {e.__str__()}\"\n            logger.exception(msg)\n            raise\n"
                                                                }
                                                            ],
                                                            "label": "except Exception as e:\n            msg = f\"Error in {func.__name__}: {e.__str__()}\"\n            logger.exception(msg)\n            raise\n"
                                                        }
                                                    ],
                                                    "label": "try:\n            return func(*args, **kwargs)\n        except Exception as e:\n            msg = f\"Error in {func.__name__}: {e.__str__()}\"\n            logger.exception(msg)\n            raise\n"
                                                },
                                                {
                                                    "type": "expression_statement",
                                                    "start_token": 66,
                                                    "end_token": 69,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 66,
                                                            "end_token": 69,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 66,
                                                                    "end_token": 66,
                                                                    "label": "register_pydantic_serializers"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 67,
                                                                    "end_token": 69,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 68,
                                                                            "end_token": 68,
                                                                            "label": "func"
                                                                        }
                                                                    ],
                                                                    "label": "(func)"
                                                                }
                                                            ],
                                                            "label": "register_pydantic_serializers(func)"
                                                        }
                                                    ],
                                                    "label": "register_pydantic_serializers(func)"
                                                },
                                                {
                                                    "type": "return_statement",
                                                    "start_token": 72,
                                                    "end_token": 78,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 73,
                                                            "end_token": 78,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 73,
                                                                    "end_token": 75,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 73,
                                                                            "end_token": 73,
                                                                            "label": "pyro"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 75,
                                                                            "end_token": 75,
                                                                            "label": "expose"
                                                                        }
                                                                    ],
                                                                    "label": "pyro.expose"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 76,
                                                                    "end_token": 78,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 77,
                                                                            "end_token": 77,
                                                                            "label": "wrapper"
                                                                        }
                                                                    ],
                                                                    "label": "(wrapper)"
                                                                }
                                                            ],
                                                            "label": "pyro.expose(wrapper)"
                                                        }
                                                    ],
                                                    "label": "return pyro.expose(wrapper)"
                                                }
                                            ],
                                            "label": ":\n        try:\n            return func(*args, **kwargs)\n        except Exception as e:\n            msg = f\"Error in {func.__name__}: {e.__str__()}\"\n            logger.exception(msg)\n            raise\n\n    register_pydantic_serializers(func)\n\n    return pyro.expose(wrapper)"
                                        }
                                    ],
                                    "label": "def wrapper(*args, **kwargs):\n        try:\n            return func(*args, **kwargs)\n        except Exception as e:\n            msg = f\"Error in {func.__name__}: {e.__str__()}\"\n            logger.exception(msg)\n            raise\n\n    register_pydantic_serializers(func)\n\n    return pyro.expose(wrapper)"
                                }
                            ],
                            "label": "def expose(func: C) -> C:\n    \"\"\"\n    Decorator to mark a method or class to be exposed for remote calls.\n\n    ## ⚠️ Gotcha\n    Aside from \"simple\" types, only Pydantic models are passed unscathed *if annotated*.\n    Any other passed or returned class objects are converted to dictionaries by Pyro.\n    \"\"\"\n\n    def wrapper(*args, **kwargs):\n        try:\n            return func(*args, **kwargs)\n        except Exception as e:\n            msg = f\"Error in {func.__name__}: {e.__str__()}\"\n            logger.exception(msg)\n            raise\n\n    register_pydantic_serializers(func)\n\n    return pyro.expose(wrapper)"
                        },
                        {
                            "type": "comment",
                            "start_token": 79,
                            "end_token": 83,
                            "label": "# type: ignore\n"
                        }
                    ],
                    "label": "def expose(func: C) -> C:\n    \"\"\"\n    Decorator to mark a method or class to be exposed for remote calls.\n\n    ## ⚠️ Gotcha\n    Aside from \"simple\" types, only Pydantic models are passed unscathed *if annotated*.\n    Any other passed or returned class objects are converted to dictionaries by Pyro.\n    \"\"\"\n\n    def wrapper(*args, **kwargs):\n        try:\n            return func(*args, **kwargs)\n        except Exception as e:\n            msg = f\"Error in {func.__name__}: {e.__str__()}\"\n            logger.exception(msg)\n            raise\n\n    register_pydantic_serializers(func)\n\n    return pyro.expose(wrapper)  # type: ignore\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "register_pydantic_serializers",
            "start_line": 73,
            "end_line": 89,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 96,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 96,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "register_pydantic_serializers"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 3,
                                            "end_token": 5,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "label": "func"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "Callable"
                                                }
                                            ],
                                            "label": "func: Callable"
                                        }
                                    ],
                                    "label": "(func: Callable)"
                                },
                                {
                                    "type": "string",
                                    "start_token": 9,
                                    "end_token": 11,
                                    "label": "\"\"\"Register custom serializers and deserializers for annotated Pydantic models\"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 12,
                                    "end_token": 96,
                                    "children": [
                                        {
                                            "type": "for_statement",
                                            "start_token": 13,
                                            "end_token": 96,
                                            "children": [
                                                {
                                                    "type": "for_in_clause",
                                                    "start_token": 13,
                                                    "end_token": 25,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 14,
                                                            "end_token": 14,
                                                            "label": "name"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 16,
                                                            "end_token": 16,
                                                            "label": "annotation"
                                                        },
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 18,
                                                            "end_token": 22,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 18,
                                                                    "end_token": 18,
                                                                    "label": "func"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "label": "__annotations__"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 22,
                                                                    "end_token": 24,
                                                                    "label": "items()"
                                                                }
                                                            ],
                                                            "label": "func.__annotations__.items"
                                                        }
                                                    ],
                                                    "label": "for name, annotation in func.__annotations__.items():"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 26,
                                                    "end_token": 96,
                                                    "children": [
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 27,
                                                            "end_token": 95,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 28,
                                                                    "end_token": 36,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 30,
                                                                            "end_token": 35,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 30,
                                                                                    "end_token": 30,
                                                                                    "label": "pydantic_types"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 32,
                                                                                    "end_token": 35,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 32,
                                                                                            "end_token": 32,
                                                                                            "label": "_pydantic_models_from_type_annotation"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 33,
                                                                                            "end_token": 34,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 34,
                                                                                                    "end_token": 34,
                                                                                                    "label": "annotation"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(annotation"
                                                                                        }
                                                                                    ],
                                                                                    "label": "_pydantic_models_from_type_annotation(annotation)"
                                                                                }
                                                                            ],
                                                                            "label": "pydantic_types = _pydantic_models_from_type_annotation(annotation)"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            pydantic_types = _pydantic_models_from_type_annotation(annotation)\n"
                                                                },
                                                                {
                                                                    "type": "except_clause",
                                                                    "start_token": 37,
                                                                    "end_token": 49,
                                                                    "children": [
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 38,
                                                                            "end_token": 38,
                                                                            "label": "Exception"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 40,
                                                                            "end_token": 40,
                                                                            "label": "e"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 41,
                                                                            "end_token": 49,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 43,
                                                                                    "end_token": 48,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 44,
                                                                                            "end_token": 48,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 44,
                                                                                                    "end_token": 44,
                                                                                                    "label": "TypeError"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 45,
                                                                                                    "end_token": 47,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "concatenated_string",
                                                                                                            "start_token": 46,
                                                                                                            "end_token": 47,
                                                                                                            "label": "f\"Error while exposing {func.__name__}: {e.__str__()}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(f\"Error while exposing {func.__name__}: {e.__str__()}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")\n"
                                                                        }
                                                                    ],
                                                                    "label": "except Exception as e:\n            raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")\n"
                                                                },
                                                                {
                                                                    "type": "for_statement",
                                                                    "start_token": 51,
                                                                    "end_token": 95,
                                                                    "children": [
                                                                        {
                                                                            "type": "for_in_clause",
                                                                            "start_token": 51,
                                                                            "end_token": 55,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 52,
                                                                                    "end_token": 52,
                                                                                    "label": "model"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 54,
                                                                                    "end_token": 54,
                                                                                    "label": "pydantic_types"
                                                                                }
                                                                            ],
                                                                            "label": "for model in pydantic_types:"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 56,
                                                                            "end_token": 95,
                                                                            "children": [
                                                                                {
                                                                                    "type": "expression_statement",
                                                                                    "start_token": 57,
                                                                                    "end_token": 68,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 57,
                                                                                            "end_token": 68,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 57,
                                                                                                    "end_token": 59,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 57,
                                                                                                            "end_token": 57,
                                                                                                            "label": "logger"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 59,
                                                                                                            "end_token": 59,
                                                                                                            "label": "debug"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "logger.debug"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 60,
                                                                                                    "end_token": 68,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "concatenated_string",
                                                                                                            "start_token": 62,
                                                                                                            "end_token": 67,
                                                                                                            "label": "f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 70,
                                                                                    "end_token": 80,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 70,
                                                                                            "end_token": 72,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 70,
                                                                                                    "end_token": 70,
                                                                                                    "label": "pyro"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 72,
                                                                                                    "end_token": 72,
                                                                                                    "label": "register_class_to_dict"
                                                                                                }
                                                                                            ],
                                                                                            "label": "pyro.register_class_to_dict"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 73,
                                                                                            "end_token": 80,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 74,
                                                                                                    "end_token": 74,
                                                                                                    "label": "model"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 76,
                                                                                                    "end_token": 79,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 76,
                                                                                                            "end_token": 76,
                                                                                                            "label": "_make_custom_serializer"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 77,
                                                                                                            "end_token": 78,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 78,
                                                                                                                    "end_token": 78,
                                                                                                                    "label": "model"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(model"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "_make_custom_serializer(model)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(model, _make_custom_serializer(model))"
                                                                                        }
                                                                                    ],
                                                                                    "label": "pyro.register_class_to_dict(model, _make_custom_serializer(model))"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 82,
                                                                                    "end_token": 95,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 82,
                                                                                            "end_token": 84,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 82,
                                                                                                    "end_token": 82,
                                                                                                    "label": "pyro"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 84,
                                                                                                    "end_token": 84,
                                                                                                    "label": "register_dict_to_class"
                                                                                                }
                                                                                            ],
                                                                                            "label": "pyro.register_dict_to_class"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 85,
                                                                                            "end_token": 95,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 87,
                                                                                                    "end_token": 89,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 87,
                                                                                                            "end_token": 87,
                                                                                                            "label": "model"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 89,
                                                                                                            "end_token": 89,
                                                                                                            "label": "__qualname__"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "model.__qualname__"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 91,
                                                                                                    "end_token": 94,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 91,
                                                                                                            "end_token": 91,
                                                                                                            "label": "_make_custom_deserializer"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 92,
                                                                                                            "end_token": 93,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 93,
                                                                                                                    "end_token": 93,
                                                                                                                    "label": "model"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(model"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "_make_custom_deserializer(model)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                model.__qualname__, _make_custom_deserializer(model)\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n"
                                                                                }
                                                                            ],
                                                                            "label": "\n            logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )\n            pyro.register_class_to_dict(model, _make_custom_serializer(model))\n            pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n"
                                                                        }
                                                                    ],
                                                                    "label": "for model in pydantic_types:\n            logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )\n            pyro.register_class_to_dict(model, _make_custom_serializer(model))\n            pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n"
                                                                }
                                                            ],
                                                            "label": "try:\n            pydantic_types = _pydantic_models_from_type_annotation(annotation)\n        except Exception as e:\n            raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")\n\n        for model in pydantic_types:\n            logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )\n            pyro.register_class_to_dict(model, _make_custom_serializer(model))\n            pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n"
                                                        }
                                                    ],
                                                    "label": "\n        try:\n            pydantic_types = _pydantic_models_from_type_annotation(annotation)\n        except Exception as e:\n            raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")\n\n        for model in pydantic_types:\n            logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )\n            pyro.register_class_to_dict(model, _make_custom_serializer(model))\n            pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n            )"
                                                }
                                            ],
                                            "label": "for name, annotation in func.__annotations__.items():\n        try:\n            pydantic_types = _pydantic_models_from_type_annotation(annotation)\n        except Exception as e:\n            raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")\n\n        for model in pydantic_types:\n            logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )\n            pyro.register_class_to_dict(model, _make_custom_serializer(model))\n            pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n            )"
                                        }
                                    ],
                                    "label": "\n    for name, annotation in func.__annotations__.items():\n        try:\n            pydantic_types = _pydantic_models_from_type_annotation(annotation)\n        except Exception as e:\n            raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")\n\n        for model in pydantic_types:\n            logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )\n            pyro.register_class_to_dict(model, _make_custom_serializer(model))\n            pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n            )"
                                }
                            ],
                            "label": "def register_pydantic_serializers(func: Callable):\n    \"\"\"Register custom serializers and deserializers for annotated Pydantic models\"\"\"\n    for name, annotation in func.__annotations__.items():\n        try:\n            pydantic_types = _pydantic_models_from_type_annotation(annotation)\n        except Exception as e:\n            raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")\n\n        for model in pydantic_types:\n            logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )\n            pyro.register_class_to_dict(model, _make_custom_serializer(model))\n            pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n            )"
                        }
                    ],
                    "label": "def register_pydantic_serializers(func: Callable):\n    \"\"\"Register custom serializers and deserializers for annotated Pydantic models\"\"\"\n    for name, annotation in func.__annotations__.items():\n        try:\n            pydantic_types = _pydantic_models_from_type_annotation(annotation)\n        except Exception as e:\n            raise TypeError(f\"Error while exposing {func.__name__}: {e.__str__()}\")\n\n        for model in pydantic_types:\n            logger.debug(\n                f\"Registering Pyro (de)serializers for {func.__name__} annotation \"\n                f\"'{name}': {model.__qualname__}\"\n            )\n            pyro.register_class_to_dict(model, _make_custom_serializer(model))\n            pyro.register_dict_to_class(\n                model.__qualname__, _make_custom_deserializer(model)\n            )"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "_make_custom_serializer",
            "start_line": 92,
            "end_line": 101,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 57,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 56,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "_make_custom_serializer"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 3,
                                            "end_token": 8,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "children": [],
                                                    "label": "model"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 8,
                                                    "children": [
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 5,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "Type"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "BaseModel"
                                                                }
                                                            ],
                                                            "label": "Type[BaseModel]"
                                                        }
                                                    ],
                                                    "label": "Type[BaseModel]"
                                                }
                                            ],
                                            "label": "model: Type[BaseModel]"
                                        }
                                    ],
                                    "label": "(model: Type[BaseModel])"
                                },
                                {
                                    "type": "block",
                                    "start_token": 11,
                                    "end_token": 56,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 12,
                                            "end_token": 52,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "custom_class_to_dict"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 14,
                                                    "end_token": 16,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 15,
                                                            "end_token": 15,
                                                            "children": [],
                                                            "label": "obj"
                                                        }
                                                    ],
                                                    "label": "(obj)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 18,
                                                    "end_token": 52,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 19,
                                                            "end_token": 41,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "children": [],
                                                                    "label": "data"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 21,
                                                                    "end_token": 41,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 23,
                                                                            "end_token": 29,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 23,
                                                                                    "end_token": 23,
                                                                                    "children": [],
                                                                                    "label": "\"__class__\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 25,
                                                                                    "end_token": 29,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 25,
                                                                                            "end_token": 27,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 25,
                                                                                                    "end_token": 25,
                                                                                                    "children": [],
                                                                                                    "label": "obj"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 27,
                                                                                                    "end_token": 27,
                                                                                                    "children": [],
                                                                                                    "label": "__class__"
                                                                                                }
                                                                                            ],
                                                                                            "label": "obj.__class__"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 29,
                                                                                            "end_token": 29,
                                                                                            "children": [],
                                                                                            "label": "__qualname__"
                                                                                        }
                                                                                    ],
                                                                                    "label": "obj.__class__.__qualname__"
                                                                                }
                                                                            ],
                                                                            "label": "\"__class__\": obj.__class__.__qualname__"
                                                                        },
                                                                        {
                                                                            "type": "dictionary_splat",
                                                                            "start_token": 32,
                                                                            "end_token": 38,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 34,
                                                                                    "end_token": 38,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 34,
                                                                                            "end_token": 36,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 34,
                                                                                                    "end_token": 34,
                                                                                                    "children": [],
                                                                                                    "label": "obj"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 36,
                                                                                                    "end_token": 36,
                                                                                                    "children": [],
                                                                                                    "label": "model_dump"
                                                                                                }
                                                                                            ],
                                                                                            "label": "obj.model_dump"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 37,
                                                                                            "end_token": 38,
                                                                                            "children": [],
                                                                                            "label": "()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "obj.model_dump()"
                                                                                }
                                                                            ],
                                                                            "label": "**obj.model_dump()"
                                                                        }
                                                                    ],
                                                                    "label": "{\n            \"__class__\": obj.__class__.__qualname__,\n            **obj.model_dump(),\n        }"
                                                                }
                                                            ],
                                                            "label": "data = {\n            \"__class__\": obj.__class__.__qualname__,\n            **obj.model_dump(),\n        }"
                                                        },
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 43,
                                                            "end_token": 49,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 43,
                                                                    "end_token": 49,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 43,
                                                                            "end_token": 45,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 43,
                                                                                    "end_token": 43,
                                                                                    "children": [],
                                                                                    "label": "logger"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 45,
                                                                                    "end_token": 45,
                                                                                    "children": [],
                                                                                    "label": "debug"
                                                                                }
                                                                            ],
                                                                            "label": "logger.debug"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 46,
                                                                            "end_token": 49,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 47,
                                                                                    "end_token": 48,
                                                                                    "children": [],
                                                                                    "label": "f\"Serializing {obj.__class__.__qualname__} with data: {data}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Serializing {obj.__class__.__qualname__} with data: {data}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.debug(f\"Serializing {obj.__class__.__qualname__} with data: {data}\")"
                                                                }
                                                            ],
                                                            "label": "logger.debug(f\"Serializing {obj.__class__.__qualname__} with data: {data}\")"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 51,
                                                            "end_token": 52,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 52,
                                                                    "end_token": 52,
                                                                    "children": [],
                                                                    "label": "data"
                                                                }
                                                            ],
                                                            "label": "return data"
                                                        }
                                                    ],
                                                    "label": "\n        data = {\n            \"__class__\": obj.__class__.__qualname__,\n            **obj.model_dump(),\n        }\n        logger.debug(f\"Serializing {obj.__class__.__qualname__} with data: {data}\")\n        return data"
                                                }
                                            ],
                                            "label": "def custom_class_to_dict(obj):\n        data = {\n            \"__class__\": obj.__class__.__qualname__,\n            **obj.model_dump(),\n        }\n        logger.debug(f\"Serializing {obj.__class__.__qualname__} with data: {data}\")\n        return data"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 55,
                                            "end_token": 56,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 56,
                                                    "end_token": 56,
                                                    "children": [],
                                                    "label": "custom_class_to_dict"
                                                }
                                            ],
                                            "label": "return custom_class_to_dict"
                                        }
                                    ],
                                    "label": "\n    def custom_class_to_dict(obj):\n        data = {\n            \"__class__\": obj.__class__.__qualname__,\n            **obj.model_dump(),\n        }\n        logger.debug(f\"Serializing {obj.__class__.__qualname__} with data: {data}\")\n        return data\n\n    return custom_class_to_dict"
                                }
                            ],
                            "label": "def _make_custom_serializer(model: Type[BaseModel]):\n    def custom_class_to_dict(obj):\n        data = {\n            \"__class__\": obj.__class__.__qualname__,\n            **obj.model_dump(),\n        }\n        logger.debug(f\"Serializing {obj.__class__.__qualname__} with data: {data}\")\n        return data\n\n    return custom_class_to_dict"
                        }
                    ],
                    "label": "def _make_custom_serializer(model: Type[BaseModel]):\n    def custom_class_to_dict(obj):\n        data = {\n            \"__class__\": obj.__class__.__qualname__,\n            **obj.model_dump(),\n        }\n        logger.debug(f\"Serializing {obj.__class__.__qualname__} with data: {data}\")\n        return data\n\n    return custom_class_to_dict\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "_make_custom_deserializer",
            "start_line": 104,
            "end_line": 109,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 42,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 41,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "_make_custom_deserializer"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 3,
                                            "end_token": 8,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "children": [],
                                                    "label": "model"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 8,
                                                    "children": [
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 5,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "Type"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "BaseModel"
                                                                }
                                                            ],
                                                            "label": "Type[BaseModel]"
                                                        }
                                                    ],
                                                    "label": "Type[BaseModel]"
                                                }
                                            ],
                                            "label": "model: Type[BaseModel]"
                                        }
                                    ],
                                    "label": "(model: Type[BaseModel])"
                                },
                                {
                                    "type": "block",
                                    "start_token": 11,
                                    "end_token": 41,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 12,
                                            "end_token": 38,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "custom_dict_to_class"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 14,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 15,
                                                            "end_token": 15,
                                                            "children": [],
                                                            "label": "qualname"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 17,
                                                            "end_token": 19,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 17,
                                                                    "end_token": 17,
                                                                    "children": [],
                                                                    "label": "data"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "children": [],
                                                                    "label": "dict"
                                                                }
                                                            ],
                                                            "label": "data: dict"
                                                        }
                                                    ],
                                                    "label": "(qualname, data: dict)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 22,
                                                    "end_token": 38,
                                                    "children": [
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 23,
                                                            "end_token": 29,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 23,
                                                                    "end_token": 29,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 23,
                                                                            "end_token": 25,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 23,
                                                                                    "end_token": 23,
                                                                                    "children": [],
                                                                                    "label": "logger"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 25,
                                                                                    "end_token": 25,
                                                                                    "children": [],
                                                                                    "label": "debug"
                                                                                }
                                                                            ],
                                                                            "label": "logger.debug"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 26,
                                                                            "end_token": 29,
                                                                            "children": [
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 27,
                                                                                    "end_token": 28,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 27,
                                                                                            "end_token": 28,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 27,
                                                                                                    "end_token": 27,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Deserializing {model.__qualname__} from data: {data}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Deserializing {model.__qualname__} from data: {data}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Deserializing {model.__qualname__} from data: {data}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.debug(f\"Deserializing {model.__qualname__} from data: {data}\")"
                                                                }
                                                            ],
                                                            "label": "logger.debug(f\"Deserializing {model.__qualname__} from data: {data}\")"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 31,
                                                            "end_token": 37,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 32,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 32,
                                                                            "end_token": 32,
                                                                            "children": [],
                                                                            "label": "model"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 33,
                                                                            "end_token": 37,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dictionary_splat",
                                                                                    "start_token": 34,
                                                                                    "end_token": 36,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 36,
                                                                                            "end_token": 36,
                                                                                            "children": [],
                                                                                            "label": "data"
                                                                                        }
                                                                                    ],
                                                                                    "label": "**data"
                                                                                }
                                                                            ],
                                                                            "label": "(**data)"
                                                                        }
                                                                    ],
                                                                    "label": "model(**data)"
                                                                }
                                                            ],
                                                            "label": "return model(**data)"
                                                        }
                                                    ],
                                                    "label": "\n        logger.debug(f\"Deserializing {model.__qualname__} from data: {data}\")\n        return model(**data)\n"
                                                }
                                            ],
                                            "label": "def custom_dict_to_class(qualname, data: dict):\n        logger.debug(f\"Deserializing {model.__qualname__} from data: {data}\")\n        return model(**data)\n"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 40,
                                            "end_token": 41,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 41,
                                                    "end_token": 41,
                                                    "children": [],
                                                    "label": "custom_dict_to_class"
                                                }
                                            ],
                                            "label": "return custom_dict_to_class"
                                        }
                                    ],
                                    "label": "\n    def custom_dict_to_class(qualname, data: dict):\n        logger.debug(f\"Deserializing {model.__qualname__} from data: {data}\")\n        return model(**data)\n\n    return custom_dict_to_class"
                                }
                            ],
                            "label": "def _make_custom_deserializer(model: Type[BaseModel]):\n    def custom_dict_to_class(qualname, data: dict):\n        logger.debug(f\"Deserializing {model.__qualname__} from data: {data}\")\n        return model(**data)\n\n    return custom_dict_to_class"
                        }
                    ],
                    "label": "def _make_custom_deserializer(model: Type[BaseModel]):\n    def custom_dict_to_class(qualname, data: dict):\n        logger.debug(f\"Deserializing {model.__qualname__} from data: {data}\")\n        return model(**data)\n\n    return custom_dict_to_class\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "close_service_client",
            "start_line": 203,
            "end_line": 207,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 37,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 37,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "close_service_client"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 3,
                                            "end_token": 5,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "children": [],
                                                    "label": "client"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "AppService"
                                                }
                                            ],
                                            "label": "client: AppService"
                                        }
                                    ],
                                    "label": "(client: AppService)"
                                },
                                {
                                    "type": "type",
                                    "start_token": 8,
                                    "end_token": 9,
                                    "children": [],
                                    "label": "> None"
                                },
                                {
                                    "type": "block",
                                    "start_token": 10,
                                    "end_token": 37,
                                    "children": [
                                        {
                                            "type": "if_statement",
                                            "start_token": 12,
                                            "end_token": 28,
                                            "children": [
                                                {
                                                    "type": "if_clause",
                                                    "start_token": 12,
                                                    "end_token": 19,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 13,
                                                            "end_token": 18,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 13,
                                                                    "end_token": 13,
                                                                    "children": [],
                                                                    "label": "isinstance"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 14,
                                                                    "end_token": 18,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 15,
                                                                            "end_token": 15,
                                                                            "children": [],
                                                                            "label": "client"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 17,
                                                                            "end_token": 17,
                                                                            "children": [],
                                                                            "label": "PyroClient"
                                                                        }
                                                                    ],
                                                                    "label": "(client, PyroClient)"
                                                                }
                                                            ],
                                                            "label": "isinstance(client, PyroClient)"
                                                        }
                                                    ],
                                                    "label": "if isinstance(client, PyroClient):"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 20,
                                                    "end_token": 28,
                                                    "children": [
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 21,
                                                            "end_token": 27,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 21,
                                                                    "end_token": 27,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 21,
                                                                            "end_token": 25,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 21,
                                                                                    "end_token": 23,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 21,
                                                                                            "end_token": 21,
                                                                                            "children": [],
                                                                                            "label": "client"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 23,
                                                                                            "end_token": 23,
                                                                                            "children": [],
                                                                                            "label": "proxy"
                                                                                        }
                                                                                    ],
                                                                                    "label": "client.proxy"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 25,
                                                                                    "end_token": 25,
                                                                                    "children": [],
                                                                                    "label": "_pyroRelease"
                                                                                }
                                                                            ],
                                                                            "label": "client.proxy._pyroRelease"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 26,
                                                                            "end_token": 27,
                                                                            "children": [],
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "client.proxy._pyroRelease()"
                                                                }
                                                            ],
                                                            "label": "client.proxy._pyroRelease()"
                                                        }
                                                    ],
                                                    "label": "\n        client.proxy._pyroRelease()\n"
                                                }
                                            ],
                                            "label": "if isinstance(client, PyroClient):\n        client.proxy._pyroRelease()\n"
                                        },
                                        {
                                            "type": "else_clause",
                                            "start_token": 29,
                                            "end_token": 37,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 30,
                                                    "end_token": 37,
                                                    "children": [
                                                        {
                                                            "type": "raise_statement",
                                                            "start_token": 32,
                                                            "end_token": 37,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 33,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 33,
                                                                            "end_token": 33,
                                                                            "children": [],
                                                                            "label": "RuntimeError"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 34,
                                                                            "end_token": 37,
                                                                            "children": [
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 35,
                                                                                    "end_token": 36,
                                                                                    "children": [],
                                                                                    "label": "f\"Client {client.__class__} is not a Pyro client.\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Client {client.__class__} is not a Pyro client.\")"
                                                                        }
                                                                    ],
                                                                    "label": "RuntimeError(f\"Client {client.__class__} is not a Pyro client.\")"
                                                                }
                                                            ],
                                                            "label": "raise RuntimeError(f\"Client {client.__class__} is not a Pyro client.\")"
                                                        }
                                                    ],
                                                    "label": ":\n        raise RuntimeError(f\"Client {client.__class__} is not a Pyro client.\")"
                                                }
                                            ],
                                            "label": "else:\n        raise RuntimeError(f\"Client {client.__class__} is not a Pyro client.\")"
                                        }
                                    ],
                                    "label": ":\n    if isinstance(client, PyroClient):\n        client.proxy._pyroRelease()\n    else:\n        raise RuntimeError(f\"Client {client.__class__} is not a Pyro client.\")"
                                }
                            ],
                            "label": "def close_service_client(client: AppService) -> None:\n    if isinstance(client, PyroClient):\n        client.proxy._pyroRelease()\n    else:\n        raise RuntimeError(f\"Client {client.__class__} is not a Pyro client.\")"
                        }
                    ],
                    "label": "def close_service_client(client: AppService) -> None:\n    if isinstance(client, PyroClient):\n        client.proxy._pyroRelease()\n    else:\n        raise RuntimeError(f\"Client {client.__class__} is not a Pyro client.\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_service_client",
            "start_line": 210,
            "end_line": 228,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 20,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 20,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "get_service_client"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 3,
                                            "end_token": 8,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "label": "service_type"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 5,
                                                    "end_token": 8,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 5,
                                                            "end_token": 5,
                                                            "label": "Type"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "label": "AS"
                                                        }
                                                    ],
                                                    "label": "Type[AS]"
                                                }
                                            ],
                                            "label": "service_type: Type[AS]"
                                        }
                                    ],
                                    "label": "(service_type: Type[AS])"
                                },
                                {
                                    "type": "type",
                                    "start_token": 12,
                                    "end_token": 12,
                                    "label": "AS"
                                },
                                {
                                    "type": "block",
                                    "start_token": 14,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 15,
                                            "end_token": 19,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "label": "service_name"
                                                },
                                                {
                                                    "type": "attribute",
                                                    "start_token": 17,
                                                    "end_token": 19,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 17,
                                                            "end_token": 17,
                                                            "label": "service_type"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 19,
                                                            "end_token": 19,
                                                            "label": "service_name"
                                                        }
                                                    ],
                                                    "label": "service_type.service_name"
                                                }
                                            ],
                                            "label": "service_name = service_type.service_name"
                                        }
                                    ],
                                    "label": "\n    service_name = service_type.service_name\n"
                                }
                            ],
                            "label": "def get_service_client(service_type: Type[AS]) -> AS:\n    service_name = service_type.service_name\n"
                        },
                        {
                            "type": "class_placeholder",
                            "name": "DynamicClient",
                            "start_line": 213,
                            "end_line": 228,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 27,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 5,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "label": "class"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "DynamicClient"
                                                },
                                                {
                                                    "type": "parenthesized_expression",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "PyroClient"
                                                        }
                                                    ],
                                                    "label": "(PyroClient)"
                                                }
                                            ],
                                            "label": "class DynamicClient(PyroClient):"
                                        },
                                        {
                                            "type": "decorated_definition",
                                            "start_token": 7,
                                            "end_token": 14,
                                            "children": [
                                                {
                                                    "type": "decorator",
                                                    "start_token": 7,
                                                    "end_token": 14,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 8,
                                                            "end_token": 8,
                                                            "label": "conn_retry"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 9,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 10,
                                                                    "end_token": 10,
                                                                    "label": "\"Pyro\""
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 12,
                                                                    "end_token": 13,
                                                                    "label": "f\"Connecting to [{service_name}]\""
                                                                }
                                                            ],
                                                            "label": "(\"Pyro\", f\"Connecting to [{service_name}]\")"
                                                        }
                                                    ],
                                                    "label": "@conn_retry(\"Pyro\", f\"Connecting to [{service_name}]\")"
                                                }
                                            ],
                                            "label": "@conn_retry(\"Pyro\", f\"Connecting to [{service_name}]\")"
                                        },
                                        {
                                            "type": "block",
                                            "start_token": 18,
                                            "end_token": 26,
                                            "children": [
                                                {
                                                    "type": "return_statement",
                                                    "start_token": 18,
                                                    "end_token": 26,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 19,
                                                            "end_token": 26,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "label": "cast"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 20,
                                                                    "end_token": 26,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 21,
                                                                            "end_token": 21,
                                                                            "label": "AS"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 23,
                                                                            "end_token": 25,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 23,
                                                                                    "end_token": 23,
                                                                                    "label": "DynamicClient"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 24,
                                                                                    "end_token": 25,
                                                                                    "label": "()"
                                                                                }
                                                                            ],
                                                                            "label": "DynamicClient()"
                                                                        }
                                                                    ],
                                                                    "label": "(AS, DynamicClient())"
                                                                }
                                                            ],
                                                            "label": "cast(AS, DynamicClient())"
                                                        }
                                                    ],
                                                    "label": "return cast(AS, DynamicClient())"
                                                }
                                            ],
                                            "label": "return cast(AS, DynamicClient())"
                                        },
                                        {
                                            "type": "function_placeholder",
                                            "name": "__init__",
                                            "start_line": 215,
                                            "end_line": 222,
                                            "children": [
                                                {
                                                    "type": "module",
                                                    "start_token": 0,
                                                    "end_token": 73,
                                                    "children": [
                                                        {
                                                            "type": "function_definition",
                                                            "start_token": 0,
                                                            "end_token": 72,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 1,
                                                                    "end_token": 1,
                                                                    "children": [],
                                                                    "label": "__init__"
                                                                },
                                                                {
                                                                    "type": "parameters",
                                                                    "start_token": 2,
                                                                    "end_token": 4,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 3,
                                                                            "end_token": 3,
                                                                            "children": [],
                                                                            "label": "self"
                                                                        }
                                                                    ],
                                                                    "label": "(self)"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 5,
                                                                    "end_token": 72,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 7,
                                                                            "end_token": 19,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 7,
                                                                                    "end_token": 7,
                                                                                    "children": [],
                                                                                    "label": "host"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 9,
                                                                                    "end_token": 19,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 9,
                                                                                            "end_token": 13,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dotted_name",
                                                                                                    "start_token": 9,
                                                                                                    "end_token": 11,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 9,
                                                                                                            "end_token": 9,
                                                                                                            "children": [],
                                                                                                            "label": "os"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 11,
                                                                                                            "end_token": 11,
                                                                                                            "children": [],
                                                                                                            "label": "environ"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "os.environ"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 13,
                                                                                                    "end_token": 13,
                                                                                                    "children": [],
                                                                                                    "label": "get"
                                                                                                }
                                                                                            ],
                                                                                            "label": "os.environ.get"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 14,
                                                                                            "end_token": 19,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 15,
                                                                                                    "end_token": 16,
                                                                                                    "children": [],
                                                                                                    "label": "f\"{service_name.upper()}_HOST\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 18,
                                                                                                    "end_token": 18,
                                                                                                    "children": [],
                                                                                                    "label": "pyro_host"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(f\"{service_name.upper()}_HOST\", pyro_host)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "os.environ.get(f\"{service_name.upper()}_HOST\", pyro_host)"
                                                                                }
                                                                            ],
                                                                            "label": "host = os.environ.get(f\"{service_name.upper()}_HOST\", pyro_host)"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 21,
                                                                            "end_token": 24,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 21,
                                                                                    "end_token": 21,
                                                                                    "children": [],
                                                                                    "label": "uri"
                                                                                },
                                                                                {
                                                                                    "type": "interpolation",
                                                                                    "start_token": 23,
                                                                                    "end_token": 24,
                                                                                    "children": [],
                                                                                    "label": "f\"PYRO:{service_type.service_name}@{host}:{service_type.get_port()}\""
                                                                                }
                                                                            ],
                                                                            "label": "uri = f\"PYRO:{service_type.service_name}@{host}:{service_type.get_port()}\""
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 26,
                                                                            "end_token": 32,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 26,
                                                                                    "end_token": 28,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 26,
                                                                                            "end_token": 26,
                                                                                            "children": [],
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 28,
                                                                                            "end_token": 28,
                                                                                            "children": [],
                                                                                            "label": "debug"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.debug"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 29,
                                                                                    "end_token": 32,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "interpolation",
                                                                                            "start_token": 30,
                                                                                            "end_token": 31,
                                                                                            "children": [],
                                                                                            "label": "f\"Connecting to service [{service_name}]. URI = {uri}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Connecting to service [{service_name}]. URI = {uri}\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.debug(f\"Connecting to service [{service_name}]. URI = {uri}\")"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 34,
                                                                            "end_token": 45,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 34,
                                                                                    "end_token": 36,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 34,
                                                                                            "end_token": 34,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 36,
                                                                                            "end_token": 36,
                                                                                            "children": [],
                                                                                            "label": "proxy"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.proxy"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 38,
                                                                                    "end_token": 45,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 38,
                                                                                            "end_token": 42,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dotted_name",
                                                                                                    "start_token": 38,
                                                                                                    "end_token": 40,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 38,
                                                                                                            "end_token": 38,
                                                                                                            "children": [],
                                                                                                            "label": "Pyro5"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 40,
                                                                                                            "end_token": 40,
                                                                                                            "children": [],
                                                                                                            "label": "api"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "Pyro5.api"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "children": [],
                                                                                                    "label": "Proxy"
                                                                                                }
                                                                                            ],
                                                                                            "label": "Pyro5.api.Proxy"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 43,
                                                                                            "end_token": 45,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 44,
                                                                                                    "end_token": 44,
                                                                                                    "children": [],
                                                                                                    "label": "uri"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(uri)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "Pyro5.api.Proxy(uri)"
                                                                                }
                                                                            ],
                                                                            "label": "self.proxy = Pyro5.api.Proxy(uri)"
                                                                        },
                                                                        {
                                                                            "type": "comment",
                                                                            "start_token": 47,
                                                                            "end_token": 56,
                                                                            "children": [],
                                                                            "label": "# Attempt to bind to ensure the connection is established"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 58,
                                                                            "end_token": 64,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 58,
                                                                                    "end_token": 62,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 58,
                                                                                            "end_token": 60,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 58,
                                                                                                    "end_token": 58,
                                                                                                    "children": [],
                                                                                                    "label": "self"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 60,
                                                                                                    "end_token": 60,
                                                                                                    "children": [],
                                                                                                    "label": "proxy"
                                                                                                }
                                                                                            ],
                                                                                            "label": "self.proxy"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 62,
                                                                                            "end_token": 62,
                                                                                            "children": [],
                                                                                            "label": "_pyroBind"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.proxy._pyroBind"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 63,
                                                                                    "end_token": 64,
                                                                                    "children": [],
                                                                                    "label": "()"
                                                                                }
                                                                            ],
                                                                            "label": "self.proxy._pyroBind()"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 66,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 66,
                                                                                    "end_token": 68,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 66,
                                                                                            "end_token": 66,
                                                                                            "children": [],
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 68,
                                                                                            "end_token": 68,
                                                                                            "children": [],
                                                                                            "label": "debug"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.debug"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 69,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "interpolation",
                                                                                            "start_token": 70,
                                                                                            "end_token": 71,
                                                                                            "children": [],
                                                                                            "label": "f\"Successfully connected to service [{service_name}]\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Successfully connected to service [{service_name}]\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.debug(f\"Successfully connected to service [{service_name}]\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            host = os.environ.get(f\"{service_name.upper()}_HOST\", pyro_host)\n            uri = f\"PYRO:{service_type.service_name}@{host}:{service_type.get_port()}\"\n            logger.debug(f\"Connecting to service [{service_name}]. URI = {uri}\")\n            self.proxy = Pyro5.api.Proxy(uri)\n            # Attempt to bind to ensure the connection is established\n            self.proxy._pyroBind()\n            logger.debug(f\"Successfully connected to service [{service_name}]\")"
                                                                }
                                                            ],
                                                            "label": "def __init__(self):\n            host = os.environ.get(f\"{service_name.upper()}_HOST\", pyro_host)\n            uri = f\"PYRO:{service_type.service_name}@{host}:{service_type.get_port()}\"\n            logger.debug(f\"Connecting to service [{service_name}]. URI = {uri}\")\n            self.proxy = Pyro5.api.Proxy(uri)\n            # Attempt to bind to ensure the connection is established\n            self.proxy._pyroBind()\n            logger.debug(f\"Successfully connected to service [{service_name}]\")"
                                                        }
                                                    ],
                                                    "label": "def __init__(self):\n            host = os.environ.get(f\"{service_name.upper()}_HOST\", pyro_host)\n            uri = f\"PYRO:{service_type.service_name}@{host}:{service_type.get_port()}\"\n            logger.debug(f\"Connecting to service [{service_name}]. URI = {uri}\")\n            self.proxy = Pyro5.api.Proxy(uri)\n            # Attempt to bind to ensure the connection is established\n            self.proxy._pyroBind()\n            logger.debug(f\"Successfully connected to service [{service_name}]\")\n"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "function_placeholder",
                                            "name": "__getattr__",
                                            "start_line": 224,
                                            "end_line": 226,
                                            "children": [
                                                {
                                                    "type": "module",
                                                    "start_token": 0,
                                                    "end_token": 34,
                                                    "children": [
                                                        {
                                                            "type": "function_definition",
                                                            "start_token": 0,
                                                            "end_token": 34,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 0,
                                                                    "end_token": 0,
                                                                    "children": [],
                                                                    "label": "def"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 1,
                                                                    "end_token": 1,
                                                                    "children": [],
                                                                    "label": "__getattr__"
                                                                },
                                                                {
                                                                    "type": "parameters",
                                                                    "start_token": 2,
                                                                    "end_token": 8,
                                                                    "children": [
                                                                        {
                                                                            "type": "typed_parameter",
                                                                            "start_token": 3,
                                                                            "end_token": 4,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 3,
                                                                                    "end_token": 3,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                }
                                                                            ],
                                                                            "label": "self,"
                                                                        },
                                                                        {
                                                                            "type": "typed_parameter",
                                                                            "start_token": 5,
                                                                            "end_token": 8,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 5,
                                                                                    "end_token": 5,
                                                                                    "children": [],
                                                                                    "label": "name"
                                                                                },
                                                                                {
                                                                                    "type": "type",
                                                                                    "start_token": 6,
                                                                                    "end_token": 7,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 7,
                                                                                            "end_token": 7,
                                                                                            "children": [],
                                                                                            "label": "str"
                                                                                        }
                                                                                    ],
                                                                                    "label": ": str"
                                                                                }
                                                                            ],
                                                                            "label": "name: str)"
                                                                        }
                                                                    ],
                                                                    "label": "(self, name: str)"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 10,
                                                                    "end_token": 18,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "Callable"
                                                                        },
                                                                        {
                                                                            "type": "ellipsis",
                                                                            "start_token": 13,
                                                                            "end_token": 15,
                                                                            "children": [],
                                                                            "label": "..."
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 17,
                                                                            "end_token": 17,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 17,
                                                                                    "end_token": 17,
                                                                                    "children": [],
                                                                                    "label": "Any"
                                                                                }
                                                                            ],
                                                                            "label": "Any"
                                                                        }
                                                                    ],
                                                                    "label": "> Callable[..., Any]"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 20,
                                                                    "end_token": 34,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 21,
                                                                            "end_token": 30,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 21,
                                                                                    "end_token": 21,
                                                                                    "children": [],
                                                                                    "label": "res"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 23,
                                                                                    "end_token": 30,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 23,
                                                                                            "end_token": 23,
                                                                                            "children": [],
                                                                                            "label": "getattr"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 24,
                                                                                            "end_token": 30,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 25,
                                                                                                    "end_token": 27,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 25,
                                                                                                            "end_token": 25,
                                                                                                            "children": [],
                                                                                                            "label": "self"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 27,
                                                                                                            "end_token": 27,
                                                                                                            "children": [],
                                                                                                            "label": "proxy"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "self.proxy"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 29,
                                                                                                    "end_token": 29,
                                                                                                    "children": [],
                                                                                                    "label": "name"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(self.proxy, name)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "getattr(self.proxy, name)"
                                                                                }
                                                                            ],
                                                                            "label": "res = getattr(self.proxy, name)"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 32,
                                                                            "end_token": 33,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "children": [],
                                                                                    "label": "res"
                                                                                }
                                                                            ],
                                                                            "label": "return res"
                                                                        }
                                                                    ],
                                                                    "label": "\n            res = getattr(self.proxy, name)\n            return res\n"
                                                                }
                                                            ],
                                                            "label": "def __getattr__(self, name: str) -> Callable[..., Any]:\n            res = getattr(self.proxy, name)\n            return res\n"
                                                        }
                                                    ],
                                                    "label": "def __getattr__(self, name: str) -> Callable[..., Any]:\n            res = getattr(self.proxy, name)\n            return res\n"
                                                }
                                            ]
                                        }
                                    ],
                                    "label": "class DynamicClient(PyroClient):\n        @conn_retry(\"Pyro\", f\"Connecting to [{service_name}]\")\n\n\n    return cast(AS, DynamicClient())\n"
                                }
                            ]
                        }
                    ],
                    "label": "def get_service_client(service_type: Type[AS]) -> AS:\n    service_name = service_type.service_name\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "_pydantic_models_from_type_annotation",
            "start_line": 234,
            "end_line": 276,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 268,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 268,
                            "children": [
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "annotation"
                                        }
                                    ],
                                    "label": "(annotation)"
                                },
                                {
                                    "type": "generic_type",
                                    "start_token": 6,
                                    "end_token": 13,
                                    "children": [
                                        {
                                            "type": "type",
                                            "start_token": 7,
                                            "end_token": 7,
                                            "label": "Iterator"
                                        },
                                        {
                                            "type": "generic_type",
                                            "start_token": 9,
                                            "end_token": 12,
                                            "children": [
                                                {
                                                    "type": "type",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "label": "BaseModel"
                                                }
                                            ],
                                            "label": "type[BaseModel]"
                                        }
                                    ],
                                    "label": "> Iterator[type[BaseModel]]"
                                },
                                {
                                    "type": "block",
                                    "start_token": 15,
                                    "end_token": 268,
                                    "children": [
                                        {
                                            "type": "comment",
                                            "start_token": 16,
                                            "end_token": 19,
                                            "label": "# Peel Annotated parameters"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 21,
                                            "end_token": 35,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "label": "origin"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 26,
                                                    "end_token": 29,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 26,
                                                            "end_token": 26,
                                                            "label": "get_origin"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 27,
                                                            "end_token": 28,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 28,
                                                                    "end_token": 28,
                                                                    "label": "annotation"
                                                                }
                                                            ],
                                                            "label": "(annotation"
                                                        }
                                                    ],
                                                    "label": "get_origin(annotation)"
                                                },
                                                {
                                                    "type": "comparison_operator",
                                                    "start_token": 33,
                                                    "end_token": 34,
                                                    "label": "is Annotated"
                                                }
                                            ],
                                            "label": "if (origin := get_origin(annotation)) and origin is Annotated:"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 37,
                                            "end_token": 45,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "label": "annotation"
                                                },
                                                {
                                                    "type": "subscript",
                                                    "start_token": 39,
                                                    "end_token": 44,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 39,
                                                            "end_token": 42,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 39,
                                                                    "end_token": 39,
                                                                    "label": "get_args"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 40,
                                                                    "end_token": 41,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 41,
                                                                            "end_token": 41,
                                                                            "label": "annotation"
                                                                        }
                                                                    ],
                                                                    "label": "(annotation"
                                                                }
                                                            ],
                                                            "label": "get_args(annotation)"
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "start_token": 44,
                                                            "end_token": 44,
                                                            "label": "0"
                                                        }
                                                    ],
                                                    "label": "get_args(annotation)[0"
                                                }
                                            ],
                                            "label": "annotation = get_args(annotation)[0]"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 48,
                                            "end_token": 53,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 48,
                                                    "end_token": 48,
                                                    "label": "origin"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 50,
                                                    "end_token": 52,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 50,
                                                            "end_token": 50,
                                                            "label": "get_origin"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 51,
                                                            "end_token": 51,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 51,
                                                                    "end_token": 51,
                                                                    "label": "("
                                                                }
                                                            ],
                                                            "label": "("
                                                        }
                                                    ],
                                                    "label": "get_origin(annotation"
                                                }
                                            ],
                                            "label": "origin = get_origin(annotation)"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 55,
                                            "end_token": 60,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 55,
                                                    "end_token": 55,
                                                    "label": "args"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 57,
                                                    "end_token": 59,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 57,
                                                            "end_token": 57,
                                                            "label": "get_args"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 58,
                                                            "end_token": 58,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 58,
                                                                    "end_token": 58,
                                                                    "label": "("
                                                                }
                                                            ],
                                                            "label": "("
                                                        }
                                                    ],
                                                    "label": "get_args(annotation"
                                                }
                                            ],
                                            "label": "args = get_args(annotation)"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 63,
                                            "end_token": 113,
                                            "children": [
                                                {
                                                    "type": "boolean_operator",
                                                    "start_token": 64,
                                                    "end_token": 98,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 64,
                                                            "end_token": 64,
                                                            "label": "origin"
                                                        },
                                                        {
                                                            "type": "parenthesized_expression",
                                                            "start_token": 66,
                                                            "end_token": 98,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 68,
                                                                    "end_token": 98,
                                                                    "label": "Union,\n        UnionType,\n        list,\n        List,\n        tuple,\n        Tuple,\n        set,\n        Set,\n        frozenset,\n        FrozenSet,\n    )"
                                                                }
                                                            ],
                                                            "label": "(\n        Union,\n        UnionType,\n        list,\n        List,\n        tuple,\n        Tuple,\n        set,\n        Set,\n        frozenset,\n        FrozenSet,\n    )"
                                                        }
                                                    ],
                                                    "label": "origin in (\n        Union,\n        UnionType,\n        list,\n        List,\n        tuple,\n        Tuple,\n        set,\n        Set,\n        frozenset,\n        FrozenSet,\n    )"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 99,
                                                    "end_token": 113,
                                                    "children": [
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 101,
                                                            "end_token": 112,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 102,
                                                                    "end_token": 102,
                                                                    "label": "arg"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 104,
                                                                    "end_token": 104,
                                                                    "label": "args"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 105,
                                                                    "end_token": 112,
                                                                    "children": [
                                                                        {
                                                                            "type": "yield",
                                                                            "start_token": 107,
                                                                            "end_token": 112,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 108,
                                                                                    "end_token": 110,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 109,
                                                                                            "end_token": 109,
                                                                                            "label": "_pydantic_models_from_type_annotation"
                                                                                        }
                                                                                    ],
                                                                                    "label": "from _pydantic_models_from_type_annotation("
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 110,
                                                                                    "end_token": 110,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 111,
                                                                                            "end_token": 111,
                                                                                            "label": "arg"
                                                                                        }
                                                                                    ],
                                                                                    "label": "("
                                                                                }
                                                                            ],
                                                                            "label": "yield from _pydantic_models_from_type_annotation(arg)"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            yield from _pydantic_models_from_type_annotation(arg)"
                                                                }
                                                            ],
                                                            "label": "for arg in args:\n            yield from _pydantic_models_from_type_annotation(arg)"
                                                        }
                                                    ],
                                                    "label": ":\n        for arg in args:\n            yield from _pydantic_models_from_type_annotation(arg)\n"
                                                }
                                            ],
                                            "label": "if origin in (\n        Union,\n        UnionType,\n        list,\n        List,\n        tuple,\n        Tuple,\n        set,\n        Set,\n        frozenset,\n        FrozenSet,\n    ):\n        for arg in args:\n            yield from _pydantic_models_from_type_annotation(arg)\n"
                                        },
                                        {
                                            "type": "elif_clause",
                                            "start_token": 114,
                                            "end_token": 142,
                                            "children": [
                                                {
                                                    "type": "boolean_operator",
                                                    "start_token": 115,
                                                    "end_token": 121,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 115,
                                                            "end_token": 115,
                                                            "label": "origin"
                                                        },
                                                        {
                                                            "type": "parenthesized_expression",
                                                            "start_token": 117,
                                                            "end_token": 121,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 118,
                                                                    "end_token": 121,
                                                                    "label": "dict, Dict)"
                                                                }
                                                            ],
                                                            "label": "(dict, Dict)"
                                                        }
                                                    ],
                                                    "label": "origin in (dict, Dict)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 122,
                                                    "end_token": 142,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 124,
                                                            "end_token": 128,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 124,
                                                                    "end_token": 126,
                                                                    "label": "key_type, value_type"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 127,
                                                                    "end_token": 127,
                                                                    "label": "="
                                                                }
                                                            ],
                                                            "label": "key_type, value_type = args"
                                                        },
                                                        {
                                                            "type": "yield",
                                                            "start_token": 130,
                                                            "end_token": 135,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 131,
                                                                    "end_token": 135,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 131,
                                                                            "end_token": 131,
                                                                            "label": "from"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 132,
                                                                            "end_token": 134,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 134,
                                                                                    "end_token": 134,
                                                                                    "label": "key_type"
                                                                                }
                                                                            ],
                                                                            "label": "_pydantic_models_from_type_annotation(key_type"
                                                                        }
                                                                    ],
                                                                    "label": "from _pydantic_models_from_type_annotation(key_type)"
                                                                }
                                                            ],
                                                            "label": "yield from _pydantic_models_from_type_annotation(key_type)"
                                                        },
                                                        {
                                                            "type": "yield",
                                                            "start_token": 137,
                                                            "end_token": 142,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 138,
                                                                    "end_token": 142,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 138,
                                                                            "end_token": 138,
                                                                            "label": "from"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 139,
                                                                            "end_token": 141,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 141,
                                                                                    "end_token": 141,
                                                                                    "label": "value_type"
                                                                                }
                                                                            ],
                                                                            "label": "_pydantic_models_from_type_annotation(value_type"
                                                                        }
                                                                    ],
                                                                    "label": "from _pydantic_models_from_type_annotation(value_type)"
                                                                }
                                                            ],
                                                            "label": "yield from _pydantic_models_from_type_annotation(value_type)"
                                                        }
                                                    ],
                                                    "label": ":\n        key_type, value_type = args\n        yield from _pydantic_models_from_type_annotation(key_type)\n        yield from _pydantic_models_from_type_annotation(value_type)"
                                                }
                                            ],
                                            "label": "elif origin in (dict, Dict):\n        key_type, value_type = args\n        yield from _pydantic_models_from_type_annotation(key_type)\n        yield from _pydantic_models_from_type_annotation(value_type)"
                                        },
                                        {
                                            "type": "elif_clause",
                                            "start_token": 144,
                                            "end_token": 178,
                                            "children": [
                                                {
                                                    "type": "boolean_operator",
                                                    "start_token": 145,
                                                    "end_token": 151,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 145,
                                                            "end_token": 145,
                                                            "label": "origin"
                                                        },
                                                        {
                                                            "type": "parenthesized_expression",
                                                            "start_token": 147,
                                                            "end_token": 151,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 148,
                                                                    "end_token": 151,
                                                                    "label": "Awaitable, Coroutine)"
                                                                }
                                                            ],
                                                            "label": "(Awaitable, Coroutine)"
                                                        }
                                                    ],
                                                    "label": "origin in (Awaitable, Coroutine)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 152,
                                                    "end_token": 178,
                                                    "children": [
                                                        {
                                                            "type": "comment",
                                                            "start_token": 154,
                                                            "end_token": 164,
                                                            "label": "# For coroutines and awaitables, check the return type\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 165,
                                                            "end_token": 171,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 165,
                                                                    "end_token": 165,
                                                                    "label": "return_type"
                                                                },
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 167,
                                                                    "end_token": 170,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 167,
                                                                            "end_token": 167,
                                                                            "label": "args"
                                                                        },
                                                                        {
                                                                            "type": "integer",
                                                                            "start_token": 170,
                                                                            "end_token": 170,
                                                                            "label": "1"
                                                                        }
                                                                    ],
                                                                    "label": "args[-1"
                                                                }
                                                            ],
                                                            "label": "return_type = args[-1]"
                                                        },
                                                        {
                                                            "type": "yield",
                                                            "start_token": 173,
                                                            "end_token": 178,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 174,
                                                                    "end_token": 178,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 174,
                                                                            "end_token": 174,
                                                                            "label": "from"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 175,
                                                                            "end_token": 177,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 177,
                                                                                    "end_token": 177,
                                                                                    "label": "return_type"
                                                                                }
                                                                            ],
                                                                            "label": "_pydantic_models_from_type_annotation(return_type"
                                                                        }
                                                                    ],
                                                                    "label": "from _pydantic_models_from_type_annotation(return_type)"
                                                                }
                                                            ],
                                                            "label": "yield from _pydantic_models_from_type_annotation(return_type)"
                                                        }
                                                    ],
                                                    "label": ":\n        # For coroutines and awaitables, check the return type\n        return_type = args[-1]\n        yield from _pydantic_models_from_type_annotation(return_type)"
                                                }
                                            ],
                                            "label": "elif origin in (Awaitable, Coroutine):\n        # For coroutines and awaitables, check the return type\n        return_type = args[-1]\n        yield from _pydantic_models_from_type_annotation(return_type)"
                                        },
                                        {
                                            "type": "else_clause",
                                            "start_token": 180,
                                            "end_token": 268,
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "start_token": 183,
                                                    "end_token": 191,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 183,
                                                            "end_token": 183,
                                                            "label": "annotype"
                                                        },
                                                        {
                                                            "type": "conditional_expression",
                                                            "start_token": 185,
                                                            "end_token": 191,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 185,
                                                                    "end_token": 185,
                                                                    "label": "annotation"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 187,
                                                                    "end_token": 187,
                                                                    "label": "origin"
                                                                }
                                                            ],
                                                            "label": "annotation if origin is None else origin"
                                                        }
                                                    ],
                                                    "label": "annotype = annotation if origin is None else origin"
                                                },
                                                {
                                                    "type": "comment",
                                                    "start_token": 194,
                                                    "end_token": 199,
                                                    "label": "# Exclude generic types and aliases"
                                                },
                                                {
                                                    "type": "if_statement",
                                                    "start_token": 201,
                                                    "end_token": 268,
                                                    "children": [
                                                        {
                                                            "type": "boolean_operator",
                                                            "start_token": 204,
                                                            "end_token": 232,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 204,
                                                                    "end_token": 204,
                                                                    "label": "annotype"
                                                                },
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 209,
                                                                    "end_token": 223,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 210,
                                                                            "end_token": 223,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 211,
                                                                                    "end_token": 211,
                                                                                    "label": "hasattr"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 212,
                                                                                    "end_token": 222,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 213,
                                                                                            "end_token": 218,
                                                                                            "label": "typing, getattr(annotype,"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(typing, getattr(annotype, \"__name__\", \"\")"
                                                                                }
                                                                            ],
                                                                            "label": "not hasattr(typing, getattr(annotype, \"__name__\", \"\"))"
                                                                        }
                                                                    ],
                                                                    "label": "and not hasattr(typing, getattr(annotype, \"__name__\", \"\"))"
                                                                },
                                                                {
                                                                    "type": "isinstance",
                                                                    "start_token": 226,
                                                                    "end_token": 231,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 227,
                                                                            "end_token": 231,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 228,
                                                                                    "end_token": 230,
                                                                                    "label": "annotype, type"
                                                                                }
                                                                            ],
                                                                            "label": "(annotype, type)"
                                                                        }
                                                                    ],
                                                                    "label": "isinstance(annotype, type)"
                                                                }
                                                            ],
                                                            "label": "annotype is not None\n            and not hasattr(typing, getattr(annotype, \"__name__\", \"\"))\n            and isinstance(annotype, type)\n"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 233,
                                                            "end_token": 268,
                                                            "children": [
                                                                {
                                                                    "type": "if_statement",
                                                                    "start_token": 236,
                                                                    "end_token": 247,
                                                                    "children": [
                                                                        {
                                                                            "type": "issubclass",
                                                                            "start_token": 237,
                                                                            "end_token": 242,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 237,
                                                                                    "end_token": 242,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 239,
                                                                                            "end_token": 241,
                                                                                            "label": "annotype, BaseModel"
                                                                                        }
                                                                                    ],
                                                                                    "label": "issubclass(annotype, BaseModel)"
                                                                                }
                                                                            ],
                                                                            "label": "issubclass(annotype, BaseModel)"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 243,
                                                                            "end_token": 247,
                                                                            "children": [
                                                                                {
                                                                                    "type": "yield",
                                                                                    "start_token": 245,
                                                                                    "end_token": 247,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 246,
                                                                                            "end_token": 246,
                                                                                            "label": "annotype"
                                                                                        }
                                                                                    ],
                                                                                    "label": "yield annotype\n"
                                                                                }
                                                                            ],
                                                                            "label": ":\n                yield annotype\n"
                                                                        }
                                                                    ],
                                                                    "label": "if issubclass(annotype, BaseModel):\n                yield annotype\n"
                                                                },
                                                                {
                                                                    "type": "elif_clause",
                                                                    "start_token": 248,
                                                                    "end_token": 268,
                                                                    "children": [
                                                                        {
                                                                            "type": "binary_operator",
                                                                            "start_token": 250,
                                                                            "end_token": 259,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binary_operator",
                                                                                    "start_token": 250,
                                                                                    "end_token": 252,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 250,
                                                                                            "end_token": 250,
                                                                                            "label": "not"
                                                                                        },
                                                                                        {
                                                                                            "type": "not_operator",
                                                                                            "start_token": 254,
                                                                                            "end_token": 258,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "issubclass",
                                                                                                    "start_token": 255,
                                                                                                    "end_token": 258,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 255,
                                                                                                            "end_token": 258,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 256,
                                                                                                                    "end_token": 257,
                                                                                                                    "label": "(annotype"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "issubclass(annotype,"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "issubclass(annotype,"
                                                                                                }
                                                                                            ],
                                                                                            "label": "not issubclass(annotype,"
                                                                                        }
                                                                                    ],
                                                                                    "label": "not in builtin_types"
                                                                                }
                                                                            ],
                                                                            "label": "not in builtin_types and not issubclass(annotype, Enum"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 261,
                                                                            "end_token": 268,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 263,
                                                                                    "end_token": 268,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 264,
                                                                                            "end_token": 267,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 266,
                                                                                                    "end_token": 267,
                                                                                                    "label": "f\"Unsupported type encountered: {annotype}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "TypeError(f\"Unsupported type encountered: {annotype}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n                raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                                                                        }
                                                                    ],
                                                                    "label": "elif annotype not in builtin_types and not issubclass(annotype, Enum):\n                raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                                                                }
                                                            ],
                                                            "label": "):\n            if issubclass(annotype, BaseModel):\n                yield annotype\n            elif annotype not in builtin_types and not issubclass(annotype, Enum):\n                raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                                                        }
                                                    ],
                                                    "label": "if (\n            annotype is not None\n            and not hasattr(typing, getattr(annotype, \"__name__\", \"\"))\n            and isinstance(annotype, type)\n        ):\n            if issubclass(annotype, BaseModel):\n                yield annotype\n            elif annotype not in builtin_types and not issubclass(annotype, Enum):\n                raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                                                }
                                            ],
                                            "label": "else:\n        annotype = annotation if origin is None else origin\n\n        # Exclude generic types and aliases\n        if (\n            annotype is not None\n            and not hasattr(typing, getattr(annotype, \"__name__\", \"\"))\n            and isinstance(annotype, type)\n        ):\n            if issubclass(annotype, BaseModel):\n                yield annotype\n            elif annotype not in builtin_types and not issubclass(annotype, Enum):\n                raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                                        }
                                    ],
                                    "label": "\n    # Peel Annotated parameters\n    if (origin := get_origin(annotation)) and origin is Annotated:\n        annotation = get_args(annotation)[0]\n\n    origin = get_origin(annotation)\n    args = get_args(annotation)\n\n    if origin in (\n        Union,\n        UnionType,\n        list,\n        List,\n        tuple,\n        Tuple,\n        set,\n        Set,\n        frozenset,\n        FrozenSet,\n    ):\n        for arg in args:\n            yield from _pydantic_models_from_type_annotation(arg)\n    elif origin in (dict, Dict):\n        key_type, value_type = args\n        yield from _pydantic_models_from_type_annotation(key_type)\n        yield from _pydantic_models_from_type_annotation(value_type)\n    elif origin in (Awaitable, Coroutine):\n        # For coroutines and awaitables, check the return type\n        return_type = args[-1]\n        yield from _pydantic_models_from_type_annotation(return_type)\n    else:\n        annotype = annotation if origin is None else origin\n\n        # Exclude generic types and aliases\n        if (\n            annotype is not None\n            and not hasattr(typing, getattr(annotype, \"__name__\", \"\"))\n            and isinstance(annotype, type)\n        ):\n            if issubclass(annotype, BaseModel):\n                yield annotype\n            elif annotype not in builtin_types and not issubclass(annotype, Enum):\n                raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                                }
                            ],
                            "label": "def _pydantic_models_from_type_annotation(annotation) -> Iterator[type[BaseModel]]:\n    # Peel Annotated parameters\n    if (origin := get_origin(annotation)) and origin is Annotated:\n        annotation = get_args(annotation)[0]\n\n    origin = get_origin(annotation)\n    args = get_args(annotation)\n\n    if origin in (\n        Union,\n        UnionType,\n        list,\n        List,\n        tuple,\n        Tuple,\n        set,\n        Set,\n        frozenset,\n        FrozenSet,\n    ):\n        for arg in args:\n            yield from _pydantic_models_from_type_annotation(arg)\n    elif origin in (dict, Dict):\n        key_type, value_type = args\n        yield from _pydantic_models_from_type_annotation(key_type)\n        yield from _pydantic_models_from_type_annotation(value_type)\n    elif origin in (Awaitable, Coroutine):\n        # For coroutines and awaitables, check the return type\n        return_type = args[-1]\n        yield from _pydantic_models_from_type_annotation(return_type)\n    else:\n        annotype = annotation if origin is None else origin\n\n        # Exclude generic types and aliases\n        if (\n            annotype is not None\n            and not hasattr(typing, getattr(annotype, \"__name__\", \"\"))\n            and isinstance(annotype, type)\n        ):\n            if issubclass(annotype, BaseModel):\n                yield annotype\n            elif annotype not in builtin_types and not issubclass(annotype, Enum):\n                raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                        }
                    ],
                    "label": "def _pydantic_models_from_type_annotation(annotation) -> Iterator[type[BaseModel]]:\n    # Peel Annotated parameters\n    if (origin := get_origin(annotation)) and origin is Annotated:\n        annotation = get_args(annotation)[0]\n\n    origin = get_origin(annotation)\n    args = get_args(annotation)\n\n    if origin in (\n        Union,\n        UnionType,\n        list,\n        List,\n        tuple,\n        Tuple,\n        set,\n        Set,\n        frozenset,\n        FrozenSet,\n    ):\n        for arg in args:\n            yield from _pydantic_models_from_type_annotation(arg)\n    elif origin in (dict, Dict):\n        key_type, value_type = args\n        yield from _pydantic_models_from_type_annotation(key_type)\n        yield from _pydantic_models_from_type_annotation(value_type)\n    elif origin in (Awaitable, Coroutine):\n        # For coroutines and awaitables, check the return type\n        return_type = args[-1]\n        yield from _pydantic_models_from_type_annotation(return_type)\n    else:\n        annotype = annotation if origin is None else origin\n\n        # Exclude generic types and aliases\n        if (\n            annotype is not None\n            and not hasattr(typing, getattr(annotype, \"__name__\", \"\"))\n            and isinstance(annotype, type)\n        ):\n            if issubclass(annotype, BaseModel):\n                yield annotype\n            elif annotype not in builtin_types and not issubclass(annotype, Enum):\n                raise TypeError(f\"Unsupported type encountered: {annotype}\")"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AppService",
            "start_line": 112,
            "end_line": 190,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 57,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 31,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "AppService"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "AppProcess"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 5,
                                            "end_token": 5,
                                            "label": "ABC"
                                        }
                                    ],
                                    "label": "(AppProcess, ABC)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 8,
                                    "end_token": 31,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 9,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "label": "shared_event_loop"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 11,
                                                    "end_token": 13,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 11,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "label": "asyncio"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 13,
                                                                    "end_token": 13,
                                                                    "label": "AbstractEventLoop"
                                                                }
                                                            ],
                                                            "label": "asyncio.AbstractEventLoop"
                                                        }
                                                    ],
                                                    "label": "asyncio.AbstractEventLoop"
                                                }
                                            ],
                                            "label": "shared_event_loop: asyncio.AbstractEventLoop"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 15,
                                            "end_token": 19,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "label": "use_db"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "label": "bool"
                                                },
                                                {
                                                    "type": "false",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "label": "False"
                                                }
                                            ],
                                            "label": "use_db: bool = False"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 21,
                                            "end_token": 25,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 21,
                                                    "end_token": 21,
                                                    "label": "use_redis"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "label": "bool"
                                                },
                                                {
                                                    "type": "false",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "label": "False"
                                                }
                                            ],
                                            "label": "use_redis: bool = False"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 27,
                                            "end_token": 31,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "label": "use_supabase"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 29,
                                                    "end_token": 29,
                                                    "label": "bool"
                                                },
                                                {
                                                    "type": "false",
                                                    "start_token": 31,
                                                    "end_token": 31,
                                                    "label": "False"
                                                }
                                            ],
                                            "label": "use_supabase: bool = False"
                                        }
                                    ],
                                    "label": "\n    shared_event_loop: asyncio.AbstractEventLoop\n    use_db: bool = False\n    use_redis: bool = False\n    use_supabase: bool = False"
                                }
                            ],
                            "label": "class AppService(AppProcess, ABC):\n    shared_event_loop: asyncio.AbstractEventLoop\n    use_db: bool = False\n    use_redis: bool = False\n    use_supabase: bool = False"
                        },
                        {
                            "type": "decorator",
                            "start_token": 35,
                            "end_token": 37,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 36,
                                    "end_token": 36,
                                    "label": "classmethod"
                                }
                            ],
                            "label": "@classmethod\n"
                        },
                        {
                            "type": "decorator",
                            "start_token": 38,
                            "end_token": 40,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 39,
                                    "end_token": 39,
                                    "label": "abstractmethod"
                                }
                            ],
                            "label": "@abstractmethod\n"
                        },
                        {
                            "type": "decorator",
                            "start_token": 42,
                            "end_token": 44,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 43,
                                    "end_token": 43,
                                    "label": "classmethod"
                                }
                            ],
                            "label": "@classmethod\n"
                        },
                        {
                            "type": "decorator",
                            "start_token": 51,
                            "end_token": 57,
                            "children": [
                                {
                                    "type": "call",
                                    "start_token": 52,
                                    "end_token": 57,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 52,
                                            "end_token": 52,
                                            "label": "conn_retry"
                                        },
                                        {
                                            "type": "argument_list",
                                            "start_token": 53,
                                            "end_token": 57,
                                            "children": [
                                                {
                                                    "type": "string",
                                                    "start_token": 54,
                                                    "end_token": 54,
                                                    "label": "\"Pyro\""
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 56,
                                                    "end_token": 56,
                                                    "label": "\"Starting Pyro Service\""
                                                }
                                            ],
                                            "label": "(\"Pyro\", \"Starting Pyro Service\")"
                                        }
                                    ],
                                    "label": "conn_retry(\"Pyro\", \"Starting Pyro Service\")"
                                }
                            ],
                            "label": "@conn_retry(\"Pyro\", \"Starting Pyro Service\")"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__init__",
                            "start_line": 118,
                            "end_line": 119,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "__init__"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 9,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "children": [],
                                                                            "label": "uri"
                                                                        }
                                                                    ],
                                                                    "label": "self.uri"
                                                                },
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "None"
                                                                }
                                                            ],
                                                            "label": "self.uri = None"
                                                        }
                                                    ],
                                                    "label": "\n        self.uri = None"
                                                }
                                            ],
                                            "label": "def __init__(self):\n        self.uri = None"
                                        }
                                    ],
                                    "label": "def __init__(self):\n        self.uri = None"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "get_port",
                            "start_line": 123,
                            "end_line": 124,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 10,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "get_port"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "cls"
                                                        }
                                                    ],
                                                    "label": "(cls)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "children": [],
                                                            "label": "int"
                                                        }
                                                    ],
                                                    "label": "> int"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 9,
                                                    "end_token": 10,
                                                    "children": [
                                                        {
                                                            "type": "pass_statement",
                                                            "start_token": 9,
                                                            "end_token": 10,
                                                            "children": [],
                                                            "label": "\n        pass"
                                                        }
                                                    ],
                                                    "label": "\n        pass"
                                                }
                                            ],
                                            "label": "def get_port(cls) -> int:\n        pass"
                                        }
                                    ],
                                    "label": "def get_port(cls) -> int:\n        pass\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "get_host",
                            "start_line": 127,
                            "end_line": 128,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 24,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 24,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "children": [],
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "get_host"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "cls"
                                                        }
                                                    ],
                                                    "label": "(cls)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "children": [],
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "> str"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 8,
                                                    "end_token": 24,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 10,
                                                            "end_token": 23,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 23,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 11,
                                                                            "end_token": 15,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": [],
                                                                                    "label": "os"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "children": [],
                                                                                    "label": "environ"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 15,
                                                                                    "end_token": 15,
                                                                                    "children": [],
                                                                                    "label": "get"
                                                                                }
                                                                            ],
                                                                            "label": "os.environ.get"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 16,
                                                                            "end_token": 23,
                                                                            "children": [
                                                                                {
                                                                                    "type": "interpolation",
                                                                                    "start_token": 17,
                                                                                    "end_token": 18,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 17,
                                                                                            "end_token": 18,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 17,
                                                                                                    "end_token": 18,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 3,
                                                                                                            "end_token": 3,
                                                                                                            "children": [],
                                                                                                            "label": "cls"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 18,
                                                                                                            "end_token": 18,
                                                                                                            "children": [],
                                                                                                            "label": "\"{cls.service_name.upper()}_HOST\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "f\"{cls.service_name.upper()}_HOST\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"{cls.service_name.upper()}_HOST\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"{cls.service_name.upper()}_HOST\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 20,
                                                                                    "end_token": 22,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [],
                                                                                            "label": "config"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 22,
                                                                                            "end_token": 22,
                                                                                            "children": [],
                                                                                            "label": "pyro_host"
                                                                                        }
                                                                                    ],
                                                                                    "label": "config.pyro_host"
                                                                                }
                                                                            ],
                                                                            "label": "(f\"{cls.service_name.upper()}_HOST\", config.pyro_host)"
                                                                        }
                                                                    ],
                                                                    "label": "os.environ.get(f\"{cls.service_name.upper()}_HOST\", config.pyro_host)"
                                                                }
                                                            ],
                                                            "label": "return os.environ.get(f\"{cls.service_name.upper()}_HOST\", config.pyro_host)"
                                                        }
                                                    ],
                                                    "label": ":\n        return os.environ.get(f\"{cls.service_name.upper()}_HOST\", config.pyro_host)\n"
                                                }
                                            ],
                                            "label": "def get_host(cls) -> str:\n        return os.environ.get(f\"{cls.service_name.upper()}_HOST\", config.pyro_host)\n"
                                        }
                                    ],
                                    "label": "def get_host(cls) -> str:\n        return os.environ.get(f\"{cls.service_name.upper()}_HOST\", config.pyro_host)\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run_service",
                            "start_line": 130,
                            "end_line": 132,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "run_service"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "None"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 9,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "while_statement",
                                                            "start_token": 10,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "true",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "True"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 13,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 14,
                                                                            "end_token": 19,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 14,
                                                                                    "end_token": 16,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 14,
                                                                                            "end_token": 14,
                                                                                            "children": [],
                                                                                            "label": "time"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 16,
                                                                                            "end_token": 16,
                                                                                            "children": [],
                                                                                            "label": "sleep"
                                                                                        }
                                                                                    ],
                                                                                    "label": "time.sleep"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 17,
                                                                                    "end_token": 19,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 18,
                                                                                            "end_token": 18,
                                                                                            "children": [],
                                                                                            "label": "10"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(10)"
                                                                                }
                                                                            ],
                                                                            "label": "time.sleep(10)"
                                                                        }
                                                                    ],
                                                                    "label": "\n            time.sleep(10)\n"
                                                                }
                                                            ],
                                                            "label": "while True:\n            time.sleep(10)\n"
                                                        }
                                                    ],
                                                    "label": "\n        while True:\n            time.sleep(10)\n"
                                                }
                                            ],
                                            "label": "def run_service(self) -> None:\n        while True:\n            time.sleep(10)\n"
                                        }
                                    ],
                                    "label": "def run_service(self) -> None:\n        while True:\n            time.sleep(10)\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__run_async",
                            "start_line": 134,
                            "end_line": 135,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 28,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 28,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "__run_async"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 15,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 5,
                                                            "end_token": 5,
                                                            "label": "coro"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 5,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 7,
                                                                    "end_token": 14,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "label": "Coroutine"
                                                                        },
                                                                        {
                                                                            "type": "type_parameter",
                                                                            "start_token": 8,
                                                                            "end_token": 14,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 9,
                                                                                    "end_token": 9,
                                                                                    "label": "Any"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "label": "Any"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "label": "T"
                                                                                }
                                                                            ],
                                                                            "label": "[Any, Any, T]"
                                                                        }
                                                                    ],
                                                                    "label": "Coroutine[Any, Any, T]"
                                                                }
                                                            ],
                                                            "label": "coro: Coroutine[Any, Any, T]"
                                                        }
                                                    ],
                                                    "label": "(self, coro: Coroutine[Any, Any, T])"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 17,
                                                    "end_token": 28,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 18,
                                                            "end_token": 28,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 19,
                                                                    "end_token": 28,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 19,
                                                                            "end_token": 21,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 19,
                                                                                    "end_token": 19,
                                                                                    "label": "asyncio"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 21,
                                                                                    "end_token": 21,
                                                                                    "label": "run_coroutine_threadsafe"
                                                                                }
                                                                            ],
                                                                            "label": "asyncio.run_coroutine_threadsafe"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 22,
                                                                            "end_token": 28,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 23,
                                                                                    "end_token": 23,
                                                                                    "label": "coro"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 25,
                                                                                    "end_token": 27,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 25,
                                                                                            "end_token": 25,
                                                                                            "label": "self"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 27,
                                                                                            "end_token": 27,
                                                                                            "label": "shared_event_loop"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.shared_event_loop"
                                                                                }
                                                                            ],
                                                                            "label": "(coro, self.shared_event_loop)"
                                                                        }
                                                                    ],
                                                                    "label": "asyncio.run_coroutine_threadsafe(coro, self.shared_event_loop)"
                                                                }
                                                            ],
                                                            "label": "return asyncio.run_coroutine_threadsafe(coro, self.shared_event_loop)"
                                                        }
                                                    ],
                                                    "label": "\n        return asyncio.run_coroutine_threadsafe(coro, self.shared_event_loop)"
                                                }
                                            ],
                                            "label": "def __run_async(self, coro: Coroutine[Any, Any, T]):\n        return asyncio.run_coroutine_threadsafe(coro, self.shared_event_loop)"
                                        }
                                    ],
                                    "label": "def __run_async(self, coro: Coroutine[Any, Any, T]):\n        return asyncio.run_coroutine_threadsafe(coro, self.shared_event_loop)"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run_and_wait",
                            "start_line": 137,
                            "end_line": 139,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 35,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 35,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "run_and_wait"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 15,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 4,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "children": [],
                                                                    "label": "self"
                                                                }
                                                            ],
                                                            "label": "self,"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 5,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "coro"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 7,
                                                                    "end_token": 14,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "Coroutine"
                                                                        },
                                                                        {
                                                                            "type": "type_parameter",
                                                                            "start_token": 8,
                                                                            "end_token": 14,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 9,
                                                                                    "end_token": 9,
                                                                                    "children": [],
                                                                                    "label": "Any"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": [],
                                                                                    "label": "Any"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "children": [],
                                                                                    "label": "T"
                                                                                }
                                                                            ],
                                                                            "label": "[Any, Any, T]"
                                                                        }
                                                                    ],
                                                                    "label": "Coroutine[Any, Any, T]"
                                                                }
                                                            ],
                                                            "label": "coro: Coroutine[Any, Any, T]"
                                                        }
                                                    ],
                                                    "label": "(self, coro: Coroutine[Any, Any, T])"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 17,
                                                    "end_token": 18,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 18,
                                                            "end_token": 18,
                                                            "children": [],
                                                            "label": "T"
                                                        }
                                                    ],
                                                    "label": "> T"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 19,
                                                    "end_token": 35,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 21,
                                                            "end_token": 28,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "children": [],
                                                                    "label": "future"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 23,
                                                                    "end_token": 28,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 23,
                                                                            "end_token": 25,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 23,
                                                                                    "end_token": 23,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 25,
                                                                                    "end_token": 25,
                                                                                    "children": [],
                                                                                    "label": "__run_async"
                                                                                }
                                                                            ],
                                                                            "label": "self.__run_async"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 26,
                                                                            "end_token": 27,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 27,
                                                                                    "end_token": 27,
                                                                                    "children": [],
                                                                                    "label": "coro"
                                                                                }
                                                                            ],
                                                                            "label": "(coro"
                                                                        }
                                                                    ],
                                                                    "label": "self.__run_async(coro)"
                                                                }
                                                            ],
                                                            "label": "future = self.__run_async(coro)"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 30,
                                                            "end_token": 35,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 31,
                                                                    "end_token": 35,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 31,
                                                                            "end_token": 33,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 31,
                                                                                    "end_token": 31,
                                                                                    "children": [],
                                                                                    "label": "future"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "children": [],
                                                                                    "label": "result"
                                                                                }
                                                                            ],
                                                                            "label": "future.result"
                                                                        }
                                                                    ],
                                                                    "label": "future.result()"
                                                                }
                                                            ],
                                                            "label": "return future.result()"
                                                        }
                                                    ],
                                                    "label": ":\n        future = self.__run_async(coro)\n        return future.result()"
                                                }
                                            ],
                                            "label": "def run_and_wait(self, coro: Coroutine[Any, Any, T]) -> T:\n        future = self.__run_async(coro)\n        return future.result()"
                                        }
                                    ],
                                    "label": "def run_and_wait(self, coro: Coroutine[Any, Any, T]) -> T:\n        future = self.__run_async(coro)\n        return future.result()"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run",
                            "start_line": 141,
                            "end_line": 166,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 171,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 171,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "run"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 171,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 15,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 9,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "children": [],
                                                                            "label": "shared_event_loop"
                                                                        }
                                                                    ],
                                                                    "label": "self.shared_event_loop"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 15,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 11,
                                                                            "end_token": 13,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": [],
                                                                                    "label": "asyncio"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "children": [],
                                                                                    "label": "get_event_loop"
                                                                                }
                                                                            ],
                                                                            "label": "asyncio.get_event_loop"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 14,
                                                                            "end_token": 15,
                                                                            "children": [],
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "asyncio.get_event_loop()"
                                                                }
                                                            ],
                                                            "label": "self.shared_event_loop = asyncio.get_event_loop()"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 17,
                                                            "end_token": 35,
                                                            "children": [
                                                                {
                                                                    "type": "if_clause",
                                                                    "start_token": 17,
                                                                    "end_token": 21,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 18,
                                                                            "end_token": 20,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 18,
                                                                                    "end_token": 18,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [],
                                                                                    "label": "use_db"
                                                                                }
                                                                            ],
                                                                            "label": "self.use_db"
                                                                        }
                                                                    ],
                                                                    "label": "if self.use_db:"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 22,
                                                                    "end_token": 35,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 23,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 23,
                                                                                    "end_token": 27,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 23,
                                                                                            "end_token": 25,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 23,
                                                                                                    "end_token": 23,
                                                                                                    "children": [],
                                                                                                    "label": "self"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 25,
                                                                                                    "end_token": 25,
                                                                                                    "children": [],
                                                                                                    "label": "shared_event_loop"
                                                                                                }
                                                                                            ],
                                                                                            "label": "self.shared_event_loop"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 27,
                                                                                            "end_token": 27,
                                                                                            "children": [],
                                                                                            "label": "run_until_complete"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.shared_event_loop.run_until_complete"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 28,
                                                                                    "end_token": 34,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 29,
                                                                                            "end_token": 33,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 29,
                                                                                                    "end_token": 31,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 29,
                                                                                                            "end_token": 29,
                                                                                                            "children": [],
                                                                                                            "label": "db"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 31,
                                                                                                            "end_token": 31,
                                                                                                            "children": [],
                                                                                                            "label": "connect"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "db.connect"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 32,
                                                                                                    "end_token": 33,
                                                                                                    "children": [],
                                                                                                    "label": "()"
                                                                                                }
                                                                                            ],
                                                                                            "label": "db.connect()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(db.connect())"
                                                                                }
                                                                            ],
                                                                            "label": "self.shared_event_loop.run_until_complete(db.connect())"
                                                                        }
                                                                    ],
                                                                    "label": "\n            self.shared_event_loop.run_until_complete(db.connect())\n"
                                                                }
                                                            ],
                                                            "label": "if self.use_db:\n            self.shared_event_loop.run_until_complete(db.connect())\n"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 36,
                                                            "end_token": 47,
                                                            "children": [
                                                                {
                                                                    "type": "if_clause",
                                                                    "start_token": 36,
                                                                    "end_token": 40,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 37,
                                                                            "end_token": 39,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 37,
                                                                                    "end_token": 37,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 39,
                                                                                    "end_token": 39,
                                                                                    "children": [],
                                                                                    "label": "use_redis"
                                                                                }
                                                                            ],
                                                                            "label": "self.use_redis"
                                                                        }
                                                                    ],
                                                                    "label": "if self.use_redis:"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 41,
                                                                    "end_token": 47,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 42,
                                                                            "end_token": 46,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 42,
                                                                                    "end_token": 44,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 42,
                                                                                            "end_token": 42,
                                                                                            "children": [],
                                                                                            "label": "redis"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 44,
                                                                                            "end_token": 44,
                                                                                            "children": [],
                                                                                            "label": "connect"
                                                                                        }
                                                                                    ],
                                                                                    "label": "redis.connect"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 45,
                                                                                    "end_token": 46,
                                                                                    "children": [],
                                                                                    "label": "()"
                                                                                }
                                                                            ],
                                                                            "label": "redis.connect()"
                                                                        }
                                                                    ],
                                                                    "label": "\n            redis.connect()\n"
                                                                }
                                                            ],
                                                            "label": "if self.use_redis:\n            redis.connect()\n"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 48,
                                                            "end_token": 81,
                                                            "children": [
                                                                {
                                                                    "type": "if_clause",
                                                                    "start_token": 48,
                                                                    "end_token": 52,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 49,
                                                                            "end_token": 51,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 49,
                                                                                    "end_token": 49,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 51,
                                                                                    "end_token": 51,
                                                                                    "children": [],
                                                                                    "label": "use_supabase"
                                                                                }
                                                                            ],
                                                                            "label": "self.use_supabase"
                                                                        }
                                                                    ],
                                                                    "label": "if self.use_supabase:"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 53,
                                                                    "end_token": 81,
                                                                    "children": [
                                                                        {
                                                                            "type": "import_from_statement",
                                                                            "start_token": 54,
                                                                            "end_token": 57,
                                                                            "children": [
                                                                                {
                                                                                    "type": "import_prefix",
                                                                                    "start_token": 55,
                                                                                    "end_token": 55,
                                                                                    "children": [],
                                                                                    "label": "supabase"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 57,
                                                                                    "end_token": 57,
                                                                                    "children": [],
                                                                                    "label": "create_client"
                                                                                }
                                                                            ],
                                                                            "label": "from supabase import create_client"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 60,
                                                                            "end_token": 64,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 60,
                                                                                    "end_token": 60,
                                                                                    "children": [],
                                                                                    "label": "secrets"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 62,
                                                                                    "end_token": 64,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 62,
                                                                                            "end_token": 62,
                                                                                            "children": [],
                                                                                            "label": "Secrets"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 63,
                                                                                            "end_token": 64,
                                                                                            "children": [],
                                                                                            "label": "()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "Secrets()"
                                                                                }
                                                                            ],
                                                                            "label": "secrets = Secrets()"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 66,
                                                                            "end_token": 81,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 66,
                                                                                    "end_token": 68,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 66,
                                                                                            "end_token": 66,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 68,
                                                                                            "end_token": 68,
                                                                                            "children": [],
                                                                                            "label": "supabase"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.supabase"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 70,
                                                                                    "end_token": 81,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 70,
                                                                                            "end_token": 70,
                                                                                            "children": [],
                                                                                            "label": "create_client"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 71,
                                                                                            "end_token": 81,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 73,
                                                                                                    "end_token": 75,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 73,
                                                                                                            "end_token": 73,
                                                                                                            "children": [],
                                                                                                            "label": "secrets"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 75,
                                                                                                            "end_token": 75,
                                                                                                            "children": [],
                                                                                                            "label": "supabase_url"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "secrets.supabase_url"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 77,
                                                                                                    "end_token": 79,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 77,
                                                                                                            "end_token": 77,
                                                                                                            "children": [],
                                                                                                            "label": "secrets"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 79,
                                                                                                            "end_token": 79,
                                                                                                            "children": [],
                                                                                                            "label": "supabase_service_role_key"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "secrets.supabase_service_role_key"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                secrets.supabase_url, secrets.supabase_service_role_key\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "create_client(\n                secrets.supabase_url, secrets.supabase_service_role_key\n            )"
                                                                                }
                                                                            ],
                                                                            "label": "self.supabase = create_client(\n                secrets.supabase_url, secrets.supabase_service_role_key\n            )"
                                                                        }
                                                                    ],
                                                                    "label": "\n            from supabase import create_client\n\n            secrets = Secrets()\n            self.supabase = create_client(\n                secrets.supabase_url, secrets.supabase_service_role_key\n            )"
                                                                }
                                                            ],
                                                            "label": "if self.use_supabase:\n            from supabase import create_client\n\n            secrets = Secrets()\n            self.supabase = create_client(\n                secrets.supabase_url, secrets.supabase_service_role_key\n            )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 91,
                                                            "end_token": 102,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 91,
                                                                    "end_token": 91,
                                                                    "children": [],
                                                                    "label": "async_thread"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 93,
                                                                    "end_token": 102,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 93,
                                                                            "end_token": 95,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 93,
                                                                                    "end_token": 93,
                                                                                    "children": [],
                                                                                    "label": "threading"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 95,
                                                                                    "end_token": 95,
                                                                                    "children": [],
                                                                                    "label": "Thread"
                                                                                }
                                                                            ],
                                                                            "label": "threading.Thread"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 96,
                                                                            "end_token": 102,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binary_operator",
                                                                                    "start_token": 97,
                                                                                    "end_token": 101,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 97,
                                                                                            "end_token": 97,
                                                                                            "children": [],
                                                                                            "label": "target"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 99,
                                                                                            "end_token": 99,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        }
                                                                                    ],
                                                                                    "label": "target=self.__start_async_loop"
                                                                                }
                                                                            ],
                                                                            "label": "(target=self.__start_async_loop)"
                                                                        }
                                                                    ],
                                                                    "label": "threading.Thread(target=self.__start_async_loop)"
                                                                }
                                                            ],
                                                            "label": "async_thread = threading.Thread(target=self.__start_async_loop)"
                                                        },
                                                        {
                                                            "type": "augmented_assignment",
                                                            "start_token": 104,
                                                            "end_token": 108,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 104,
                                                                    "end_token": 106,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 104,
                                                                            "end_token": 104,
                                                                            "children": [],
                                                                            "label": "async_thread"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 106,
                                                                            "end_token": 106,
                                                                            "children": [],
                                                                            "label": "daemon"
                                                                        }
                                                                    ],
                                                                    "label": "async_thread.daemon"
                                                                },
                                                                {
                                                                    "type": "true",
                                                                    "start_token": 108,
                                                                    "end_token": 108,
                                                                    "children": [],
                                                                    "label": "True"
                                                                }
                                                            ],
                                                            "label": "async_thread.daemon = True"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 110,
                                                            "end_token": 114,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 110,
                                                                    "end_token": 112,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 110,
                                                                            "end_token": 110,
                                                                            "children": [],
                                                                            "label": "async_thread"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 112,
                                                                            "end_token": 112,
                                                                            "children": [],
                                                                            "label": "start"
                                                                        }
                                                                    ],
                                                                    "label": "async_thread.start"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 113,
                                                                    "end_token": 114,
                                                                    "children": [],
                                                                    "label": "()"
                                                                }
                                                            ],
                                                            "label": "async_thread.start()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 122,
                                                            "end_token": 133,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 122,
                                                                    "end_token": 122,
                                                                    "children": [],
                                                                    "label": "daemon_thread"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 124,
                                                                    "end_token": 133,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 124,
                                                                            "end_token": 126,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 124,
                                                                                    "end_token": 124,
                                                                                    "children": [],
                                                                                    "label": "threading"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 126,
                                                                                    "end_token": 126,
                                                                                    "children": [],
                                                                                    "label": "Thread"
                                                                                }
                                                                            ],
                                                                            "label": "threading.Thread"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 127,
                                                                            "end_token": 133,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binary_operator",
                                                                                    "start_token": 128,
                                                                                    "end_token": 132,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 128,
                                                                                            "end_token": 128,
                                                                                            "children": [],
                                                                                            "label": "target"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 130,
                                                                                            "end_token": 130,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        }
                                                                                    ],
                                                                                    "label": "target=self.__start_pyro"
                                                                                }
                                                                            ],
                                                                            "label": "(target=self.__start_pyro)"
                                                                        }
                                                                    ],
                                                                    "label": "threading.Thread(target=self.__start_pyro)"
                                                                }
                                                            ],
                                                            "label": "daemon_thread = threading.Thread(target=self.__start_pyro)"
                                                        },
                                                        {
                                                            "type": "augmented_assignment",
                                                            "start_token": 135,
                                                            "end_token": 139,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 135,
                                                                    "end_token": 137,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 135,
                                                                            "end_token": 135,
                                                                            "children": [],
                                                                            "label": "daemon_thread"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 137,
                                                                            "end_token": 137,
                                                                            "children": [],
                                                                            "label": "daemon"
                                                                        }
                                                                    ],
                                                                    "label": "daemon_thread.daemon"
                                                                },
                                                                {
                                                                    "type": "true",
                                                                    "start_token": 139,
                                                                    "end_token": 139,
                                                                    "children": [],
                                                                    "label": "True"
                                                                }
                                                            ],
                                                            "label": "daemon_thread.daemon = True"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 141,
                                                            "end_token": 145,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 141,
                                                                    "end_token": 143,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 141,
                                                                            "end_token": 141,
                                                                            "children": [],
                                                                            "label": "daemon_thread"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 143,
                                                                            "end_token": 143,
                                                                            "children": [],
                                                                            "label": "start"
                                                                        }
                                                                    ],
                                                                    "label": "daemon_thread.start"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 144,
                                                                    "end_token": 145,
                                                                    "children": [],
                                                                    "label": "()"
                                                                }
                                                            ],
                                                            "label": "daemon_thread.start()"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 166,
                                                            "end_token": 170,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 166,
                                                                    "end_token": 168,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 166,
                                                                            "end_token": 166,
                                                                            "children": [],
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 168,
                                                                            "end_token": 168,
                                                                            "children": [],
                                                                            "label": "run_service"
                                                                        }
                                                                    ],
                                                                    "label": "self.run_service"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 169,
                                                                    "end_token": 170,
                                                                    "children": [],
                                                                    "label": "()"
                                                                }
                                                            ],
                                                            "label": "self.run_service()"
                                                        }
                                                    ],
                                                    "label": "\n        self.shared_event_loop = asyncio.get_event_loop()\n        if self.use_db:\n            self.shared_event_loop.run_until_complete(db.connect())\n        if self.use_redis:\n            redis.connect()\n        if self.use_supabase:\n            from supabase import create_client\n\n            secrets = Secrets()\n            self.supabase = create_client(\n                secrets.supabase_url, secrets.supabase_service_role_key\n            )\n\n        # Initialize the async loop.\n        async_thread = threading.Thread(target=self.__start_async_loop)\n        async_thread.daemon = True\n        async_thread.start()\n\n        # Initialize pyro service\n        daemon_thread = threading.Thread(target=self.__start_pyro)\n        daemon_thread.daemon = True\n        daemon_thread.start()\n\n        # Run the main service (if it's not implemented, just sleep).\n        self.run_service()\n"
                                                }
                                            ],
                                            "label": "def run(self):\n        self.shared_event_loop = asyncio.get_event_loop()\n        if self.use_db:\n            self.shared_event_loop.run_until_complete(db.connect())\n        if self.use_redis:\n            redis.connect()\n        if self.use_supabase:\n            from supabase import create_client\n\n            secrets = Secrets()\n            self.supabase = create_client(\n                secrets.supabase_url, secrets.supabase_service_role_key\n            )\n\n        # Initialize the async loop.\n        async_thread = threading.Thread(target=self.__start_async_loop)\n        async_thread.daemon = True\n        async_thread.start()\n\n        # Initialize pyro service\n        daemon_thread = threading.Thread(target=self.__start_pyro)\n        daemon_thread.daemon = True\n        daemon_thread.start()\n\n        # Run the main service (if it's not implemented, just sleep).\n        self.run_service()\n"
                                        }
                                    ],
                                    "label": "def run(self):\n        self.shared_event_loop = asyncio.get_event_loop()\n        if self.use_db:\n            self.shared_event_loop.run_until_complete(db.connect())\n        if self.use_redis:\n            redis.connect()\n        if self.use_supabase:\n            from supabase import create_client\n\n            secrets = Secrets()\n            self.supabase = create_client(\n                secrets.supabase_url, secrets.supabase_service_role_key\n            )\n\n        # Initialize the async loop.\n        async_thread = threading.Thread(target=self.__start_async_loop)\n        async_thread.daemon = True\n        async_thread.start()\n\n        # Initialize pyro service\n        daemon_thread = threading.Thread(target=self.__start_pyro)\n        daemon_thread.daemon = True\n        daemon_thread.start()\n\n        # Run the main service (if it's not implemented, just sleep).\n        self.run_service()\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "cleanup",
                            "start_line": 168,
                            "end_line": 174,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 51,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 51,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "cleanup"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 51,
                                                    "children": [
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 7,
                                                            "end_token": 30,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 8,
                                                                    "end_token": 10,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 8,
                                                                            "end_token": 8,
                                                                            "children": [],
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 10,
                                                                            "end_token": 10,
                                                                            "children": [],
                                                                            "label": "use_db"
                                                                        }
                                                                    ],
                                                                    "label": "self.use_db"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 12,
                                                                    "end_token": 30,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 13,
                                                                            "end_token": 19,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 13,
                                                                                    "end_token": 15,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 13,
                                                                                            "end_token": 13,
                                                                                            "children": [],
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 15,
                                                                                            "end_token": 15,
                                                                                            "children": [],
                                                                                            "label": "info"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.info"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 16,
                                                                                    "end_token": 19,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 17,
                                                                                            "end_token": 18,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_start",
                                                                                                    "start_token": 17,
                                                                                                    "end_token": 17,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                },
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 18,
                                                                                                    "end_token": 18,
                                                                                                    "children": [],
                                                                                                    "label": "\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 18,
                                                                                                    "end_token": 18,
                                                                                                    "children": [],
                                                                                                    "label": "\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\""
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "start_token": 19,
                                                                                            "end_token": 19,
                                                                                            "children": [],
                                                                                            "label": ")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\")"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 21,
                                                                            "end_token": 30,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 21,
                                                                                    "end_token": 23,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 21,
                                                                                            "end_token": 21,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 23,
                                                                                            "end_token": 23,
                                                                                            "children": [],
                                                                                            "label": "run_and_wait"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.run_and_wait"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 24,
                                                                                    "end_token": 30,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 25,
                                                                                            "end_token": 29,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 25,
                                                                                                    "end_token": 27,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 25,
                                                                                                            "end_token": 25,
                                                                                                            "children": [],
                                                                                                            "label": "db"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 27,
                                                                                                            "end_token": 27,
                                                                                                            "children": [],
                                                                                                            "label": "disconnect"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "db.disconnect"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 28,
                                                                                                    "end_token": 29,
                                                                                                    "children": [],
                                                                                                    "label": "()"
                                                                                                }
                                                                                            ],
                                                                                            "label": "db.disconnect()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(db.disconnect())"
                                                                                }
                                                                            ],
                                                                            "label": "self.run_and_wait(db.disconnect())"
                                                                        }
                                                                    ],
                                                                    "label": "\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\")\n            self.run_and_wait(db.disconnect())"
                                                                }
                                                            ],
                                                            "label": "if self.use_db:\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\")\n            self.run_and_wait(db.disconnect())"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 32,
                                                            "end_token": 50,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 33,
                                                                    "end_token": 35,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 33,
                                                                            "end_token": 33,
                                                                            "children": [],
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 35,
                                                                            "end_token": 35,
                                                                            "children": [],
                                                                            "label": "use_redis"
                                                                        }
                                                                    ],
                                                                    "label": "self.use_redis"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 37,
                                                                    "end_token": 50,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 38,
                                                                            "end_token": 44,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 38,
                                                                                    "end_token": 40,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 38,
                                                                                            "end_token": 38,
                                                                                            "children": [],
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 40,
                                                                                            "end_token": 40,
                                                                                            "children": [],
                                                                                            "label": "info"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.info"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 41,
                                                                                    "end_token": 44,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 42,
                                                                                            "end_token": 43,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_start",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                },
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 43,
                                                                                                    "end_token": 43,
                                                                                                    "children": [],
                                                                                                    "label": "\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 43,
                                                                                                    "end_token": 43,
                                                                                                    "children": [],
                                                                                                    "label": "\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\""
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "start_token": 44,
                                                                                            "end_token": 44,
                                                                                            "children": [],
                                                                                            "label": ")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\")"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 46,
                                                                            "end_token": 50,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 46,
                                                                                    "end_token": 48,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 46,
                                                                                            "end_token": 46,
                                                                                            "children": [],
                                                                                            "label": "redis"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 48,
                                                                                            "end_token": 48,
                                                                                            "children": [],
                                                                                            "label": "disconnect"
                                                                                        }
                                                                                    ],
                                                                                    "label": "redis.disconnect"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 49,
                                                                                    "end_token": 50,
                                                                                    "children": [],
                                                                                    "label": "()"
                                                                                }
                                                                            ],
                                                                            "label": "redis.disconnect()"
                                                                        }
                                                                    ],
                                                                    "label": "\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\")\n            redis.disconnect()"
                                                                }
                                                            ],
                                                            "label": "if self.use_redis:\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\")\n            redis.disconnect()"
                                                        }
                                                    ],
                                                    "label": "\n        if self.use_db:\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\")\n            self.run_and_wait(db.disconnect())\n        if self.use_redis:\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\")\n            redis.disconnect()\n"
                                                }
                                            ],
                                            "label": "def cleanup(self):\n        if self.use_db:\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\")\n            self.run_and_wait(db.disconnect())\n        if self.use_redis:\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\")\n            redis.disconnect()\n"
                                        }
                                    ],
                                    "label": "def cleanup(self):\n        if self.use_db:\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting DB...\")\n            self.run_and_wait(db.disconnect())\n        if self.use_redis:\n            logger.info(f\"[{self.__class__.__name__}] ⏳ Disconnecting Redis...\")\n            redis.disconnect()\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__start_pyro",
                            "start_line": 177,
                            "end_line": 187,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 96,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 95,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "children": [],
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "function_definition",
                                                    "start_token": 1,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "parameters",
                                                            "start_token": 2,
                                                            "end_token": 4,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "children": [],
                                                                    "label": "self"
                                                                }
                                                            ],
                                                            "label": "(self)"
                                                        }
                                                    ],
                                                    "label": "__start_pyro(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 5,
                                                    "end_token": 95,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 28,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "maximum_connection_thread_count"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 9,
                                                                    "end_token": 28,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "children": [],
                                                                            "label": "max"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 10,
                                                                            "end_token": 28,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 12,
                                                                                    "end_token": 16,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 12,
                                                                                            "end_token": 16,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 12,
                                                                                                    "end_token": 12,
                                                                                                    "children": [],
                                                                                                    "label": "Pyro5"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 14,
                                                                                                    "end_token": 14,
                                                                                                    "children": [],
                                                                                                    "label": "config"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 16,
                                                                                                    "end_token": 16,
                                                                                                    "children": [],
                                                                                                    "label": "THREADPOOL_SIZE"
                                                                                                }
                                                                                            ],
                                                                                            "label": "Pyro5.config.THREADPOOL_SIZE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "Pyro5.config.THREADPOOL_SIZE"
                                                                                },
                                                                                {
                                                                                    "type": "binary_operator",
                                                                                    "start_token": 19,
                                                                                    "end_token": 26,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 19,
                                                                                            "end_token": 21,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dotted_name",
                                                                                                    "start_token": 19,
                                                                                                    "end_token": 21,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 19,
                                                                                                            "end_token": 19,
                                                                                                            "children": [],
                                                                                                            "label": "config"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 21,
                                                                                                            "end_token": 21,
                                                                                                            "children": [],
                                                                                                            "label": "num_node_workers"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "config.num_node_workers"
                                                                                                }
                                                                                            ],
                                                                                            "label": "config.num_node_workers"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 22,
                                                                                            "end_token": 22,
                                                                                            "children": [],
                                                                                            "label": "*"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 23,
                                                                                            "end_token": 25,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dotted_name",
                                                                                                    "start_token": 23,
                                                                                                    "end_token": 25,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 23,
                                                                                                            "end_token": 23,
                                                                                                            "children": [],
                                                                                                            "label": "config"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 25,
                                                                                                            "end_token": 25,
                                                                                                            "children": [],
                                                                                                            "label": "num_graph_workers"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "config.num_graph_workers"
                                                                                                }
                                                                                            ],
                                                                                            "label": "config.num_graph_workers"
                                                                                        }
                                                                                    ],
                                                                                    "label": "config.num_node_workers * config.num_graph_workers,"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            Pyro5.config.THREADPOOL_SIZE,\n            config.num_node_workers * config.num_graph_workers,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "max(\n            Pyro5.config.THREADPOOL_SIZE,\n            config.num_node_workers * config.num_graph_workers,\n        )"
                                                                }
                                                            ],
                                                            "label": "maximum_connection_thread_count = max(\n            Pyro5.config.THREADPOOL_SIZE,\n            config.num_node_workers * config.num_graph_workers,\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 31,
                                                            "end_token": 41,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 31,
                                                                    "end_token": 35,
                                                                    "children": [
                                                                        {
                                                                            "type": "dotted_name",
                                                                            "start_token": 31,
                                                                            "end_token": 35,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 31,
                                                                                    "end_token": 31,
                                                                                    "children": [],
                                                                                    "label": "Pyro5"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "children": [],
                                                                                    "label": "config"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 35,
                                                                                    "end_token": 35,
                                                                                    "children": [],
                                                                                    "label": "THREADPOOL_SIZE"
                                                                                }
                                                                            ],
                                                                            "label": "Pyro5.config.THREADPOOL_SIZE"
                                                                        }
                                                                    ],
                                                                    "label": "Pyro5.config.THREADPOOL_SIZE"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 37,
                                                                    "end_token": 37,
                                                                    "children": [],
                                                                    "label": "maximum_connection_thread_count"
                                                                }
                                                            ],
                                                            "label": "Pyro5.config.THREADPOOL_SIZE = maximum_connection_thread_count  # type: ignore"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 43,
                                                            "end_token": 64,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 43,
                                                                    "end_token": 43,
                                                                    "children": [],
                                                                    "label": "daemon"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 45,
                                                                    "end_token": 64,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 45,
                                                                            "end_token": 49,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 45,
                                                                                    "end_token": 49,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 45,
                                                                                            "end_token": 45,
                                                                                            "children": [],
                                                                                            "label": "Pyro5"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 47,
                                                                                            "end_token": 47,
                                                                                            "children": [],
                                                                                            "label": "api"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 49,
                                                                                            "end_token": 49,
                                                                                            "children": [],
                                                                                            "label": "Daemon"
                                                                                        }
                                                                                    ],
                                                                                    "label": "Pyro5.api.Daemon"
                                                                                }
                                                                            ],
                                                                            "label": "Pyro5.api.Daemon"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 50,
                                                                            "end_token": 64,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 51,
                                                                                    "end_token": 55,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 54,
                                                                                            "end_token": 55,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 54,
                                                                                                    "end_token": 54,
                                                                                                    "children": [],
                                                                                                    "label": "."
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 55,
                                                                                                    "end_token": 55,
                                                                                                    "children": [],
                                                                                                    "label": "pyro_host"
                                                                                                }
                                                                                            ],
                                                                                            "label": ".pyro_host"
                                                                                        }
                                                                                    ],
                                                                                    "label": "host=config.pyro_host"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 59,
                                                                                    "end_token": 63,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 59,
                                                                                            "end_token": 61,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 59,
                                                                                                    "end_token": 59,
                                                                                                    "children": [],
                                                                                                    "label": "self"
                                                                                                }
                                                                                            ],
                                                                                            "label": "self.get_port"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.get_port()"
                                                                                }
                                                                            ],
                                                                            "label": "(host=config.pyro_host, port=self.get_port())"
                                                                        }
                                                                    ],
                                                                    "label": "Pyro5.api.Daemon(host=config.pyro_host, port=self.get_port())"
                                                                }
                                                            ],
                                                            "label": "daemon = Pyro5.api.Daemon(host=config.pyro_host, port=self.get_port())"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 66,
                                                            "end_token": 81,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 66,
                                                                    "end_token": 68,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 66,
                                                                            "end_token": 68,
                                                                            "children": [],
                                                                            "label": "self.uri"
                                                                        }
                                                                    ],
                                                                    "label": "self.uri"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 70,
                                                                    "end_token": 81,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 70,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 70,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 70,
                                                                                            "end_token": 71,
                                                                                            "children": [],
                                                                                            "label": "daemon."
                                                                                        }
                                                                                    ],
                                                                                    "label": "daemon.register"
                                                                                }
                                                                            ],
                                                                            "label": "daemon.register"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 73,
                                                                            "end_token": 81,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 74,
                                                                                    "end_token": 80,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 74,
                                                                                            "end_token": 80,
                                                                                            "children": [],
                                                                                            "label": "self, objectId=self.service_name"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self, objectId=self.service_name"
                                                                                }
                                                                            ],
                                                                            "label": "(self, objectId=self.service_name)"
                                                                        }
                                                                    ],
                                                                    "label": "daemon.register(self, objectId=self.service_name)"
                                                                }
                                                            ],
                                                            "label": "self.uri = daemon.register(self, objectId=self.service_name)"
                                                        },
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 83,
                                                            "end_token": 89,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 83,
                                                                    "end_token": 89,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 83,
                                                                            "end_token": 85,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 83,
                                                                                    "end_token": 85,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 83,
                                                                                            "end_token": 85,
                                                                                            "children": [],
                                                                                            "label": "logger.info"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.info"
                                                                                }
                                                                            ],
                                                                            "label": "logger.info"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 86,
                                                                            "end_token": 89,
                                                                            "children": [
                                                                                {
                                                                                    "type": "interpolation",
                                                                                    "start_token": 87,
                                                                                    "end_token": 89,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 88,
                                                                                            "end_token": 88,
                                                                                            "children": [],
                                                                                            "label": "\"[{self.service_name}] Connected to Pyro; URI = {self.uri}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"[{self.service_name}] Connected to Pyro; URI = {self.uri}\")"
                                                                                }
                                                                            ],
                                                                            "label": "(f\"[{self.service_name}] Connected to Pyro; URI = {self.uri}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.info(f\"[{self.service_name}] Connected to Pyro; URI = {self.uri}\")"
                                                                }
                                                            ],
                                                            "label": "logger.info(f\"[{self.service_name}] Connected to Pyro; URI = {self.uri}\")"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 91,
                                                            "end_token": 95,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 91,
                                                                    "end_token": 93,
                                                                    "children": [
                                                                        {
                                                                            "type": "dotted_name",
                                                                            "start_token": 91,
                                                                            "end_token": 93,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 91,
                                                                                    "end_token": 93,
                                                                                    "children": [],
                                                                                    "label": "daemon.requestLoop"
                                                                                }
                                                                            ],
                                                                            "label": "daemon.requestLoop"
                                                                        }
                                                                    ],
                                                                    "label": "daemon.requestLoop"
                                                                }
                                                            ],
                                                            "label": "daemon.requestLoop()"
                                                        }
                                                    ],
                                                    "label": ":\n        maximum_connection_thread_count = max(\n            Pyro5.config.THREADPOOL_SIZE,\n            config.num_node_workers * config.num_graph_workers,\n        )\n\n        Pyro5.config.THREADPOOL_SIZE = maximum_connection_thread_count  # type: ignore\n        daemon = Pyro5.api.Daemon(host=config.pyro_host, port=self.get_port())\n        self.uri = daemon.register(self, objectId=self.service_name)\n        logger.info(f\"[{self.service_name}] Connected to Pyro; URI = {self.uri}\")\n        daemon.requestLoop()"
                                                }
                                            ],
                                            "label": "def __start_pyro(self):\n        maximum_connection_thread_count = max(\n            Pyro5.config.THREADPOOL_SIZE,\n            config.num_node_workers * config.num_graph_workers,\n        )\n\n        Pyro5.config.THREADPOOL_SIZE = maximum_connection_thread_count  # type: ignore\n        daemon = Pyro5.api.Daemon(host=config.pyro_host, port=self.get_port())\n        self.uri = daemon.register(self, objectId=self.service_name)\n        logger.info(f\"[{self.service_name}] Connected to Pyro; URI = {self.uri}\")\n        daemon.requestLoop()"
                                        }
                                    ],
                                    "label": "def __start_pyro(self):\n        maximum_connection_thread_count = max(\n            Pyro5.config.THREADPOOL_SIZE,\n            config.num_node_workers * config.num_graph_workers,\n        )\n\n        Pyro5.config.THREADPOOL_SIZE = maximum_connection_thread_count  # type: ignore\n        daemon = Pyro5.api.Daemon(host=config.pyro_host, port=self.get_port())\n        self.uri = daemon.register(self, objectId=self.service_name)\n        logger.info(f\"[{self.service_name}] Connected to Pyro; URI = {self.uri}\")\n        daemon.requestLoop()\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__start_async_loop",
                            "start_line": 189,
                            "end_line": 190,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 14,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 14,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "__start_async_loop"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 14,
                                                    "children": [
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 7,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 7,
                                                                            "end_token": 9,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 7,
                                                                                    "end_token": 7,
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 9,
                                                                                    "end_token": 9,
                                                                                    "label": "shared_event_loop"
                                                                                }
                                                                            ],
                                                                            "label": "self.shared_event_loop"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "label": "run_forever"
                                                                        }
                                                                    ],
                                                                    "label": "self.shared_event_loop.run_forever"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 12,
                                                                    "end_token": 13,
                                                                    "label": "()"
                                                                }
                                                            ],
                                                            "label": "self.shared_event_loop.run_forever()"
                                                        }
                                                    ],
                                                    "label": "\n        self.shared_event_loop.run_forever()\n"
                                                }
                                            ],
                                            "label": "def __start_async_loop(self):\n        self.shared_event_loop.run_forever()\n"
                                        }
                                    ],
                                    "label": "def __start_async_loop(self):\n        self.shared_event_loop.run_forever()\n"
                                }
                            ]
                        }
                    ],
                    "label": "class AppService(AppProcess, ABC):\n    shared_event_loop: asyncio.AbstractEventLoop\n    use_db: bool = False\n    use_redis: bool = False\n    use_supabase: bool = False\n\n\n    @classmethod\n    @abstractmethod\n\n    @classmethod\n\n\n\n\n\n\n    @conn_retry(\"Pyro\", \"Starting Pyro Service\")"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "PyroClient",
            "start_line": 199,
            "end_line": 200,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 10,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 3,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "PyroClient"
                                },
                                {
                                    "type": "block",
                                    "start_token": 3,
                                    "end_token": 3,
                                    "children": [],
                                    "label": "\n"
                                }
                            ],
                            "label": "class PyroClient:\n"
                        },
                        {
                            "type": "assignment",
                            "start_token": 4,
                            "end_token": 10,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 4,
                                    "end_token": 4,
                                    "children": [],
                                    "label": "proxy"
                                },
                                {
                                    "type": "dotted_name",
                                    "start_token": 6,
                                    "end_token": 10,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 6,
                                            "end_token": 6,
                                            "children": [],
                                            "label": "Pyro5"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 8,
                                            "end_token": 8,
                                            "children": [],
                                            "label": "api"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 10,
                                            "end_token": 10,
                                            "children": [],
                                            "label": "Proxy"
                                        }
                                    ],
                                    "label": "Pyro5.api.Proxy"
                                }
                            ],
                            "label": "proxy: Pyro5.api.Proxy"
                        }
                    ],
                    "label": "class PyroClient:\n    proxy: Pyro5.api.Proxy"
                }
            ]
        }
    ],
    "label": "import asyncio\nimport builtins\nimport logging\nimport os\nimport threading\nimport time\nimport typing\nfrom abc import ABC, abstractmethod\nfrom enum import Enum\nfrom types import NoneType, UnionType\nfrom typing import (\n    Annotated,\n    Any,\n    Awaitable,\n    Callable,\n    Coroutine,\n    Dict,\n    FrozenSet,\n    Iterator,\n    List,\n    Set,\n    Tuple,\n    Type,\n    TypeVar,\n    Union,\n    cast,\n    get_args,\n    get_origin,\n)\n\nimport Pyro5.api\nfrom pydantic import BaseModel\nfrom Pyro5 import api as pyro\nfrom Pyro5 import config as pyro_config\n\nfrom backend.data import db, redis\nfrom backend.util.process import AppProcess\nfrom backend.util.retry import conn_retry\nfrom backend.util.settings import Config, Secrets\n\nlogger = logging.getLogger(__name__)\nT = TypeVar(\"T\")\nC = TypeVar(\"C\", bound=Callable)\n\nconfig = Config()\npyro_host = config.pyro_host\npyro_config.MAX_RETRIES = config.pyro_client_comm_retry  # type: ignore\npyro_config.COMMTIMEOUT = config.pyro_client_comm_timeout  # type: ignore\n\n\n\n\n\n\n\n\n\n\n\n\n# --------- UTILITIES --------- #\n\n\nAS = TypeVar(\"AS\", bound=AppService)\n\n\n\n\n\n\n\n\nbuiltin_types = [*vars(builtins).values(), NoneType, Enum]"
}