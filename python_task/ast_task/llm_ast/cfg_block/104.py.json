{
    "type": "module",
    "start_token": 0,
    "end_token": 47,
    "children": [
        {
            "type": "import_statement",
            "start_token": 0,
            "end_token": 1,
            "children": [],
            "label": "import datetime"
        },
        {
            "type": "import_statement",
            "start_token": 3,
            "end_token": 4,
            "children": [],
            "label": "import typing"
        },
        {
            "type": "import_statement",
            "start_token": 7,
            "end_token": 10,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 7,
                    "end_token": 9,
                    "children": [],
                    "label": "import fuzzywuzzy."
                }
            ],
            "label": "import fuzzywuzzy.fuzz"
        },
        {
            "type": "import_statement",
            "start_token": 12,
            "end_token": 15,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 12,
                    "end_token": 14,
                    "children": [],
                    "label": "import prisma."
                }
            ],
            "label": "import prisma.enums"
        },
        {
            "type": "import_statement",
            "start_token": 17,
            "end_token": 20,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 17,
                    "end_token": 19,
                    "children": [],
                    "label": "import prisma."
                }
            ],
            "label": "import prisma.errors"
        },
        {
            "type": "import_statement",
            "start_token": 22,
            "end_token": 25,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 22,
                    "end_token": 24,
                    "children": [],
                    "label": "import prisma."
                }
            ],
            "label": "import prisma.models"
        },
        {
            "type": "import_statement",
            "start_token": 27,
            "end_token": 30,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 27,
                    "end_token": 29,
                    "children": [],
                    "label": "import prisma."
                }
            ],
            "label": "import prisma.types"
        },
        {
            "type": "import_statement",
            "start_token": 32,
            "end_token": 33,
            "children": [],
            "label": "import pydantic"
        },
        {
            "type": "import_statement",
            "start_token": 36,
            "end_token": 39,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 36,
                    "end_token": 38,
                    "children": [],
                    "label": "import market."
                }
            ],
            "label": "import market.model"
        },
        {
            "type": "import_statement",
            "start_token": 41,
            "end_token": 46,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 41,
                    "end_token": 45,
                    "children": [],
                    "label": "import market.utils."
                }
            ],
            "label": "import market.utils.extension_types"
        },
        {
            "type": "function_placeholder",
            "name": "delete_agent",
            "start_line": 59,
            "end_line": 80,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 83,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 83,
                            "children": [
                                {
                                    "type": "decorated_definition",
                                    "start_token": 0,
                                    "end_token": 3,
                                    "children": [
                                        {
                                            "type": "await",
                                            "start_token": 0,
                                            "end_token": 0,
                                            "label": "async"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 1,
                                            "end_token": 2,
                                            "label": "def delete_agent"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 3,
                                            "end_token": 7,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 4,
                                                    "end_token": 6,
                                                    "label": "agent_id: str"
                                                }
                                            ],
                                            "label": "(agent_id: str)"
                                        },
                                        {
                                            "type": "union_type",
                                            "start_token": 8,
                                            "end_token": 16,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 10,
                                                    "end_token": 14,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 10,
                                                            "end_token": 13,
                                                            "label": "prisma.models."
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 14,
                                                            "end_token": 14,
                                                            "label": "Agents"
                                                        }
                                                    ],
                                                    "label": "prisma.models.Agents"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 16,
                                                    "end_token": 16,
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "-> prisma.models.Agents | None"
                                        }
                                    ],
                                    "label": "async def delete_agent("
                                },
                                {
                                    "type": "string",
                                    "start_token": 19,
                                    "end_token": 21,
                                    "label": "\"\"\"\n    Delete an agent from the database.\n\n    Args:\n        agent_id (str): The ID of the agent to delete.\n\n    Returns:\n        prisma.models.Agents | None: The deleted agent if found, None otherwise.\n\n    Raises:\n        AgentQueryError: If there is an error deleting the agent from the database.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 22,
                                    "end_token": 83,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 23,
                                            "end_token": 83,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 25,
                                                    "end_token": 54,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 26,
                                                            "end_token": 28,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 26,
                                                                    "end_token": 26,
                                                                    "label": "deleted_agent"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 28,
                                                                    "end_token": 28,
                                                                    "label": "await"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 29,
                                                                    "end_token": 50,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 29,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 29,
                                                                                    "end_token": 33,
                                                                                    "label": "prisma.models.Agents"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 34,
                                                                                    "end_token": 34,
                                                                                    "label": "."
                                                                                }
                                                                            ],
                                                                            "label": "prisma.models.Agents."
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 41,
                                                                            "end_token": 48,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 45,
                                                                                    "end_token": 47,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 45,
                                                                                            "end_token": 45,
                                                                                            "label": "\"id\""
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 47,
                                                                                            "end_token": 47,
                                                                                            "label": "agent_id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"id\": agent_id"
                                                                                }
                                                                            ],
                                                                            "label": "\n            where={\"id\": agent_id}"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.models.Agents.prisma().delete(\n            where={\"id\": agent_id}\n        )"
                                                                }
                                                            ],
                                                            "label": "deleted_agent = await"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 52,
                                                            "end_token": 53,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 53,
                                                                    "end_token": 53,
                                                                    "label": "deleted_agent"
                                                                }
                                                            ],
                                                            "label": "return deleted_agent"
                                                        }
                                                    ],
                                                    "label": "\n        deleted_agent = await prisma.models.Agents.prisma().delete(\n            where={\"id\": agent_id}\n        )\n        return deleted_agent\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 55,
                                                    "end_token": 70,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 56,
                                                            "end_token": 60,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 56,
                                                                    "end_token": 59,
                                                                    "label": "prisma.errors."
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 60,
                                                                    "end_token": 60,
                                                                    "label": "PrismaError"
                                                                }
                                                            ],
                                                            "label": "prisma.errors.PrismaError"
                                                        },
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 61,
                                                            "end_token": 62,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 62,
                                                                    "end_token": 62,
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "raise_statement",
                                                            "start_token": 65,
                                                            "end_token": 70,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 66,
                                                                    "end_token": 70,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 66,
                                                                            "end_token": 66,
                                                                            "label": "AgentQueryError"
                                                                        },
                                                                        {
                                                                            "type": "concatenated_string",
                                                                            "start_token": 68,
                                                                            "end_token": 69,
                                                                            "label": "f\"Database query failed: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 72,
                                                    "end_token": 83,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 73,
                                                            "end_token": 73,
                                                            "label": "Exception"
                                                        },
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 74,
                                                            "end_token": 75,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 75,
                                                                    "end_token": 75,
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "raise_statement",
                                                            "start_token": 78,
                                                            "end_token": 83,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 79,
                                                                    "end_token": 83,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 79,
                                                                            "end_token": 79,
                                                                            "label": "AgentQueryError"
                                                                        },
                                                                        {
                                                                            "type": "concatenated_string",
                                                                            "start_token": 81,
                                                                            "end_token": 82,
                                                                            "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        deleted_agent = await prisma.models.Agents.prisma().delete(\n            where={\"id\": agent_id}\n        )\n        return deleted_agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n    try:\n        deleted_agent = await prisma.models.Agents.prisma().delete(\n            where={\"id\": agent_id}\n        )\n        return deleted_agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                }
                            ],
                            "label": "async def delete_agent(agent_id: str) -> prisma.models.Agents | None:\n    \"\"\"\n    Delete an agent from the database.\n\n    Args:\n        agent_id (str): The ID of the agent to delete.\n\n    Returns:\n        prisma.models.Agents | None: The deleted agent if found, None otherwise.\n\n    Raises:\n        AgentQueryError: If there is an error deleting the agent from the database.\n    \"\"\"\n    try:\n        deleted_agent = await prisma.models.Agents.prisma().delete(\n            where={\"id\": agent_id}\n        )\n        return deleted_agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                        }
                    ],
                    "label": "async def delete_agent(agent_id: str) -> prisma.models.Agents | None:\n    \"\"\"\n    Delete an agent from the database.\n\n    Args:\n        agent_id (str): The ID of the agent to delete.\n\n    Returns:\n        prisma.models.Agents | None: The deleted agent if found, None otherwise.\n\n    Raises:\n        AgentQueryError: If there is an error deleting the agent from the database.\n    \"\"\"\n    try:\n        deleted_agent = await prisma.models.Agents.prisma().delete(\n            where={\"id\": agent_id}\n        )\n        return deleted_agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "create_agent_entry",
            "start_line": 83,
            "end_line": 128,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 183,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 183,
                            "children": [
                                {
                                    "type": "typed_parameter",
                                    "start_token": 5,
                                    "end_token": 7,
                                    "children": [],
                                    "label": "name: str"
                                },
                                {
                                    "type": "typed_parameter",
                                    "start_token": 10,
                                    "end_token": 12,
                                    "children": [],
                                    "label": "description: str"
                                },
                                {
                                    "type": "typed_parameter",
                                    "start_token": 15,
                                    "end_token": 17,
                                    "children": [],
                                    "label": "author: str"
                                },
                                {
                                    "type": "typed_parameter",
                                    "start_token": 20,
                                    "end_token": 27,
                                    "children": [],
                                    "label": "keywords: typing.List[str]"
                                },
                                {
                                    "type": "typed_parameter",
                                    "start_token": 30,
                                    "end_token": 37,
                                    "children": [],
                                    "label": "categories: typing.List[str]"
                                },
                                {
                                    "type": "typed_default_parameter",
                                    "start_token": 40,
                                    "end_token": 61,
                                    "children": [],
                                    "label": "graph: prisma.Json,\n    submission_state: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.PENDING"
                                },
                                {
                                    "type": "string",
                                    "start_token": 67,
                                    "end_token": 69,
                                    "children": [],
                                    "label": "\"\"\"\n    Create a new agent entry in the database.\n\n    Args:\n        name (str): The name of the agent.\n        description (str): The description of the agent.\n        author (str): The author of the agent.\n        keywords (List[str]): The keywords associated with the agent.\n        categories (List[str]): The categories associated with the agent.\n        graph (dict): The graph data of the agent.\n\n    Returns:\n        dict: The newly created agent entry.\n\n    Raises:\n        AgentQueryError: If there is an error creating the agent entry.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 70,
                                    "end_token": 183,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 71,
                                            "end_token": 183,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 73,
                                                    "end_token": 153,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 74,
                                                            "end_token": 148,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 77,
                                                                    "end_token": 84,
                                                                    "children": [],
                                                                    "label": "prisma.models.Agents.prisma("
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 86,
                                                                    "end_token": 148,
                                                                    "children": [
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 92,
                                                                            "end_token": 146,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 94,
                                                                                    "end_token": 97,
                                                                                    "children": [],
                                                                                    "label": "\"name\": name,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 99,
                                                                                    "end_token": 102,
                                                                                    "children": [],
                                                                                    "label": "\"description\": description,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 104,
                                                                                    "end_token": 107,
                                                                                    "children": [],
                                                                                    "label": "\"author\": author,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 109,
                                                                                    "end_token": 112,
                                                                                    "children": [],
                                                                                    "label": "\"keywords\": keywords,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 114,
                                                                                    "end_token": 117,
                                                                                    "children": [],
                                                                                    "label": "\"categories\": categories,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 119,
                                                                                    "end_token": 121,
                                                                                    "children": [],
                                                                                    "label": "\"graph\": graph"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 124,
                                                                                    "end_token": 138,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 126,
                                                                                            "end_token": 138,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 130,
                                                                                                    "end_token": 133,
                                                                                                    "children": [],
                                                                                                    "label": "\"downloads\": 0,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 134,
                                                                                                    "end_token": 137,
                                                                                                    "children": [],
                                                                                                    "label": "\"views\": 0}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"create\": {\"downloads\": 0, \"views\": 0}}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}}"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 141,
                                                                                    "end_token": 143,
                                                                                    "children": [],
                                                                                    "label": "\"submissionStatus\": submission_state"
                                                                                }
                                                                            ],
                                                                            "label": "{\n                \"name\": name,\n                \"description\": description,\n                \"author\": author,\n                \"keywords\": keywords,\n                \"categories\": categories,\n                \"graph\": graph,\n                \"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}},\n                \"submissionStatus\": submission_state,\n            }"
                                                                        }
                                                                    ],
                                                                    "label": ".create(\n            data={\n                \"name\": name,\n                \"description\": description,\n                \"author\": author,\n                \"keywords\": keywords,\n                \"categories\": categories,\n                \"graph\": graph,\n                \"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}},\n                \"submissionStatus\": submission_state,\n            }\n        )"
                                                                }
                                                            ],
                                                            "label": "agent = await prisma.models.Agents.prisma().create(\n            data={\n                \"name\": name,\n                \"description\": description,\n                \"author\": author,\n                \"keywords\": keywords,\n                \"categories\": categories,\n                \"graph\": graph,\n                \"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}},\n                \"submissionStatus\": submission_state,\n            }\n        )"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 151,
                                                            "end_token": 152,
                                                            "children": [],
                                                            "label": "return agent"
                                                        }
                                                    ],
                                                    "label": "\n        agent = await prisma.models.Agents.prisma().create(\n            data={\n                \"name\": name,\n                \"description\": description,\n                \"author\": author,\n                \"keywords\": keywords,\n                \"categories\": categories,\n                \"graph\": graph,\n                \"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}},\n                \"submissionStatus\": submission_state,\n            }\n        )\n\n        return agent\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 155,
                                                    "end_token": 171,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 163,
                                                            "end_token": 171,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 165,
                                                                    "end_token": 170,
                                                                    "children": [],
                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 172,
                                                    "end_token": 183,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 176,
                                                            "end_token": 183,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 178,
                                                                    "end_token": 182,
                                                                    "children": [],
                                                                    "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\""
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        agent = await prisma.models.Agents.prisma().create(\n            data={\n                \"name\": name,\n                \"description\": description,\n                \"author\": author,\n                \"keywords\": keywords,\n                \"categories\": categories,\n                \"graph\": graph,\n                \"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}},\n                \"submissionStatus\": submission_state,\n            }\n        )\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n    try:\n        agent = await prisma.models.Agents.prisma().create(\n            data={\n                \"name\": name,\n                \"description\": description,\n                \"author\": author,\n                \"keywords\": keywords,\n                \"categories\": categories,\n                \"graph\": graph,\n                \"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}},\n                \"submissionStatus\": submission_state,\n            }\n        )\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                }
                            ],
                            "label": "async def create_agent_entry(\n    name: str,\n    description: str,\n    author: str,\n    keywords: typing.List[str],\n    categories: typing.List[str],\n    graph: prisma.Json,\n    submission_state: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.PENDING,\n):\n    \"\"\"\n    Create a new agent entry in the database.\n\n    Args:\n        name (str): The name of the agent.\n        description (str): The description of the agent.\n        author (str): The author of the agent.\n        keywords (List[str]): The keywords associated with the agent.\n        categories (List[str]): The categories associated with the agent.\n        graph (dict): The graph data of the agent.\n\n    Returns:\n        dict: The newly created agent entry.\n\n    Raises:\n        AgentQueryError: If there is an error creating the agent entry.\n    \"\"\"\n    try:\n        agent = await prisma.models.Agents.prisma().create(\n            data={\n                \"name\": name,\n                \"description\": description,\n                \"author\": author,\n                \"keywords\": keywords,\n                \"categories\": categories,\n                \"graph\": graph,\n                \"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}},\n                \"submissionStatus\": submission_state,\n            }\n        )\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                        }
                    ],
                    "label": "async def create_agent_entry(\n    name: str,\n    description: str,\n    author: str,\n    keywords: typing.List[str],\n    categories: typing.List[str],\n    graph: prisma.Json,\n    submission_state: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.PENDING,\n):\n    \"\"\"\n    Create a new agent entry in the database.\n\n    Args:\n        name (str): The name of the agent.\n        description (str): The description of the agent.\n        author (str): The author of the agent.\n        keywords (List[str]): The keywords associated with the agent.\n        categories (List[str]): The categories associated with the agent.\n        graph (dict): The graph data of the agent.\n\n    Returns:\n        dict: The newly created agent entry.\n\n    Raises:\n        AgentQueryError: If there is an error creating the agent entry.\n    \"\"\"\n    try:\n        agent = await prisma.models.Agents.prisma().create(\n            data={\n                \"name\": name,\n                \"description\": description,\n                \"author\": author,\n                \"keywords\": keywords,\n                \"categories\": categories,\n                \"graph\": graph,\n                \"AnalyticsTracker\": {\"create\": {\"downloads\": 0, \"views\": 0}},\n                \"submissionStatus\": submission_state,\n            }\n        )\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "update_agent_entry",
            "start_line": 131,
            "end_line": 161,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 150,
                    "children": [
                        {
                            "type": "decorated_definition",
                            "start_token": 0,
                            "end_token": 150,
                            "children": [
                                {
                                    "type": "decorator",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [
                                        {
                                            "type": "await",
                                            "start_token": 0,
                                            "end_token": 0,
                                            "label": "async"
                                        }
                                    ],
                                    "label": "async"
                                },
                                {
                                    "type": "function_definition",
                                    "start_token": 1,
                                    "end_token": 150,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 2,
                                            "end_token": 2,
                                            "label": "update_agent_entry"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 3,
                                            "end_token": 33,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 5,
                                                    "end_token": 7,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 5,
                                                            "end_token": 5,
                                                            "label": "agent_id"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "agent_id: str"
                                                },
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 10,
                                                    "end_token": 12,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 10,
                                                            "end_token": 10,
                                                            "label": "version"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 12,
                                                            "end_token": 12,
                                                            "label": "int"
                                                        }
                                                    ],
                                                    "label": "version: int"
                                                },
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 15,
                                                    "end_token": 21,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 15,
                                                            "end_token": 15,
                                                            "label": "submission_state"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 17,
                                                            "end_token": 21,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 17,
                                                                    "end_token": 21,
                                                                    "label": "prisma.enums.SubmissionStatus"
                                                                }
                                                            ],
                                                            "label": "prisma.enums.SubmissionStatus"
                                                        }
                                                    ],
                                                    "label": "submission_state: prisma.enums.SubmissionStatus"
                                                },
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 24,
                                                    "end_token": 31,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 24,
                                                            "end_token": 24,
                                                            "label": "comments"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 26,
                                                            "end_token": 26,
                                                            "label": "str"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 30,
                                                            "end_token": 30,
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": "comments: str | None = None,"
                                                }
                                            ],
                                            "label": "(\n    agent_id: str,\n    version: int,\n    submission_state: prisma.enums.SubmissionStatus,\n    comments: str | None = None,\n)"
                                        },
                                        {
                                            "type": "type",
                                            "start_token": 35,
                                            "end_token": 40,
                                            "children": [
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 36,
                                                    "end_token": 40,
                                                    "label": "prisma.models.Agents"
                                                }
                                            ],
                                            "label": "> prisma.models.Agents"
                                        },
                                        {
                                            "type": "string",
                                            "start_token": 45,
                                            "end_token": 47,
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "start_token": 45,
                                                    "end_token": 45,
                                                    "label": "\"\""
                                                },
                                                {
                                                    "type": "string_content",
                                                    "start_token": 46,
                                                    "end_token": 46,
                                                    "label": "\"\n    Update an existing agent entry in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int): The version of the agent.\n        submission_state (prisma.enums.SubmissionStatus): The submission state of the agent.\n    \""
                                                },
                                                {
                                                    "type": "string_end",
                                                    "start_token": 47,
                                                    "end_token": 47,
                                                    "label": "\"\""
                                                }
                                            ],
                                            "label": "\"\"\"\n    Update an existing agent entry in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int): The version of the agent.\n        submission_state (prisma.enums.SubmissionStatus): The submission state of the agent.\n    \"\"\""
                                        },
                                        {
                                            "type": "try_statement",
                                            "start_token": 50,
                                            "end_token": 150,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 51,
                                                    "end_token": 121,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 53,
                                                            "end_token": 120,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 53,
                                                                    "end_token": 53,
                                                                    "label": "agent"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 55,
                                                                    "end_token": 63,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 55,
                                                                            "end_token": 64,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 56,
                                                                                    "end_token": 62,
                                                                                    "label": "prisma.models.Agents.prisma"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 62,
                                                                                    "end_token": 63,
                                                                                    "label": "prisma("
                                                                                }
                                                                            ],
                                                                            "label": "await prisma.models.Agents.prisma()"
                                                                        }
                                                                    ],
                                                                    "label": "await prisma.models.Agents.prisma("
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 65,
                                                                    "end_token": 116,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 66,
                                                                            "end_token": 66,
                                                                            "label": "update"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 67,
                                                                            "end_token": 115,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 69,
                                                                                    "end_token": 75,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 69,
                                                                                            "end_token": 69,
                                                                                            "label": "where"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 71,
                                                                                            "end_token": 75,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 72,
                                                                                                    "end_token": 74,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 72,
                                                                                                            "end_token": 72,
                                                                                                            "label": "\"id\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 74,
                                                                                                            "end_token": 74,
                                                                                                            "label": "agent_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"id\": agent_id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"id\": agent_id}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "where={\"id\": agent_id}"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 78,
                                                                                    "end_token": 113,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 78,
                                                                                            "end_token": 78,
                                                                                            "label": "data"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 80,
                                                                                            "end_token": 113,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 82,
                                                                                                    "end_token": 84,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 82,
                                                                                                            "end_token": 82,
                                                                                                            "label": "\"version\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 84,
                                                                                                            "end_token": 84,
                                                                                                            "label": "version"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"version\": version"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 87,
                                                                                                    "end_token": 89,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 87,
                                                                                                            "end_token": 87,
                                                                                                            "label": "\"submissionStatus\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 89,
                                                                                                            "end_token": 89,
                                                                                                            "label": "submission_state"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"submissionStatus\": submission_state"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 92,
                                                                                                    "end_token": 105,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 92,
                                                                                                            "end_token": 92,
                                                                                                            "label": "\"submissionReviewDate\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 94,
                                                                                                            "end_token": 105,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "dotted_name",
                                                                                                                    "start_token": 94,
                                                                                                                    "end_token": 104,
                                                                                                                    "label": "datetime.datetime.now(datetime.timezone.utc"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "call",
                                                                                                                    "start_token": 104,
                                                                                                                    "end_token": 105,
                                                                                                                    "label": "utc)"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "datetime.datetime.now(datetime.timezone.utc)"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc)"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 108,
                                                                                                    "end_token": 110,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 108,
                                                                                                            "end_token": 108,
                                                                                                            "label": "\"submissionReviewComments\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 110,
                                                                                                            "end_token": 110,
                                                                                                            "label": "comments"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"submissionReviewComments\": comments"
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            }"
                                                                                        }
                                                                                    ],
                                                                                    "label": "data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            }"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            where={\"id\": agent_id},\n            data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            },\n"
                                                                        }
                                                                    ],
                                                                    "label": ".update(\n            where={\"id\": agent_id},\n            data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            },\n        )"
                                                                }
                                                            ],
                                                            "label": "agent = await prisma.models.Agents.prisma().update(\n            where={\"id\": agent_id},\n            data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            },\n        )\n\n        return agent"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 119,
                                                            "end_token": 120,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 120,
                                                                    "end_token": 120,
                                                                    "label": "agent"
                                                                }
                                                            ],
                                                            "label": "return agent"
                                                        }
                                                    ],
                                                    "label": ":\n        agent = await prisma.models.Agents.prisma().update(\n            where={\"id\": agent_id},\n            data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            },\n        )\n\n        return agent\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 122,
                                                    "end_token": 138,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 123,
                                                            "end_token": 127,
                                                            "label": "prisma.errors.PrismaError"
                                                        },
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 128,
                                                            "end_token": 129,
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 130,
                                                            "end_token": 138,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 132,
                                                                    "end_token": 137,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 133,
                                                                            "end_token": 133,
                                                                            "label": "AgentQueryError"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 134,
                                                                            "end_token": 137,
                                                                            "children": [
                                                                                {
                                                                                    "type": "format_specifier",
                                                                                    "start_token": 135,
                                                                                    "end_token": 136,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 135,
                                                                                            "end_token": 136,
                                                                                            "label": "f\"Agent Update Failed Database query failed: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Agent Update Failed Database query failed: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Agent Update Failed Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Agent Update Failed Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Agent Update Failed Database query failed: {str(e)}\")\n"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Agent Update Failed Database query failed: {str(e)}\")\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 139,
                                                    "end_token": 150,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 140,
                                                            "end_token": 140,
                                                            "label": "Exception"
                                                        },
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 141,
                                                            "end_token": 142,
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 143,
                                                            "end_token": 150,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 145,
                                                                    "end_token": 150,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 146,
                                                                            "end_token": 146,
                                                                            "label": "AgentQueryError"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 147,
                                                                            "end_token": 150,
                                                                            "children": [
                                                                                {
                                                                                    "type": "format_specifier",
                                                                                    "start_token": 148,
                                                                                    "end_token": 149,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 148,
                                                                                            "end_token": 149,
                                                                                            "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Unexpected error occurred: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        agent = await prisma.models.Agents.prisma().update(\n            where={\"id\": agent_id},\n            data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            },\n        )\n\n        return agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Agent Update Failed Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                        }
                                    ],
                                    "label": "def update_agent_entry(\n    agent_id: str,\n    version: int,\n    submission_state: prisma.enums.SubmissionStatus,\n    comments: str | None = None,\n) -> prisma.models.Agents | None:\n    \"\"\"\n    Update an existing agent entry in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int): The version of the agent.\n        submission_state (prisma.enums.SubmissionStatus): The submission state of the agent.\n    \"\"\"\n\n    try:\n        agent = await prisma.models.Agents.prisma().update(\n            where={\"id\": agent_id},\n            data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            },\n        )\n\n        return agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Agent Update Failed Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                }
                            ],
                            "label": "async def update_agent_entry(\n    agent_id: str,\n    version: int,\n    submission_state: prisma.enums.SubmissionStatus,\n    comments: str | None = None,\n) -> prisma.models.Agents | None:\n    \"\"\"\n    Update an existing agent entry in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int): The version of the agent.\n        submission_state (prisma.enums.SubmissionStatus): The submission state of the agent.\n    \"\"\"\n\n    try:\n        agent = await prisma.models.Agents.prisma().update(\n            where={\"id\": agent_id},\n            data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            },\n        )\n\n        return agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Agent Update Failed Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                        }
                    ],
                    "label": "async def update_agent_entry(\n    agent_id: str,\n    version: int,\n    submission_state: prisma.enums.SubmissionStatus,\n    comments: str | None = None,\n) -> prisma.models.Agents | None:\n    \"\"\"\n    Update an existing agent entry in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int): The version of the agent.\n        submission_state (prisma.enums.SubmissionStatus): The submission state of the agent.\n    \"\"\"\n\n    try:\n        agent = await prisma.models.Agents.prisma().update(\n            where={\"id\": agent_id},\n            data={\n                \"version\": version,\n                \"submissionStatus\": submission_state,\n                \"submissionReviewDate\": datetime.datetime.now(datetime.timezone.utc),\n                \"submissionReviewComments\": comments,\n            },\n        )\n\n        return agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Agent Update Failed Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_agents",
            "start_line": 164,
            "end_line": 259,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 436,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 436,
                            "children": [
                                {
                                    "type": "keyword",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "label": "get_agents"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 105,
                                    "children": [
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 5,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "page"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "label": ": int"
                                                },
                                                {
                                                    "type": "integer",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "label": "1"
                                                }
                                            ],
                                            "label": "page: int = 1"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 12,
                                            "end_token": 16,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 12,
                                                    "end_token": 12,
                                                    "label": "page_size"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 13,
                                                    "end_token": 14,
                                                    "label": ": int"
                                                },
                                                {
                                                    "type": "integer",
                                                    "start_token": 16,
                                                    "end_token": 16,
                                                    "label": "10"
                                                }
                                            ],
                                            "label": "page_size: int = 10"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 19,
                                            "end_token": 25,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "label": "name"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 20,
                                                    "end_token": 23,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 20,
                                                            "end_token": 21,
                                                            "label": ": str"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 22,
                                                            "end_token": 23,
                                                            "label": "| None"
                                                        }
                                                    ],
                                                    "label": ": str | None"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "name: str | None = None"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 28,
                                            "end_token": 34,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 28,
                                                    "end_token": 28,
                                                    "label": "keyword"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 29,
                                                    "end_token": 32,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 29,
                                                            "end_token": 30,
                                                            "label": ": str"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 31,
                                                            "end_token": 32,
                                                            "label": "| None"
                                                        }
                                                    ],
                                                    "label": ": str | None"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 34,
                                                    "end_token": 34,
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "keyword: str | None = None"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 37,
                                            "end_token": 43,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "label": "category"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 38,
                                                    "end_token": 41,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 38,
                                                            "end_token": 39,
                                                            "label": ": str"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 40,
                                                            "end_token": 41,
                                                            "label": "| None"
                                                        }
                                                    ],
                                                    "label": ": str | None"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 43,
                                                    "end_token": 43,
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "category: str | None = None"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 46,
                                            "end_token": 52,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 46,
                                                    "end_token": 46,
                                                    "label": "description"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 47,
                                                    "end_token": 50,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 47,
                                                            "end_token": 48,
                                                            "label": ": str"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 49,
                                                            "end_token": 50,
                                                            "label": "| None"
                                                        }
                                                    ],
                                                    "label": ": str | None"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 52,
                                                    "end_token": 52,
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "description: str | None = None"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 55,
                                            "end_token": 59,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 55,
                                                    "end_token": 55,
                                                    "label": "description_threshold"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 56,
                                                    "end_token": 57,
                                                    "label": ": int"
                                                },
                                                {
                                                    "type": "integer",
                                                    "start_token": 59,
                                                    "end_token": 59,
                                                    "label": "60"
                                                }
                                            ],
                                            "label": "description_threshold: int = 60"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 62,
                                            "end_token": 76,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 62,
                                                    "end_token": 62,
                                                    "label": "submission_status"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 63,
                                                    "end_token": 68,
                                                    "label": ": prisma.enums.SubmissionStatus"
                                                },
                                                {
                                                    "type": "attribute",
                                                    "start_token": 70,
                                                    "end_token": 76,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 70,
                                                            "end_token": 74,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 70,
                                                                    "end_token": 72,
                                                                    "label": "prisma.enums"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 73,
                                                                    "end_token": 74,
                                                                    "label": ".SubmissionStatus"
                                                                }
                                                            ],
                                                            "label": "prisma.enums.SubmissionStatus"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 75,
                                                            "end_token": 76,
                                                            "label": ".APPROVED"
                                                        }
                                                    ],
                                                    "label": "prisma.enums.SubmissionStatus.APPROVED"
                                                }
                                            ],
                                            "label": "submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 79,
                                            "end_token": 83,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 79,
                                                    "end_token": 79,
                                                    "label": "sort_by"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 80,
                                                    "end_token": 81,
                                                    "label": ": str"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 83,
                                                    "end_token": 83,
                                                    "label": "\"createdAt\""
                                                }
                                            ],
                                            "label": "sort_by: str = \"createdAt\""
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 86,
                                            "end_token": 102,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 86,
                                                    "end_token": 86,
                                                    "label": "sort_order"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 88,
                                                    "end_token": 100,
                                                    "children": [
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 88,
                                                            "end_token": 93,
                                                            "label": "typing.Literal[\"desc\"]"
                                                        },
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 95,
                                                            "end_token": 100,
                                                            "label": "typing.Literal[\"asc\"]"
                                                        }
                                                    ],
                                                    "label": "typing.Literal[\"desc\"] | typing.Literal[\"asc\"]"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 102,
                                                    "end_token": 102,
                                                    "label": "\"desc\""
                                                }
                                            ],
                                            "label": "sort_order: typing.Literal[\"desc\"] | typing.Literal[\"asc\"] = \"desc\""
                                        }
                                    ],
                                    "label": "(\n    page: int = 1,\n    page_size: int = 10,\n    name: str | None = None,\n    keyword: str | None = None,\n    category: str | None = None,\n    description: str | None = None,\n    description_threshold: int = 60,\n    submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED,\n    sort_by: str = \"createdAt\",\n    sort_order: typing.Literal[\"desc\"] | typing.Literal[\"asc\"] = \"desc\",\n)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 107,
                                    "end_token": 436,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 108,
                                            "end_token": 118,
                                            "label": "\"\"\"\n    Retrieve a list of agents from the database based on the provided filters and pagination parameters.\n\n    Args:\n        page (int, optional): The page number to retrieve. Defaults to 1.\n        page_size (int, optional): The number of agents per page. Defaults to 10.\n        name (str, optional): Filter agents by name. Defaults to None.\n        keyword (str, optional): Filter agents by keyword. Defaults to None.\n        category (str, optional): Filter agents by category. Defaults to None.\n        description (str, optional): Filter agents by description. Defaults to None.\n        description_threshold (int, optional): The minimum fuzzy search threshold for the description. Defaults to 60.\n        sort_by (str, optional): The field to sort the agents by. Defaults to \"createdAt\".\n        sort_order (str, optional): The sort order (\"asc\" or \"desc\"). Defaults to \"desc\".\n\n    Returns:\n        dict: A dictionary containing the list of agents, total count, current page number, page size, and total number of pages.\n    \"\"\""
                                        },
                                        {
                                            "type": "try_statement",
                                            "start_token": 120,
                                            "end_token": 436,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 121,
                                                    "end_token": 402,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 129,
                                                            "end_token": 132,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 129,
                                                                    "end_token": 129,
                                                                    "label": "query"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 131,
                                                                    "end_token": 132,
                                                                    "label": "{}"
                                                                }
                                                            ],
                                                            "label": "query = {}"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 140,
                                                            "end_token": 157,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 141,
                                                                    "end_token": 141,
                                                                    "label": "name"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 142,
                                                                    "end_token": 157,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 144,
                                                                            "end_token": 157,
                                                                            "children": [
                                                                                {
                                                                                    "type": "subscript",
                                                                                    "start_token": 144,
                                                                                    "end_token": 147,
                                                                                    "label": "query[\"name\"]"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 149,
                                                                                    "end_token": 157,
                                                                                    "label": "{\"contains\": name, \"mode\": \"insensitive\"}"
                                                                                }
                                                                            ],
                                                                            "label": "query[\"name\"] = {\"contains\": name, \"mode\": \"insensitive\"}"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            query[\"name\"] = {\"contains\": name, \"mode\": \"insensitive\"}"
                                                                }
                                                            ],
                                                            "label": "if name:\n            query[\"name\"] = {\"contains\": name, \"mode\": \"insensitive\"}"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 159,
                                                            "end_token": 172,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 160,
                                                                    "end_token": 160,
                                                                    "label": "keyword"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 161,
                                                                    "end_token": 172,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 163,
                                                                            "end_token": 172,
                                                                            "children": [
                                                                                {
                                                                                    "type": "subscript",
                                                                                    "start_token": 163,
                                                                                    "end_token": 166,
                                                                                    "label": "query[\"keywords\"]"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 168,
                                                                                    "end_token": 172,
                                                                                    "label": "{\"has\": keyword}"
                                                                                }
                                                                            ],
                                                                            "label": "query[\"keywords\"] = {\"has\": keyword}"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            query[\"keywords\"] = {\"has\": keyword}"
                                                                }
                                                            ],
                                                            "label": "if keyword:\n            query[\"keywords\"] = {\"has\": keyword}"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 174,
                                                            "end_token": 187,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 175,
                                                                    "end_token": 175,
                                                                    "label": "category"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 176,
                                                                    "end_token": 187,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 178,
                                                                            "end_token": 187,
                                                                            "children": [
                                                                                {
                                                                                    "type": "subscript",
                                                                                    "start_token": 178,
                                                                                    "end_token": 181,
                                                                                    "label": "query[\"categories\"]"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 183,
                                                                                    "end_token": 187,
                                                                                    "label": "{\"has\": category}"
                                                                                }
                                                                            ],
                                                                            "label": "query[\"categories\"] = {\"has\": category}"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            query[\"categories\"] = {\"has\": category}"
                                                                }
                                                            ],
                                                            "label": "if category:\n            query[\"categories\"] = {\"has\": category}"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 190,
                                                            "end_token": 195,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 190,
                                                                    "end_token": 193,
                                                                    "label": "query[\"submissionStatus\"]"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 195,
                                                                    "end_token": 195,
                                                                    "label": "submission_status"
                                                                }
                                                            ],
                                                            "label": "query[\"submissionStatus\"] = submission_status"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 202,
                                                            "end_token": 208,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 202,
                                                                    "end_token": 202,
                                                                    "label": "order"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 204,
                                                                    "end_token": 208,
                                                                    "label": "{sort_by: sort_order}"
                                                                }
                                                            ],
                                                            "label": "order = {sort_by: sort_order}"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 215,
                                                            "end_token": 223,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 215,
                                                                    "end_token": 215,
                                                                    "label": "skip"
                                                                },
                                                                {
                                                                    "type": "binary_operator",
                                                                    "start_token": 217,
                                                                    "end_token": 223,
                                                                    "children": [
                                                                        {
                                                                            "type": "binary_operator",
                                                                            "start_token": 217,
                                                                            "end_token": 221,
                                                                            "label": "(page - 1)"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 223,
                                                                            "end_token": 223,
                                                                            "label": "page_size"
                                                                        }
                                                                    ],
                                                                    "label": "(page - 1) * page_size"
                                                                }
                                                            ],
                                                            "label": "skip = (page - 1) * page_size"
                                                        },
                                                        {
                                                            "type": "await",
                                                            "start_token": 234,
                                                            "end_token": 278,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 237,
                                                                    "end_token": 278,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 237,
                                                                            "end_token": 246,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 237,
                                                                                    "end_token": 243,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 237,
                                                                                            "end_token": 241,
                                                                                            "label": "prisma.models.Agents"
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 242,
                                                                                            "end_token": 245,
                                                                                            "label": ".prisma()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.models.Agents.prisma"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 246,
                                                                                    "end_token": 246,
                                                                                    "label": "."
                                                                                }
                                                                            ],
                                                                            "label": "prisma.models.Agents.prisma()."
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 248,
                                                                            "end_token": 278,
                                                                            "label": "(\n                where=query,  # type: ignore\n                order=order,  # type: ignore\n                skip=skip,\n                take=page_size,\n            )"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.models.Agents.prisma().find_many(\n                where=query,  # type: ignore\n                order=order,  # type: ignore\n                skip=skip,\n                take=page_size,\n            )"
                                                                }
                                                            ],
                                                            "label": "agents = await prisma.models.Agents.prisma().find_many(\n                where=query,  # type: ignore\n                order=order,  # type: ignore\n                skip=skip,\n                take=page_size,\n            )"
                                                        }
                                                    ],
                                                    "label": ":\n        # Define the base query\n        query = {}\n\n        # Add optional filters\n        if name:\n            query[\"name\"] = {\"contains\": name, \"mode\": \"insensitive\"}\n        if keyword:\n            query[\"keywords\"] = {\"has\": keyword}\n        if category:\n            query[\"categories\"] = {\"has\": category}\n\n        query[\"submissionStatus\"] = submission_status\n\n        # Define sorting\n        order = {sort_by: sort_order}\n\n        # Calculate pagination\n        skip = (page - 1) * page_size\n\n        # Execute the query\n        try:\n            agents = await prisma.models.Agents.prisma().find_many(\n                where=query,  # type: ignore\n                order=order,  # type: ignore\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        # Apply fuzzy search on description if provided\n        if description:\n            try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n                agents = filtered_agents\n            except AttributeError as e:\n                raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")\n\n        # Get total count for pagination info\n        total_count = len(agents)\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 280,
                                                    "end_token": 295,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 281,
                                                            "end_token": 285,
                                                            "label": "prisma.errors.PrismaError"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 286,
                                                            "end_token": 287,
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 288,
                                                            "end_token": 295,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 290,
                                                                    "end_token": 295,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 291,
                                                                            "end_token": 295,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 291,
                                                                                    "end_token": 291,
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 292,
                                                                                    "end_token": 295,
                                                                                    "label": "(f\"Database query failed: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 297,
                                                    "end_token": 401,
                                                    "children": [
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 307,
                                                            "end_token": 372,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 308,
                                                                    "end_token": 308,
                                                                    "label": "description"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 309,
                                                                    "end_token": 372,
                                                                    "children": [
                                                                        {
                                                                            "type": "try_statement",
                                                                            "start_token": 311,
                                                                            "end_token": 369,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 312,
                                                                                    "end_token": 369,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 314,
                                                                                            "end_token": 317,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 314,
                                                                                                    "end_token": 314,
                                                                                                    "label": "filtered_agents"
                                                                                                },
                                                                                                {
                                                                                                    "type": "list",
                                                                                                    "start_token": 316,
                                                                                                    "end_token": 317,
                                                                                                    "label": "[]"
                                                                                                }
                                                                                            ],
                                                                                            "label": "filtered_agents = []"
                                                                                        },
                                                                                        {
                                                                                            "type": "for_statement",
                                                                                            "start_token": 319,
                                                                                            "end_token": 368,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "as_pattern",
                                                                                                    "start_token": 320,
                                                                                                    "end_token": 322,
                                                                                                    "label": "agent in agents"
                                                                                                },
                                                                                                {
                                                                                                    "type": "block",
                                                                                                    "start_token": 323,
                                                                                                    "end_token": 368,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "if_statement",
                                                                                                            "start_token": 325,
                                                                                                            "end_token": 368,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "boolean_operator",
                                                                                                                    "start_token": 326,
                                                                                                                    "end_token": 360,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 328,
                                                                                                                            "end_token": 331,
                                                                                                                            "label": "agent.description\n"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "comparison_operator",
                                                                                                                            "start_token": 332,
                                                                                                                            "end_token": 359,
                                                                                                                            "label": "and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "(\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    )"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "block",
                                                                                                                    "start_token": 361,
                                                                                                                    "end_token": 368,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "call",
                                                                                                                            "start_token": 363,
                                                                                                                            "end_token": 368,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 364,
                                                                                                                                    "end_token": 365,
                                                                                                                                    "label": ".append"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "argument_list",
                                                                                                                                    "start_token": 366,
                                                                                                                                    "end_token": 368,
                                                                                                                                    "label": "(agent)"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "filtered_agents.append(agent)"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": ":\n                        filtered_agents.append(agent)"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ":\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)"
                                                                                        }
                                                                                    ],
                                                                                    "label": ":\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n"
                                                                                },
                                                                                {
                                                                                    "type": "except_clause",
                                                                                    "start_token": 374,
                                                                                    "end_token": 385,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 375,
                                                                                            "end_token": 375,
                                                                                            "label": "AttributeError"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 376,
                                                                                            "end_token": 377,
                                                                                            "label": "as e"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 378,
                                                                                            "end_token": 385,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "raise_statement",
                                                                                                    "start_token": 380,
                                                                                                    "end_token": 385,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 381,
                                                                                                            "end_token": 385,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 381,
                                                                                                                    "end_token": 381,
                                                                                                                    "label": "AgentQueryError"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 382,
                                                                                                                    "end_token": 385,
                                                                                                                    "label": "(f\"Error during fuzzy search: {str(e)}\")"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "AgentQueryError(f\"Error during fuzzy search: {str(e)}\")"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": ":\n                raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "except AttributeError as e:\n                raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n                agents = filtered_agents"
                                                                }
                                                            ],
                                                            "label": "if description:\n            try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n                agents = filtered_agents"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 396,
                                                            "end_token": 401,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 396,
                                                                    "end_token": 396,
                                                                    "label": "total_count"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 398,
                                                                    "end_token": 401,
                                                                    "label": "len(agents)"
                                                                }
                                                            ],
                                                            "label": "total_count = len(agents)"
                                                        }
                                                    ],
                                                    "label": "\n        # Apply fuzzy search on description if provided\n        if description:\n            try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n                agents = filtered_agents\n            except AttributeError as e:\n                raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")\n\n        # Get total count for pagination info\n        total_count = len(agents)"
                                                }
                                            ],
                                            "label": "try:\n        # Define the base query\n        query = {}\n\n        # Add optional filters\n        if name:\n            query[\"name\"] = {\"contains\": name, \"mode\": \"insensitive\"}\n        if keyword:\n            query[\"keywords\"] = {\"has\": keyword}\n        if category:\n            query[\"categories\"] = {\"has\": category}\n\n        query[\"submissionStatus\"] = submission_status\n\n        # Define sorting\n        order = {sort_by: sort_order}\n\n        # Calculate pagination\n        skip = (page - 1) * page_size\n\n        # Execute the query\n        try:\n            agents = await prisma.models.Agents.prisma().find_many(\n                where=query,  # type: ignore\n                order=order,  # type: ignore\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        # Apply fuzzy search on description if provided\n        if description:\n            try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n                agents = filtered_agents\n            except AttributeError as e:\n                raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")\n\n        # Get total count for pagination info\n        total_count = len(agents)\n\n        return {\n            \"agents\": agents,\n            \"total_count\": total_count,\n            \"page\": page,\n            \"page_size\": page_size,\n            \"total_pages\": (total_count + page_size - 1) // page_size,\n        }\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\")\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")\n"
                                        }
                                    ],
                                    "label": "\n    \"\"\"\n    Retrieve a list of agents from the database based on the provided filters and pagination parameters.\n\n    Args:\n        page (int, optional): The page number to retrieve. Defaults to 1.\n        page_size (int, optional): The number of agents per page. Defaults to 10.\n        name (str, optional): Filter agents by name. Defaults to None.\n        keyword (str, optional): Filter agents by keyword. Defaults to None.\n        category (str, optional): Filter agents by category. Defaults to None.\n        description (str, optional): Filter agents by description. Defaults to None.\n        description_threshold (int, optional): The minimum fuzzy search threshold for the description. Defaults to 60.\n        sort_by (str, optional): The field to sort the agents by. Defaults to \"createdAt\".\n        sort_order (str, optional): The sort order (\"asc\" or \"desc\"). Defaults to \"desc\".\n\n    Returns:\n        dict: A dictionary containing the list of agents, total count, current page number, page size, and total number of pages.\n    \"\"\"\n    try:\n        # Define the base query\n        query = {}\n\n        # Add optional filters\n        if name:\n            query[\"name\"] = {\"contains\": name, \"mode\": \"insensitive\"}\n        if keyword:\n            query[\"keywords\"] = {\"has\": keyword}\n        if category:\n            query[\"categories\"] = {\"has\": category}\n\n        query[\"submissionStatus\"] = submission_status\n\n        # Define sorting\n        order = {sort_by: sort_order}\n\n        # Calculate pagination\n        skip = (page - 1) * page_size\n\n        # Execute the query\n        try:\n            agents = await prisma.models.Agents.prisma().find_many(\n                where=query,  # type: ignore\n                order=order,  # type: ignore\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        # Apply fuzzy search on description if provided\n        if description:\n            try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n                agents = filtered_agents\n            except AttributeError as e:\n                raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")\n\n        # Get total count for pagination info\n        total_count = len(agents)\n\n        return {\n            \"agents\": agents,\n            \"total_count\": total_count,\n            \"page\": page,\n            \"page_size\": page_size,\n            \"total_pages\": (total_count + page_size - 1) // page_size,\n        }\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\")\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")\n"
                                }
                            ],
                            "label": "async def get_agents(\n    page: int = 1,\n    page_size: int = 10,\n    name: str | None = None,\n    keyword: str | None = None,\n    category: str | None = None,\n    description: str | None = None,\n    description_threshold: int = 60,\n    submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED,\n    sort_by: str = \"createdAt\",\n    sort_order: typing.Literal[\"desc\"] | typing.Literal[\"asc\"] = \"desc\",\n):\n    \"\"\"\n    Retrieve a list of agents from the database based on the provided filters and pagination parameters.\n\n    Args:\n        page (int, optional): The page number to retrieve. Defaults to 1.\n        page_size (int, optional): The number of agents per page. Defaults to 10.\n        name (str, optional): Filter agents by name. Defaults to None.\n        keyword (str, optional): Filter agents by keyword. Defaults to None.\n        category (str, optional): Filter agents by category. Defaults to None.\n        description (str, optional): Filter agents by description. Defaults to None.\n        description_threshold (int, optional): The minimum fuzzy search threshold for the description. Defaults to 60.\n        sort_by (str, optional): The field to sort the agents by. Defaults to \"createdAt\".\n        sort_order (str, optional): The sort order (\"asc\" or \"desc\"). Defaults to \"desc\".\n\n    Returns:\n        dict: A dictionary containing the list of agents, total count, current page number, page size, and total number of pages.\n    \"\"\"\n    try:\n        # Define the base query\n        query = {}\n\n        # Add optional filters\n        if name:\n            query[\"name\"] = {\"contains\": name, \"mode\": \"insensitive\"}\n        if keyword:\n            query[\"keywords\"] = {\"has\": keyword}\n        if category:\n            query[\"categories\"] = {\"has\": category}\n\n        query[\"submissionStatus\"] = submission_status\n\n        # Define sorting\n        order = {sort_by: sort_order}\n\n        # Calculate pagination\n        skip = (page - 1) * page_size\n\n        # Execute the query\n        try:\n            agents = await prisma.models.Agents.prisma().find_many(\n                where=query,  # type: ignore\n                order=order,  # type: ignore\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        # Apply fuzzy search on description if provided\n        if description:\n            try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n                agents = filtered_agents\n            except AttributeError as e:\n                raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")\n\n        # Get total count for pagination info\n        total_count = len(agents)\n\n        return {\n            \"agents\": agents,\n            \"total_count\": total_count,\n            \"page\": page,\n            \"page_size\": page_size,\n            \"total_pages\": (total_count + page_size - 1) // page_size,\n        }\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\")\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")\n"
                        }
                    ],
                    "label": "async def get_agents(\n    page: int = 1,\n    page_size: int = 10,\n    name: str | None = None,\n    keyword: str | None = None,\n    category: str | None = None,\n    description: str | None = None,\n    description_threshold: int = 60,\n    submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED,\n    sort_by: str = \"createdAt\",\n    sort_order: typing.Literal[\"desc\"] | typing.Literal[\"asc\"] = \"desc\",\n):\n    \"\"\"\n    Retrieve a list of agents from the database based on the provided filters and pagination parameters.\n\n    Args:\n        page (int, optional): The page number to retrieve. Defaults to 1.\n        page_size (int, optional): The number of agents per page. Defaults to 10.\n        name (str, optional): Filter agents by name. Defaults to None.\n        keyword (str, optional): Filter agents by keyword. Defaults to None.\n        category (str, optional): Filter agents by category. Defaults to None.\n        description (str, optional): Filter agents by description. Defaults to None.\n        description_threshold (int, optional): The minimum fuzzy search threshold for the description. Defaults to 60.\n        sort_by (str, optional): The field to sort the agents by. Defaults to \"createdAt\".\n        sort_order (str, optional): The sort order (\"asc\" or \"desc\"). Defaults to \"desc\".\n\n    Returns:\n        dict: A dictionary containing the list of agents, total count, current page number, page size, and total number of pages.\n    \"\"\"\n    try:\n        # Define the base query\n        query = {}\n\n        # Add optional filters\n        if name:\n            query[\"name\"] = {\"contains\": name, \"mode\": \"insensitive\"}\n        if keyword:\n            query[\"keywords\"] = {\"has\": keyword}\n        if category:\n            query[\"categories\"] = {\"has\": category}\n\n        query[\"submissionStatus\"] = submission_status\n\n        # Define sorting\n        order = {sort_by: sort_order}\n\n        # Calculate pagination\n        skip = (page - 1) * page_size\n\n        # Execute the query\n        try:\n            agents = await prisma.models.Agents.prisma().find_many(\n                where=query,  # type: ignore\n                order=order,  # type: ignore\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        # Apply fuzzy search on description if provided\n        if description:\n            try:\n                filtered_agents = []\n                for agent in agents:\n                    if (\n                        agent.description\n                        and fuzzywuzzy.fuzz.partial_ratio(\n                            description.lower(), agent.description.lower()\n                        )\n                        >= description_threshold\n                    ):\n                        filtered_agents.append(agent)\n                agents = filtered_agents\n            except AttributeError as e:\n                raise AgentQueryError(f\"Error during fuzzy search: {str(e)}\")\n\n        # Get total count for pagination info\n        total_count = len(agents)\n\n        return {\n            \"agents\": agents,\n            \"total_count\": total_count,\n            \"page\": page,\n            \"page_size\": page_size,\n            \"total_pages\": (total_count + page_size - 1) // page_size,\n        }\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\")\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_agent_details",
            "start_line": 262,
            "end_line": 291,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 121,
                    "children": [
                        {
                            "type": "decorated_definition",
                            "start_token": 0,
                            "end_token": 121,
                            "children": [
                                {
                                    "type": "function_definition",
                                    "start_token": 0,
                                    "end_token": 121,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 0,
                                            "end_token": 0,
                                            "children": [],
                                            "label": "async"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 1,
                                            "end_token": 2,
                                            "children": [],
                                            "label": "def get_agent_details"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 3,
                                            "end_token": 15,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 4,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 4,
                                                            "end_token": 4,
                                                            "children": [],
                                                            "label": "agent_id"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 6,
                                                            "end_token": 6,
                                                            "children": [],
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "agent_id: str"
                                                },
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 8,
                                                    "end_token": 14,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 8,
                                                            "end_token": 8,
                                                            "children": [],
                                                            "label": "version"
                                                        },
                                                        {
                                                            "type": "union_type",
                                                            "start_token": 10,
                                                            "end_token": 12,
                                                            "children": [
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 10,
                                                                    "end_token": 10,
                                                                    "children": [],
                                                                    "label": "int"
                                                                },
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "children": [],
                                                                    "label": "None"
                                                                }
                                                            ],
                                                            "label": "int | None"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 14,
                                                            "end_token": 14,
                                                            "children": [],
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": "version: int | None = None"
                                                }
                                            ],
                                            "label": "(agent_id: str, version: int | None = None)"
                                        },
                                        {
                                            "type": "string",
                                            "start_token": 18,
                                            "end_token": 20,
                                            "children": [],
                                            "label": "\"\"\"\n    Retrieve agent details from the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int | None, optional): The version of the agent. Defaults to None.\n\n    Returns:\n        dict: The agent details.\n\n    Raises:\n        AgentQueryError: If the agent is not found or if there is an error querying the database.\n    \"\"\""
                                        },
                                        {
                                            "type": "block",
                                            "start_token": 22,
                                            "end_token": 121,
                                            "children": [
                                                {
                                                    "type": "try_statement",
                                                    "start_token": 22,
                                                    "end_token": 121,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 24,
                                                            "end_token": 89,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 25,
                                                                    "end_token": 31,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 25,
                                                                            "end_token": 25,
                                                                            "children": [],
                                                                            "label": "query"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 27,
                                                                            "end_token": 31,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 28,
                                                                                    "end_token": 30,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 28,
                                                                                            "end_token": 28,
                                                                                            "children": [],
                                                                                            "label": "\"id\""
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 30,
                                                                                            "end_token": 30,
                                                                                            "children": [],
                                                                                            "label": "agent_id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"id\": agent_id"
                                                                                }
                                                                            ],
                                                                            "label": "{\"id\": agent_id}"
                                                                        }
                                                                    ],
                                                                    "label": "query = {\"id\": agent_id}"
                                                                },
                                                                {
                                                                    "type": "if_statement",
                                                                    "start_token": 33,
                                                                    "end_token": 45,
                                                                    "children": [
                                                                        {
                                                                            "type": "comparison_operator",
                                                                            "start_token": 34,
                                                                            "end_token": 37,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 34,
                                                                                    "end_token": 34,
                                                                                    "children": [],
                                                                                    "label": "version"
                                                                                },
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 37,
                                                                                    "end_token": 37,
                                                                                    "children": [],
                                                                                    "label": "None"
                                                                                }
                                                                            ],
                                                                            "label": "version is not None"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 39,
                                                                            "end_token": 45,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 40,
                                                                                    "end_token": 45,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "subscript",
                                                                                            "start_token": 40,
                                                                                            "end_token": 43,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 40,
                                                                                                    "end_token": 40,
                                                                                                    "children": [],
                                                                                                    "label": "query"
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "children": [],
                                                                                                    "label": "\"version\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "query[\"version\"]"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 45,
                                                                                            "end_token": 45,
                                                                                            "children": [],
                                                                                            "label": "version"
                                                                                        }
                                                                                    ],
                                                                                    "label": "query[\"version\"] = version"
                                                                                }
                                                                            ],
                                                                            "label": "\n            query[\"version\"] = version"
                                                                        }
                                                                    ],
                                                                    "label": "if version is not None:\n            query[\"version\"] = version"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 52,
                                                                    "end_token": 70,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 52,
                                                                            "end_token": 52,
                                                                            "children": [],
                                                                            "label": "agent"
                                                                        },
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 54,
                                                                            "end_token": 70,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 54,
                                                                                    "end_token": 70,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 54,
                                                                                            "end_token": 65,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 55,
                                                                                                    "end_token": 64,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 57,
                                                                                                            "end_token": 63,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 55,
                                                                                                                    "end_token": 55,
                                                                                                                    "children": [],
                                                                                                                    "label": "prisma"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 57,
                                                                                                                    "end_token": 59,
                                                                                                                    "children": [],
                                                                                                                    "label": "models.Agents"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "models.Agents.prisma()"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 61,
                                                                                                            "end_token": 61,
                                                                                                            "children": [],
                                                                                                            "label": "prisma"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prisma.models.Agents.prisma()."
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 65,
                                                                                                    "end_token": 65,
                                                                                                    "children": [],
                                                                                                    "label": "find_first"
                                                                                                }
                                                                                            ],
                                                                                            "label": "await prisma.models.Agents.prisma().find_first"
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 66,
                                                                                            "end_token": 70,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 67,
                                                                                                    "end_token": 69,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 67,
                                                                                                            "end_token": 67,
                                                                                                            "children": [],
                                                                                                            "label": "where"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 69,
                                                                                                            "end_token": 69,
                                                                                                            "children": [],
                                                                                                            "label": "query"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "where=query"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(where=query)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "await prisma.models.Agents.prisma().find_first(where=query)"
                                                                                }
                                                                            ],
                                                                            "label": "await prisma.models.Agents.prisma().find_first(where=query)"
                                                                        }
                                                                    ],
                                                                    "label": "agent = await prisma.models.Agents.prisma().find_first(where=query)"
                                                                },
                                                                {
                                                                    "type": "if_statement",
                                                                    "start_token": 77,
                                                                    "end_token": 86,
                                                                    "children": [
                                                                        {
                                                                            "type": "not_operator",
                                                                            "start_token": 78,
                                                                            "end_token": 79,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 79,
                                                                                    "end_token": 79,
                                                                                    "children": [],
                                                                                    "label": "agent"
                                                                                }
                                                                            ],
                                                                            "label": "not agent"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 80,
                                                                            "end_token": 86,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 82,
                                                                                    "end_token": 86,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 83,
                                                                                            "end_token": 86,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 83,
                                                                                                    "end_token": 83,
                                                                                                    "children": [],
                                                                                                    "label": "AgentQueryError"
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 85,
                                                                                                    "end_token": 85,
                                                                                                    "children": [],
                                                                                                    "label": "\"Agent not found\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "AgentQueryError(\"Agent not found\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise AgentQueryError(\"Agent not found\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise AgentQueryError(\"Agent not found\")"
                                                                        }
                                                                    ],
                                                                    "label": "if not agent:\n            raise AgentQueryError(\"Agent not found\")"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 89,
                                                                    "end_token": 90,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 90,
                                                                            "end_token": 90,
                                                                            "children": [],
                                                                            "label": "agent"
                                                                        }
                                                                    ],
                                                                    "label": "return agent"
                                                                }
                                                            ],
                                                            "label": "\n        query = {\"id\": agent_id}\n        if version is not None:\n            query[\"version\"] = version  # type: ignore\n\n        agent = await prisma.models.Agents.prisma().find_first(where=query)  # type: ignore\n\n        if not agent:\n            raise AgentQueryError(\"Agent not found\")\n\n        return"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 93,
                                                            "end_token": 108,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 94,
                                                                    "end_token": 98,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 95,
                                                                            "end_token": 97,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 94,
                                                                                    "end_token": 94,
                                                                                    "children": [],
                                                                                    "label": "prisma"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 96,
                                                                                    "end_token": 96,
                                                                                    "children": [],
                                                                                    "label": "errors"
                                                                                }
                                                                            ],
                                                                            "label": ".errors."
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 98,
                                                                            "end_token": 98,
                                                                            "children": [],
                                                                            "label": "PrismaError"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.errors.PrismaError"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 99,
                                                                    "end_token": 100,
                                                                    "children": [],
                                                                    "label": "as e"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 101,
                                                                    "end_token": 108,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 103,
                                                                            "end_token": 108,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 104,
                                                                                    "end_token": 108,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 104,
                                                                                            "end_token": 104,
                                                                                            "children": [],
                                                                                            "label": "AgentQueryError"
                                                                                        },
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 106,
                                                                                            "end_token": 107,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 107,
                                                                                                    "end_token": 107,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 107,
                                                                                                            "end_token": 107,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 100,
                                                                                                                    "end_token": 100,
                                                                                                                    "children": [],
                                                                                                                    "label": "e"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"Database query failed: {str(e)}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"Database query failed: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Database query failed: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 110,
                                                            "end_token": 121,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 111,
                                                                    "end_token": 111,
                                                                    "children": [],
                                                                    "label": "Exception"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 112,
                                                                    "end_token": 113,
                                                                    "children": [],
                                                                    "label": "as e"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 114,
                                                                    "end_token": 121,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 116,
                                                                            "end_token": 121,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 117,
                                                                                    "end_token": 121,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 117,
                                                                                            "end_token": 117,
                                                                                            "children": [],
                                                                                            "label": "AgentQueryError"
                                                                                        },
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 119,
                                                                                            "end_token": 120,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 120,
                                                                                                    "end_token": 120,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 113,
                                                                                                            "end_token": 113,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 113,
                                                                                                                    "end_token": 113,
                                                                                                                    "children": [],
                                                                                                                    "label": "e"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "e"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"Unexpected error occurred: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "try:\n        query = {\"id\": agent_id}\n        if version is not None:\n            query[\"version\"] = version  # type: ignore\n\n        agent = await prisma.models.Agents.prisma().find_first(where=query)  # type: ignore\n\n        if not agent:\n            raise AgentQueryError(\"Agent not found\")\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        query = {\"id\": agent_id}\n        if version is not None:\n            query[\"version\"] = version  # type: ignore\n\n        agent = await prisma.models.Agents.prisma().find_first(where=query)  # type: ignore\n\n        if not agent:\n            raise AgentQueryError(\"Agent not found\")\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                        }
                                    ],
                                    "label": "async def get_agent_details(agent_id: str, version: int | None = None):\n    \"\"\"\n    Retrieve agent details from the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int | None, optional): The version of the agent. Defaults to None.\n\n    Returns:\n        dict: The agent details.\n\n    Raises:\n        AgentQueryError: If the agent is not found or if there is an error querying the database.\n    \"\"\"\n    try:\n        query = {\"id\": agent_id}\n        if version is not None:\n            query[\"version\"] = version  # type: ignore\n\n        agent = await prisma.models.Agents.prisma().find_first(where=query)  # type: ignore\n\n        if not agent:\n            raise AgentQueryError(\"Agent not found\")\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                }
                            ],
                            "label": "async def get_agent_details(agent_id: str, version: int | None = None):\n    \"\"\"\n    Retrieve agent details from the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int | None, optional): The version of the agent. Defaults to None.\n\n    Returns:\n        dict: The agent details.\n\n    Raises:\n        AgentQueryError: If the agent is not found or if there is an error querying the database.\n    \"\"\"\n    try:\n        query = {\"id\": agent_id}\n        if version is not None:\n            query[\"version\"] = version  # type: ignore\n\n        agent = await prisma.models.Agents.prisma().find_first(where=query)  # type: ignore\n\n        if not agent:\n            raise AgentQueryError(\"Agent not found\")\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                        }
                    ],
                    "label": "async def get_agent_details(agent_id: str, version: int | None = None):\n    \"\"\"\n    Retrieve agent details from the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        version (int | None, optional): The version of the agent. Defaults to None.\n\n    Returns:\n        dict: The agent details.\n\n    Raises:\n        AgentQueryError: If the agent is not found or if there is an error querying the database.\n    \"\"\"\n    try:\n        query = {\"id\": agent_id}\n        if version is not None:\n            query[\"version\"] = version  # type: ignore\n\n        agent = await prisma.models.Agents.prisma().find_first(where=query)  # type: ignore\n\n        if not agent:\n            raise AgentQueryError(\"Agent not found\")\n\n        return agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "search_db",
            "start_line": 294,
            "end_line": 407,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 370,
                    "children": [
                        {
                            "type": "import_from_statement",
                            "start_token": 26,
                            "end_token": 31,
                            "children": [],
                            "label": "typing.List[str]"
                        },
                        {
                            "type": "import_from_statement",
                            "start_token": 54,
                            "end_token": 65,
                            "children": [],
                            "label": "typing.Literal[\"desc\"] | typing.Literal[\"asc\""
                        },
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 370,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "search_db"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 88,
                                    "children": [
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 5,
                                            "end_token": 14,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "query"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": ": str"
                                                },
                                                {
                                                    "type": "integer",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "children": [],
                                                    "label": "1"
                                                }
                                            ],
                                            "label": "query: str,\n    page: int = 1"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 10,
                                            "end_token": 21,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "page"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 11,
                                                    "end_token": 12,
                                                    "children": [],
                                                    "label": ": int"
                                                },
                                                {
                                                    "type": "integer",
                                                    "start_token": 21,
                                                    "end_token": 21,
                                                    "children": [],
                                                    "label": "10"
                                                }
                                            ],
                                            "label": "page: int = 1,\n    page_size: int = 10"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 24,
                                            "end_token": 35,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 24,
                                                    "end_token": 24,
                                                    "children": [],
                                                    "label": "categories"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 25,
                                                    "end_token": 33,
                                                    "children": [
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 26,
                                                            "end_token": 31,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 28,
                                                                    "end_token": 28,
                                                                    "children": [],
                                                                    "label": "List"
                                                                },
                                                                {
                                                                    "type": "type_parameter",
                                                                    "start_token": 30,
                                                                    "end_token": 30,
                                                                    "children": [],
                                                                    "label": "str"
                                                                }
                                                            ],
                                                            "label": "typing.List[str]"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 33,
                                                            "end_token": 33,
                                                            "children": [],
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": ": typing.List[str] | None"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 35,
                                                    "end_token": 35,
                                                    "children": [],
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "categories: typing.List[str] | None = None"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 38,
                                            "end_token": 42,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 38,
                                                    "end_token": 38,
                                                    "children": [],
                                                    "label": "description_threshold"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 39,
                                                    "end_token": 40,
                                                    "children": [],
                                                    "label": ": int"
                                                },
                                                {
                                                    "type": "integer",
                                                    "start_token": 42,
                                                    "end_token": 42,
                                                    "children": [],
                                                    "label": "60"
                                                }
                                            ],
                                            "label": "description_threshold: int = 60"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 45,
                                            "end_token": 49,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 45,
                                                    "end_token": 45,
                                                    "children": [],
                                                    "label": "sort_by"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 46,
                                                    "end_token": 47,
                                                    "children": [],
                                                    "label": ": str"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 49,
                                                    "end_token": 49,
                                                    "children": [],
                                                    "label": "\"rank\""
                                                }
                                            ],
                                            "label": "sort_by: str = \"rank\""
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 52,
                                            "end_token": 68,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 52,
                                                    "end_token": 52,
                                                    "children": [],
                                                    "label": "sort_order"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 53,
                                                    "end_token": 66,
                                                    "children": [
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 54,
                                                            "end_token": 59,
                                                            "children": [],
                                                            "label": "typing.Literal[\"desc\"]"
                                                        },
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 61,
                                                            "end_token": 65,
                                                            "children": [],
                                                            "label": "typing.Literal[\"asc\""
                                                        }
                                                    ],
                                                    "label": ": typing.Literal[\"desc\"] | typing.Literal[\"asc\"]"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 68,
                                                    "end_token": 68,
                                                    "children": [],
                                                    "label": "\"desc\""
                                                }
                                            ],
                                            "label": "sort_order: typing.Literal[\"desc\"] | typing.Literal[\"asc\"] = \"desc\""
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 71,
                                            "end_token": 85,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 71,
                                                    "end_token": 71,
                                                    "children": [],
                                                    "label": "submission_status"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 72,
                                                    "end_token": 77,
                                                    "children": [],
                                                    "label": ": prisma.enums.SubmissionStatus"
                                                },
                                                {
                                                    "type": "attribute",
                                                    "start_token": 79,
                                                    "end_token": 85,
                                                    "children": [],
                                                    "label": "prisma.enums.SubmissionStatus.APPROVED"
                                                }
                                            ],
                                            "label": "submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED"
                                        }
                                    ],
                                    "label": "(\n    query: str,\n    page: int = 1,\n    page_size: int = 10,\n    categories: typing.List[str] | None = None,\n    description_threshold: int = 60,\n    sort_by: str = \"rank\",\n    sort_order: typing.Literal[\"desc\"] | typing.Literal[\"asc\"] = \"desc\",\n    submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED,\n)"
                                },
                                {
                                    "type": "type",
                                    "start_token": 90,
                                    "end_token": 104,
                                    "children": [
                                        {
                                            "type": "generic_type",
                                            "start_token": 91,
                                            "end_token": 104,
                                            "children": [],
                                            "label": "market.model.ListResponse[market.utils.extension_types.AgentsWithRank]"
                                        }
                                    ],
                                    "label": "> market.model.ListResponse[market.utils.extension_types.AgentsWithRank]"
                                },
                                {
                                    "type": "string",
                                    "start_token": 107,
                                    "end_token": 116,
                                    "children": [],
                                    "label": "\"\"\"Perform a search for agents based on the provided query string.\n\n    Args:\n        query (str): the search string\n        page (int, optional): page for searching. Defaults to 1.\n        page_size (int, optional): the number of results to return. Defaults to 10.\n        categories (List[str] | None, optional): list of category filters. Defaults to None.\n        description_threshold (int, optional): number of characters to return. Defaults to 60.\n        sort_by (str, optional): sort by option. Defaults to \"rank\".\n        sort_order (\"asc\" | \"desc\", optional): the sort order. Defaults to \"desc\".\n\n    Raises:\n        AgentQueryError: Raises an error if the query fails.\n        AgentQueryError: Raises if an unexpected error occurs.\n\n    Returns:\n        List[AgentsWithRank]: List of agents matching the search criteria.\n    \""
                                },
                                {
                                    "type": "try_statement",
                                    "start_token": 119,
                                    "end_token": 369,
                                    "children": [
                                        {
                                            "type": "block",
                                            "start_token": 120,
                                            "end_token": 359,
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "start_token": 122,
                                                    "end_token": 130,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 122,
                                                            "end_token": 122,
                                                            "children": [],
                                                            "label": "offset"
                                                        },
                                                        {
                                                            "type": "binary_operator",
                                                            "start_token": 124,
                                                            "end_token": 130,
                                                            "children": [
                                                                {
                                                                    "type": "binary_operator",
                                                                    "start_token": 124,
                                                                    "end_token": 128,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 125,
                                                                            "end_token": 125,
                                                                            "children": [],
                                                                            "label": "page"
                                                                        },
                                                                        {
                                                                            "type": "integer",
                                                                            "start_token": 127,
                                                                            "end_token": 127,
                                                                            "children": [],
                                                                            "label": "1"
                                                                        }
                                                                    ],
                                                                    "label": "(page - 1)"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 130,
                                                                    "end_token": 130,
                                                                    "children": [],
                                                                    "label": "page_size"
                                                                }
                                                            ],
                                                            "label": "(page - 1) * page_size"
                                                        }
                                                    ],
                                                    "label": "offset = (page - 1) * page_size"
                                                },
                                                {
                                                    "type": "assignment",
                                                    "start_token": 133,
                                                    "end_token": 135,
                                                    "children": [],
                                                    "label": "category_filter = \"1=1\""
                                                },
                                                {
                                                    "type": "if_statement",
                                                    "start_token": 137,
                                                    "end_token": 164,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 138,
                                                            "end_token": 138,
                                                            "children": [],
                                                            "label": "categories"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 139,
                                                            "end_token": 164,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 141,
                                                                    "end_token": 150,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 141,
                                                                            "end_token": 141,
                                                                            "children": [],
                                                                            "label": "category_conditions"
                                                                        },
                                                                        {
                                                                            "type": "list_comprehension",
                                                                            "start_token": 142,
                                                                            "end_token": 150,
                                                                            "children": [],
                                                                            "label": "= [f\"'{cat}' = ANY(categories)\" for cat in categories]"
                                                                        }
                                                                    ],
                                                                    "label": "category_conditions = [f\"'{cat}' = ANY(categories)\" for cat in categories]"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 152,
                                                                    "end_token": 163,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 152,
                                                                            "end_token": 152,
                                                                            "children": [],
                                                                            "label": "category_filter"
                                                                        },
                                                                        {
                                                                            "type": "concatenated_string",
                                                                            "start_token": 154,
                                                                            "end_token": 162,
                                                                            "children": [
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 155,
                                                                                    "end_token": 161,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 158,
                                                                                            "end_token": 161,
                                                                                            "children": [],
                                                                                            "label": "join(category_conditions)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "+ \" OR \".join(category_conditions)"
                                                                                }
                                                                            ],
                                                                            "label": "\"AND (\" + \" OR \".join(category_conditions) +"
                                                                        }
                                                                    ],
                                                                    "label": "category_filter = \"AND (\" + \" OR \".join(category_conditions) + \")\""
                                                                }
                                                            ],
                                                            "label": ":\n            category_conditions = [f\"'{cat}' = ANY(categories)\" for cat in categories]\n            category_filter = \"AND (\" + \" OR \".join(category_conditions) + \")\"\n"
                                                        }
                                                    ],
                                                    "label": "if categories:\n            category_conditions = [f\"'{cat}' = ANY(categories)\" for cat in categories]\n            category_filter = \"AND (\" + \" OR \".join(category_conditions) + \")\"\n"
                                                },
                                                {
                                                    "type": "comment",
                                                    "start_token": 166,
                                                    "end_token": 176,
                                                    "children": [],
                                                    "label": "# Construct the ORDER BY clause based on the sort_by parameter"
                                                },
                                                {
                                                    "type": "if_statement",
                                                    "start_token": 178,
                                                    "end_token": 210,
                                                    "children": [
                                                        {
                                                            "type": "binary_operator",
                                                            "start_token": 179,
                                                            "end_token": 185,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 179,
                                                                    "end_token": 179,
                                                                    "children": [],
                                                                    "label": "sort_by"
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "start_token": 181,
                                                                    "end_token": 185,
                                                                    "children": [],
                                                                    "label": "[\"createdAt\", \"updatedAt\"]"
                                                                }
                                                            ],
                                                            "label": "sort_by in [\"createdAt\", \"updatedAt\"]"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 186,
                                                            "end_token": 191,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 188,
                                                                    "end_token": 191,
                                                                    "children": [],
                                                                    "label": "order_by_clause = f'\"{sort_by}\" {sort_order.upper()}, rank DESC'"
                                                                }
                                                            ],
                                                            "label": ":\n            order_by_clause = f'\"{sort_by}\" {sort_order.upper()}, rank DESC'"
                                                        }
                                                    ],
                                                    "label": "if sort_by in [\"createdAt\", \"updatedAt\"]:\n            order_by_clause = f'\"{sort_by}\" {sort_order.upper()}, rank DESC'\n        elif sort_by == \"name\":\n            order_by_clause = f\"name {sort_order.upper()}, rank DESC\"\n        else:\n            order_by_clause = 'rank DESC, \"createdAt\" DESC'"
                                                },
                                                {
                                                    "type": "elif_clause",
                                                    "start_token": 193,
                                                    "end_token": 204,
                                                    "children": [
                                                        {
                                                            "type": "comparison_operator",
                                                            "start_token": 195,
                                                            "end_token": 197,
                                                            "children": [],
                                                            "label": "== \"name\""
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 198,
                                                            "end_token": 204,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 200,
                                                                    "end_token": 203,
                                                                    "children": [],
                                                                    "label": "order_by_clause = f\"name {sort_order.upper()}, rank DESC\""
                                                                }
                                                            ],
                                                            "label": ":\n            order_by_clause = f\"name {sort_order.upper()}, rank DESC\"\n"
                                                        }
                                                    ],
                                                    "label": "elif sort_by == \"name\":\n            order_by_clause = f\"name {sort_order.upper()}, rank DESC\"\n"
                                                },
                                                {
                                                    "type": "else_clause",
                                                    "start_token": 205,
                                                    "end_token": 211,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 206,
                                                            "end_token": 211,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 208,
                                                                    "end_token": 210,
                                                                    "children": [],
                                                                    "label": "order_by_clause = 'rank DESC, \"createdAt\" DESC'"
                                                                }
                                                            ],
                                                            "label": ":\n            order_by_clause = 'rank DESC, \"createdAt\" DESC'\n"
                                                        }
                                                    ],
                                                    "label": "else:\n            order_by_clause = 'rank DESC, \"createdAt\" DESC'\n"
                                                },
                                                {
                                                    "type": "assignment",
                                                    "start_token": 213,
                                                    "end_token": 219,
                                                    "children": [],
                                                    "label": "submission_status_filter = f\"\"\"\"submissionStatus\" = '{submission_status}'\""
                                                },
                                                {
                                                    "type": "assignment",
                                                    "start_token": 223,
                                                    "end_token": 258,
                                                    "children": [],
                                                    "label": "sql_query = f\"\"\"\n        WITH query AS (\n            SELECT to_tsquery(string_agg(lexeme || ':*', ' & ' ORDER BY positions)) AS q \n            FROM unnest(to_tsvector('{query}'))\n        )\n        SELECT \n            id, \n            \"createdAt\", \n            \"updatedAt\", \n            version, \n            name, \n            LEFT(description, {description_threshold}) AS description, \n            author, \n            keywords, \n            categories, \n            graph,\n            \"submissionStatus\",\n            \"submissionDate\",\n            CASE \n                WHEN query.q::text = '' THEN 1.0\n                ELSE COALESCE(ts_rank(CAST(search AS tsvector), query.q), 0.0)\n            END AS rank\n        FROM market.\"Agents\", query\n        WHERE \n            (query.q::text = '' OR search @@ query.q)\n            AND {category_filter} \n            AND {submission_status_filter}\n        ORDER BY {order_by_clause}\n        LIMIT {page_size}\n        OFFSET {offset};\n        \"\"\"\n\n        results = await prisma.client.get_client().query_raw(\n            query=sql_query,"
                                                },
                                                {
                                                    "type": "assignment",
                                                    "start_token": 275,
                                                    "end_token": 281,
                                                    "children": [],
                                                    "label": "count_query = f\"\"\"\n        WITH query AS (\n            SELECT to_tsquery(string_agg(lexeme || ':*', ' & ' ORDER BY positions)) AS q \n            FROM unnest(to_tsvector('{query}'))\n        )\n        SELECT COUNT(*)\n        FROM market.\"Agents\", query\n        WHERE (search @@ query.q OR query.q = '') AND {category_filter} AND {submission_status_filter};\n        \""
                                                },
                                                {
                                                    "type": "await",
                                                    "start_token": 285,
                                                    "end_token": 319,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 288,
                                                            "end_token": 307,
                                                            "children": [],
                                                            "label": "prisma.client.get_client().query_first(\n            query=count_query,\n            model=CountResponse,"
                                                        }
                                                    ],
                                                    "label": "total_count = await prisma.client.get_client().query_first(\n            query=count_query,\n            model=CountResponse,\n        )\n        total_count = total_count.count if total_count else 0"
                                                },
                                                {
                                                    "type": "return_statement",
                                                    "start_token": 321,
                                                    "end_token": 359,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 323,
                                                            "end_token": 358,
                                                            "children": [
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 325,
                                                                    "end_token": 347,
                                                                    "children": [],
                                                                    "label": "model.ListResponse(\n            items=results,\n            total_count=total_count,\n            page=page,\n            page_size=page_size"
                                                                }
                                                            ],
                                                            "label": "market.model.ListResponse(\n            items=results,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1)"
                                                        }
                                                    ],
                                                    "label": "\n        return market.model.ListResponse(\n            items=results,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")\n"
                                                }
                                            ],
                                            "label": ":\n        offset = (page - 1) * page_size\n\n        category_filter = \"1=1\"\n        if categories:\n            category_conditions = [f\"'{cat}' = ANY(categories)\" for cat in categories]\n            category_filter = \"AND (\" + \" OR \".join(category_conditions) + \")\"\n\n        # Construct the ORDER BY clause based on the sort_by parameter\n        if sort_by in [\"createdAt\", \"updatedAt\"]:\n            order_by_clause = f'\"{sort_by}\" {sort_order.upper()}, rank DESC'\n        elif sort_by == \"name\":\n            order_by_clause = f\"name {sort_order.upper()}, rank DESC\"\n        else:\n            order_by_clause = 'rank DESC, \"createdAt\" DESC'\n\n        submission_status_filter = f\"\"\"\"submissionStatus\" = '{submission_status}'\"\"\"\n\n        sql_query = f\"\"\"\n        WITH query AS (\n            SELECT to_tsquery(string_agg(lexeme || ':*', ' & ' ORDER BY positions)) AS q \n            FROM unnest(to_tsvector('{query}'))\n        )\n        SELECT \n            id, \n            \"createdAt\", \n            \"updatedAt\", \n            version, \n            name, \n            LEFT(description, {description_threshold}) AS description, \n            author, \n            keywords, \n            categories, \n            graph,\n            \"submissionStatus\",\n            \"submissionDate\",\n            CASE \n                WHEN query.q::text = '' THEN 1.0\n                ELSE COALESCE(ts_rank(CAST(search AS tsvector), query.q), 0.0)\n            END AS rank\n        FROM market.\"Agents\", query\n        WHERE \n            (query.q::text = '' OR search @@ query.q)\n            AND {category_filter} \n            AND {submission_status_filter}\n        ORDER BY {order_by_clause}\n        LIMIT {page_size}\n        OFFSET {offset};\n        \"\"\"\n\n        results = await prisma.client.get_client().query_raw(\n            query=sql_query,\n            model=market.utils.extension_types.AgentsWithRank,\n        )\n\n\n        count_query = f\"\"\"\n        WITH query AS (\n            SELECT to_tsquery(string_agg(lexeme || ':*', ' & ' ORDER BY positions)) AS q \n            FROM unnest(to_tsvector('{query}'))\n        )\n        SELECT COUNT(*)\n        FROM market.\"Agents\", query\n        WHERE (search @@ query.q OR query.q = '') AND {category_filter} AND {submission_status_filter};\n        \"\"\"\n\n        total_count = await prisma.client.get_client().query_first(\n            query=count_query,\n            model=CountResponse,\n        )\n        total_count = total_count.count if total_count else 0\n\n        return market.model.ListResponse(\n            items=results,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")\n"
                                        },
                                        {
                                            "type": "except_clause",
                                            "start_token": 360,
                                            "end_token": 362,
                                            "children": [],
                                            "label": ""
                                        },
                                        {
                                            "type": "except_clause",
                                            "start_token": 363,
                                            "end_token": 369,
                                            "children": [],
                                            "label": ""
                                        }
                                    ],
                                    "label": ""
                                }
                            ],
                            "label": ""
                        },
                        {
                            "type": "class_placeholder",
                            "name": "CountResponse",
                            "start_line": 377,
                            "end_line": 378,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "CountResponse"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 3,
                                                            "end_token": 5,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "children": [],
                                                                    "label": "pydantic"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "BaseModel"
                                                                }
                                                            ],
                                                            "label": "pydantic.BaseModel"
                                                        }
                                                    ],
                                                    "label": "(pydantic.BaseModel)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 8,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 9,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 9,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": "count"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "int"
                                                                }
                                                            ],
                                                            "label": "count: int"
                                                        }
                                                    ],
                                                    "label": "\n            count: int"
                                                }
                                            ],
                                            "label": "class CountResponse(pydantic.BaseModel):\n            count: int"
                                        }
                                    ],
                                    "label": "class CountResponse(pydantic.BaseModel):\n            count: int"
                                }
                            ]
                        }
                    ],
                    "label": ""
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_top_agents_by_downloads",
            "start_line": 410,
            "end_line": 463,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 285,
                    "children": [
                        {
                            "type": "async",
                            "start_token": 0,
                            "end_token": 0,
                            "children": [
                                {
                                    "type": "function_definition",
                                    "start_token": 1,
                                    "end_token": 285,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 2,
                                            "end_token": 2,
                                            "label": "get_top_agents_by_downloads"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 3,
                                            "end_token": 36,
                                            "children": [
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 5,
                                                    "end_token": 9,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 5,
                                                            "end_token": 5,
                                                            "label": "page"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 6,
                                                            "end_token": 7,
                                                            "label": ": int"
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "start_token": 9,
                                                            "end_token": 9,
                                                            "label": "1"
                                                        }
                                                    ],
                                                    "label": "page: int = 1"
                                                },
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 12,
                                                    "end_token": 16,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 12,
                                                            "end_token": 12,
                                                            "label": "page_size"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 13,
                                                            "end_token": 14,
                                                            "label": ": int"
                                                        },
                                                        {
                                                            "type": "integer",
                                                            "start_token": 16,
                                                            "end_token": 16,
                                                            "label": "10"
                                                        }
                                                    ],
                                                    "label": "page_size: int = 10"
                                                },
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 19,
                                                    "end_token": 33,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 19,
                                                            "end_token": 19,
                                                            "label": "submission_status"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 20,
                                                            "end_token": 25,
                                                            "label": ": prisma.enums.SubmissionStatus"
                                                        },
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 27,
                                                            "end_token": 33,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 27,
                                                                    "end_token": 32,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 27,
                                                                            "end_token": 27,
                                                                            "label": "prisma"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 29,
                                                                            "end_token": 29,
                                                                            "label": "enums"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 31,
                                                                            "end_token": 31,
                                                                            "label": "SubmissionStatus"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.enums.SubmissionStatus."
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 33,
                                                                    "end_token": 33,
                                                                    "label": "APPROVED"
                                                                }
                                                            ],
                                                            "label": "prisma.enums.SubmissionStatus.APPROVED"
                                                        }
                                                    ],
                                                    "label": "submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED"
                                                }
                                            ],
                                            "label": "(\n    page: int = 1,\n    page_size: int = 10,\n    submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED,\n)"
                                        },
                                        {
                                            "type": "union_type",
                                            "start_token": 37,
                                            "end_token": 50,
                                            "children": [
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 39,
                                                    "end_token": 49,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 39,
                                                            "end_token": 39,
                                                            "label": "market"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 41,
                                                            "end_token": 41,
                                                            "label": "model"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 43,
                                                            "end_token": 43,
                                                            "label": "ListResponse"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 45,
                                                            "end_token": 45,
                                                            "label": "prisma"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 47,
                                                            "end_token": 47,
                                                            "label": "models"
                                                        }
                                                    ],
                                                    "label": "market.model.ListResponse[prisma.models.AnalyticsTracker"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 43,
                                                    "end_token": 50,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 43,
                                                            "end_token": 43,
                                                            "label": "ListResponse"
                                                        },
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 45,
                                                            "end_token": 49,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 45,
                                                                    "end_token": 45,
                                                                    "label": "prisma"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 47,
                                                                    "end_token": 47,
                                                                    "label": "models"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 49,
                                                                    "end_token": 49,
                                                                    "label": "AnalyticsTracker"
                                                                }
                                                            ],
                                                            "label": "prisma.models.AnalyticsTracker"
                                                        }
                                                    ],
                                                    "label": "ListResponse[prisma.models.AnalyticsTracker]"
                                                }
                                            ],
                                            "label": "-> market.model.ListResponse[prisma.models.AnalyticsTracker]"
                                        },
                                        {
                                            "type": "string",
                                            "start_token": 53,
                                            "end_token": 55,
                                            "label": "\"\"\"Retrieve the top agents by download count.\n\n    Args:\n        page (int, optional): The page number. Defaults to 1.\n        page_size (int, optional): The number of agents per page. Defaults to 10.\n\n    Returns:\n        dict: A dictionary containing the list of agents, total count, current page number, page size, and total number of pages.\n    \"\"\""
                                        },
                                        {
                                            "type": "block",
                                            "start_token": 57,
                                            "end_token": 285,
                                            "children": [
                                                {
                                                    "type": "try_statement",
                                                    "start_token": 57,
                                                    "end_token": 285,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 59,
                                                            "end_token": 279,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 64,
                                                                    "end_token": 72,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 64,
                                                                            "end_token": 64,
                                                                            "label": "skip"
                                                                        },
                                                                        {
                                                                            "type": "binary_operator",
                                                                            "start_token": 66,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binary_operator",
                                                                                    "start_token": 67,
                                                                                    "end_token": 70,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 67,
                                                                                            "end_token": 67,
                                                                                            "label": "page"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 69,
                                                                                            "end_token": 69,
                                                                                            "label": "1"
                                                                                        }
                                                                                    ],
                                                                                    "label": "page - 1)"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 72,
                                                                                    "end_token": 72,
                                                                                    "label": "page_size"
                                                                                }
                                                                            ],
                                                                            "label": "(page - 1) * page_size"
                                                                        }
                                                                    ],
                                                                    "label": "skip = (page - 1) * page_size"
                                                                },
                                                                {
                                                                    "type": "try_statement",
                                                                    "start_token": 80,
                                                                    "end_token": 167,
                                                                    "children": [
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 84,
                                                                            "end_token": 165,
                                                                            "children": [
                                                                                {
                                                                                    "type": "await",
                                                                                    "start_token": 106,
                                                                                    "end_token": 166,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 106,
                                                                                            "end_token": 166,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 108,
                                                                                                    "end_token": 116,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "dotted_name",
                                                                                                            "start_token": 108,
                                                                                                            "end_token": 115,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 108,
                                                                                                                    "end_token": 108,
                                                                                                                    "label": "prisma"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 110,
                                                                                                                    "end_token": 110,
                                                                                                                    "label": "models"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 114,
                                                                                                                    "end_token": 114,
                                                                                                                    "label": "prisma"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "prisma.models.AnalyticsTracker.prisma("
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 116,
                                                                                                            "end_token": 116,
                                                                                                            "label": ")"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prisma.models.AnalyticsTracker.prisma()"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 118,
                                                                                                    "end_token": 166,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 118,
                                                                                                            "end_token": 118,
                                                                                                            "label": "find_many"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 119,
                                                                                                            "end_token": 164,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 123,
                                                                                                                    "end_token": 127,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 123,
                                                                                                                            "end_token": 126,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 123,
                                                                                                                                    "end_token": 123,
                                                                                                                                    "label": "{"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "true",
                                                                                                                                    "start_token": 126,
                                                                                                                                    "end_token": 126,
                                                                                                                                    "label": "True"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "{\"agent\": True"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "{\"agent\": True}"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 132,
                                                                                                                    "end_token": 135,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 132,
                                                                                                                            "end_token": 135,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 132,
                                                                                                                                    "end_token": 132,
                                                                                                                                    "label": "{"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 135,
                                                                                                                                    "end_token": 135,
                                                                                                                                    "label": "\"desc\""
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "{\"downloads\": \"desc\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "{\"downloads\": \"desc\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 141,
                                                                                                                    "end_token": 152,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 141,
                                                                                                                            "end_token": 152,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 141,
                                                                                                                                    "end_token": 141,
                                                                                                                                    "label": "{"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "dictionary",
                                                                                                                                    "start_token": 144,
                                                                                                                                    "end_token": 152,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "pair",
                                                                                                                                            "start_token": 144,
                                                                                                                                            "end_token": 152,
                                                                                                                                            "children": [
                                                                                                                                                {
                                                                                                                                                    "type": "string",
                                                                                                                                                    "start_token": 144,
                                                                                                                                                    "end_token": 144,
                                                                                                                                                    "label": "{"
                                                                                                                                                },
                                                                                                                                                {
                                                                                                                                                    "type": "dictionary",
                                                                                                                                                    "start_token": 147,
                                                                                                                                                    "end_token": 152,
                                                                                                                                                    "children": [
                                                                                                                                                        {
                                                                                                                                                            "type": "pair",
                                                                                                                                                            "start_token": 147,
                                                                                                                                                            "end_token": 152,
                                                                                                                                                            "children": [
                                                                                                                                                                {
                                                                                                                                                                    "type": "string",
                                                                                                                                                                    "start_token": 147,
                                                                                                                                                                    "end_token": 147,
                                                                                                                                                                    "label": "{"
                                                                                                                                                                },
                                                                                                                                                                {
                                                                                                                                                                    "type": "identifier",
                                                                                                                                                                    "start_token": 150,
                                                                                                                                                                    "end_token": 150,
                                                                                                                                                                    "label": "submission_status"
                                                                                                                                                                }
                                                                                                                                                            ],
                                                                                                                                                            "label": "{\"submissionStatus\": submission_status}}"
                                                                                                                                                        }
                                                                                                                                                    ],
                                                                                                                                                    "label": "{\"submissionStatus\": submission_status}}"
                                                                                                                                                }
                                                                                                                                            ],
                                                                                                                                            "label": "{\"is\": {\"submissionStatus\": submission_status}}"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "{\"is\": {\"submissionStatus\": submission_status}}"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "{\"agent\": {\"is\": {\"submissionStatus\": submission_status}}"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "{\"agent\": {\"is\": {\"submissionStatus\": submission_status}}"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "assignment",
                                                                                                                    "start_token": 157,
                                                                                                                    "end_token": 158,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 157,
                                                                                                                            "end_token": 157,
                                                                                                                            "label": "="
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 158,
                                                                                                                            "end_token": 158,
                                                                                                                            "label": "skip"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "=skip"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "assignment",
                                                                                                                    "start_token": 162,
                                                                                                                    "end_token": 163,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 162,
                                                                                                                            "end_token": 162,
                                                                                                                            "label": "="
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 163,
                                                                                                                            "end_token": 163,
                                                                                                                            "label": "page_size"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "=page_size"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(\n                include={\"agent\": True},\n                order={\"downloads\": \"desc\"},\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n                skip=skip,\n                take=page_size,"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "find_many(\n                include={\"agent\": True},\n                order={\"downloads\": \"desc\"},\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n                skip=skip,\n                take=page_size,\n            )"
                                                                                                }
                                                                                            ],
                                                                                            "label": "= await prisma.models.AnalyticsTracker.prisma().find_many(\n                include={\"agent\": True},\n                order={\"downloads\": \"desc\"},\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n                skip=skip,\n                take=page_size,\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "= await prisma.models.AnalyticsTracker.prisma().find_many(\n                include={\"agent\": True},\n                order={\"downloads\": \"desc\"},\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n                skip=skip,\n                take=page_size,\n            )"
                                                                                }
                                                                            ],
                                                                            "label": "Agents with no downloads will not be included in the results... is this the desired behavior?\n            analytics = await prisma.models.AnalyticsTracker.prisma().find_many(\n                include={\"agent\": True},\n                order={\"downloads\": \"desc\"},\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n                skip=skip,\n                take=page_size,\n"
                                                                        },
                                                                        {
                                                                            "type": "except_clause",
                                                                            "start_token": 168,
                                                                            "end_token": 183,
                                                                            "children": [
                                                                                {
                                                                                    "type": "alias",
                                                                                    "start_token": 169,
                                                                                    "end_token": 177,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 169,
                                                                                            "end_token": 173,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 169,
                                                                                                    "end_token": 169,
                                                                                                    "label": "prisma"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 172,
                                                                                                    "end_token": 172,
                                                                                                    "label": "."
                                                                                                }
                                                                                            ],
                                                                                            "label": "prisma.errors.PrismaError"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 175,
                                                                                            "end_token": 175,
                                                                                            "label": "e"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.errors.PrismaError as e:\n"
                                                                                },
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 178,
                                                                                    "end_token": 183,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "raise_statement",
                                                                                            "start_token": 178,
                                                                                            "end_token": 183,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 179,
                                                                                                    "end_token": 183,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 179,
                                                                                                            "end_token": 179,
                                                                                                            "label": "AgentQueryError"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 180,
                                                                                                            "end_token": 183,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "interpolation",
                                                                                                                    "start_token": 181,
                                                                                                                    "end_token": 182,
                                                                                                                    "label": "f\"Database query failed: {str(e)}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(f\"Database query failed: {str(e)}\")"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "try:\n            # Agents with no downloads will not be included in the results... is this the desired behavior?\n            analytics = await prisma.models.AnalyticsTracker.prisma().find_many(\n                include={\"agent\": True},\n                order={\"downloads\": \"desc\"},\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n                skip=skip,\n                take=page_size,\n            )\n"
                                                                },
                                                                {
                                                                    "type": "try_statement",
                                                                    "start_token": 186,
                                                                    "end_token": 223,
                                                                    "children": [
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 190,
                                                                            "end_token": 222,
                                                                            "children": [
                                                                                {
                                                                                    "type": "await",
                                                                                    "start_token": 191,
                                                                                    "end_token": 222,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 191,
                                                                                            "end_token": 222,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 193,
                                                                                                    "end_token": 199,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "dotted_name",
                                                                                                            "start_token": 193,
                                                                                                            "end_token": 198,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 193,
                                                                                                                    "end_token": 193,
                                                                                                                    "label": "."
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 195,
                                                                                                                    "end_token": 195,
                                                                                                                    "label": "."
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 197,
                                                                                                                    "end_token": 197,
                                                                                                                    "label": "."
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": ".models.AnalyticsTracker.prisma"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 199,
                                                                                                            "end_token": 199,
                                                                                                            "label": "("
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ".models.AnalyticsTracker.prisma("
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 201,
                                                                                                    "end_token": 222,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 201,
                                                                                                            "end_token": 201,
                                                                                                            "label": "."
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 203,
                                                                                                            "end_token": 220,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 206,
                                                                                                                    "end_token": 219,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 206,
                                                                                                                            "end_token": 219,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 206,
                                                                                                                                    "end_token": 206,
                                                                                                                                    "label": "="
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "dictionary",
                                                                                                                                    "start_token": 209,
                                                                                                                                    "end_token": 219,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "pair",
                                                                                                                                            "start_token": 209,
                                                                                                                                            "end_token": 219,
                                                                                                                                            "children": [
                                                                                                                                                {
                                                                                                                                                    "type": "string",
                                                                                                                                                    "start_token": 209,
                                                                                                                                                    "end_token": 209,
                                                                                                                                                    "label": ":"
                                                                                                                                                },
                                                                                                                                                {
                                                                                                                                                    "type": "dictionary",
                                                                                                                                                    "start_token": 212,
                                                                                                                                                    "end_token": 219,
                                                                                                                                                    "children": [
                                                                                                                                                        {
                                                                                                                                                            "type": "pair",
                                                                                                                                                            "start_token": 212,
                                                                                                                                                            "end_token": 219,
                                                                                                                                                            "children": [
                                                                                                                                                                {
                                                                                                                                                                    "type": "string",
                                                                                                                                                                    "start_token": 212,
                                                                                                                                                                    "end_token": 212,
                                                                                                                                                                    "label": ":"
                                                                                                                                                                },
                                                                                                                                                                {
                                                                                                                                                                    "type": "identifier",
                                                                                                                                                                    "start_token": 216,
                                                                                                                                                                    "end_token": 216,
                                                                                                                                                                    "label": "submission_status"
                                                                                                                                                                }
                                                                                                                                                            ],
                                                                                                                                                            "label": ": {\"submissionStatus\": submission_status}}}"
                                                                                                                                                        }
                                                                                                                                                    ],
                                                                                                                                                    "label": ": {\"submissionStatus\": submission_status}}}"
                                                                                                                                                }
                                                                                                                                            ],
                                                                                                                                            "label": ": {\"is\": {\"submissionStatus\": submission_status}}}"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": ": {\"is\": {\"submissionStatus\": submission_status}}}"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}}"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}}"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ".count(\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n            )"
                                                                                                }
                                                                                            ],
                                                                                            "label": "await prisma.models.AnalyticsTracker.prisma().count(\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "await prisma.models.AnalyticsTracker.prisma().count(\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n            )"
                                                                                }
                                                                            ],
                                                                            "label": "= await prisma.models.AnalyticsTracker.prisma().count(\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n            )"
                                                                        },
                                                                        {
                                                                            "type": "except_clause",
                                                                            "start_token": 224,
                                                                            "end_token": 239,
                                                                            "children": [
                                                                                {
                                                                                    "type": "alias",
                                                                                    "start_token": 225,
                                                                                    "end_token": 231,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 225,
                                                                                            "end_token": 229,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 225,
                                                                                                    "end_token": 225,
                                                                                                    "label": "prisma"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 228,
                                                                                                    "end_token": 228,
                                                                                                    "label": "."
                                                                                                }
                                                                                            ],
                                                                                            "label": "prisma.errors.PrismaError"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 231,
                                                                                            "end_token": 231,
                                                                                            "label": "e"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.errors.PrismaError as e"
                                                                                },
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 234,
                                                                                    "end_token": 239,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "raise_statement",
                                                                                            "start_token": 234,
                                                                                            "end_token": 239,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 235,
                                                                                                    "end_token": 239,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 235,
                                                                                                            "end_token": 235,
                                                                                                            "label": "AgentQueryError"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 236,
                                                                                                            "end_token": 239,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "interpolation",
                                                                                                                    "start_token": 237,
                                                                                                                    "end_token": 238,
                                                                                                                    "label": "f\"Database query failed: {str(e)}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(f\"Database query failed: {str(e)}\")"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "try:\n            total_count = await prisma.models.AnalyticsTracker.prisma().count(\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n            )\n"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 242,
                                                                    "end_token": 279,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 243,
                                                                            "end_token": 279,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 243,
                                                                                    "end_token": 247,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 243,
                                                                                            "end_token": 246,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 243,
                                                                                                    "end_token": 243,
                                                                                                    "label": "market"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 245,
                                                                                                    "end_token": 245,
                                                                                                    "label": "model"
                                                                                                }
                                                                                            ],
                                                                                            "label": "market.model."
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 247,
                                                                                            "end_token": 247,
                                                                                            "label": "ListResponse"
                                                                                        }
                                                                                    ],
                                                                                    "label": "market.model.ListResponse"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 248,
                                                                                    "end_token": 279,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 251,
                                                                                            "end_token": 252,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 251,
                                                                                                    "end_token": 251,
                                                                                                    "label": "="
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 252,
                                                                                                    "end_token": 252,
                                                                                                    "label": "analytics"
                                                                                                }
                                                                                            ],
                                                                                            "label": "=analytics"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 256,
                                                                                            "end_token": 257,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 256,
                                                                                                    "end_token": 256,
                                                                                                    "label": "="
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 257,
                                                                                                    "end_token": 257,
                                                                                                    "label": "total_count"
                                                                                                }
                                                                                            ],
                                                                                            "label": "=total_count"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 261,
                                                                                            "end_token": 262,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 261,
                                                                                                    "end_token": 261,
                                                                                                    "label": "="
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 262,
                                                                                                    "end_token": 262,
                                                                                                    "label": "page"
                                                                                                }
                                                                                            ],
                                                                                            "label": "=page"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 266,
                                                                                            "end_token": 267,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 266,
                                                                                                    "end_token": 266,
                                                                                                    "label": "="
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 267,
                                                                                                    "end_token": 267,
                                                                                                    "label": "page_size"
                                                                                                }
                                                                                            ],
                                                                                            "label": "=page_size"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 271,
                                                                                            "end_token": 278,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 271,
                                                                                                    "end_token": 271,
                                                                                                    "label": "="
                                                                                                },
                                                                                                {
                                                                                                    "type": "binary_operator",
                                                                                                    "start_token": 272,
                                                                                                    "end_token": 278,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "binary_operator",
                                                                                                            "start_token": 273,
                                                                                                            "end_token": 278,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "binary_operator",
                                                                                                                    "start_token": 273,
                                                                                                                    "end_token": 274,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 273,
                                                                                                                            "end_token": 273,
                                                                                                                            "label": "total_count"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 275,
                                                                                                                            "end_token": 275,
                                                                                                                            "label": "page_size"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "total_count +"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "integer",
                                                                                                                    "start_token": 277,
                                                                                                                    "end_token": 277,
                                                                                                                    "label": "1"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "total_count + page_size - 1)"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 279,
                                                                                                            "end_token": 279,
                                                                                                            "label": "// page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(total_count + page_size - 1)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "=(total_count + page_size - 1)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n            items=analytics,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                                                }
                                                                            ],
                                                                            "label": "market.model.ListResponse(\n            items=analytics,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                                        }
                                                                    ],
                                                                    "label": "return market.model.ListResponse(\n            items=analytics,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                                }
                                                            ],
                                                            "label": "\n        # Calculate pagination\n        skip = (page - 1) * page_size\n\n        # Execute the query\n        try:\n            # Agents with no downloads will not be included in the results... is this the desired behavior?\n            analytics = await prisma.models.AnalyticsTracker.prisma().find_many(\n                include={\"agent\": True},\n                order={\"downloads\": \"desc\"},\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        try:\n            total_count = await prisma.models.AnalyticsTracker.prisma().count(\n                where={\"agent\": {\"is\": {\"submissionStatus\": submission_status}}},\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        return market.model.ListResponse(\n            items=analytics,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 281,
                                                            "end_token": 285,
                                                            "children": [
                                                                {
                                                                    "type": "alias",
                                                                    "start_token": 282,
                                                                    "end_token": 284,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 282,
                                                                            "end_token": 283,
                                                                            "label": ""
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 284,
                                                                            "end_token": 284,
                                                                            "label": ""
                                                                        }
                                                                    ],
                                                                    "label": ""
                                                                }
                                                            ],
                                                            "label": ""
                                                        }
                                                    ],
                                                    "label": ""
                                                }
                                            ],
                                            "label": ""
                                        }
                                    ],
                                    "label": ""
                                }
                            ],
                            "label": "async"
                        }
                    ],
                    "label": ""
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "set_agent_featured",
            "start_line": 466,
            "end_line": 502,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 195,
                    "children": [
                        {
                            "type": "decorated_definition",
                            "start_token": 0,
                            "end_token": 163,
                            "children": [
                                {
                                    "type": "function_definition",
                                    "start_token": 0,
                                    "end_token": 163,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 1,
                                            "end_token": 1,
                                            "label": "def"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 2,
                                            "end_token": 2,
                                            "label": "set_agent_featured"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 3,
                                            "end_token": 26,
                                            "children": [
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 5,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 5,
                                                            "end_token": 5,
                                                            "label": "agent_id"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 6,
                                                            "end_token": 7,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "label": "str"
                                                                }
                                                            ],
                                                            "label": ": str"
                                                        }
                                                    ],
                                                    "label": "agent_id:"
                                                },
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 9,
                                                    "end_token": 13,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 9,
                                                            "end_token": 9,
                                                            "label": "is_active"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 10,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "label": "bool"
                                                                }
                                                            ],
                                                            "label": ": bool"
                                                        },
                                                        {
                                                            "type": "true",
                                                            "start_token": 13,
                                                            "end_token": 13,
                                                            "label": "True"
                                                        }
                                                    ],
                                                    "label": "is_active: bool = True"
                                                },
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 15,
                                                    "end_token": 24,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 15,
                                                            "end_token": 15,
                                                            "label": "featured_categories"
                                                        },
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 16,
                                                            "end_token": 20,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 17,
                                                                    "end_token": 17,
                                                                    "label": "list"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "label": "str"
                                                                }
                                                            ],
                                                            "label": ": list[str]"
                                                        },
                                                        {
                                                            "type": "list",
                                                            "start_token": 22,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 23,
                                                                    "end_token": 23,
                                                                    "label": "\"featured\""
                                                                }
                                                            ],
                                                            "label": "[\"featured\"]"
                                                        }
                                                    ],
                                                    "label": "featured_categories: list[str] = [\"featured\"]"
                                                }
                                            ],
                                            "label": "(\n    agent_id: str, is_active: bool = True, featured_categories: list[str] = [\"featured\"]\n)"
                                        },
                                        {
                                            "type": "union_type",
                                            "start_token": 27,
                                            "end_token": 33,
                                            "children": [
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 29,
                                                    "end_token": 33,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 29,
                                                            "end_token": 29,
                                                            "label": "prisma"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 31,
                                                            "end_token": 31,
                                                            "label": "models"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 33,
                                                            "end_token": 33,
                                                            "label": "FeaturedAgent"
                                                        }
                                                    ],
                                                    "label": "prisma.models.FeaturedAgent"
                                                }
                                            ],
                                            "label": "-> prisma.models.FeaturedAgent"
                                        },
                                        {
                                            "type": "block",
                                            "start_token": 34,
                                            "end_token": 163,
                                            "children": [
                                                {
                                                    "type": "string",
                                                    "start_token": 36,
                                                    "end_token": 40,
                                                    "label": "\"\"\"Set an agent as featured in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str, optional): The category to set the agent as featured. Defaults to \"featured\".\n\n    Raises:\n        AgentQueryError: If there is an error setting the agent as featured.\n    \"\"\""
                                                },
                                                {
                                                    "type": "try_statement",
                                                    "start_token": 42,
                                                    "end_token": 195,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 42,
                                                            "end_token": 165,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 45,
                                                                    "end_token": 66,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 45,
                                                                            "end_token": 45,
                                                                            "label": "agent"
                                                                        },
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 47,
                                                                            "end_token": 67,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 48,
                                                                                    "end_token": 67,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 48,
                                                                                            "end_token": 54,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 48,
                                                                                                    "end_token": 48,
                                                                                                    "label": "prisma"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 50,
                                                                                                    "end_token": 50,
                                                                                                    "label": "models"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 52,
                                                                                                    "end_token": 52,
                                                                                                    "label": "Agents"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 54,
                                                                                                    "end_token": 54,
                                                                                                    "label": "prisma"
                                                                                                }
                                                                                            ],
                                                                                            "label": "prisma.models.Agents.prisma"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 55,
                                                                                            "end_token": 67,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 62,
                                                                                                    "end_token": 66,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 63,
                                                                                                            "end_token": 65,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 63,
                                                                                                                    "end_token": 63,
                                                                                                                    "label": "\"id\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 65,
                                                                                                                    "end_token": 65,
                                                                                                                    "label": "agent_id"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"id\": agent_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "{\"id\": agent_id}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "().find_unique(where={\"id\": agent_id})"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id})"
                                                                                }
                                                                            ],
                                                                            "label": "await prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id})"
                                                                        }
                                                                    ],
                                                                    "label": "agent = await prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id}"
                                                                },
                                                                {
                                                                    "type": "if_statement",
                                                                    "start_token": 69,
                                                                    "end_token": 79,
                                                                    "children": [
                                                                        {
                                                                            "type": "not_operator",
                                                                            "start_token": 70,
                                                                            "end_token": 71,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 71,
                                                                                    "end_token": 71,
                                                                                    "label": "agent"
                                                                                }
                                                                            ],
                                                                            "label": "not agent"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 72,
                                                                            "end_token": 79,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 74,
                                                                                    "end_token": 79,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 75,
                                                                                            "end_token": 79,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 75,
                                                                                                    "end_token": 75,
                                                                                                    "label": "AgentQueryError"
                                                                                                },
                                                                                                {
                                                                                                    "type": "concatenated_string",
                                                                                                    "start_token": 77,
                                                                                                    "end_token": 78,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 78,
                                                                                                            "end_token": 78,
                                                                                                            "label": "\"Agent with ID {agent_id} not found.\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "f\"Agent with ID {agent_id} not found.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "AgentQueryError(f\"Agent with ID {agent_id} not found.\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")"
                                                                        }
                                                                    ],
                                                                    "label": "if not agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 82,
                                                                    "end_token": 161,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 82,
                                                                            "end_token": 82,
                                                                            "label": "featured"
                                                                        },
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 84,
                                                                            "end_token": 161,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 85,
                                                                                    "end_token": 161,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 85,
                                                                                            "end_token": 91,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 85,
                                                                                                    "end_token": 85,
                                                                                                    "label": "prisma"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 87,
                                                                                                    "end_token": 87,
                                                                                                    "label": "models"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 89,
                                                                                                    "end_token": 89,
                                                                                                    "label": "FeaturedAgent"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 91,
                                                                                                    "end_token": 91,
                                                                                                    "label": "prisma"
                                                                                                }
                                                                                            ],
                                                                                            "label": "prisma.models.FeaturedAgent.prisma"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 92,
                                                                                            "end_token": 161,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 99,
                                                                                                    "end_token": 104,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 101,
                                                                                                            "end_token": 103,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 101,
                                                                                                                    "end_token": 101,
                                                                                                                    "label": "\"agentId\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 103,
                                                                                                                    "end_token": 103,
                                                                                                                    "label": "agent_id"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"agentId\": agent_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "={\"agentId\": agent_id}"
                                                                                                },
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 109,
                                                                                                    "end_token": 157,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 111,
                                                                                                            "end_token": 125,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 111,
                                                                                                                    "end_token": 111,
                                                                                                                    "label": "\"update\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 113,
                                                                                                                    "end_token": 125,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 115,
                                                                                                                            "end_token": 117,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 115,
                                                                                                                                    "end_token": 115,
                                                                                                                                    "label": "\"featuredCategories\""
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 117,
                                                                                                                                    "end_token": 117,
                                                                                                                                    "label": "featured_categories"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "\"featuredCategories\": featured_categories"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 120,
                                                                                                                            "end_token": 122,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 120,
                                                                                                                                    "end_token": 120,
                                                                                                                                    "label": "\"isActive\""
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 122,
                                                                                                                                    "end_token": 122,
                                                                                                                                    "label": "is_active"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "\"isActive\": is_active"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "{\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                }"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                }"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 128,
                                                                                                            "end_token": 156,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 128,
                                                                                                                    "end_token": 128,
                                                                                                                    "label": "\"create\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 130,
                                                                                                                    "end_token": 156,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 132,
                                                                                                                            "end_token": 134,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 132,
                                                                                                                                    "end_token": 132,
                                                                                                                                    "label": "\"featuredCategories\""
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 134,
                                                                                                                                    "end_token": 134,
                                                                                                                                    "label": "featured_categories"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "\"featuredCategories\": featured_categories"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 137,
                                                                                                                            "end_token": 139,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 137,
                                                                                                                                    "end_token": 137,
                                                                                                                                    "label": "\"isActive\""
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 139,
                                                                                                                                    "end_token": 139,
                                                                                                                                    "label": "is_active"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "\"isActive\": is_active"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 142,
                                                                                                                            "end_token": 152,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 142,
                                                                                                                                    "end_token": 142,
                                                                                                                                    "label": "\"agent\""
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "dictionary",
                                                                                                                                    "start_token": 144,
                                                                                                                                    "end_token": 152,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "pair",
                                                                                                                                            "start_token": 146,
                                                                                                                                            "end_token": 150,
                                                                                                                                            "children": [
                                                                                                                                                {
                                                                                                                                                    "type": "string",
                                                                                                                                                    "start_token": 146,
                                                                                                                                                    "end_token": 146,
                                                                                                                                                    "label": ":"
                                                                                                                                                },
                                                                                                                                                {
                                                                                                                                                    "type": "identifier",
                                                                                                                                                    "start_token": 150,
                                                                                                                                                    "end_token": 150,
                                                                                                                                                    "label": "agent_id"
                                                                                                                                                }
                                                                                                                                            ],
                                                                                                                                            "label": ": {\"id\": agent_id"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "{\"connect\": {\"id\": agent_id}}"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "\"agent\": {\"connect\": {\"id\": agent_id}}"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "{\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "{\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n"
                                                                                                }
                                                                                            ],
                                                                                            "label": "().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "await prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "featured = await prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 163,
                                                                    "end_token": 164,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 164,
                                                                            "end_token": 164,
                                                                            "label": "featured"
                                                                        }
                                                                    ],
                                                                    "label": "return featured"
                                                                }
                                                            ],
                                                            "label": "try:\n        agent = await prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id})\n        if not agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        featured = await prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )\n        return featured\n"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 167,
                                                            "end_token": 182,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 168,
                                                                    "end_token": 172,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 168,
                                                                            "end_token": 168,
                                                                            "label": "prisma"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 170,
                                                                            "end_token": 170,
                                                                            "label": "errors"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 172,
                                                                            "end_token": 172,
                                                                            "label": "PrismaError"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.errors.PrismaError"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 174,
                                                                    "end_token": 174,
                                                                    "label": "e"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 175,
                                                                    "end_token": 182,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 177,
                                                                            "end_token": 182,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 178,
                                                                                    "end_token": 182,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 178,
                                                                                            "end_token": 178,
                                                                                            "label": "AgentQueryError"
                                                                                        },
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 180,
                                                                                            "end_token": 181,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 181,
                                                                                                    "end_token": 181,
                                                                                                    "label": "\"Database query failed: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Database query failed: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 184,
                                                            "end_token": 195,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 185,
                                                                    "end_token": 185,
                                                                    "label": "Exception"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 186,
                                                                    "end_token": 186,
                                                                    "label": "as"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 188,
                                                                    "end_token": 195,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 190,
                                                                            "end_token": 195,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 191,
                                                                                    "end_token": 195,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 191,
                                                                                            "end_token": 191,
                                                                                            "label": "AgentQueryError"
                                                                                        },
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 193,
                                                                                            "end_token": 194,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 194,
                                                                                                    "end_token": 194,
                                                                                                    "label": "\"Unexpected error occurred: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "try:\n        agent = await prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id})\n        if not agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        featured = await prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )\n        return featured\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": ":\n    \"\"\"Set an agent as featured in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str, optional): The category to set the agent as featured. Defaults to \"featured\".\n\n    Raises:\n        AgentQueryError: If there is an error setting the agent as featured.\n    \"\"\"\n    try:\n        agent = await prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id})\n        if not agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        featured = await prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )\n        return"
                                        }
                                    ],
                                    "label": "async def set_agent_featured(\n    agent_id: str, is_active: bool = True, featured_categories: list[str] = [\"featured\"]\n) -> prisma.models.FeaturedAgent:\n    \"\"\"Set an agent as featured in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str, optional): The category to set the agent as featured. Defaults to \"featured\".\n\n    Raises:\n        AgentQueryError: If there is an error setting the agent as featured.\n    \"\"\"\n    try:\n        agent = await prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id})\n        if not agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        featured = await prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )\n        return"
                                }
                            ],
                            "label": "async def set_agent_featured(\n    agent_id: str, is_active: bool = True, featured_categories: list[str] = [\"featured\"]\n) -> prisma.models.FeaturedAgent:\n    \"\"\"Set an agent as featured in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str, optional): The category to set the agent as featured. Defaults to \"featured\".\n\n    Raises:\n        AgentQueryError: If there is an error setting the agent as featured.\n    \"\"\"\n    try:\n        agent = await prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id})\n        if not agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        featured = await prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )\n        return"
                        }
                    ],
                    "label": "async def set_agent_featured(\n    agent_id: str, is_active: bool = True, featured_categories: list[str] = [\"featured\"]\n) -> prisma.models.FeaturedAgent:\n    \"\"\"Set an agent as featured in the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str, optional): The category to set the agent as featured. Defaults to \"featured\".\n\n    Raises:\n        AgentQueryError: If there is an error setting the agent as featured.\n    \"\"\"\n    try:\n        agent = await prisma.models.Agents.prisma().find_unique(where={\"id\": agent_id})\n        if not agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        featured = await prisma.models.FeaturedAgent.prisma().upsert(\n            where={\"agentId\": agent_id},\n            data={\n                \"update\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                },\n                \"create\": {\n                    \"featuredCategories\": featured_categories,\n                    \"isActive\": is_active,\n                    \"agent\": {\"connect\": {\"id\": agent_id}},\n                },\n            },\n        )\n        return featured\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_featured_agents",
            "start_line": 505,
            "end_line": 558,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 245,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 245,
                            "children": [
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 43,
                                    "children": [
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 5,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "category"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "label": ": str"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "label": "\"featured\""
                                                }
                                            ],
                                            "label": "category: str = \"featured\""
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 12,
                                            "end_token": 16,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 12,
                                                    "end_token": 12,
                                                    "label": "page"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 13,
                                                    "end_token": 14,
                                                    "label": ": int"
                                                },
                                                {
                                                    "type": "integer",
                                                    "start_token": 16,
                                                    "end_token": 16,
                                                    "label": "1"
                                                }
                                            ],
                                            "label": "page: int = 1"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 19,
                                            "end_token": 23,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "label": "page_size"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 20,
                                                    "end_token": 21,
                                                    "label": ": int"
                                                },
                                                {
                                                    "type": "integer",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "label": "10"
                                                }
                                            ],
                                            "label": "page_size: int = 10"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 26,
                                            "end_token": 40,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 26,
                                                    "end_token": 26,
                                                    "label": "submission_status"
                                                },
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 27,
                                                    "end_token": 32,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 28,
                                                            "end_token": 31,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 28,
                                                                    "end_token": 28,
                                                                    "label": "prisma"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 30,
                                                                    "end_token": 30,
                                                                    "label": "enums"
                                                                }
                                                            ],
                                                            "label": "prisma.enums."
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 32,
                                                            "end_token": 32,
                                                            "label": "SubmissionStatus"
                                                        }
                                                    ],
                                                    "label": ": prisma.enums.SubmissionStatus"
                                                },
                                                {
                                                    "type": "attribute",
                                                    "start_token": 34,
                                                    "end_token": 40,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 34,
                                                            "end_token": 38,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 34,
                                                                    "end_token": 36,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 34,
                                                                            "end_token": 34,
                                                                            "label": "prisma"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 36,
                                                                            "end_token": 36,
                                                                            "label": "enums"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.enums"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 38,
                                                                    "end_token": 38,
                                                                    "label": "SubmissionStatus"
                                                                }
                                                            ],
                                                            "label": "prisma.enums.SubmissionStatus"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 40,
                                                            "end_token": 40,
                                                            "label": "APPROVED"
                                                        }
                                                    ],
                                                    "label": "prisma.enums.SubmissionStatus.APPROVED"
                                                }
                                            ],
                                            "label": "submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED"
                                        }
                                    ],
                                    "label": "get_featured_agents(\n    category: str = \"featured\",\n    page: int = 1,\n    page_size: int = 10,\n    submission_status: prisma.enums.SubmissionStatus = prisma.enums.SubmissionStatus.APPROVED,\n)"
                                },
                                {
                                    "type": "generic_type",
                                    "start_token": 44,
                                    "end_token": 46,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 44,
                                            "end_token": 44,
                                            "label": "-"
                                        }
                                    ],
                                    "label": "-> FeaturedAgentResponse"
                                },
                                {
                                    "type": "string",
                                    "start_token": 49,
                                    "end_token": 53,
                                    "label": "\"\"\"Retrieve a list of featured agents from the database based on the provided category.\n\n    Args:\n        category (str, optional): The category of featured agents to retrieve. Defaults to \"featured\".\n        page (int, optional): The page number to retrieve. Defaults to 1.\n        page_size (int, optional): The number of agents per page. Defaults to 10.\n\n    Returns:\n        dict: A dictionary containing the list of featured agents, total count, current page number, page size, and total number of pages.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 54,
                                    "end_token": 245,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 55,
                                            "end_token": 194,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 57,
                                                    "end_token": 191,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 62,
                                                            "end_token": 70,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 62,
                                                                    "end_token": 62,
                                                                    "label": "skip"
                                                                },
                                                                {
                                                                    "type": "binary_operator",
                                                                    "start_token": 64,
                                                                    "end_token": 70,
                                                                    "children": [
                                                                        {
                                                                            "type": "binary_operator",
                                                                            "start_token": 64,
                                                                            "end_token": 68,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 65,
                                                                                    "end_token": 65,
                                                                                    "label": "page"
                                                                                },
                                                                                {
                                                                                    "type": "integer",
                                                                                    "start_token": 67,
                                                                                    "end_token": 67,
                                                                                    "label": "1"
                                                                                }
                                                                            ],
                                                                            "label": "(page - 1)"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 70,
                                                                            "end_token": 70,
                                                                            "label": "page_size"
                                                                        }
                                                                    ],
                                                                    "label": "(page - 1) * page_size"
                                                                }
                                                            ],
                                                            "label": "skip = (page - 1) * page_size"
                                                        },
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 78,
                                                            "end_token": 175,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 80,
                                                                    "end_token": 158,
                                                                    "children": [
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 81,
                                                                            "end_token": 158,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 84,
                                                                                    "end_token": 158,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 84,
                                                                                            "end_token": 93,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 84,
                                                                                                    "end_token": 88,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 84,
                                                                                                            "end_token": 86,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 84,
                                                                                                                    "end_token": 84,
                                                                                                                    "label": "prisma"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 86,
                                                                                                                    "end_token": 86,
                                                                                                                    "label": "models"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "prisma.models"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 88,
                                                                                                            "end_token": 88,
                                                                                                            "label": "FeaturedAgent"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prisma.models.FeaturedAgent"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 90,
                                                                                                    "end_token": 93,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 90,
                                                                                                            "end_token": 90,
                                                                                                            "label": "prisma"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prisma()."
                                                                                                }
                                                                                            ],
                                                                                            "label": "prisma.models.FeaturedAgent.prisma()."
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 95,
                                                                                            "end_token": 158,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 98,
                                                                                                    "end_token": 128,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 101,
                                                                                                            "end_token": 107,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 101,
                                                                                                                    "end_token": 101,
                                                                                                                    "label": "\"featuredCategories\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 103,
                                                                                                                    "end_token": 107,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 104,
                                                                                                                            "end_token": 106,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 104,
                                                                                                                                    "end_token": 104,
                                                                                                                                    "label": "\"has\""
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 106,
                                                                                                                                    "end_token": 106,
                                                                                                                                    "label": "category"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "\"has\": category"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "{\"has\": category}"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"featuredCategories\": {\"has\": category}"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 110,
                                                                                                            "end_token": 112,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 110,
                                                                                                                    "end_token": 110,
                                                                                                                    "label": "\"isActive\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "true",
                                                                                                                    "start_token": 112,
                                                                                                                    "end_token": 112,
                                                                                                                    "label": "True"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"isActive\": True"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 115,
                                                                                                            "end_token": 125,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 115,
                                                                                                                    "end_token": 115,
                                                                                                                    "label": "\"agent\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 117,
                                                                                                                    "end_token": 125,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "pair",
                                                                                                                            "start_token": 118,
                                                                                                                            "end_token": 124,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "string",
                                                                                                                                    "start_token": 118,
                                                                                                                                    "end_token": 118,
                                                                                                                                    "label": "\"is\""
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "dictionary",
                                                                                                                                    "start_token": 120,
                                                                                                                                    "end_token": 124,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "pair",
                                                                                                                                            "start_token": 121,
                                                                                                                                            "end_token": 123,
                                                                                                                                            "children": [
                                                                                                                                                {
                                                                                                                                                    "type": "string",
                                                                                                                                                    "start_token": 121,
                                                                                                                                                    "end_token": 121,
                                                                                                                                                    "label": "\"submissionStatus\""
                                                                                                                                                },
                                                                                                                                                {
                                                                                                                                                    "type": "identifier",
                                                                                                                                                    "start_token": 123,
                                                                                                                                                    "end_token": 123,
                                                                                                                                                    "label": "submission_status"
                                                                                                                                                }
                                                                                                                                            ],
                                                                                                                                            "label": "\"submissionStatus\": submission_status"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "{\"submissionStatus\": submission_status}"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "\"is\": {\"submissionStatus\": submission_status}"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "{\"is\": {\"submissionStatus\": submission_status}}"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"agent\": {\"is\": {\"submissionStatus\": submission_status}}"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "={\n                    \"featuredCategories\": {\"has\": category},\n                    \"isActive\": True,\n                    \"agent\": {\"is\": {\"submissionStatus\": submission_status}},\n                }"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 131,
                                                                                                    "end_token": 145,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 134,
                                                                                                            "end_token": 144,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 137,
                                                                                                                    "end_token": 139,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 137,
                                                                                                                            "end_token": 137,
                                                                                                                            "label": "\"include\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "dictionary",
                                                                                                                            "start_token": 139,
                                                                                                                            "end_token": 143,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "pair",
                                                                                                                                    "start_token": 140,
                                                                                                                                    "end_token": 142,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "string",
                                                                                                                                            "start_token": 140,
                                                                                                                                            "end_token": 140,
                                                                                                                                            "label": "\"AnalyticsTracker\""
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "true",
                                                                                                                                            "start_token": 142,
                                                                                                                                            "end_token": 142,
                                                                                                                                            "label": "True"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "\"AnalyticsTracker\": True"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "{\"AnalyticsTracker\": True}"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"include\": {"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"agent\": {\"include\": {\"AnalyticsTracker\": True}}"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "include={\"agent\": {\"include\": {\"AnalyticsTracker\": True}}}"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 148,
                                                                                                    "end_token": 150,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 148,
                                                                                                            "end_token": 148,
                                                                                                            "label": "skip"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 150,
                                                                                                            "end_token": 150,
                                                                                                            "label": "skip"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "skip=skip"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 153,
                                                                                                    "end_token": 155,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 153,
                                                                                                            "end_token": 153,
                                                                                                            "label": "take"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 155,
                                                                                                            "end_token": 155,
                                                                                                            "label": "page_size"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "take=page_size"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                where={\n                    \"featuredCategories\": {\"has\": category},\n                    \"isActive\": True,\n                    \"agent\": {\"is\": {\"submissionStatus\": submission_status}},\n                },\n                include={\"agent\": {\"include\": {\"AnalyticsTracker\": True}}},\n                skip=skip,\n                take=page_size,\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.models.FeaturedAgent.prisma().find_many(\n                where={\n                    \"featuredCategories\": {\"has\": category},\n                    \"isActive\": True,\n                    \"agent\": {\"is\": {\"submissionStatus\": submission_status}},\n                },\n                include={\"agent\": {\"include\": {\"AnalyticsTracker\": True}}},\n                skip=skip,\n                take=page_size,\n            )"
                                                                                }
                                                                            ],
                                                                            "label": "featured_agents = await prisma.models.FeaturedAgent.prisma().find_many(\n                where={\n                    \"featuredCategories\": {\"has\": category},\n                    \"isActive\": True,\n                    \"agent\": {\"is\": {\"submissionStatus\": submission_status}},\n                },\n                include={\"agent\": {\"include\": {\"AnalyticsTracker\": True}}},\n                skip=skip,\n                take=page_size,\n            )"
                                                                        }
                                                                    ],
                                                                    "label": "\n            featured_agents = await prisma.models.FeaturedAgent.prisma().find_many(\n                where={\n                    \"featuredCategories\": {\"has\": category},\n                    \"isActive\": True,\n                    \"agent\": {\"is\": {\"submissionStatus\": submission_status}},\n                },\n                include={\"agent\": {\"include\": {\"AnalyticsTracker\": True}}},\n                skip=skip,\n                take=page_size,\n            )"
                                                                },
                                                                {
                                                                    "type": "except_clause",
                                                                    "start_token": 160,
                                                                    "end_token": 175,
                                                                    "children": [
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 168,
                                                                            "end_token": 175,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 170,
                                                                                    "end_token": 175,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 171,
                                                                                            "end_token": 175,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 171,
                                                                                                    "end_token": 171,
                                                                                                    "label": "AgentQueryError"
                                                                                                }
                                                                                            ],
                                                                                            "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "try:\n            featured_agents = await prisma.models.FeaturedAgent.prisma().find_many(\n                where={\n                    \"featuredCategories\": {\"has\": category},\n                    \"isActive\": True,\n                    \"agent\": {\"is\": {\"submissionStatus\": submission_status}},\n                },\n                include={\"agent\": {\"include\": {\"AnalyticsTracker\": True}}},\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 186,
                                                            "end_token": 191,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 186,
                                                                    "end_token": 186,
                                                                    "label": "total_count"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 188,
                                                                    "end_token": 191,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 188,
                                                                            "end_token": 188,
                                                                            "label": "len"
                                                                        }
                                                                    ],
                                                                    "label": "len(featured_agents)"
                                                                }
                                                            ],
                                                            "label": "total_count = len(featured_agents)"
                                                        }
                                                    ],
                                                    "label": "\n        # Calculate pagination\n        skip = (page - 1) * page_size\n\n        # Execute the query\n        try:\n            featured_agents = await prisma.models.FeaturedAgent.prisma().find_many(\n                where={\n                    \"featuredCategories\": {\"has\": category},\n                    \"isActive\": True,\n                    \"agent\": {\"is\": {\"submissionStatus\": submission_status}},\n                },\n                include={\"agent\": {\"include\": {\"AnalyticsTracker\": True}}},\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        # Get total count for pagination info\n        total_count = len(featured_agents)"
                                                },
                                                {
                                                    "type": "return_statement",
                                                    "start_token": 194,
                                                    "end_token": 227,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 195,
                                                            "end_token": 227,
                                                            "children": [
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 198,
                                                                    "end_token": 227,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 199,
                                                                            "end_token": 201,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 199,
                                                                                    "end_token": 199,
                                                                                    "label": "="
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 201,
                                                                                    "end_token": 201,
                                                                                    "label": ","
                                                                                }
                                                                            ],
                                                                            "label": "=featured_agents,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 203,
                                                                            "end_token": 205,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 203,
                                                                                    "end_token": 203,
                                                                                    "label": "total_count"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 205,
                                                                                    "end_token": 205,
                                                                                    "label": "total_count"
                                                                                }
                                                                            ],
                                                                            "label": "total_count=total_count"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 208,
                                                                            "end_token": 210,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 208,
                                                                                    "end_token": 208,
                                                                                    "label": "page"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 210,
                                                                                    "end_token": 210,
                                                                                    "label": "page"
                                                                                }
                                                                            ],
                                                                            "label": "page=page"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 213,
                                                                            "end_token": 215,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 213,
                                                                                    "end_token": 213,
                                                                                    "label": "page_size"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 215,
                                                                                    "end_token": 215,
                                                                                    "label": "page_size"
                                                                                }
                                                                            ],
                                                                            "label": "page_size=page_size"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 218,
                                                                            "end_token": 227,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 218,
                                                                                    "end_token": 218,
                                                                                    "label": "total_pages"
                                                                                },
                                                                                {
                                                                                    "type": "binary_operator",
                                                                                    "start_token": 220,
                                                                                    "end_token": 227,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "binary_operator",
                                                                                            "start_token": 220,
                                                                                            "end_token": 226,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "binary_operator",
                                                                                                    "start_token": 220,
                                                                                                    "end_token": 222,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 220,
                                                                                                            "end_token": 220,
                                                                                                            "label": "("
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 222,
                                                                                                            "end_token": 222,
                                                                                                            "label": "+"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(total_count +"
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "start_token": 224,
                                                                                                    "end_token": 224,
                                                                                                    "label": "-"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(total_count + page_size - 1)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                                                }
                                                                            ],
                                                                            "label": "total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                                        }
                                                                    ],
                                                                    "label": "featured_agents=featured_agents,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                                }
                                                            ],
                                                            "label": "FeaturedAgentResponse(\n            featured_agents=featured_agents,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                        }
                                                    ],
                                                    "label": "return FeaturedAgentResponse(\n            featured_agents=featured_agents,\n            total_count=total_count,\n            page=page,\n            page_size=page_size,\n            total_pages=(total_count + page_size - 1) // page_size,\n        )\n\n    except AgentQueryError as e:\n        # Log the error or handle it as needed\n        raise e from e\n    except ValueError as e:\n        raise AgentQueryError(f\"Invalid input parameter: {str(e)}\") from e\n    except Exception as e:\n        # Catch any other unexpected exceptions\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\") from e\n"
                                                }
                                            ],
                                            "label": "try:\n        # Calculate pagination\n        skip = (page - 1) * page_size\n\n        # Execute the query\n        try:\n            featured_agents = await prisma.models.FeaturedAgent.prisma().find_many(\n                where={\n                    \"featuredCategories\": {\"has\": category},\n                    \"isActive\": True,\n                    \"agent\": {\"is\": {\"submissionStatus\": submission_status}},\n                },\n                include={\"agent\": {\"include\": {\"AnalyticsTracker\": True}}},\n                skip=skip,\n                take=page_size,\n            )\n        except prisma.errors.PrismaError as e:\n            raise AgentQueryError(f\"Database query failed: {str(e)}\")\n\n        # Get total count for pagination info\n        total_count = len(featured_agents)\n\n        return"
                                        },
                                        {
                                            "type": "except_clause",
                                            "start_token": 229,
                                            "end_token": 233,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 231,
                                                    "end_token": 233,
                                                    "label": ""
                                                }
                                            ],
                                            "label": ""
                                        },
                                        {
                                            "type": "except_clause",
                                            "start_token": 234,
                                            "end_token": 238,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 236,
                                                    "end_token": 238,
                                                    "children": [
                                                        {
                                                            "type": "raise_statement",
                                                            "start_token": 236,
                                                            "end_token": 238,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 237,
                                                                    "end_token": 238,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 237,
                                                                            "end_token": 237,
                                                                            "label": ""
                                                                        }
                                                                    ],
                                                                    "label": ""
                                                                }
                                                            ],
                                                            "label": ""
                                                        }
                                                    ],
                                                    "label": ""
                                                }
                                            ],
                                            "label": ""
                                        },
                                        {
                                            "type": "except_clause",
                                            "start_token": 239,
                                            "end_token": 243,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 241,
                                                    "end_token": 243,
                                                    "children": [
                                                        {
                                                            "type": "raise_statement",
                                                            "start_token": 241,
                                                            "end_token": 243,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 242,
                                                                    "end_token": 243,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 242,
                                                                            "end_token": 242,
                                                                            "label": ""
                                                                        }
                                                                    ],
                                                                    "label": ""
                                                                }
                                                            ],
                                                            "label": ""
                                                        }
                                                    ],
                                                    "label": ""
                                                }
                                            ],
                                            "label": ""
                                        }
                                    ],
                                    "label": ""
                                }
                            ],
                            "label": ""
                        }
                    ],
                    "label": ""
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "remove_featured_category",
            "start_line": 561,
            "end_line": 596,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 177,
                    "children": [
                        {
                            "type": "decorated_definition",
                            "start_token": 0,
                            "end_token": 177,
                            "children": [
                                {
                                    "type": "decorator",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "async"
                                },
                                {
                                    "type": "function_definition",
                                    "start_token": 1,
                                    "end_token": 177,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 2,
                                            "end_token": 2,
                                            "children": [],
                                            "label": "remove_featured_category"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 3,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 5,
                                                    "end_token": 7,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 5,
                                                            "end_token": 5,
                                                            "children": [],
                                                            "label": "agent_id"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "children": [],
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "agent_id: str"
                                                },
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 9,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 9,
                                                            "end_token": 9,
                                                            "children": [],
                                                            "label": "category"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": [],
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "category: str"
                                                }
                                            ],
                                            "label": "(\n    agent_id: str, category: str\n)"
                                        },
                                        {
                                            "type": "union_type",
                                            "start_token": 15,
                                            "end_token": 22,
                                            "children": [
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 16,
                                                    "end_token": 20,
                                                    "children": [],
                                                    "label": "prisma.models.FeaturedAgent"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 22,
                                                    "end_token": 22,
                                                    "children": [],
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "> prisma.models.FeaturedAgent | None"
                                        },
                                        {
                                            "type": "string",
                                            "start_token": 25,
                                            "end_token": 27,
                                            "children": [],
                                            "label": "\"\"\"Adds a featured category to an agent.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str): The category to add to the agent.\n\n    Returns:\n        FeaturedAgentResponse: The updated list of featured agents.\n    \"\"\""
                                        },
                                        {
                                            "type": "block",
                                            "start_token": 29,
                                            "end_token": 177,
                                            "children": [
                                                {
                                                    "type": "try_statement",
                                                    "start_token": 29,
                                                    "end_token": 177,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 32,
                                                            "end_token": 147,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 38,
                                                                    "end_token": 72,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 38,
                                                                            "end_token": 47,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 41,
                                                                                    "end_token": 45,
                                                                                    "children": [],
                                                                                    "label": "prisma.models.FeaturedAgent"
                                                                                }
                                                                            ],
                                                                            "label": "featured_agent = await prisma.models.FeaturedAgent.prisma"
                                                                        },
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 40,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 51,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 54,
                                                                                            "end_token": 60,
                                                                                            "children": [],
                                                                                            "label": "where={\"agentId\": agent_id}"
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 63,
                                                                                            "end_token": 69,
                                                                                            "children": [],
                                                                                            "label": "include={\"agent\": True}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )"
                                                                },
                                                                {
                                                                    "type": "if_statement",
                                                                    "start_token": 75,
                                                                    "end_token": 85,
                                                                    "children": [
                                                                        {
                                                                            "type": "not_operator",
                                                                            "start_token": 76,
                                                                            "end_token": 76,
                                                                            "children": [],
                                                                            "label": "not"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 78,
                                                                            "end_token": 85,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 80,
                                                                                    "end_token": 85,
                                                                                    "children": [],
                                                                                    "label": "raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")"
                                                                        }
                                                                    ],
                                                                    "label": "if not featured_agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")"
                                                                },
                                                                {
                                                                    "type": "expression_statement",
                                                                    "start_token": 96,
                                                                    "end_token": 103,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 100,
                                                                            "end_token": 103,
                                                                            "children": [],
                                                                            "label": "remove(category)"
                                                                        }
                                                                    ],
                                                                    "label": "featured_agent.featuredCategories.remove(category)"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 106,
                                                                    "end_token": 142,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 106,
                                                                            "end_token": 115,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 109,
                                                                                    "end_token": 113,
                                                                                    "children": [],
                                                                                    "label": "prisma.models.FeaturedAgent"
                                                                                }
                                                                            ],
                                                                            "label": "featured_agent = await prisma.models.FeaturedAgent.prisma"
                                                                        },
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 108,
                                                                            "end_token": 142,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 119,
                                                                                    "end_token": 142,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 122,
                                                                                            "end_token": 128,
                                                                                            "children": [],
                                                                                            "label": "where={\"agentId\": agent_id}"
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 131,
                                                                                            "end_token": 139,
                                                                                            "children": [],
                                                                                            "label": "data={\"featuredCategories\": featured_agent.featuredCategories}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 145,
                                                                    "end_token": 147,
                                                                    "children": [],
                                                                    "label": "return featured_agent\n"
                                                                }
                                                            ],
                                                            "label": "# get the existing categories\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )\n\n        if not featured_agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        # remove the category from the list\n        featured_agent.featuredCategories.remove(category)\n\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )\n\n        return featured_agent\n"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 149,
                                                            "end_token": 164,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 150,
                                                                    "end_token": 154,
                                                                    "children": [
                                                                        {
                                                                            "type": "dotted_name",
                                                                            "start_token": 151,
                                                                            "end_token": 153,
                                                                            "children": [],
                                                                            "label": ".errors."
                                                                        }
                                                                    ],
                                                                    "label": "prisma.errors.PrismaError"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 157,
                                                                    "end_token": 164,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 159,
                                                                            "end_token": 164,
                                                                            "children": [],
                                                                            "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 166,
                                                            "end_token": 177,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 169,
                                                                    "end_token": 177,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 172,
                                                                            "end_token": 177,
                                                                            "children": [],
                                                                            "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "try:\n        # get the existing categories\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )\n\n        if not featured_agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        # remove the category from the list\n        featured_agent.featuredCategories.remove(category)\n\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )\n\n        return featured_agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        # get the existing categories\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )\n\n        if not featured_agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        # remove the category from the list\n        featured_agent.featuredCategories.remove(category)\n\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )\n\n        return featured_agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                        }
                                    ],
                                    "label": "def remove_featured_category(\n    agent_id: str, category: str\n) -> prisma.models.FeaturedAgent | None:\n    \"\"\"Adds a featured category to an agent.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str): The category to add to the agent.\n\n    Returns:\n        FeaturedAgentResponse: The updated list of featured agents.\n    \"\"\"\n    try:\n        # get the existing categories\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )\n\n        if not featured_agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        # remove the category from the list\n        featured_agent.featuredCategories.remove(category)\n\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )\n\n        return featured_agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                }
                            ],
                            "label": "async def remove_featured_category(\n    agent_id: str, category: str\n) -> prisma.models.FeaturedAgent | None:\n    \"\"\"Adds a featured category to an agent.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str): The category to add to the agent.\n\n    Returns:\n        FeaturedAgentResponse: The updated list of featured agents.\n    \"\"\"\n    try:\n        # get the existing categories\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )\n\n        if not featured_agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        # remove the category from the list\n        featured_agent.featuredCategories.remove(category)\n\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )\n\n        return featured_agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                        }
                    ],
                    "label": "async def remove_featured_category(\n    agent_id: str, category: str\n) -> prisma.models.FeaturedAgent | None:\n    \"\"\"Adds a featured category to an agent.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str): The category to add to the agent.\n\n    Returns:\n        FeaturedAgentResponse: The updated list of featured agents.\n    \"\"\"\n    try:\n        # get the existing categories\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n            include={\"agent\": True},\n        )\n\n        if not featured_agent:\n            raise AgentQueryError(f\"Agent with ID {agent_id} not found.\")\n\n        # remove the category from the list\n        featured_agent.featuredCategories.remove(category)\n\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": featured_agent.featuredCategories},\n        )\n\n        return featured_agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "add_featured_category",
            "start_line": 599,
            "end_line": 622,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 107,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 77,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "label": "add_featured_category"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 13,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 7,
                                            "label": "agent_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "label": "category: str"
                                        }
                                    ],
                                    "label": "(\n    agent_id: str, category: str\n)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 14,
                                    "end_token": 22,
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "start_token": 16,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 16,
                                                    "end_token": 19,
                                                    "label": "prisma.models."
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "label": "FeaturedAgent"
                                                }
                                            ],
                                            "label": "prisma.models.FeaturedAgent"
                                        },
                                        {
                                            "type": "none",
                                            "start_token": 22,
                                            "end_token": 22,
                                            "label": "None"
                                        }
                                    ],
                                    "label": "-> prisma.models.FeaturedAgent | None"
                                },
                                {
                                    "type": "string",
                                    "start_token": 25,
                                    "end_token": 27,
                                    "label": "\"\"\"Removes a featured category from an agent.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str): The category to remove from the agent.\n\n    Returns:\n        FeaturedAgentResponse: The updated list of featured agents.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 28,
                                    "end_token": 77,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 29,
                                            "end_token": 76,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 29,
                                                    "end_token": 75,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 32,
                                                            "end_token": 70,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 32,
                                                                    "end_token": 32,
                                                                    "label": "featured_agent"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 34,
                                                                    "end_token": 72,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 35,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 35,
                                                                                    "end_token": 45,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 35,
                                                                                            "end_token": 39,
                                                                                            "label": "prisma.models.FeaturedAgent"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 40,
                                                                                            "end_token": 40,
                                                                                            "label": "."
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 44,
                                                                                            "end_token": 45,
                                                                                            "label": ".update"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.models.FeaturedAgent.prisma().update"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 46,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 48,
                                                                                            "end_token": 54,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 51,
                                                                                                    "end_token": 51,
                                                                                                    "label": "\"agentId\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 53,
                                                                                                    "end_token": 53,
                                                                                                    "label": "agent_id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "where={\"agentId\": agent_id}"
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 57,
                                                                                            "end_token": 69,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 60,
                                                                                                    "end_token": 60,
                                                                                                    "label": "\"featuredCategories\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 62,
                                                                                                    "end_token": 68,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 63,
                                                                                                            "end_token": 67,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 63,
                                                                                                                    "end_token": 63,
                                                                                                                    "label": "\"push\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "list",
                                                                                                                    "start_token": 65,
                                                                                                                    "end_token": 67,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 66,
                                                                                                                            "end_token": 66,
                                                                                                                            "label": "category"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "[category]"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"push\": [category]"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "{\"push\": [category]}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "data={\"featuredCategories\": {\"push\": [category]}}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},\n        )"
                                                                }
                                                            ],
                                                            "label": "featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 75,
                                                            "end_token": 76,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 76,
                                                                    "end_token": 76,
                                                                    "label": "featured_agent"
                                                                }
                                                            ],
                                                            "label": "return featured_agent"
                                                        }
                                                    ],
                                                    "label": "try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},\n        )\n\n        return"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 79,
                                                    "end_token": 95,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 80,
                                                            "end_token": 84,
                                                            "label": "prisma.errors.PrismaError"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 86,
                                                            "end_token": 86,
                                                            "label": "e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 87,
                                                            "end_token": 95,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 89,
                                                                    "end_token": 94,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 90,
                                                                            "end_token": 94,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 90,
                                                                                    "end_token": 90,
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "fstring",
                                                                                    "start_token": 92,
                                                                                    "end_token": 93,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 92,
                                                                                            "end_token": 93,
                                                                                            "label": "f\"Database query failed: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Database query failed: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 96,
                                                    "end_token": 107,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 97,
                                                            "end_token": 97,
                                                            "label": "Exception"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 99,
                                                            "end_token": 99,
                                                            "label": "e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 100,
                                                            "end_token": 107,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 102,
                                                                    "end_token": 107,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 103,
                                                                            "end_token": 107,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 103,
                                                                                    "end_token": 103,
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "fstring",
                                                                                    "start_token": 105,
                                                                                    "end_token": 106,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 105,
                                                                                            "end_token": 106,
                                                                                            "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},\n        )\n\n        return featured_agent"
                                        }
                                    ],
                                    "label": "\n    try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},\n        )\n\n        return featured_agent\n"
                                }
                            ],
                            "label": "async def add_featured_category(\n    agent_id: str, category: str\n) -> prisma.models.FeaturedAgent | None:\n    \"\"\"Removes a featured category from an agent.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str): The category to remove from the agent.\n\n    Returns:\n        FeaturedAgentResponse: The updated list of featured agents.\n    \"\"\"\n    try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},\n        )\n\n        return featured_agent\n"
                        }
                    ],
                    "label": "async def add_featured_category(\n    agent_id: str, category: str\n) -> prisma.models.FeaturedAgent | None:\n    \"\"\"Removes a featured category from an agent.\n\n    Args:\n        agent_id (str): The ID of the agent.\n        category (str): The category to remove from the agent.\n\n    Returns:\n        FeaturedAgentResponse: The updated list of featured agents.\n    \"\"\"\n    try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().update(\n            where={\"agentId\": agent_id},\n            data={\"featuredCategories\": {\"push\": [category]}},\n        )\n\n        return featured_agent\n\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_agent_featured",
            "start_line": 625,
            "end_line": 642,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 84,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 84,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "def get_agent_featured"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 7,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "children": [],
                                                    "label": "agent_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 6,
                                                            "end_token": 6,
                                                            "children": [],
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "agent_id: str"
                                        }
                                    ],
                                    "label": "(agent_id: str)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 8,
                                    "end_token": 16,
                                    "children": [
                                        {
                                            "type": "dotted_name",
                                            "start_token": 10,
                                            "end_token": 14,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "prisma"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 12,
                                                    "end_token": 12,
                                                    "children": [],
                                                    "label": "models"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "children": [],
                                                    "label": "FeaturedAgent"
                                                }
                                            ],
                                            "label": "prisma.models.FeaturedAgent"
                                        },
                                        {
                                            "type": "none",
                                            "start_token": 16,
                                            "end_token": 16,
                                            "children": [],
                                            "label": "None"
                                        }
                                    ],
                                    "label": "-> prisma.models.FeaturedAgent | None"
                                },
                                {
                                    "type": "string",
                                    "start_token": 19,
                                    "end_token": 21,
                                    "children": [
                                        {
                                            "type": "string_content",
                                            "start_token": 20,
                                            "end_token": 20,
                                            "children": [],
                                            "label": "\"Retrieve an agent's featured categories from the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n\n    Returns:\n        FeaturedAgentResponse: The list of featured agents.\n    \""
                                        }
                                    ],
                                    "label": "\"\"\"Retrieve an agent's featured categories from the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n\n    Returns:\n        FeaturedAgentResponse: The list of featured agents.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 22,
                                    "end_token": 84,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 23,
                                            "end_token": 84,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 25,
                                                    "end_token": 55,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 26,
                                                            "end_token": 54,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 26,
                                                                    "end_token": 26,
                                                                    "children": [],
                                                                    "label": "featured_agent"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 28,
                                                                    "end_token": 51,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 29,
                                                                            "end_token": 51,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 29,
                                                                                    "end_token": 35,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 29,
                                                                                            "end_token": 33,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 29,
                                                                                                    "end_token": 29,
                                                                                                    "children": [],
                                                                                                    "label": "prisma"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 31,
                                                                                                    "end_token": 31,
                                                                                                    "children": [],
                                                                                                    "label": "models"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 33,
                                                                                                    "end_token": 33,
                                                                                                    "children": [],
                                                                                                    "label": "FeaturedAgent"
                                                                                                }
                                                                                            ],
                                                                                            "label": "prisma.models.FeaturedAgent"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 35,
                                                                                            "end_token": 35,
                                                                                            "children": [],
                                                                                            "label": "prisma"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.models.FeaturedAgent.prisma"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 38,
                                                                                    "end_token": 51,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 39,
                                                                                            "end_token": 39,
                                                                                            "children": [],
                                                                                            "label": "find_unique"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 42,
                                                                                            "end_token": 48,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 45,
                                                                                                    "end_token": 47,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 45,
                                                                                                            "end_token": 45,
                                                                                                            "children": [],
                                                                                                            "label": "\"agentId\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 47,
                                                                                                            "end_token": 47,
                                                                                                            "children": [],
                                                                                                            "label": "agent_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"agentId\": agent_id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "where={\"agentId\": agent_id}"
                                                                                        }
                                                                                    ],
                                                                                    "label": ".find_unique(\n            where={\"agentId\": agent_id},\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n        )"
                                                                }
                                                            ],
                                                            "label": "featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n        )\n        return featured_agent"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 53,
                                                            "end_token": 54,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 54,
                                                                    "end_token": 54,
                                                                    "children": [],
                                                                    "label": "featured_agent"
                                                                }
                                                            ],
                                                            "label": "return featured_agent"
                                                        }
                                                    ],
                                                    "label": "\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n        )\n        return featured_agent\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 56,
                                                    "end_token": 72,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 57,
                                                            "end_token": 63,
                                                            "children": [
                                                                {
                                                                    "type": "dotted_name",
                                                                    "start_token": 57,
                                                                    "end_token": 61,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 57,
                                                                            "end_token": 57,
                                                                            "children": [],
                                                                            "label": "prisma"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 59,
                                                                            "end_token": 59,
                                                                            "children": [],
                                                                            "label": "errors"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 61,
                                                                            "end_token": 61,
                                                                            "children": [],
                                                                            "label": "PrismaError"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.errors.PrismaError"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 63,
                                                                    "end_token": 63,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "prisma.errors.PrismaError as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 64,
                                                            "end_token": 72,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 66,
                                                                    "end_token": 71,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 67,
                                                                            "end_token": 71,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 67,
                                                                                    "end_token": 67,
                                                                                    "children": [],
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 69,
                                                                                    "end_token": 70,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 70,
                                                                                            "end_token": 70,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 70,
                                                                                                    "end_token": 70,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 70,
                                                                                                            "end_token": 70,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 70,
                                                                                                                    "end_token": 70,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"Database query failed: {str(e)}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"Database query failed: {str(e)}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"Database query failed: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Database query failed: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Database query failed: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 73,
                                                    "end_token": 84,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 74,
                                                            "end_token": 76,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 74,
                                                                    "end_token": 74,
                                                                    "children": [],
                                                                    "label": "Exception"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 76,
                                                                    "end_token": 76,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "Exception as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 77,
                                                            "end_token": 84,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 79,
                                                                    "end_token": 84,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 80,
                                                                            "end_token": 84,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 80,
                                                                                    "end_token": 80,
                                                                                    "children": [],
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 82,
                                                                                    "end_token": 83,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 83,
                                                                                            "end_token": 83,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 83,
                                                                                                    "end_token": 83,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 83,
                                                                                                            "end_token": 83,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 83,
                                                                                                                    "end_token": 83,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"Unexpected error occurred: {str(e)}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"Unexpected error occurred: {str(e)}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"Unexpected error occurred: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Unexpected error occurred: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n        )\n        return featured_agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n    try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n        )\n        return featured_agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                }
                            ],
                            "label": "async def get_agent_featured(agent_id: str) -> prisma.models.FeaturedAgent | None:\n    \"\"\"Retrieve an agent's featured categories from the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n\n    Returns:\n        FeaturedAgentResponse: The list of featured agents.\n    \"\"\"\n    try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n        )\n        return featured_agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                        }
                    ],
                    "label": "async def get_agent_featured(agent_id: str) -> prisma.models.FeaturedAgent | None:\n    \"\"\"Retrieve an agent's featured categories from the database.\n\n    Args:\n        agent_id (str): The ID of the agent.\n\n    Returns:\n        FeaturedAgentResponse: The list of featured agents.\n    \"\"\"\n    try:\n        featured_agent = await prisma.models.FeaturedAgent.prisma().find_unique(\n            where={\"agentId\": agent_id},\n        )\n        return featured_agent\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_not_featured_agents",
            "start_line": 645,
            "end_line": 681,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 207,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 207,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 2,
                                    "label": "def get_not_featured_agents"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 17,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 9,
                                            "label": "page: int = 1"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 11,
                                            "end_token": 15,
                                            "label": "page_size: int = 10"
                                        }
                                    ],
                                    "label": "(\n    page: int = 1, page_size: int = 10\n)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 19,
                                    "end_token": 29,
                                    "children": [
                                        {
                                            "type": "generic_type",
                                            "start_token": 20,
                                            "end_token": 29,
                                            "children": [
                                                {
                                                    "type": "dotted_name",
                                                    "start_token": 20,
                                                    "end_token": 28,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "label": "typing"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 22,
                                                            "end_token": 22,
                                                            "label": "List"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 24,
                                                            "end_token": 24,
                                                            "label": "prisma"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 26,
                                                            "end_token": 26,
                                                            "label": "models"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 28,
                                                            "end_token": 28,
                                                            "label": "Agents"
                                                        }
                                                    ],
                                                    "label": "typing.List[prisma.models.Agents"
                                                }
                                            ],
                                            "label": "typing.List[prisma.models.Agents]"
                                        }
                                    ],
                                    "label": "> typing.List[prisma.models.Agents]"
                                },
                                {
                                    "type": "string",
                                    "start_token": 32,
                                    "end_token": 34,
                                    "label": "\"\"\"\n    Retrieve a list of not featured agents from the database.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 35,
                                    "end_token": 207,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 35,
                                            "end_token": 207,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 38,
                                                    "end_token": 177,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 39,
                                                            "end_token": 174,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 39,
                                                                    "end_token": 39,
                                                                    "label": "agents"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 41,
                                                                    "end_token": 174,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 42,
                                                                            "end_token": 174,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 42,
                                                                                    "end_token": 46,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 42,
                                                                                            "end_token": 46,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "label": "prisma"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 44,
                                                                                                    "end_token": 44,
                                                                                                    "label": "client"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 46,
                                                                                                    "end_token": 46,
                                                                                                    "label": "get_client"
                                                                                                }
                                                                                            ],
                                                                                            "label": "prisma.client.get_client"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.client.get_client"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 49,
                                                                                    "end_token": 50,
                                                                                    "label": ".query_raw"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 51,
                                                                                    "end_token": 174,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 53,
                                                                                            "end_token": 161,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 53,
                                                                                                    "end_token": 54,
                                                                                                    "label": "query="
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 56,
                                                                                                    "end_token": 161,
                                                                                                    "label": "\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \""
                                                                                                }
                                                                                            ],
                                                                                            "label": "query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \""
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 165,
                                                                                            "end_token": 171,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 165,
                                                                                                    "end_token": 165,
                                                                                                    "label": "model"
                                                                                                },
                                                                                                {
                                                                                                    "type": "dotted_name",
                                                                                                    "start_token": 167,
                                                                                                    "end_token": 171,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 167,
                                                                                                            "end_token": 167,
                                                                                                            "label": "prisma"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 169,
                                                                                                            "end_token": 169,
                                                                                                            "label": "models"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 171,
                                                                                                            "end_token": 171,
                                                                                                            "label": "Agents"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prisma.models.Agents"
                                                                                                }
                                                                                            ],
                                                                                            "label": "model=prisma.models.Agents"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "prisma.client.get_client().query_raw(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "await prisma.client.get_client().query_raw(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )"
                                                                }
                                                            ],
                                                            "label": "agents = await prisma.client.get_client().query_raw(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 176,
                                                            "end_token": 177,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 177,
                                                                    "end_token": 177,
                                                                    "label": "agents"
                                                                }
                                                            ],
                                                            "label": "return agents"
                                                        }
                                                    ],
                                                    "label": "\n        agents = await prisma.client.get_client().query_raw(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )\n        return agents"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 179,
                                                    "end_token": 194,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 180,
                                                            "end_token": 184,
                                                            "label": "prisma.errors.PrismaError"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 186,
                                                            "end_token": 186,
                                                            "label": "e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 187,
                                                            "end_token": 194,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 189,
                                                                    "end_token": 194,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 190,
                                                                            "end_token": 194,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 190,
                                                                                    "end_token": 190,
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 192,
                                                                                    "end_token": 193,
                                                                                    "label": "f\"Database query failed: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 196,
                                                    "end_token": 207,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 197,
                                                            "end_token": 197,
                                                            "label": "Exception"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 199,
                                                            "end_token": 199,
                                                            "label": "e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 200,
                                                            "end_token": 207,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 202,
                                                                    "end_token": 207,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 203,
                                                                            "end_token": 207,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 203,
                                                                                    "end_token": 203,
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 205,
                                                                                    "end_token": 206,
                                                                                    "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "\n    try:\n        agents = await prisma.client.get_client().query_raw(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )\n        return agents\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n    try:\n        agents = await prisma.client.get_client().query_raw(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )\n        return agents\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                }
                            ],
                            "label": "async def get_not_featured_agents(\n    page: int = 1, page_size: int = 10\n) -> typing.List[prisma.models.Agents]:\n    \"\"\"\n    Retrieve a list of not featured agents from the database.\n    \"\"\"\n    try:\n        agents = await prisma.client.get_client().query_raw(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )\n        return agents\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                        }
                    ],
                    "label": "async def get_not_featured_agents(\n    page: int = 1, page_size: int = 10\n) -> typing.List[prisma.models.Agents]:\n    \"\"\"\n    Retrieve a list of not featured agents from the database.\n    \"\"\"\n    try:\n        agents = await prisma.client.get_client().query_raw(\n            query=f\"\"\"\n            SELECT \n                \"market\".\"Agents\".id, \n                \"market\".\"Agents\".\"createdAt\", \n                \"market\".\"Agents\".\"updatedAt\", \n                \"market\".\"Agents\".version, \n                \"market\".\"Agents\".name, \n                LEFT(\"market\".\"Agents\".description, 500) AS description, \n                \"market\".\"Agents\".author, \n                \"market\".\"Agents\".keywords, \n                \"market\".\"Agents\".categories, \n                \"market\".\"Agents\".graph,\n                \"market\".\"Agents\".\"submissionStatus\",\n                \"market\".\"Agents\".\"submissionDate\",\n                \"market\".\"Agents\".search::text AS search\n            FROM \"market\".\"Agents\"\n            LEFT JOIN \"market\".\"FeaturedAgent\" ON \"market\".\"Agents\".\"id\" = \"market\".\"FeaturedAgent\".\"agentId\"\n            WHERE (\"market\".\"FeaturedAgent\".\"agentId\" IS NULL OR \"market\".\"FeaturedAgent\".\"featuredCategories\" = '{{}}')\n                AND \"market\".\"Agents\".\"submissionStatus\" = 'APPROVED'\n            ORDER BY \"market\".\"Agents\".\"createdAt\" DESC\n            LIMIT {page_size} OFFSET {page_size * (page - 1)}\n            \"\"\",\n            model=prisma.models.Agents,\n        )\n        return agents\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_all_categories",
            "start_line": 684,
            "end_line": 706,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 142,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 142,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "async"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 4,
                                    "label": "()"
                                },
                                {
                                    "type": "dotted_name",
                                    "start_token": 7,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 7,
                                            "end_token": 7,
                                            "label": "market"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 9,
                                            "end_token": 9,
                                            "label": "model"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 11,
                                            "end_token": 11,
                                            "label": "CategoriesResponse"
                                        }
                                    ],
                                    "label": "market.model.CategoriesResponse"
                                },
                                {
                                    "type": "string",
                                    "start_token": 15,
                                    "end_token": 15,
                                    "label": "\"\n    Retrieve all unique categories from the database.\n\n    Returns:\n        CategoriesResponse: A list of unique categories.\n    \""
                                },
                                {
                                    "type": "block",
                                    "start_token": 17,
                                    "end_token": 142,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 18,
                                            "end_token": 142,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 19,
                                                    "end_token": 95,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 21,
                                                            "end_token": 41,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "label": "agents"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 23,
                                                                    "end_token": 41,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 24,
                                                                            "end_token": 41,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 24,
                                                                                    "end_token": 30,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 24,
                                                                                            "end_token": 24,
                                                                                            "label": "prisma"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 26,
                                                                                            "end_token": 26,
                                                                                            "label": "models"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 28,
                                                                                            "end_token": 28,
                                                                                            "label": "Agents"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 30,
                                                                                            "end_token": 30,
                                                                                            "label": "prisma"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.models.Agents.prisma"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 33,
                                                                                    "end_token": 41,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 34,
                                                                                            "end_token": 34,
                                                                                            "label": "find_many"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 35,
                                                                                            "end_token": 41,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 36,
                                                                                                    "end_token": 40,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 36,
                                                                                                            "end_token": 36,
                                                                                                            "label": "distinct"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "list",
                                                                                                            "start_token": 38,
                                                                                                            "end_token": 40,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 39,
                                                                                                                    "end_token": 39,
                                                                                                                    "label": "\"categories\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "[\"categories\"]"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "distinct=[\"categories\"]"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(distinct=[\"categories\"])"
                                                                                        }
                                                                                    ],
                                                                                    "label": ".find_many(distinct=[\"categories\"])"
                                                                                }
                                                                            ],
                                                                            "label": "prisma.models.Agents.prisma().find_many(distinct=[\"categories\"])"
                                                                        }
                                                                    ],
                                                                    "label": "await prisma.models.Agents.prisma().find_many(distinct=[\"categories\"])"
                                                                }
                                                            ],
                                                            "label": "agents = await prisma.models.Agents.prisma().find_many(distinct=[\"categories\"])"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 52,
                                                            "end_token": 56,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 52,
                                                                    "end_token": 52,
                                                                    "label": "all_categories"
                                                                },
                                                                {
                                                                    "type": "set",
                                                                    "start_token": 55,
                                                                    "end_token": 56,
                                                                    "label": "()"
                                                                }
                                                            ],
                                                            "label": "all_categories = set()"
                                                        },
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 58,
                                                            "end_token": 71,
                                                            "children": [
                                                                {
                                                                    "type": "for_in_clause",
                                                                    "start_token": 58,
                                                                    "end_token": 61,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 59,
                                                                            "end_token": 59,
                                                                            "label": "agent"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 61,
                                                                            "end_token": 61,
                                                                            "label": "agents"
                                                                        }
                                                                    ],
                                                                    "label": "for agent in agents"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 62,
                                                                    "end_token": 71,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 64,
                                                                            "end_token": 71,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 64,
                                                                                    "end_token": 65,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 64,
                                                                                            "end_token": 64,
                                                                                            "label": "all_categories"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 65,
                                                                                            "end_token": 65,
                                                                                            "label": "."
                                                                                        }
                                                                                    ],
                                                                                    "label": "all_categories."
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 67,
                                                                                    "end_token": 71,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 68,
                                                                                            "end_token": 70,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 68,
                                                                                                    "end_token": 68,
                                                                                                    "label": "agent"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 70,
                                                                                                    "end_token": 70,
                                                                                                    "label": "categories"
                                                                                                }
                                                                                            ],
                                                                                            "label": "agent.categories"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(agent.categories)"
                                                                                }
                                                                            ],
                                                                            "label": "all_categories.update(agent.categories)"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            all_categories.update(agent.categories)"
                                                                }
                                                            ],
                                                            "label": "for agent in agents:\n            all_categories.update(agent.categories)"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 74,
                                                            "end_token": 82,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 74,
                                                                    "end_token": 74,
                                                                    "label": "unique_categories"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 76,
                                                                    "end_token": 82,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 76,
                                                                            "end_token": 76,
                                                                            "label": "sorted"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 77,
                                                                            "end_token": 82,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 79,
                                                                                    "end_token": 81,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 79,
                                                                                            "end_token": 79,
                                                                                            "label": "("
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 80,
                                                                                            "end_token": 81,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 80,
                                                                                                    "end_token": 80,
                                                                                                    "label": "all_categories"
                                                                                                }
                                                                                            ],
                                                                                            "label": "all_categories)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(all_categories)"
                                                                                }
                                                                            ],
                                                                            "label": "(list(all_categories))"
                                                                        }
                                                                    ],
                                                                    "label": "sorted(list(all_categories))"
                                                                }
                                                            ],
                                                            "label": "unique_categories = sorted(list(all_categories))"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 85,
                                                            "end_token": 95,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 86,
                                                                    "end_token": 95,
                                                                    "children": [
                                                                        {
                                                                            "type": "dotted_name",
                                                                            "start_token": 86,
                                                                            "end_token": 90,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 86,
                                                                                    "end_token": 86,
                                                                                    "label": "market"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 88,
                                                                                    "end_token": 88,
                                                                                    "label": "model"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 90,
                                                                                    "end_token": 90,
                                                                                    "label": "CategoriesResponse"
                                                                                }
                                                                            ],
                                                                            "label": "market.model.CategoriesResponse"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 91,
                                                                            "end_token": 95,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 92,
                                                                                    "end_token": 94,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 92,
                                                                                            "end_token": 92,
                                                                                            "label": "unique_categories"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 94,
                                                                                            "end_token": 94,
                                                                                            "label": "unique_categories"
                                                                                        }
                                                                                    ],
                                                                                    "label": "unique_categories=unique_categories"
                                                                                }
                                                                            ],
                                                                            "label": "(unique_categories=unique_categories)"
                                                                        }
                                                                    ],
                                                                    "label": "market.model.CategoriesResponse(unique_categories=unique_categories)"
                                                                }
                                                            ],
                                                            "label": "return market.model.CategoriesResponse(unique_categories=unique_categories)"
                                                        }
                                                    ],
                                                    "label": ":\n        agents = await prisma.models.Agents.prisma().find_many(distinct=[\"categories\"])\n\n        # Aggregate categories on the Python side\n        all_categories = set()\n        for agent in agents:\n            all_categories.update(agent.categories)\n\n        unique_categories = sorted(list(all_categories))\n\n        return market.model.CategoriesResponse(unique_categories=unique_categories)"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 97,
                                                    "end_token": 112,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 98,
                                                            "end_token": 102,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 98,
                                                                    "end_token": 101,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 98,
                                                                            "end_token": 98,
                                                                            "label": "prisma"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 100,
                                                                            "end_token": 100,
                                                                            "label": "errors"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 102,
                                                                            "end_token": 102,
                                                                            "label": "PrismaError"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.errors."
                                                                }
                                                            ],
                                                            "label": "prisma.errors.PrismaError"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 104,
                                                            "end_token": 104,
                                                            "label": "e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 105,
                                                            "end_token": 112,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 107,
                                                                    "end_token": 112,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 108,
                                                                            "end_token": 112,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 108,
                                                                                    "end_token": 108,
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 109,
                                                                                    "end_token": 112,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 110,
                                                                                            "end_token": 111,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 110,
                                                                                                    "end_token": 110,
                                                                                                    "label": "f"
                                                                                                },
                                                                                                {
                                                                                                    "type": "format_specifier",
                                                                                                    "start_token": 111,
                                                                                                    "end_token": 111,
                                                                                                    "label": "\"Database query failed: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Database query failed: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Database query failed: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 114,
                                                    "end_token": 142,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 115,
                                                            "end_token": 115,
                                                            "label": "Exception"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 116,
                                                            "end_token": 142,
                                                            "children": [
                                                                {
                                                                    "type": "comment",
                                                                    "start_token": 118,
                                                                    "end_token": 130,
                                                                    "label": "# Return an empty list of categories in case of unexpected errors\n"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 131,
                                                                    "end_token": 141,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 132,
                                                                            "end_token": 141,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 132,
                                                                                    "end_token": 136,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 132,
                                                                                            "end_token": 132,
                                                                                            "label": "market"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 134,
                                                                                            "end_token": 134,
                                                                                            "label": "model"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 136,
                                                                                            "end_token": 136,
                                                                                            "label": "CategoriesResponse"
                                                                                        }
                                                                                    ],
                                                                                    "label": "market.model.CategoriesResponse"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 137,
                                                                                    "end_token": 141,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 138,
                                                                                            "end_token": 140,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 138,
                                                                                                    "end_token": 138,
                                                                                                    "label": "unique_categories"
                                                                                                },
                                                                                                {
                                                                                                    "type": "list",
                                                                                                    "start_token": 140,
                                                                                                    "end_token": 140,
                                                                                                    "label": "["
                                                                                                }
                                                                                            ],
                                                                                            "label": "unique_categories=["
                                                                                        }
                                                                                    ],
                                                                                    "label": "(unique_categories=[]"
                                                                                }
                                                                            ],
                                                                            "label": "market.model.CategoriesResponse(unique_categories=[]"
                                                                        }
                                                                    ],
                                                                    "label": "return market.model.CategoriesResponse(unique_categories=[]"
                                                                }
                                                            ],
                                                            "label": ":\n        # Return an empty list of categories in case of unexpected errors\n        return market.model.CategoriesResponse(unique_categories=[])"
                                                        }
                                                    ],
                                                    "label": "except Exception:\n        # Return an empty list of categories in case of unexpected errors\n        return market.model.CategoriesResponse(unique_categories=[])"
                                                }
                                            ],
                                            "label": "try:\n        agents = await prisma.models.Agents.prisma().find_many(distinct=[\"categories\"])\n\n        # Aggregate categories on the Python side\n        all_categories = set()\n        for agent in agents:\n            all_categories.update(agent.categories)\n\n        unique_categories = sorted(list(all_categories))\n\n        return market.model.CategoriesResponse(unique_categories=unique_categories)\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception:\n        # Return an empty list of categories in case of unexpected errors\n        return market.model.CategoriesResponse(unique_categories=[])"
                                        }
                                    ],
                                    "label": "\n    try:\n        agents = await prisma.models.Agents.prisma().find_many(distinct=[\"categories\"])\n\n        # Aggregate categories on the Python side\n        all_categories = set()\n        for agent in agents:\n            all_categories.update(agent.categories)\n\n        unique_categories = sorted(list(all_categories))\n\n        return market.model.CategoriesResponse(unique_categories=unique_categories)\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception:\n        # Return an empty list of categories in case of unexpected errors\n        return market.model.CategoriesResponse(unique_categories=[])"
                                }
                            ],
                            "label": "async def get_all_categories() -> market.model.CategoriesResponse:\n    \"\"\"\n    Retrieve all unique categories from the database.\n\n    Returns:\n        CategoriesResponse: A list of unique categories.\n    \"\"\"\n    try:\n        agents = await prisma.models.Agents.prisma().find_many(distinct=[\"categories\"])\n\n        # Aggregate categories on the Python side\n        all_categories = set()\n        for agent in agents:\n            all_categories.update(agent.categories)\n\n        unique_categories = sorted(list(all_categories))\n\n        return market.model.CategoriesResponse(unique_categories=unique_categories)\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception:\n        # Return an empty list of categories in case of unexpected errors\n        return market.model.CategoriesResponse(unique_categories=[])"
                        }
                    ],
                    "label": "async def get_all_categories() -> market.model.CategoriesResponse:\n    \"\"\"\n    Retrieve all unique categories from the database.\n\n    Returns:\n        CategoriesResponse: A list of unique categories.\n    \"\"\"\n    try:\n        agents = await prisma.models.Agents.prisma().find_many(distinct=[\"categories\"])\n\n        # Aggregate categories on the Python side\n        all_categories = set()\n        for agent in agents:\n            all_categories.update(agent.categories)\n\n        unique_categories = sorted(list(all_categories))\n\n        return market.model.CategoriesResponse(unique_categories=unique_categories)\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception:\n        # Return an empty list of categories in case of unexpected errors\n        return market.model.CategoriesResponse(unique_categories=[])"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "create_agent_installed_event",
            "start_line": 709,
            "end_line": 725,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 103,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 102,
                            "children": [
                                {
                                    "type": "async",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "create_agent_installed_event"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 14,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "event_data"
                                                },
                                                {
                                                    "type": "attribute",
                                                    "start_token": 7,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 7,
                                                            "end_token": 10,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "market"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 9,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": "model"
                                                                }
                                                            ],
                                                            "label": "market.model."
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": [],
                                                            "label": "AgentInstalledFromMarketplaceEventData"
                                                        }
                                                    ],
                                                    "label": "market.model.AgentInstalledFromMarketplaceEventData"
                                                }
                                            ],
                                            "label": "event_data: market.model.AgentInstalledFromMarketplaceEventData"
                                        }
                                    ],
                                    "label": "(\n    event_data: market.model.AgentInstalledFromMarketplaceEventData,\n)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 16,
                                    "end_token": 102,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 17,
                                            "end_token": 102,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 19,
                                                    "end_token": 72,
                                                    "children": [
                                                        {
                                                            "type": "await",
                                                            "start_token": 20,
                                                            "end_token": 72,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 21,
                                                                    "end_token": 72,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 21,
                                                                            "end_token": 31,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 21,
                                                                                    "end_token": 27,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 21,
                                                                                            "end_token": 25,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 21,
                                                                                                    "end_token": 21,
                                                                                                    "children": [],
                                                                                                    "label": "prisma"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 23,
                                                                                                    "end_token": 23,
                                                                                                    "children": [],
                                                                                                    "label": "models"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 25,
                                                                                                    "end_token": 25,
                                                                                                    "children": [],
                                                                                                    "label": "InstallTracker"
                                                                                                }
                                                                                            ],
                                                                                            "label": "prisma.models.InstallTracker"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 27,
                                                                                            "end_token": 27,
                                                                                            "children": [],
                                                                                            "label": "prisma"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.models.InstallTracker.prisma"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 31,
                                                                                    "end_token": 31,
                                                                                    "children": [],
                                                                                    "label": "create"
                                                                                }
                                                                            ],
                                                                            "label": "prisma.models.InstallTracker.prisma().create"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 32,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 34,
                                                                                    "end_token": 70,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 34,
                                                                                            "end_token": 34,
                                                                                            "children": [],
                                                                                            "label": "data"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 36,
                                                                                            "end_token": 70,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 38,
                                                                                                    "end_token": 43,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 38,
                                                                                                            "end_token": 38,
                                                                                                            "children": [],
                                                                                                            "label": "\"installedAgentId\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 40,
                                                                                                            "end_token": 42,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 40,
                                                                                                                    "end_token": 40,
                                                                                                                    "children": [],
                                                                                                                    "label": "event_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 42,
                                                                                                                    "end_token": 42,
                                                                                                                    "children": [],
                                                                                                                    "label": "installed_agent_id"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "event_data.installed_agent_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"installedAgentId\": event_data.installed_agent_id,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 45,
                                                                                                    "end_token": 50,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 45,
                                                                                                            "end_token": 45,
                                                                                                            "children": [],
                                                                                                            "label": "\"marketplaceAgentId\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 47,
                                                                                                            "end_token": 49,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 47,
                                                                                                                    "end_token": 47,
                                                                                                                    "children": [],
                                                                                                                    "label": "event_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 49,
                                                                                                                    "end_token": 49,
                                                                                                                    "children": [],
                                                                                                                    "label": "marketplace_agent_id"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "event_data.marketplace_agent_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"marketplaceAgentId\": event_data.marketplace_agent_id,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 52,
                                                                                                    "end_token": 68,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 52,
                                                                                                            "end_token": 52,
                                                                                                            "children": [],
                                                                                                            "label": "\"installationLocation\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 54,
                                                                                                            "end_token": 67,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 54,
                                                                                                                    "end_token": 58,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "dotted_name",
                                                                                                                            "start_token": 54,
                                                                                                                            "end_token": 56,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 54,
                                                                                                                                    "end_token": 54,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "prisma"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 56,
                                                                                                                                    "end_token": 56,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "enums"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "prisma.enums"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 58,
                                                                                                                            "end_token": 58,
                                                                                                                            "children": [],
                                                                                                                            "label": "InstallationLocation"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "prisma.enums.InstallationLocation"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 61,
                                                                                                                    "end_token": 65,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 61,
                                                                                                                            "end_token": 63,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 61,
                                                                                                                                    "end_token": 61,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "event_data"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 63,
                                                                                                                                    "end_token": 63,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "installation_location"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "event_data.installation_location"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 65,
                                                                                                                            "end_token": 65,
                                                                                                                            "children": [],
                                                                                                                            "label": "name"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "event_data.installation_location.name"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                )"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),"
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }"
                                                                                        }
                                                                                    ],
                                                                                    "label": "data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.models.InstallTracker.prisma().create(\n            data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }\n        )"
                                                                }
                                                            ],
                                                            "label": "await prisma.models.InstallTracker.prisma().create(\n            data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }\n        )"
                                                        }
                                                    ],
                                                    "label": "\n        await prisma.models.InstallTracker.prisma().create(\n            data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }\n        )"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 74,
                                                    "end_token": 89,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 74,
                                                            "end_token": 81,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 75,
                                                                    "end_token": 79,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 75,
                                                                            "end_token": 77,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 75,
                                                                                    "end_token": 77,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 75,
                                                                                            "end_token": 75,
                                                                                            "children": [],
                                                                                            "label": "prisma"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 77,
                                                                                            "end_token": 77,
                                                                                            "children": [],
                                                                                            "label": "errors"
                                                                                        }
                                                                                    ],
                                                                                    "label": "prisma.errors"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 79,
                                                                                    "end_token": 79,
                                                                                    "children": [],
                                                                                    "label": "PrismaError"
                                                                                }
                                                                            ],
                                                                            "label": "prisma.errors"
                                                                        }
                                                                    ],
                                                                    "label": "prisma.errors.PrismaError"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 81,
                                                                    "end_token": 81,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "except prisma.errors.PrismaError as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 82,
                                                            "end_token": 89,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 84,
                                                                    "end_token": 89,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 85,
                                                                            "end_token": 89,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 85,
                                                                                    "end_token": 85,
                                                                                    "children": [],
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 86,
                                                                                    "end_token": 89,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "interpolation",
                                                                                            "start_token": 87,
                                                                                            "end_token": 88,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 87,
                                                                                                    "end_token": 87,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Database query failed: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Database query failed: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 91,
                                                    "end_token": 102,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 91,
                                                            "end_token": 94,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 92,
                                                                    "end_token": 92,
                                                                    "children": [],
                                                                    "label": "Exception"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 94,
                                                                    "end_token": 94,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "except Exception as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 95,
                                                            "end_token": 102,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 97,
                                                                    "end_token": 102,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 98,
                                                                            "end_token": 102,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 98,
                                                                                    "end_token": 98,
                                                                                    "children": [],
                                                                                    "label": "AgentQueryError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 99,
                                                                                    "end_token": 102,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "interpolation",
                                                                                            "start_token": 100,
                                                                                            "end_token": 101,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 100,
                                                                                                    "end_token": 100,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Unexpected error occurred: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Unexpected error occurred: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        await prisma.models.InstallTracker.prisma().create(\n            data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }\n        )\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n    try:\n        await prisma.models.InstallTracker.prisma().create(\n            data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }\n        )\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                                }
                            ],
                            "label": "async def create_agent_installed_event(\n    event_data: market.model.AgentInstalledFromMarketplaceEventData,\n):\n    try:\n        await prisma.models.InstallTracker.prisma().create(\n            data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }\n        )\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")"
                        }
                    ],
                    "label": "async def create_agent_installed_event(\n    event_data: market.model.AgentInstalledFromMarketplaceEventData,\n):\n    try:\n        await prisma.models.InstallTracker.prisma().create(\n            data={\n                \"installedAgentId\": event_data.installed_agent_id,\n                \"marketplaceAgentId\": event_data.marketplace_agent_id,\n                \"installationLocation\": prisma.enums.InstallationLocation(\n                    event_data.installation_location.name\n                ),\n            }\n        )\n    except prisma.errors.PrismaError as e:\n        raise AgentQueryError(f\"Database query failed: {str(e)}\")\n    except Exception as e:\n        raise AgentQueryError(f\"Unexpected error occurred: {str(e)}\")\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AgentQueryError",
            "start_line": 15,
            "end_line": 18,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 12,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "AgentQueryError"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "Exception"
                                        }
                                    ],
                                    "label": "(Exception)"
                                },
                                {
                                    "type": "string",
                                    "start_token": 7,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "string_content",
                                            "start_token": 8,
                                            "end_token": 8,
                                            "children": [],
                                            "label": "\"Custom exception for agent query errors\""
                                        }
                                    ],
                                    "label": "\"\"\"Custom exception for agent query errors\"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 11,
                                    "end_token": 12,
                                    "children": [
                                        {
                                            "type": "pass_statement",
                                            "start_token": 12,
                                            "end_token": 12,
                                            "children": [],
                                            "label": "pass"
                                        }
                                    ],
                                    "label": "\n    pass"
                                }
                            ],
                            "label": "class AgentQueryError(Exception):\n    \"\"\"Custom exception for agent query errors\"\"\"\n\n    pass"
                        }
                    ],
                    "label": "class AgentQueryError(Exception):\n    \"\"\"Custom exception for agent query errors\"\"\"\n\n    pass"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "TopAgentsDBResponse",
            "start_line": 21,
            "end_line": 37,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 39,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 39,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "TopAgentsDBResponse"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "start_token": 3,
                                            "end_token": 5,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "label": "pydantic"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "BaseModel"
                                                }
                                            ],
                                            "label": "pydantic.BaseModel"
                                        }
                                    ],
                                    "label": "(pydantic.BaseModel)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 7,
                                    "end_token": 39,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "label": "\"\"\"\n    Represents a response containing a list of top agents.\n\n    Attributes:\n        analytics (list[AgentResponse]): The list of top agents.\n        total_count (int): The total count of agents.\n        page (int): The current page number.\n        page_size (int): The number of agents per page.\n        total_pages (int): The total number of pages.\n    \"\"\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 14,
                                            "end_token": 23,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "label": "analytics"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 16,
                                                    "end_token": 23,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 16,
                                                            "end_token": 16,
                                                            "label": "list"
                                                        },
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 18,
                                                            "end_token": 22,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 18,
                                                                    "end_token": 18,
                                                                    "label": "prisma"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 20,
                                                                    "end_token": 22,
                                                                    "label": "models.AnalyticsTracker"
                                                                }
                                                            ],
                                                            "label": "prisma.models.AnalyticsTracker"
                                                        }
                                                    ],
                                                    "label": "list[prisma.models.AnalyticsTracker]"
                                                }
                                            ],
                                            "label": "analytics: list[prisma.models.AnalyticsTracker]"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 25,
                                            "end_token": 27,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "label": "total_count"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "total_count: int"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 29,
                                            "end_token": 31,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 29,
                                                    "end_token": 29,
                                                    "label": "page"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 31,
                                                    "end_token": 31,
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "page: int"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 33,
                                            "end_token": 35,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 33,
                                                    "end_token": 33,
                                                    "label": "page_size"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 35,
                                                    "end_token": 35,
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "page_size: int"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 37,
                                            "end_token": 39,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "label": "total_pages"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 39,
                                                    "end_token": 39,
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "total_pages: int"
                                        }
                                    ],
                                    "label": ":\n    \"\"\"\n    Represents a response containing a list of top agents.\n\n    Attributes:\n        analytics (list[AgentResponse]): The list of top agents.\n        total_count (int): The total count of agents.\n        page (int): The current page number.\n        page_size (int): The number of agents per page.\n        total_pages (int): The total number of pages.\n    \"\"\"\n\n    analytics: list[prisma.models.AnalyticsTracker]\n    total_count: int\n    page: int\n    page_size: int\n    total_pages: int"
                                }
                            ],
                            "label": "class TopAgentsDBResponse(pydantic.BaseModel):\n    \"\"\"\n    Represents a response containing a list of top agents.\n\n    Attributes:\n        analytics (list[AgentResponse]): The list of top agents.\n        total_count (int): The total count of agents.\n        page (int): The current page number.\n        page_size (int): The number of agents per page.\n        total_pages (int): The total number of pages.\n    \"\"\"\n\n    analytics: list[prisma.models.AnalyticsTracker]\n    total_count: int\n    page: int\n    page_size: int\n    total_pages: int"
                        }
                    ],
                    "label": "class TopAgentsDBResponse(pydantic.BaseModel):\n    \"\"\"\n    Represents a response containing a list of top agents.\n\n    Attributes:\n        analytics (list[AgentResponse]): The list of top agents.\n        total_count (int): The total count of agents.\n        page (int): The current page number.\n        page_size (int): The number of agents per page.\n        total_pages (int): The total number of pages.\n    \"\"\"\n\n    analytics: list[prisma.models.AnalyticsTracker]\n    total_count: int\n    page: int\n    page_size: int\n    total_pages: int"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "FeaturedAgentResponse",
            "start_line": 40,
            "end_line": 56,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 40,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 40,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "FeaturedAgentResponse"
                                },
                                {
                                    "type": "generic_type",
                                    "start_token": 3,
                                    "end_token": 5,
                                    "children": [
                                        {
                                            "type": "dotted_name",
                                            "start_token": 3,
                                            "end_token": 5,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "label": "pydantic"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "BaseModel"
                                                }
                                            ],
                                            "label": "pydantic.BaseModel"
                                        }
                                    ],
                                    "label": "pydantic.BaseModel"
                                },
                                {
                                    "type": "block",
                                    "start_token": 8,
                                    "end_token": 40,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "label": "\"\"\"\n    Represents a response containing a list of featured agents.\n\n    Attributes:\n        featured_agents (list[FeaturedAgent]): The list of featured agents.\n        total_count (int): The total count of featured agents.\n        page (int): The current page number.\n        page_size (int): The number of agents per page.\n        total_pages (int): The total number of pages.\n    \"\"\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 14,
                                            "end_token": 23,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "label": "featured_agents"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 16,
                                                    "end_token": 22,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 18,
                                                            "end_token": 22,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 18,
                                                                    "end_token": 18,
                                                                    "label": "prisma"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "label": "models"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 22,
                                                                    "end_token": 22,
                                                                    "label": "FeaturedAgent"
                                                                }
                                                            ],
                                                            "label": "prisma.models.FeaturedAgent"
                                                        }
                                                    ],
                                                    "label": "list[prisma.models.FeaturedAgent"
                                                }
                                            ],
                                            "label": "featured_agents: list[prisma.models.FeaturedAgent]"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 25,
                                            "end_token": 27,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "label": "total_count"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "total_count: int"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 29,
                                            "end_token": 31,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 29,
                                                    "end_token": 29,
                                                    "label": "page"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 31,
                                                    "end_token": 31,
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "page: int"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 33,
                                            "end_token": 35,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 33,
                                                    "end_token": 33,
                                                    "label": "page_size"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 35,
                                                    "end_token": 35,
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "page_size: int"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 37,
                                            "end_token": 39,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "label": "total_pages"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 39,
                                                    "end_token": 39,
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "total_pages: int"
                                        }
                                    ],
                                    "label": "\n    \"\"\"\n    Represents a response containing a list of featured agents.\n\n    Attributes:\n        featured_agents (list[FeaturedAgent]): The list of featured agents.\n        total_count (int): The total count of featured agents.\n        page (int): The current page number.\n        page_size (int): The number of agents per page.\n        total_pages (int): The total number of pages.\n    \"\"\"\n\n    featured_agents: list[prisma.models.FeaturedAgent]\n    total_count: int\n    page: int\n    page_size: int\n    total_pages: int\n"
                                }
                            ],
                            "label": "class FeaturedAgentResponse(pydantic.BaseModel):\n    \"\"\"\n    Represents a response containing a list of featured agents.\n\n    Attributes:\n        featured_agents (list[FeaturedAgent]): The list of featured agents.\n        total_count (int): The total count of featured agents.\n        page (int): The current page number.\n        page_size (int): The number of agents per page.\n        total_pages (int): The total number of pages.\n    \"\"\"\n\n    featured_agents: list[prisma.models.FeaturedAgent]\n    total_count: int\n    page: int\n    page_size: int\n    total_pages: int\n"
                        }
                    ],
                    "label": "class FeaturedAgentResponse(pydantic.BaseModel):\n    \"\"\"\n    Represents a response containing a list of featured agents.\n\n    Attributes:\n        featured_agents (list[FeaturedAgent]): The list of featured agents.\n        total_count (int): The total count of featured agents.\n        page (int): The current page number.\n        page_size (int): The number of agents per page.\n        total_pages (int): The total number of pages.\n    \"\"\"\n\n    featured_agents: list[prisma.models.FeaturedAgent]\n    total_count: int\n    page: int\n    page_size: int\n    total_pages: int\n"
                }
            ]
        }
    ],
    "label": "import datetime\nimport typing\n\nimport fuzzywuzzy.fuzz\nimport prisma.enums\nimport prisma.errors\nimport prisma.models\nimport prisma.types\nimport pydantic\n\nimport market.model\nimport market.utils.extension_types\n"
}