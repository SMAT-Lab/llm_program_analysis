{
    "type": "module",
    "start_token": 0,
    "end_token": 302,
    "children": [
        {
            "type": "import_statement",
            "start_token": 0,
            "end_token": 2,
            "children": [],
            "label": "import ast\n"
        },
        {
            "type": "import_statement",
            "start_token": 3,
            "end_token": 5,
            "children": [],
            "label": "import logging\n"
        },
        {
            "type": "import_from_statement",
            "start_token": 6,
            "end_token": 11,
            "children": [],
            "label": "from enum import Enum, EnumMeta"
        },
        {
            "type": "import_from_statement",
            "start_token": 13,
            "end_token": 16,
            "children": [],
            "label": "from json import JSONDecodeError"
        },
        {
            "type": "import_from_statement",
            "start_token": 18,
            "end_token": 21,
            "children": [],
            "label": "from types import MappingProxyType"
        },
        {
            "type": "import_from_statement",
            "start_token": 23,
            "end_token": 34,
            "children": [],
            "label": "from typing import TYPE_CHECKING, Any, List, Literal, NamedTuple"
        },
        {
            "type": "import_from_statement",
            "start_token": 37,
            "end_token": 40,
            "children": [],
            "label": "from pydantic import SecretStr"
        },
        {
            "type": "import_from_statement",
            "start_token": 43,
            "end_token": 50,
            "children": [],
            "label": "from backend.integrations.providers import ProviderName"
        },
        {
            "type": "if_statement",
            "start_token": 53,
            "end_token": 61,
            "children": [
                {
                    "type": "import_from_statement",
                    "start_token": 57,
                    "end_token": 60,
                    "children": [],
                    "label": "from enum import _EnumMemberT"
                }
            ],
            "label": "if TYPE_CHECKING:\n    from enum import _EnumMemberT\n"
        },
        {
            "type": "import_statement",
            "start_token": 63,
            "end_token": 65,
            "children": [],
            "label": "import anthropic\n"
        },
        {
            "type": "import_statement",
            "start_token": 66,
            "end_token": 68,
            "children": [],
            "label": "import ollama\n"
        },
        {
            "type": "import_statement",
            "start_token": 69,
            "end_token": 71,
            "children": [],
            "label": "import openai\n"
        },
        {
            "type": "import_from_statement",
            "start_token": 72,
            "end_token": 75,
            "children": [],
            "label": "from groq import Groq"
        },
        {
            "type": "import_from_statement",
            "start_token": 78,
            "end_token": 91,
            "children": [],
            "label": "from backend.data.block import Block, BlockCategory, BlockOutput, BlockSchema"
        },
        {
            "type": "import_from_statement",
            "start_token": 93,
            "end_token": 114,
            "children": [],
            "label": "from backend.data.model import (\n    APIKeyCredentials,\n    CredentialsField,\n    CredentialsMetaInput,\n    SchemaField,\n)"
        },
        {
            "type": "import_from_statement",
            "start_token": 116,
            "end_token": 122,
            "children": [],
            "label": "from backend.util import json\n"
        },
        {
            "type": "import_from_statement",
            "start_token": 123,
            "end_token": 133,
            "children": [],
            "label": "from backend.util.settings import BehaveAs, Settings\n"
        },
        {
            "type": "assignment",
            "start_token": 135,
            "end_token": 142,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 137,
                    "end_token": 139,
                    "children": [],
                    "label": "logging.getLogger"
                },
                {
                    "type": "call",
                    "start_token": 139,
                    "end_token": 142,
                    "children": [],
                    "label": "getLogger(__name__)"
                }
            ],
            "label": "logger = logging.getLogger(__name__)"
        },
        {
            "type": "assignment",
            "start_token": 145,
            "end_token": 175,
            "children": [
                {
                    "type": "list",
                    "start_token": 148,
                    "end_token": 175,
                    "children": [
                        {
                            "type": "attribute",
                            "start_token": 150,
                            "end_token": 152,
                            "children": [],
                            "label": "ProviderName.ANTHROPIC"
                        },
                        {
                            "type": "attribute",
                            "start_token": 155,
                            "end_token": 157,
                            "children": [],
                            "label": "ProviderName.GROQ"
                        },
                        {
                            "type": "attribute",
                            "start_token": 160,
                            "end_token": 162,
                            "children": [],
                            "label": "ProviderName.OLLAMA"
                        },
                        {
                            "type": "attribute",
                            "start_token": 165,
                            "end_token": 167,
                            "children": [],
                            "label": "ProviderName.OPENAI"
                        },
                        {
                            "type": "attribute",
                            "start_token": 170,
                            "end_token": 172,
                            "children": [],
                            "label": "ProviderName.OPEN_ROUTER"
                        }
                    ],
                    "label": "[\n    ProviderName.ANTHROPIC,\n    ProviderName.GROQ,\n    ProviderName.OLLAMA,\n    ProviderName.OPENAI,\n    ProviderName.OPEN_ROUTER,\n]"
                }
            ],
            "label": "LLMProviderName = Literal[\n    ProviderName.ANTHROPIC,\n    ProviderName.GROQ,\n    ProviderName.OLLAMA,\n    ProviderName.OPENAI,\n    ProviderName.OPEN_ROUTER,\n]"
        },
        {
            "type": "assignment",
            "start_token": 177,
            "end_token": 187,
            "children": [
                {
                    "type": "generic_type",
                    "start_token": 179,
                    "end_token": 187,
                    "children": [
                        {
                            "type": "generic_type",
                            "start_token": 181,
                            "end_token": 187,
                            "children": [
                                {
                                    "type": "list",
                                    "start_token": 184,
                                    "end_token": 187,
                                    "children": [],
                                    "label": "[\"api_key\"]]"
                                }
                            ],
                            "label": "LLMProviderName, Literal[\"api_key\"]]"
                        }
                    ],
                    "label": "CredentialsMetaInput[LLMProviderName, Literal[\"api_key\"]]"
                }
            ],
            "label": "AICredentials = CredentialsMetaInput[LLMProviderName, Literal[\"api_key\"]]"
        },
        {
            "type": "assignment",
            "start_token": 190,
            "end_token": 223,
            "children": [
                {
                    "type": "call",
                    "start_token": 192,
                    "end_token": 223,
                    "children": [
                        {
                            "type": "pair",
                            "start_token": 195,
                            "end_token": 198,
                            "children": [],
                            "label": "id=\"ed55ac19-356e-4243-a6cb-bc599e9b716f\","
                        },
                        {
                            "type": "pair",
                            "start_token": 200,
                            "end_token": 203,
                            "children": [],
                            "label": "provider=\"openai\","
                        },
                        {
                            "type": "pair",
                            "start_token": 205,
                            "end_token": 211,
                            "children": [
                                {
                                    "type": "call",
                                    "start_token": 207,
                                    "end_token": 211,
                                    "children": [],
                                    "label": "SecretStr(\"mock-openai-api-key\"),"
                                }
                            ],
                            "label": "api_key=SecretStr(\"mock-openai-api-key\"),"
                        },
                        {
                            "type": "pair",
                            "start_token": 213,
                            "end_token": 216,
                            "children": [],
                            "label": "title=\"Mock OpenAI API key\","
                        },
                        {
                            "type": "pair",
                            "start_token": 218,
                            "end_token": 221,
                            "children": [],
                            "label": "expires_at=None,"
                        }
                    ],
                    "label": "APIKeyCredentials(\n    id=\"ed55ac19-356e-4243-a6cb-bc599e9b716f\",\n    provider=\"openai\",\n    api_key=SecretStr(\"mock-openai-api-key\"),\n    title=\"Mock OpenAI API key\",\n    expires_at=None,\n)"
                }
            ],
            "label": "TEST_CREDENTIALS = APIKeyCredentials(\n    id=\"ed55ac19-356e-4243-a6cb-bc599e9b716f\",\n    provider=\"openai\",\n    api_key=SecretStr(\"mock-openai-api-key\"),\n    title=\"Mock OpenAI API key\",\n    expires_at=None,\n)"
        },
        {
            "type": "assignment",
            "start_token": 225,
            "end_token": 257,
            "children": [
                {
                    "type": "dictionary",
                    "start_token": 227,
                    "end_token": 257,
                    "children": [
                        {
                            "type": "pair",
                            "start_token": 229,
                            "end_token": 234,
                            "children": [
                                {
                                    "type": "attribute",
                                    "start_token": 232,
                                    "end_token": 234,
                                    "children": [],
                                    "label": ".provider,"
                                }
                            ],
                            "label": "\"provider\": TEST_CREDENTIALS.provider,"
                        },
                        {
                            "type": "pair",
                            "start_token": 236,
                            "end_token": 241,
                            "children": [
                                {
                                    "type": "attribute",
                                    "start_token": 239,
                                    "end_token": 241,
                                    "children": [],
                                    "label": ".id,"
                                }
                            ],
                            "label": "\"id\": TEST_CREDENTIALS.id,"
                        },
                        {
                            "type": "pair",
                            "start_token": 243,
                            "end_token": 248,
                            "children": [
                                {
                                    "type": "attribute",
                                    "start_token": 246,
                                    "end_token": 248,
                                    "children": [],
                                    "label": ".type,"
                                }
                            ],
                            "label": "\"type\": TEST_CREDENTIALS.type,"
                        },
                        {
                            "type": "pair",
                            "start_token": 250,
                            "end_token": 255,
                            "children": [
                                {
                                    "type": "attribute",
                                    "start_token": 253,
                                    "end_token": 255,
                                    "children": [],
                                    "label": ".title,"
                                }
                            ],
                            "label": "\"title\": TEST_CREDENTIALS.title,"
                        }
                    ],
                    "label": "{\n    \"provider\": TEST_CREDENTIALS.provider,\n    \"id\": TEST_CREDENTIALS.id,\n    \"type\": TEST_CREDENTIALS.type,\n    \"title\": TEST_CREDENTIALS.title,\n}"
                }
            ],
            "label": "TEST_CREDENTIALS_INPUT = {\n    \"provider\": TEST_CREDENTIALS.provider,\n    \"id\": TEST_CREDENTIALS.id,\n    \"type\": TEST_CREDENTIALS.type,\n    \"title\": TEST_CREDENTIALS.title,\n}"
        },
        {
            "type": "for_statement",
            "start_token": 270,
            "end_token": 288,
            "children": [
                {
                    "type": "not_operator",
                    "start_token": 278,
                    "end_token": 280,
                    "children": [],
                    "label": "not in MODEL_METADATA"
                },
                {
                    "type": "raise_statement",
                    "start_token": 283,
                    "end_token": 288,
                    "children": [],
                    "label": "raise ValueError(f\"Missing MODEL_METADATA metadata for model: {model}\")"
                }
            ],
            "label": "for model in LlmModel:\n    if model not in MODEL_METADATA:\n        raise ValueError(f\"Missing MODEL_METADATA metadata for model: {model}\")"
        },
        {
            "type": "function_placeholder",
            "name": "AICredentialsField",
            "start_line": 56,
            "end_line": 63,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 45,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 44,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "AICredentialsField"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 3,
                                    "children": [],
                                    "label": "()"
                                },
                                {
                                    "type": "type",
                                    "start_token": 5,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 6,
                                            "end_token": 6,
                                            "children": [],
                                            "label": "AICredentials"
                                        }
                                    ],
                                    "label": "> AICredentials"
                                },
                                {
                                    "type": "block",
                                    "start_token": 7,
                                    "end_token": 44,
                                    "children": [
                                        {
                                            "type": "return_statement",
                                            "start_token": 9,
                                            "end_token": 44,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 10,
                                                    "end_token": 44,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 10,
                                                            "end_token": 10,
                                                            "children": [],
                                                            "label": "CredentialsField"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 11,
                                                            "end_token": 44,
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "start_token": 13,
                                                                    "end_token": 16,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 13,
                                                                            "end_token": 13,
                                                                            "children": [],
                                                                            "label": "description"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 15,
                                                                            "end_token": 15,
                                                                            "children": [],
                                                                            "label": "\"API key for the LLM provider.\""
                                                                        }
                                                                    ],
                                                                    "label": "description=\"API key for the LLM provider.\","
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "start_token": 18,
                                                                    "end_token": 21,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 18,
                                                                            "end_token": 18,
                                                                            "children": [],
                                                                            "label": "discriminator"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [],
                                                                            "label": "\"model\""
                                                                        }
                                                                    ],
                                                                    "label": "discriminator=\"model\","
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "start_token": 23,
                                                                    "end_token": 42,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 23,
                                                                            "end_token": 23,
                                                                            "children": [],
                                                                            "label": "discriminator_mapping"
                                                                        },
                                                                        {
                                                                            "type": "dictionary_comprehension",
                                                                            "start_token": 25,
                                                                            "end_token": 41,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 27,
                                                                                    "end_token": 35,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 27,
                                                                                            "end_token": 29,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 27,
                                                                                                    "end_token": 27,
                                                                                                    "children": [],
                                                                                                    "label": "model"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 29,
                                                                                                    "end_token": 29,
                                                                                                    "children": [],
                                                                                                    "label": "value"
                                                                                                }
                                                                                            ],
                                                                                            "label": "model.value"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 31,
                                                                                            "end_token": 35,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 31,
                                                                                                    "end_token": 33,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 31,
                                                                                                            "end_token": 31,
                                                                                                            "children": [],
                                                                                                            "label": "model"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 33,
                                                                                                            "end_token": 33,
                                                                                                            "children": [],
                                                                                                            "label": "metadata"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "model.metadata"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 35,
                                                                                                    "end_token": 35,
                                                                                                    "children": [],
                                                                                                    "label": "provider"
                                                                                                }
                                                                                            ],
                                                                                            "label": "model.metadata.provider"
                                                                                        }
                                                                                    ],
                                                                                    "label": "model.value: model.metadata.provider"
                                                                                },
                                                                                {
                                                                                    "type": "for_in_clause",
                                                                                    "start_token": 36,
                                                                                    "end_token": 39,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 37,
                                                                                            "end_token": 37,
                                                                                            "children": [],
                                                                                            "label": "model"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 39,
                                                                                            "end_token": 39,
                                                                                            "children": [],
                                                                                            "label": "LlmModel"
                                                                                        }
                                                                                    ],
                                                                                    "label": "for model in LlmModel"
                                                                                }
                                                                            ],
                                                                            "label": "{\n            model.value: model.metadata.provider for model in LlmModel\n        }"
                                                                        }
                                                                    ],
                                                                    "label": "discriminator_mapping={\n            model.value: model.metadata.provider for model in LlmModel\n        },"
                                                                }
                                                            ],
                                                            "label": "(\n        description=\"API key for the LLM provider.\",\n        discriminator=\"model\",\n        discriminator_mapping={\n            model.value: model.metadata.provider for model in LlmModel\n        },\n    )"
                                                        }
                                                    ],
                                                    "label": "CredentialsField(\n        description=\"API key for the LLM provider.\",\n        discriminator=\"model\",\n        discriminator_mapping={\n            model.value: model.metadata.provider for model in LlmModel\n        },\n    )"
                                                }
                                            ],
                                            "label": "return CredentialsField(\n        description=\"API key for the LLM provider.\",\n        discriminator=\"model\",\n        discriminator_mapping={\n            model.value: model.metadata.provider for model in LlmModel\n        },\n    )"
                                        }
                                    ],
                                    "label": ":\n    return CredentialsField(\n        description=\"API key for the LLM provider.\",\n        discriminator=\"model\",\n        discriminator_mapping={\n            model.value: model.metadata.provider for model in LlmModel\n        },\n    )"
                                }
                            ],
                            "label": "def AICredentialsField() -> AICredentials:\n    return CredentialsField(\n        description=\"API key for the LLM provider.\",\n        discriminator=\"model\",\n        discriminator_mapping={\n            model.value: model.metadata.provider for model in LlmModel\n        },\n    )"
                        }
                    ],
                    "label": "def AICredentialsField() -> AICredentials:\n    return CredentialsField(\n        description=\"API key for the LLM provider.\",\n        discriminator=\"model\",\n        discriminator_mapping={\n            model.value: model.metadata.provider for model in LlmModel\n        },\n    )\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "ModelMetadata",
            "start_line": 66,
            "end_line": 68,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 14,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 14,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "ModelMetadata"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "NamedTuple"
                                        }
                                    ],
                                    "label": "(NamedTuple)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 14,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "provider"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "provider: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 11,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": "context_window"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "context_window: int"
                                        }
                                    ],
                                    "label": "\n    provider: str\n    context_window: int\n"
                                }
                            ],
                            "label": "class ModelMetadata(NamedTuple):\n    provider: str\n    context_window: int\n"
                        }
                    ],
                    "label": "class ModelMetadata(NamedTuple):\n    provider: str\n    context_window: int\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "LlmModelMeta",
            "start_line": 71,
            "end_line": 87,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 9,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 6,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "LlmModelMeta"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "EnumMeta"
                                        }
                                    ],
                                    "label": "(EnumMeta)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "decorator",
                                            "start_token": 7,
                                            "end_token": 8,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 8,
                                                    "end_token": 8,
                                                    "children": [],
                                                    "label": "property"
                                                }
                                            ],
                                            "label": "@property"
                                        }
                                    ],
                                    "label": "\n    @property\n"
                                }
                            ],
                            "label": "class LlmModelMeta(EnumMeta):\n"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__members__",
                            "start_line": 73,
                            "end_line": 87,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 102,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 102,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "__members__"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 12,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 6,
                                                                    "end_token": 9,
                                                                    "children": [
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 6,
                                                                            "end_token": 6,
                                                                            "children": [],
                                                                            "label": "type"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 8,
                                                                            "end_token": 8,
                                                                            "children": [],
                                                                            "label": "\"_EnumMemberT\""
                                                                        }
                                                                    ],
                                                                    "label": "type[\"_EnumMemberT\"]"
                                                                }
                                                            ],
                                                            "label": "\n        self: type[\"_EnumMemberT\"],\n"
                                                        }
                                                    ],
                                                    "label": "(\n        self: type[\"_EnumMemberT\"],\n    )"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 14,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 15,
                                                            "end_token": 15,
                                                            "children": [],
                                                            "label": "MappingProxyType"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 17,
                                                            "end_token": 17,
                                                            "children": [],
                                                            "label": "str"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 19,
                                                            "end_token": 19,
                                                            "children": [],
                                                            "label": "\"_EnumMemberT\""
                                                        }
                                                    ],
                                                    "label": "> MappingProxyType[str, \"_EnumMemberT\"]"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 22,
                                                    "end_token": 102,
                                                    "children": [
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 23,
                                                            "end_token": 48,
                                                            "children": [
                                                                {
                                                                    "type": "condition",
                                                                    "start_token": 23,
                                                                    "end_token": 36,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 24,
                                                                            "end_token": 30,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 24,
                                                                                    "end_token": 26,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 24,
                                                                                            "end_token": 24,
                                                                                            "children": [],
                                                                                            "label": "Settings"
                                                                                        }
                                                                                    ],
                                                                                    "label": "Settings()"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 28,
                                                                                    "end_token": 28,
                                                                                    "children": [],
                                                                                    "label": "config"
                                                                                }
                                                                            ],
                                                                            "label": "Settings().config.behave_as"
                                                                        },
                                                                        {
                                                                            "type": "comparison_operator",
                                                                            "start_token": 31,
                                                                            "end_token": 32,
                                                                            "children": [],
                                                                            "label": "=="
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 33,
                                                                            "end_token": 35,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "children": [],
                                                                                    "label": "BehaveAs"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 35,
                                                                                    "end_token": 35,
                                                                                    "children": [],
                                                                                    "label": "LOCAL"
                                                                                }
                                                                            ],
                                                                            "label": "BehaveAs.LOCAL"
                                                                        }
                                                                    ],
                                                                    "label": "if Settings().config.behave_as == BehaveAs.LOCAL:"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 38,
                                                                    "end_token": 48,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 38,
                                                                            "end_token": 44,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 38,
                                                                                    "end_token": 38,
                                                                                    "children": [],
                                                                                    "label": "members"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 40,
                                                                                    "end_token": 44,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 40,
                                                                                            "end_token": 40,
                                                                                            "children": [],
                                                                                            "label": "super"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 44,
                                                                                            "end_token": 44,
                                                                                            "children": [],
                                                                                            "label": "__members__"
                                                                                        }
                                                                                    ],
                                                                                    "label": "super().__members__"
                                                                                }
                                                                            ],
                                                                            "label": "members = super().__members__"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 46,
                                                                            "end_token": 47,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 47,
                                                                                    "end_token": 47,
                                                                                    "children": [],
                                                                                    "label": "members"
                                                                                }
                                                                            ],
                                                                            "label": "return members"
                                                                        }
                                                                    ],
                                                                    "label": "members = super().__members__\n            return members\n"
                                                                }
                                                            ],
                                                            "label": "if Settings().config.behave_as == BehaveAs.LOCAL:\n            members = super().__members__\n            return members\n"
                                                        },
                                                        {
                                                            "type": "else_clause",
                                                            "start_token": 49,
                                                            "end_token": 102,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 51,
                                                                    "end_token": 102,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 52,
                                                                            "end_token": 56,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 52,
                                                                                    "end_token": 52,
                                                                                    "children": [],
                                                                                    "label": "removed_providers"
                                                                                },
                                                                                {
                                                                                    "type": "list",
                                                                                    "start_token": 54,
                                                                                    "end_token": 56,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 55,
                                                                                            "end_token": 55,
                                                                                            "children": [],
                                                                                            "label": "\"ollama\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "[\"ollama\"]"
                                                                                }
                                                                            ],
                                                                            "label": "removed_providers = [\"ollama\"]"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 58,
                                                                            "end_token": 64,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 58,
                                                                                    "end_token": 58,
                                                                                    "children": [],
                                                                                    "label": "existing_members"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 60,
                                                                                    "end_token": 64,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 60,
                                                                                            "end_token": 60,
                                                                                            "children": [],
                                                                                            "label": "super"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 64,
                                                                                            "end_token": 64,
                                                                                            "children": [],
                                                                                            "label": "__members__"
                                                                                        }
                                                                                    ],
                                                                                    "label": "super().__members__"
                                                                                }
                                                                            ],
                                                                            "label": "existing_members = super().__members__"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 66,
                                                                            "end_token": 96,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 66,
                                                                                    "end_token": 66,
                                                                                    "children": [],
                                                                                    "label": "members"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary_comprehension",
                                                                                    "start_token": 68,
                                                                                    "end_token": 96,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 70,
                                                                                            "end_token": 72,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 70,
                                                                                                    "end_token": 70,
                                                                                                    "children": [],
                                                                                                    "label": "name"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 72,
                                                                                                    "end_token": 72,
                                                                                                    "children": [],
                                                                                                    "label": "member"
                                                                                                }
                                                                                            ],
                                                                                            "label": "name: member"
                                                                                        },
                                                                                        {
                                                                                            "type": "for_in_clause",
                                                                                            "start_token": 74,
                                                                                            "end_token": 79,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 75,
                                                                                                    "end_token": 75,
                                                                                                    "children": [],
                                                                                                    "label": "name"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 77,
                                                                                                    "end_token": 77,
                                                                                                    "children": [],
                                                                                                    "label": "member"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 79,
                                                                                                    "end_token": 81,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 79,
                                                                                                            "end_token": 79,
                                                                                                            "children": [],
                                                                                                            "label": "existing_members"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "existing_members.items"
                                                                                                }
                                                                                            ],
                                                                                            "label": "for name, member in existing_members"
                                                                                        },
                                                                                        {
                                                                                            "type": "if_clause",
                                                                                            "start_token": 85,
                                                                                            "end_token": 94,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "not_operator",
                                                                                                    "start_token": 92,
                                                                                                    "end_token": 94,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 86,
                                                                                                            "end_token": 91,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "subscript",
                                                                                                                    "start_token": 86,
                                                                                                                    "end_token": 88,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 86,
                                                                                                                            "end_token": 86,
                                                                                                                            "children": [],
                                                                                                                            "label": "LlmModel"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 88,
                                                                                                                            "end_token": 88,
                                                                                                                            "children": [],
                                                                                                                            "label": "name"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "LlmModel[name"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 91,
                                                                                                                    "end_token": 91,
                                                                                                                    "children": [],
                                                                                                                    "label": "provider"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "LlmModel[name].provider"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "not in removed_providers"
                                                                                                }
                                                                                            ],
                                                                                            "label": "if LlmModel[name].provider not in removed_providers"
                                                                                        }
                                                                                    ],
                                                                                    "label": "{\n                name: member\n                for name, member in existing_members.items()\n                if LlmModel[name].provider not in removed_providers\n            }"
                                                                                }
                                                                            ],
                                                                            "label": "members = {\n                name: member\n                for name, member in existing_members.items()\n                if LlmModel[name].provider not in removed_providers\n            }"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 98,
                                                                            "end_token": 102,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 99,
                                                                                    "end_token": 102,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 99,
                                                                                            "end_token": 99,
                                                                                            "children": [],
                                                                                            "label": "MappingProxyType"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 101,
                                                                                            "end_token": 101,
                                                                                            "children": [],
                                                                                            "label": "members"
                                                                                        }
                                                                                    ],
                                                                                    "label": "MappingProxyType(members)"
                                                                                }
                                                                            ],
                                                                            "label": "return MappingProxyType(members)"
                                                                        }
                                                                    ],
                                                                    "label": "\n            removed_providers = [\"ollama\"]\n            existing_members = super().__members__\n            members = {\n                name: member\n                for name, member in existing_members.items()\n                if LlmModel[name].provider not in removed_providers\n            }\n            return MappingProxyType(members)"
                                                                }
                                                            ],
                                                            "label": "else:\n            removed_providers = [\"ollama\"]\n            existing_members = super().__members__\n            members = {\n                name: member\n                for name, member in existing_members.items()\n                if LlmModel[name].provider not in removed_providers\n            }\n            return MappingProxyType(members)"
                                                        }
                                                    ],
                                                    "label": "\n        if Settings().config.behave_as == BehaveAs.LOCAL:\n            members = super().__members__\n            return members\n        else:\n            removed_providers = [\"ollama\"]\n            existing_members = super().__members__\n            members = {\n                name: member\n                for name, member in existing_members.items()\n                if LlmModel[name].provider not in removed_providers\n            }\n            return MappingProxyType(members)"
                                                }
                                            ],
                                            "label": "def __members__(\n        self: type[\"_EnumMemberT\"],\n    ) -> MappingProxyType[str, \"_EnumMemberT\"]:\n        if Settings().config.behave_as == BehaveAs.LOCAL:\n            members = super().__members__\n            return members\n        else:\n            removed_providers = [\"ollama\"]\n            existing_members = super().__members__\n            members = {\n                name: member\n                for name, member in existing_members.items()\n                if LlmModel[name].provider not in removed_providers\n            }\n            return MappingProxyType(members)"
                                        }
                                    ],
                                    "label": "def __members__(\n        self: type[\"_EnumMemberT\"],\n    ) -> MappingProxyType[str, \"_EnumMemberT\"]:\n        if Settings().config.behave_as == BehaveAs.LOCAL:\n            members = super().__members__\n            return members\n        else:\n            removed_providers = [\"ollama\"]\n            existing_members = super().__members__\n            members = {\n                name: member\n                for name, member in existing_members.items()\n                if LlmModel[name].provider not in removed_providers\n            }\n            return MappingProxyType(members)"
                                }
                            ]
                        }
                    ],
                    "label": "class LlmModelMeta(EnumMeta):\n    @property\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "LlmModel",
            "start_line": 90,
            "end_line": 186,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 631,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 619,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "LlmModel"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 10,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "str"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 5,
                                            "end_token": 5,
                                            "label": "Enum"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "label": "metaclass"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "label": "LlmModelMeta"
                                                }
                                            ],
                                            "label": "metaclass=LlmModelMeta"
                                        }
                                    ],
                                    "label": "(str, Enum, metaclass=LlmModelMeta)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 12,
                                    "end_token": 619,
                                    "children": [
                                        {
                                            "type": "comment",
                                            "start_token": 13,
                                            "end_token": 15,
                                            "label": "# OpenAI models"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 17,
                                            "end_token": 19,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "label": "O1_PREVIEW"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "label": "\"o1-preview\""
                                                }
                                            ],
                                            "label": "O1_PREVIEW = \"o1-preview\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 21,
                                            "end_token": 23,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 21,
                                                    "end_token": 21,
                                                    "label": "O1_MINI"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "label": "\"o1-mini\""
                                                }
                                            ],
                                            "label": "O1_MINI = \"o1-mini\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 25,
                                            "end_token": 27,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "label": "GPT4O_MINI"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "label": "\"gpt-4o-mini\""
                                                }
                                            ],
                                            "label": "GPT4O_MINI = \"gpt-4o-mini\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 29,
                                            "end_token": 31,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 29,
                                                    "end_token": 29,
                                                    "label": "GPT4O"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 31,
                                                    "end_token": 31,
                                                    "label": "\"gpt-4o\""
                                                }
                                            ],
                                            "label": "GPT4O = \"gpt-4o\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 33,
                                            "end_token": 35,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 33,
                                                    "end_token": 33,
                                                    "label": "GPT4_TURBO"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 35,
                                                    "end_token": 35,
                                                    "label": "\"gpt-4-turbo\""
                                                }
                                            ],
                                            "label": "GPT4_TURBO = \"gpt-4-turbo\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 37,
                                            "end_token": 39,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "label": "GPT3_5_TURBO"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 39,
                                                    "end_token": 39,
                                                    "label": "\"gpt-3.5-turbo\""
                                                }
                                            ],
                                            "label": "GPT3_5_TURBO = \"gpt-3.5-turbo\""
                                        },
                                        {
                                            "type": "comment",
                                            "start_token": 41,
                                            "end_token": 43,
                                            "label": "# Anthropic models"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 45,
                                            "end_token": 47,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 45,
                                                    "end_token": 45,
                                                    "label": "CLAUDE_3_5_SONNET"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 47,
                                                    "end_token": 47,
                                                    "label": "\"claude-3-5-sonnet-latest\""
                                                }
                                            ],
                                            "label": "CLAUDE_3_5_SONNET = \"claude-3-5-sonnet-latest\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 49,
                                            "end_token": 51,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 49,
                                                    "end_token": 49,
                                                    "label": "CLAUDE_3_HAIKU"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 51,
                                                    "end_token": 51,
                                                    "label": "\"claude-3-haiku-20240307\""
                                                }
                                            ],
                                            "label": "CLAUDE_3_HAIKU = \"claude-3-haiku-20240307\""
                                        },
                                        {
                                            "type": "comment",
                                            "start_token": 53,
                                            "end_token": 55,
                                            "label": "# Groq models"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 57,
                                            "end_token": 59,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 57,
                                                    "end_token": 57,
                                                    "label": "LLAMA3_8B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 59,
                                                    "end_token": 59,
                                                    "label": "\"llama3-8b-8192\""
                                                }
                                            ],
                                            "label": "LLAMA3_8B = \"llama3-8b-8192\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 61,
                                            "end_token": 63,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 61,
                                                    "end_token": 61,
                                                    "label": "LLAMA3_70B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 63,
                                                    "end_token": 63,
                                                    "label": "\"llama3-70b-8192\""
                                                }
                                            ],
                                            "label": "LLAMA3_70B = \"llama3-70b-8192\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 65,
                                            "end_token": 67,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 65,
                                                    "end_token": 65,
                                                    "label": "MIXTRAL_8X7B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 67,
                                                    "end_token": 67,
                                                    "label": "\"mixtral-8x7b-32768\""
                                                }
                                            ],
                                            "label": "MIXTRAL_8X7B = \"mixtral-8x7b-32768\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 69,
                                            "end_token": 71,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 69,
                                                    "end_token": 69,
                                                    "label": "GEMMA_7B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 71,
                                                    "end_token": 71,
                                                    "label": "\"gemma-7b-it\""
                                                }
                                            ],
                                            "label": "GEMMA_7B = \"gemma-7b-it\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 73,
                                            "end_token": 75,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 73,
                                                    "end_token": 73,
                                                    "label": "GEMMA2_9B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 75,
                                                    "end_token": 75,
                                                    "label": "\"gemma2-9b-it\""
                                                }
                                            ],
                                            "label": "GEMMA2_9B = \"gemma2-9b-it\""
                                        },
                                        {
                                            "type": "comment",
                                            "start_token": 77,
                                            "end_token": 81,
                                            "label": "# New Groq models ("
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 85,
                                            "end_token": 87,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 85,
                                                    "end_token": 85,
                                                    "label": "LLAMA3_1_405B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 87,
                                                    "end_token": 87,
                                                    "label": "\"llama-3.1-405b-reasoning\""
                                                }
                                            ],
                                            "label": "LLAMA3_1_405B = \"llama-3.1-405b-reasoning\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 89,
                                            "end_token": 91,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 89,
                                                    "end_token": 89,
                                                    "label": "LLAMA3_1_70B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 91,
                                                    "end_token": 91,
                                                    "label": "\"llama-3.1-70b-versatile\""
                                                }
                                            ],
                                            "label": "LLAMA3_1_70B = \"llama-3.1-70b-versatile\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 93,
                                            "end_token": 95,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 93,
                                                    "end_token": 93,
                                                    "label": "LLAMA3_1_8B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 95,
                                                    "end_token": 95,
                                                    "label": "\"llama-3.1-8b-instant\""
                                                }
                                            ],
                                            "label": "LLAMA3_1_8B = \"llama-3.1-8b-instant\""
                                        },
                                        {
                                            "type": "comment",
                                            "start_token": 97,
                                            "end_token": 99,
                                            "label": "# Ollama models"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 101,
                                            "end_token": 103,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 101,
                                                    "end_token": 101,
                                                    "label": "OLLAMA_LLAMA3_8B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 103,
                                                    "end_token": 103,
                                                    "label": "\"llama3\""
                                                }
                                            ],
                                            "label": "OLLAMA_LLAMA3_8B = \"llama3\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 105,
                                            "end_token": 107,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 105,
                                                    "end_token": 105,
                                                    "label": "OLLAMA_LLAMA3_405B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 107,
                                                    "end_token": 107,
                                                    "label": "\"llama3.1:405b\""
                                                }
                                            ],
                                            "label": "OLLAMA_LLAMA3_405B = \"llama3.1:405b\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 109,
                                            "end_token": 111,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 109,
                                                    "end_token": 109,
                                                    "label": "OLLAMA_DOLPHIN"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 111,
                                                    "end_token": 111,
                                                    "label": "\"dolphin-mistral:latest\""
                                                }
                                            ],
                                            "label": "OLLAMA_DOLPHIN = \"dolphin-mistral:latest\""
                                        },
                                        {
                                            "type": "comment",
                                            "start_token": 113,
                                            "end_token": 115,
                                            "label": "# OpenRouter models"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 117,
                                            "end_token": 119,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 117,
                                                    "end_token": 117,
                                                    "label": "GEMINI_FLASH_1_5_8B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 119,
                                                    "end_token": 119,
                                                    "label": "\"google/gemini-flash-1.5\""
                                                }
                                            ],
                                            "label": "GEMINI_FLASH_1_5_8B = \"google/gemini-flash-1.5\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 121,
                                            "end_token": 123,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 121,
                                                    "end_token": 121,
                                                    "label": "GROK_BETA"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 123,
                                                    "end_token": 123,
                                                    "label": "\"x-ai/grok-beta\""
                                                }
                                            ],
                                            "label": "GROK_BETA = \"x-ai/grok-beta\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 125,
                                            "end_token": 127,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 125,
                                                    "end_token": 125,
                                                    "label": "MISTRAL_NEMO"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 127,
                                                    "end_token": 127,
                                                    "label": "\"mistralai/mistral-nemo\""
                                                }
                                            ],
                                            "label": "MISTRAL_NEMO = \"mistralai/mistral-nemo\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 129,
                                            "end_token": 131,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 129,
                                                    "end_token": 129,
                                                    "label": "COHERE_COMMAND_R_08_2024"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 131,
                                                    "end_token": 131,
                                                    "label": "\"cohere/command-r-08-2024\""
                                                }
                                            ],
                                            "label": "COHERE_COMMAND_R_08_2024 = \"cohere/command-r-08-2024\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 133,
                                            "end_token": 135,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 133,
                                                    "end_token": 133,
                                                    "label": "COHERE_COMMAND_R_PLUS_08_2024"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 135,
                                                    "end_token": 135,
                                                    "label": "\"cohere/command-r-plus-08-2024\""
                                                }
                                            ],
                                            "label": "COHERE_COMMAND_R_PLUS_08_2024 = \"cohere/command-r-plus-08-2024\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 137,
                                            "end_token": 139,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 137,
                                                    "end_token": 137,
                                                    "label": "EVA_QWEN_2_5_32B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 139,
                                                    "end_token": 139,
                                                    "label": "\"eva-unit-01/eva-qwen-2.5-32b\""
                                                }
                                            ],
                                            "label": "EVA_QWEN_2_5_32B = \"eva-unit-01/eva-qwen-2.5-32b\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 141,
                                            "end_token": 143,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 141,
                                                    "end_token": 141,
                                                    "label": "DEEPSEEK_CHAT"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 143,
                                                    "end_token": 143,
                                                    "label": "\"deepseek/deepseek-chat\""
                                                }
                                            ],
                                            "label": "DEEPSEEK_CHAT = \"deepseek/deepseek-chat\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 145,
                                            "end_token": 151,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 145,
                                                    "end_token": 145,
                                                    "label": "PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 147,
                                                    "end_token": 149,
                                                    "label": "(\n        \"perplexity/llama-3.1-sonar-large-128k-online\""
                                                }
                                            ],
                                            "label": "PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE = (\n        \"perplexity/llama-3.1-sonar-large-128k-online\"\n    )"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 153,
                                            "end_token": 155,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 153,
                                                    "end_token": 153,
                                                    "label": "QWEN_QWQ_32B_PREVIEW"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 155,
                                                    "end_token": 155,
                                                    "label": "\"qwen/qwq-32b-preview\""
                                                }
                                            ],
                                            "label": "QWEN_QWQ_32B_PREVIEW = \"qwen/qwq-32b-preview\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 157,
                                            "end_token": 159,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 157,
                                                    "end_token": 157,
                                                    "label": "NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 159,
                                                    "end_token": 159,
                                                    "label": "\"nousresearch/hermes-3-llama-3.1-405b\""
                                                }
                                            ],
                                            "label": "NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B = \"nousresearch/hermes-3-llama-3.1-405b\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 161,
                                            "end_token": 163,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 161,
                                                    "end_token": 161,
                                                    "label": "NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 163,
                                                    "end_token": 163,
                                                    "label": "\"nousresearch/hermes-3-llama-3.1-70b\""
                                                }
                                            ],
                                            "label": "NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B = \"nousresearch/hermes-3-llama-3.1-70b\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 165,
                                            "end_token": 167,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 165,
                                                    "end_token": 165,
                                                    "label": "AMAZON_NOVA_LITE_V1"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 167,
                                                    "end_token": 167,
                                                    "label": "\"amazon/nova-lite-v1\""
                                                }
                                            ],
                                            "label": "AMAZON_NOVA_LITE_V1 = \"amazon/nova-lite-v1\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 169,
                                            "end_token": 171,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 169,
                                                    "end_token": 169,
                                                    "label": "AMAZON_NOVA_MICRO_V1"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 171,
                                                    "end_token": 171,
                                                    "label": "\"amazon/nova-micro-v1\""
                                                }
                                            ],
                                            "label": "AMAZON_NOVA_MICRO_V1 = \"amazon/nova-micro-v1\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 173,
                                            "end_token": 175,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 173,
                                                    "end_token": 173,
                                                    "label": "AMAZON_NOVA_PRO_V1"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 175,
                                                    "end_token": 175,
                                                    "label": "\"amazon/nova-pro-v1\""
                                                }
                                            ],
                                            "label": "AMAZON_NOVA_PRO_V1 = \"amazon/nova-pro-v1\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 177,
                                            "end_token": 179,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 177,
                                                    "end_token": 177,
                                                    "label": "MICROSOFT_WIZARDLM_2_8X22B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 179,
                                                    "end_token": 179,
                                                    "label": "\"microsoft/wizardlm-2-8x22b\""
                                                }
                                            ],
                                            "label": "MICROSOFT_WIZARDLM_2_8X22B = \"microsoft/wizardlm-2-8x22b\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 181,
                                            "end_token": 183,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 181,
                                                    "end_token": 181,
                                                    "label": "GRYPHE_MYTHOMAX_L2_13B"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 183,
                                                    "end_token": 183,
                                                    "label": "\"gryphe/mythomax-l2-13b\""
                                                }
                                            ],
                                            "label": "GRYPHE_MYTHOMAX_L2_13B = \"gryphe/mythomax-l2-13b\""
                                        }
                                    ],
                                    "label": "\n    # OpenAI models\n    O1_PREVIEW = \"o1-preview\"\n    O1_MINI = \"o1-mini\"\n    GPT4O_MINI = \"gpt-4o-mini\"\n    GPT4O = \"gpt-4o\"\n    GPT4_TURBO = \"gpt-4-turbo\"\n    GPT3_5_TURBO = \"gpt-3.5-turbo\"\n    # Anthropic models\n    CLAUDE_3_5_SONNET = \"claude-3-5-sonnet-latest\"\n    CLAUDE_3_HAIKU = \"claude-3-haiku-20240307\"\n    # Groq models\n    LLAMA3_8B = \"llama3-8b-8192\"\n    LLAMA3_70B = \"llama3-70b-8192\"\n    MIXTRAL_8X7B = \"mixtral-8x7b-32768\"\n    GEMMA_7B = \"gemma-7b-it\"\n    GEMMA2_9B = \"gemma2-9b-it\"\n    # New Groq models (Preview)\n    LLAMA3_1_405B = \"llama-3.1-405b-reasoning\"\n    LLAMA3_1_70B = \"llama-3.1-70b-versatile\"\n    LLAMA3_1_8B = \"llama-3.1-8b-instant\"\n    # Ollama models\n    OLLAMA_LLAMA3_8B = \"llama3\"\n    OLLAMA_LLAMA3_405B = \"llama3.1:405b\"\n    OLLAMA_DOLPHIN = \"dolphin-mistral:latest\"\n    # OpenRouter models\n    GEMINI_FLASH_1_5_8B = \"google/gemini-flash-1.5\"\n    GROK_BETA = \"x-ai/grok-beta\"\n    MISTRAL_NEMO = \"mistralai/mistral-nemo\"\n    COHERE_COMMAND_R_08_2024 = \"cohere/command-r-08-2024\"\n    COHERE_COMMAND_R_PLUS_08_2024 = \"cohere/command-r-plus-08-2024\"\n    EVA_QWEN_2_5_32B = \"eva-unit-01/eva-qwen-2.5-32b\"\n    DEEPSEEK_CHAT = \"deepseek/deepseek-chat\"\n    PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE = (\n        \"perplexity/llama-3.1-sonar-large-128k-online\"\n    )\n    QWEN_QWQ_32B_PREVIEW = \"qwen/qwq-32b-preview\"\n    NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B = \"nousresearch/hermes-3-llama-3.1-405b\"\n    NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B = \"nousresearch/hermes-3-llama-3.1-70b\"\n    AMAZON_NOVA_LITE_V1 = \"amazon/nova-lite-v1\"\n    AMAZON_NOVA_MICRO_V1 = \"amazon/nova-micro-v1\"\n    AMAZON_NOVA_PRO_V1 = \"amazon/nova-pro-v1\"\n    MICROSOFT_WIZARDLM_2_8X22B = \"microsoft/wizardlm-2-8x22b\"\n    GRYPHE_MYTHOMAX_L2_13B = \"gryphe/mythomax-l2-13b\"\n\n    @property\n\n    @property\n\n    @property\n\n\nMODEL_METADATA = {\n    LlmModel.O1_PREVIEW: ModelMetadata(\"openai\", 32000),\n    LlmModel.O1_MINI: ModelMetadata(\"openai\", 62000),\n    LlmModel.GPT4O_MINI: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4O: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4_TURBO: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT3_5_TURBO: ModelMetadata(\"openai\", 16385),\n    LlmModel.CLAUDE_3_5_SONNET: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.CLAUDE_3_HAIKU: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.LLAMA3_8B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_70B: ModelMetadata(\"groq\", 8192),\n    LlmModel.MIXTRAL_8X7B: ModelMetadata(\"groq\", 32768),\n    LlmModel.GEMMA_7B: ModelMetadata(\"groq\", 8192),\n    LlmModel.GEMMA2_9B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_1_405B: ModelMetadata(\"groq\", 8192),\n    # Limited to 16k during preview\n    LlmModel.LLAMA3_1_70B: ModelMetadata(\"groq\", 131072),\n    LlmModel.LLAMA3_1_8B: ModelMetadata(\"groq\", 131072),\n    LlmModel.OLLAMA_LLAMA3_8B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_LLAMA3_405B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_DOLPHIN: ModelMetadata(\"ollama\", 32768),\n    LlmModel.GEMINI_FLASH_1_5_8B: ModelMetadata(\"open_router\", 8192),\n    LlmModel.GROK_BETA: ModelMetadata(\"open_router\", 8192),\n    LlmModel.MISTRAL_NEMO: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_PLUS_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.EVA_QWEN_2_5_32B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.DEEPSEEK_CHAT: ModelMetadata(\"open_router\", 8192),\n    LlmModel.PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE: ModelMetadata(\n        \"open_router\", 8192\n    ),\n    LlmModel.QWEN_QWQ_32B_PREVIEW: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_LITE_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_MICRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_PRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.MICROSOFT_WIZARDLM_2_8X22B: ModelMetadata(\"open_router\", 4000),"
                                }
                            ],
                            "label": "class LlmModel(str, Enum, metaclass=LlmModelMeta):\n    # OpenAI models\n    O1_PREVIEW = \"o1-preview\"\n    O1_MINI = \"o1-mini\"\n    GPT4O_MINI = \"gpt-4o-mini\"\n    GPT4O = \"gpt-4o\"\n    GPT4_TURBO = \"gpt-4-turbo\"\n    GPT3_5_TURBO = \"gpt-3.5-turbo\"\n    # Anthropic models\n    CLAUDE_3_5_SONNET = \"claude-3-5-sonnet-latest\"\n    CLAUDE_3_HAIKU = \"claude-3-haiku-20240307\"\n    # Groq models\n    LLAMA3_8B = \"llama3-8b-8192\"\n    LLAMA3_70B = \"llama3-70b-8192\"\n    MIXTRAL_8X7B = \"mixtral-8x7b-32768\"\n    GEMMA_7B = \"gemma-7b-it\"\n    GEMMA2_9B = \"gemma2-9b-it\"\n    # New Groq models (Preview)\n    LLAMA3_1_405B = \"llama-3.1-405b-reasoning\"\n    LLAMA3_1_70B = \"llama-3.1-70b-versatile\"\n    LLAMA3_1_8B = \"llama-3.1-8b-instant\"\n    # Ollama models\n    OLLAMA_LLAMA3_8B = \"llama3\"\n    OLLAMA_LLAMA3_405B = \"llama3.1:405b\"\n    OLLAMA_DOLPHIN = \"dolphin-mistral:latest\"\n    # OpenRouter models\n    GEMINI_FLASH_1_5_8B = \"google/gemini-flash-1.5\"\n    GROK_BETA = \"x-ai/grok-beta\"\n    MISTRAL_NEMO = \"mistralai/mistral-nemo\"\n    COHERE_COMMAND_R_08_2024 = \"cohere/command-r-08-2024\"\n    COHERE_COMMAND_R_PLUS_08_2024 = \"cohere/command-r-plus-08-2024\"\n    EVA_QWEN_2_5_32B = \"eva-unit-01/eva-qwen-2.5-32b\"\n    DEEPSEEK_CHAT = \"deepseek/deepseek-chat\"\n    PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE = (\n        \"perplexity/llama-3.1-sonar-large-128k-online\"\n    )\n    QWEN_QWQ_32B_PREVIEW = \"qwen/qwq-32b-preview\"\n    NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B = \"nousresearch/hermes-3-llama-3.1-405b\"\n    NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B = \"nousresearch/hermes-3-llama-3.1-70b\"\n    AMAZON_NOVA_LITE_V1 = \"amazon/nova-lite-v1\"\n    AMAZON_NOVA_MICRO_V1 = \"amazon/nova-micro-v1\"\n    AMAZON_NOVA_PRO_V1 = \"amazon/nova-pro-v1\"\n    MICROSOFT_WIZARDLM_2_8X22B = \"microsoft/wizardlm-2-8x22b\"\n    GRYPHE_MYTHOMAX_L2_13B = \"gryphe/mythomax-l2-13b\"\n\n    @property\n\n    @property\n\n    @property\n\n\nMODEL_METADATA = {\n    LlmModel.O1_PREVIEW: ModelMetadata(\"openai\", 32000),\n    LlmModel.O1_MINI: ModelMetadata(\"openai\", 62000),\n    LlmModel.GPT4O_MINI: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4O: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4_TURBO: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT3_5_TURBO: ModelMetadata(\"openai\", 16385),\n    LlmModel.CLAUDE_3_5_SONNET: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.CLAUDE_3_HAIKU: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.LLAMA3_8B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_70B: ModelMetadata(\"groq\", 8192),\n    LlmModel.MIXTRAL_8X7B: ModelMetadata(\"groq\", 32768),\n    LlmModel.GEMMA_7B: ModelMetadata(\"groq\", 8192),\n    LlmModel.GEMMA2_9B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_1_405B: ModelMetadata(\"groq\", 8192),\n    # Limited to 16k during preview\n    LlmModel.LLAMA3_1_70B: ModelMetadata(\"groq\", 131072),\n    LlmModel.LLAMA3_1_8B: ModelMetadata(\"groq\", 131072),\n    LlmModel.OLLAMA_LLAMA3_8B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_LLAMA3_405B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_DOLPHIN: ModelMetadata(\"ollama\", 32768),\n    LlmModel.GEMINI_FLASH_1_5_8B: ModelMetadata(\"open_router\", 8192),\n    LlmModel.GROK_BETA: ModelMetadata(\"open_router\", 8192),\n    LlmModel.MISTRAL_NEMO: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_PLUS_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.EVA_QWEN_2_5_32B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.DEEPSEEK_CHAT: ModelMetadata(\"open_router\", 8192),\n    LlmModel.PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE: ModelMetadata(\n        \"open_router\", 8192\n    ),\n    LlmModel.QWEN_QWQ_32B_PREVIEW: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_LITE_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_MICRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_PRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.MICROSOFT_WIZARDLM_2_8X22B: ModelMetadata(\"open_router\", 4000),"
                        },
                        {
                            "type": "assignment",
                            "start_token": 199,
                            "end_token": 631,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 199,
                                    "end_token": 199,
                                    "label": "MODEL_METADATA"
                                },
                                {
                                    "type": "dictionary",
                                    "start_token": 201,
                                    "end_token": 631,
                                    "children": [
                                        {
                                            "type": "pair",
                                            "start_token": 203,
                                            "end_token": 213,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 203,
                                                    "end_token": 205,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 203,
                                                            "end_token": 203,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 205,
                                                            "end_token": 205,
                                                            "label": "O1_PREVIEW"
                                                        }
                                                    ],
                                                    "label": "LlmModel.O1_PREVIEW"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 207,
                                                    "end_token": 212,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 207,
                                                            "end_token": 207,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 208,
                                                            "end_token": 212,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 208,
                                                                    "end_token": 208,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 210,
                                                                    "end_token": 210,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"openai\", 32000)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"openai\", 32000)"
                                                }
                                            ],
                                            "label": "LlmModel.O1_PREVIEW: ModelMetadata(\"openai\", 32000),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 215,
                                            "end_token": 225,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 215,
                                                    "end_token": 217,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 215,
                                                            "end_token": 215,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 217,
                                                            "end_token": 217,
                                                            "label": "O1_MINI"
                                                        }
                                                    ],
                                                    "label": "LlmModel.O1_MINI"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 219,
                                                    "end_token": 224,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 219,
                                                            "end_token": 219,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 220,
                                                            "end_token": 224,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 220,
                                                                    "end_token": 220,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 222,
                                                                    "end_token": 222,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"openai\", 62000)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"openai\", 62000)"
                                                }
                                            ],
                                            "label": "LlmModel.O1_MINI: ModelMetadata(\"openai\", 62000),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 227,
                                            "end_token": 237,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 227,
                                                    "end_token": 229,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 227,
                                                            "end_token": 227,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 229,
                                                            "end_token": 229,
                                                            "label": "GPT4O_MINI"
                                                        }
                                                    ],
                                                    "label": "LlmModel.GPT4O_MINI"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 231,
                                                    "end_token": 236,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 231,
                                                            "end_token": 231,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 232,
                                                            "end_token": 236,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 232,
                                                                    "end_token": 232,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 234,
                                                                    "end_token": 234,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"openai\", 128000)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"openai\", 128000)"
                                                }
                                            ],
                                            "label": "LlmModel.GPT4O_MINI: ModelMetadata(\"openai\", 128000),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 239,
                                            "end_token": 249,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 239,
                                                    "end_token": 241,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 239,
                                                            "end_token": 239,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 241,
                                                            "end_token": 241,
                                                            "label": "GPT4O"
                                                        }
                                                    ],
                                                    "label": "LlmModel.GPT4O"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 243,
                                                    "end_token": 248,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 243,
                                                            "end_token": 243,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 244,
                                                            "end_token": 248,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 244,
                                                                    "end_token": 244,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 246,
                                                                    "end_token": 246,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"openai\", 128000)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"openai\", 128000)"
                                                }
                                            ],
                                            "label": "LlmModel.GPT4O: ModelMetadata(\"openai\", 128000),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 251,
                                            "end_token": 261,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 251,
                                                    "end_token": 253,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 251,
                                                            "end_token": 251,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 253,
                                                            "end_token": 253,
                                                            "label": "GPT4_TURBO"
                                                        }
                                                    ],
                                                    "label": "LlmModel.GPT4_TURBO"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 255,
                                                    "end_token": 260,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 255,
                                                            "end_token": 255,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 256,
                                                            "end_token": 260,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 256,
                                                                    "end_token": 256,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 258,
                                                                    "end_token": 258,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"openai\", 128000)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"openai\", 128000)"
                                                }
                                            ],
                                            "label": "LlmModel.GPT4_TURBO: ModelMetadata(\"openai\", 128000),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 263,
                                            "end_token": 273,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 263,
                                                    "end_token": 265,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 263,
                                                            "end_token": 263,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 265,
                                                            "end_token": 265,
                                                            "label": "GPT3_5_TURBO"
                                                        }
                                                    ],
                                                    "label": "LlmModel.GPT3_5_TURBO"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 267,
                                                    "end_token": 272,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 267,
                                                            "end_token": 267,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 268,
                                                            "end_token": 272,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 268,
                                                                    "end_token": 268,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 270,
                                                                    "end_token": 270,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"openai\", 16385)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"openai\", 16385)"
                                                }
                                            ],
                                            "label": "LlmModel.GPT3_5_TURBO: ModelMetadata(\"openai\", 16385),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 275,
                                            "end_token": 285,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 275,
                                                    "end_token": 277,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 275,
                                                            "end_token": 275,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 277,
                                                            "end_token": 277,
                                                            "label": "CLAUDE_3_5_SONNET"
                                                        }
                                                    ],
                                                    "label": "LlmModel.CLAUDE_3_5_SONNET"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 279,
                                                    "end_token": 284,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 279,
                                                            "end_token": 279,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 280,
                                                            "end_token": 284,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 280,
                                                                    "end_token": 280,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 282,
                                                                    "end_token": 282,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"anthropic\", 200000)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"anthropic\", 200000)"
                                                }
                                            ],
                                            "label": "LlmModel.CLAUDE_3_5_SONNET: ModelMetadata(\"anthropic\", 200000),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 287,
                                            "end_token": 297,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 287,
                                                    "end_token": 289,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 287,
                                                            "end_token": 287,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 289,
                                                            "end_token": 289,
                                                            "label": "CLAUDE_3_HAIKU"
                                                        }
                                                    ],
                                                    "label": "LlmModel.CLAUDE_3_HAIKU"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 291,
                                                    "end_token": 296,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 291,
                                                            "end_token": 291,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 292,
                                                            "end_token": 296,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 292,
                                                                    "end_token": 292,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 294,
                                                                    "end_token": 294,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"anthropic\", 200000)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"anthropic\", 200000)"
                                                }
                                            ],
                                            "label": "LlmModel.CLAUDE_3_HAIKU: ModelMetadata(\"anthropic\", 200000),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 299,
                                            "end_token": 309,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 299,
                                                    "end_token": 301,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 299,
                                                            "end_token": 299,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 301,
                                                            "end_token": 301,
                                                            "label": "LLAMA3_8B"
                                                        }
                                                    ],
                                                    "label": "LlmModel.LLAMA3_8B"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 303,
                                                    "end_token": 308,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 303,
                                                            "end_token": 303,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 304,
                                                            "end_token": 308,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 304,
                                                                    "end_token": 304,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 306,
                                                                    "end_token": 306,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"groq\", 8192)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"groq\", 8192)"
                                                }
                                            ],
                                            "label": "LlmModel.LLAMA3_8B: ModelMetadata(\"groq\", 8192),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 311,
                                            "end_token": 321,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 311,
                                                    "end_token": 313,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 311,
                                                            "end_token": 311,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 313,
                                                            "end_token": 313,
                                                            "label": "LLAMA3_70B"
                                                        }
                                                    ],
                                                    "label": "LlmModel.LLAMA3_70B"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 315,
                                                    "end_token": 320,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 315,
                                                            "end_token": 315,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 316,
                                                            "end_token": 320,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 316,
                                                                    "end_token": 316,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 318,
                                                                    "end_token": 318,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"groq\", 8192)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"groq\", 8192)"
                                                }
                                            ],
                                            "label": "LlmModel.LLAMA3_70B: ModelMetadata(\"groq\", 8192),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 323,
                                            "end_token": 333,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 323,
                                                    "end_token": 325,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 323,
                                                            "end_token": 323,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 325,
                                                            "end_token": 325,
                                                            "label": "MIXTRAL_8X7B"
                                                        }
                                                    ],
                                                    "label": "LlmModel.MIXTRAL_8X7B"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 327,
                                                    "end_token": 332,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 327,
                                                            "end_token": 327,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 328,
                                                            "end_token": 332,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 328,
                                                                    "end_token": 328,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 330,
                                                                    "end_token": 330,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"groq\", 32768)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"groq\", 32768)"
                                                }
                                            ],
                                            "label": "LlmModel.MIXTRAL_8X7B: ModelMetadata(\"groq\", 32768),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 335,
                                            "end_token": 345,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 335,
                                                    "end_token": 337,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 335,
                                                            "end_token": 335,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 337,
                                                            "end_token": 337,
                                                            "label": "GEMMA_7B"
                                                        }
                                                    ],
                                                    "label": "LlmModel.GEMMA_7B"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 339,
                                                    "end_token": 344,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 339,
                                                            "end_token": 339,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 340,
                                                            "end_token": 344,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 340,
                                                                    "end_token": 340,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 342,
                                                                    "end_token": 342,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"groq\", 8192)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"groq\", 8192)"
                                                }
                                            ],
                                            "label": "LlmModel.GEMMA_7B: ModelMetadata(\"groq\", 8192),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 347,
                                            "end_token": 357,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 347,
                                                    "end_token": 349,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 347,
                                                            "end_token": 347,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 349,
                                                            "end_token": 349,
                                                            "label": "GEMMA2_9B"
                                                        }
                                                    ],
                                                    "label": "LlmModel.GEMMA2_9B"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 351,
                                                    "end_token": 356,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 351,
                                                            "end_token": 351,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 352,
                                                            "end_token": 356,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 352,
                                                                    "end_token": 352,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 354,
                                                                    "end_token": 354,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"groq\", 8192)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"groq\", 8192)"
                                                }
                                            ],
                                            "label": "LlmModel.GEMMA2_9B: ModelMetadata(\"groq\", 8192),"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 359,
                                            "end_token": 369,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 359,
                                                    "end_token": 361,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 359,
                                                            "end_token": 359,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 361,
                                                            "end_token": 361,
                                                            "label": "LLAMA3_1_405B"
                                                        }
                                                    ],
                                                    "label": "LlmModel.LLAMA3_1_405B"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 363,
                                                    "end_token": 368,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 363,
                                                            "end_token": 363,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 364,
                                                            "end_token": 368,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 364,
                                                                    "end_token": 364,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 366,
                                                                    "end_token": 366,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"groq\", 8192)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"groq\", 8192)"
                                                }
                                            ],
                                            "label": "LlmModel.LLAMA3_1_405B: ModelMetadata(\"groq\", 8192),"
                                        },
                                        {
                                            "type": "comment",
                                            "start_token": 371,
                                            "end_token": 377,
                                            "label": "# Limited to 16k during preview"
                                        },
                                        {
                                            "type": "pair",
                                            "start_token": 379,
                                            "end_token": 389,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 379,
                                                    "end_token": 381,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 379,
                                                            "end_token": 379,
                                                            "label": "LlmModel"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 381,
                                                            "end_token": 381,
                                                            "label": "LLAMA3_1_70B"
                                                        }
                                                    ],
                                                    "label": "LlmModel.LLAMA3_1_70B"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 383,
                                                    "end_token": 388,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 383,
                                                            "end_token": 383,
                                                            "label": "ModelMetadata"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 384,
                                                            "end_token": 388,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 384,
                                                                    "end_token": 384,
                                                                    "label": "("
                                                                },
                                                                {
                                                                    "type": "integer",
                                                                    "start_token": 386,
                                                                    "end_token": 386,
                                                                    "label": ","
                                                                }
                                                            ],
                                                            "label": "(\"groq\", 131072)"
                                                        }
                                                    ],
                                                    "label": "ModelMetadata(\"groq\", 131072)"
                                                }
                                            ],
                                            "label": "LlmModel.LLAMA3_1_70B: ModelMetadata(\"groq\", 131072),"
                                        }
                                    ],
                                    "label": "{\n    LlmModel.O1_PREVIEW: ModelMetadata(\"openai\", 32000),\n    LlmModel.O1_MINI: ModelMetadata(\"openai\", 62000),\n    LlmModel.GPT4O_MINI: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4O: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4_TURBO: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT3_5_TURBO: ModelMetadata(\"openai\", 16385),\n    LlmModel.CLAUDE_3_5_SONNET: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.CLAUDE_3_HAIKU: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.LLAMA3_8B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_70B: ModelMetadata(\"groq\", 8192),\n    LlmModel.MIXTRAL_8X7B: ModelMetadata(\"groq\", 32768),\n    LlmModel.GEMMA_7B: ModelMetadata(\"groq\", 8192),\n    LlmModel.GEMMA2_9B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_1_405B: ModelMetadata(\"groq\", 8192),\n    # Limited to 16k during preview\n    LlmModel.LLAMA3_1_70B: ModelMetadata(\"groq\", 131072),\n    LlmModel.LLAMA3_1_8B: ModelMetadata(\"groq\", 131072),\n    LlmModel.OLLAMA_LLAMA3_8B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_LLAMA3_405B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_DOLPHIN: ModelMetadata(\"ollama\", 32768),\n    LlmModel.GEMINI_FLASH_1_5_8B: ModelMetadata(\"open_router\", 8192),\n    LlmModel.GROK_BETA: ModelMetadata(\"open_router\", 8192),\n    LlmModel.MISTRAL_NEMO: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_PLUS_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.EVA_QWEN_2_5_32B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.DEEPSEEK_CHAT: ModelMetadata(\"open_router\", 8192),\n    LlmModel.PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE: ModelMetadata(\n        \"open_router\", 8192\n    ),\n    LlmModel.QWEN_QWQ_32B_PREVIEW: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_LITE_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_MICRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_PRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.MICROSOFT_WIZARDLM_2_8X22B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.GRYPHE_MYTHOMAX_L2_13B: ModelMetadata(\"open_router\", 4000),"
                                }
                            ],
                            "label": "MODEL_METADATA = {\n    LlmModel.O1_PREVIEW: ModelMetadata(\"openai\", 32000),\n    LlmModel.O1_MINI: ModelMetadata(\"openai\", 62000),\n    LlmModel.GPT4O_MINI: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4O: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4_TURBO: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT3_5_TURBO: ModelMetadata(\"openai\", 16385),\n    LlmModel.CLAUDE_3_5_SONNET: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.CLAUDE_3_HAIKU: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.LLAMA3_8B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_70B: ModelMetadata(\"groq\", 8192),\n    LlmModel.MIXTRAL_8X7B: ModelMetadata(\"groq\", 32768),\n    LlmModel.GEMMA_7B: ModelMetadata(\"groq\", 8192),\n    LlmModel.GEMMA2_9B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_1_405B: ModelMetadata(\"groq\", 8192),\n    # Limited to 16k during preview\n    LlmModel.LLAMA3_1_70B: ModelMetadata(\"groq\", 131072),\n    LlmModel.LLAMA3_1_8B: ModelMetadata(\"groq\", 131072),\n    LlmModel.OLLAMA_LLAMA3_8B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_LLAMA3_405B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_DOLPHIN: ModelMetadata(\"ollama\", 32768),\n    LlmModel.GEMINI_FLASH_1_5_8B: ModelMetadata(\"open_router\", 8192),\n    LlmModel.GROK_BETA: ModelMetadata(\"open_router\", 8192),\n    LlmModel.MISTRAL_NEMO: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_PLUS_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.EVA_QWEN_2_5_32B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.DEEPSEEK_CHAT: ModelMetadata(\"open_router\", 8192),\n    LlmModel.PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE: ModelMetadata(\n        \"open_router\", 8192\n    ),\n    LlmModel.QWEN_QWQ_32B_PREVIEW: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_LITE_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_MICRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_PRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.MICROSOFT_WIZARDLM_2_8X22B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.GRYPHE_MYTHOMAX_L2_13B: ModelMetadata(\"open_router\", 4000),"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "metadata",
                            "start_line": 136,
                            "end_line": 137,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 14,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 14,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "children": [],
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "metadata"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "children": [],
                                                            "label": "ModelMetadata"
                                                        }
                                                    ],
                                                    "label": "> ModelMetadata"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 8,
                                                    "end_token": 14,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 10,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 11,
                                                                    "end_token": 14,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "MODEL_METADATA"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 12,
                                                                            "end_token": 14,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                }
                                                                            ],
                                                                            "label": "[self]"
                                                                        }
                                                                    ],
                                                                    "label": "MODEL_METADATA[self]"
                                                                }
                                                            ],
                                                            "label": "return MODEL_METADATA[self]"
                                                        }
                                                    ],
                                                    "label": ":\n        return MODEL_METADATA[self]"
                                                }
                                            ],
                                            "label": "def metadata(self) -> ModelMetadata:\n        return MODEL_METADATA[self]"
                                        }
                                    ],
                                    "label": "def metadata(self) -> ModelMetadata:\n        return MODEL_METADATA[self]"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "provider",
                            "start_line": 140,
                            "end_line": 141,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 16,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 16,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "provider"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "> str"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 9,
                                                    "end_token": 16,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 10,
                                                            "end_token": 15,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 11,
                                                                    "end_token": 15,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 13,
                                                                            "end_token": 13,
                                                                            "children": [],
                                                                            "label": "metadata"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 15,
                                                                            "end_token": 15,
                                                                            "children": [],
                                                                            "label": "provider"
                                                                        }
                                                                    ],
                                                                    "label": "self.metadata.provider"
                                                                }
                                                            ],
                                                            "label": "return self.metadata.provider"
                                                        }
                                                    ],
                                                    "label": "\n        return self.metadata.provider\n"
                                                }
                                            ],
                                            "label": "def provider(self) -> str:\n        return self.metadata.provider\n"
                                        }
                                    ],
                                    "label": "def provider(self) -> str:\n        return self.metadata.provider\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "context_window",
                            "start_line": 144,
                            "end_line": 145,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 16,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 16,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "context_window"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "> int"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 8,
                                                    "end_token": 16,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 10,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 11,
                                                                    "end_token": 15,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "dotted_name",
                                                                            "start_token": 12,
                                                                            "end_token": 15,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "children": [],
                                                                                    "label": "metadata"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 15,
                                                                                    "end_token": 15,
                                                                                    "children": [],
                                                                                    "label": "context_window"
                                                                                }
                                                                            ],
                                                                            "label": ".metadata.context_window"
                                                                        }
                                                                    ],
                                                                    "label": "self.metadata.context_window"
                                                                }
                                                            ],
                                                            "label": "return self.metadata.context_window\n"
                                                        }
                                                    ],
                                                    "label": ":\n        return self.metadata.context_window\n"
                                                }
                                            ],
                                            "label": "def context_window(self) -> int:\n        return self.metadata.context_window\n"
                                        }
                                    ],
                                    "label": "def context_window(self) -> int:\n        return self.metadata.context_window\n"
                                }
                            ]
                        }
                    ],
                    "label": "class LlmModel(str, Enum, metaclass=LlmModelMeta):\n    # OpenAI models\n    O1_PREVIEW = \"o1-preview\"\n    O1_MINI = \"o1-mini\"\n    GPT4O_MINI = \"gpt-4o-mini\"\n    GPT4O = \"gpt-4o\"\n    GPT4_TURBO = \"gpt-4-turbo\"\n    GPT3_5_TURBO = \"gpt-3.5-turbo\"\n    # Anthropic models\n    CLAUDE_3_5_SONNET = \"claude-3-5-sonnet-latest\"\n    CLAUDE_3_HAIKU = \"claude-3-haiku-20240307\"\n    # Groq models\n    LLAMA3_8B = \"llama3-8b-8192\"\n    LLAMA3_70B = \"llama3-70b-8192\"\n    MIXTRAL_8X7B = \"mixtral-8x7b-32768\"\n    GEMMA_7B = \"gemma-7b-it\"\n    GEMMA2_9B = \"gemma2-9b-it\"\n    # New Groq models (Preview)\n    LLAMA3_1_405B = \"llama-3.1-405b-reasoning\"\n    LLAMA3_1_70B = \"llama-3.1-70b-versatile\"\n    LLAMA3_1_8B = \"llama-3.1-8b-instant\"\n    # Ollama models\n    OLLAMA_LLAMA3_8B = \"llama3\"\n    OLLAMA_LLAMA3_405B = \"llama3.1:405b\"\n    OLLAMA_DOLPHIN = \"dolphin-mistral:latest\"\n    # OpenRouter models\n    GEMINI_FLASH_1_5_8B = \"google/gemini-flash-1.5\"\n    GROK_BETA = \"x-ai/grok-beta\"\n    MISTRAL_NEMO = \"mistralai/mistral-nemo\"\n    COHERE_COMMAND_R_08_2024 = \"cohere/command-r-08-2024\"\n    COHERE_COMMAND_R_PLUS_08_2024 = \"cohere/command-r-plus-08-2024\"\n    EVA_QWEN_2_5_32B = \"eva-unit-01/eva-qwen-2.5-32b\"\n    DEEPSEEK_CHAT = \"deepseek/deepseek-chat\"\n    PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE = (\n        \"perplexity/llama-3.1-sonar-large-128k-online\"\n    )\n    QWEN_QWQ_32B_PREVIEW = \"qwen/qwq-32b-preview\"\n    NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B = \"nousresearch/hermes-3-llama-3.1-405b\"\n    NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B = \"nousresearch/hermes-3-llama-3.1-70b\"\n    AMAZON_NOVA_LITE_V1 = \"amazon/nova-lite-v1\"\n    AMAZON_NOVA_MICRO_V1 = \"amazon/nova-micro-v1\"\n    AMAZON_NOVA_PRO_V1 = \"amazon/nova-pro-v1\"\n    MICROSOFT_WIZARDLM_2_8X22B = \"microsoft/wizardlm-2-8x22b\"\n    GRYPHE_MYTHOMAX_L2_13B = \"gryphe/mythomax-l2-13b\"\n\n    @property\n\n    @property\n\n    @property\n\n\nMODEL_METADATA = {\n    LlmModel.O1_PREVIEW: ModelMetadata(\"openai\", 32000),\n    LlmModel.O1_MINI: ModelMetadata(\"openai\", 62000),\n    LlmModel.GPT4O_MINI: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4O: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT4_TURBO: ModelMetadata(\"openai\", 128000),\n    LlmModel.GPT3_5_TURBO: ModelMetadata(\"openai\", 16385),\n    LlmModel.CLAUDE_3_5_SONNET: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.CLAUDE_3_HAIKU: ModelMetadata(\"anthropic\", 200000),\n    LlmModel.LLAMA3_8B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_70B: ModelMetadata(\"groq\", 8192),\n    LlmModel.MIXTRAL_8X7B: ModelMetadata(\"groq\", 32768),\n    LlmModel.GEMMA_7B: ModelMetadata(\"groq\", 8192),\n    LlmModel.GEMMA2_9B: ModelMetadata(\"groq\", 8192),\n    LlmModel.LLAMA3_1_405B: ModelMetadata(\"groq\", 8192),\n    # Limited to 16k during preview\n    LlmModel.LLAMA3_1_70B: ModelMetadata(\"groq\", 131072),\n    LlmModel.LLAMA3_1_8B: ModelMetadata(\"groq\", 131072),\n    LlmModel.OLLAMA_LLAMA3_8B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_LLAMA3_405B: ModelMetadata(\"ollama\", 8192),\n    LlmModel.OLLAMA_DOLPHIN: ModelMetadata(\"ollama\", 32768),\n    LlmModel.GEMINI_FLASH_1_5_8B: ModelMetadata(\"open_router\", 8192),\n    LlmModel.GROK_BETA: ModelMetadata(\"open_router\", 8192),\n    LlmModel.MISTRAL_NEMO: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.COHERE_COMMAND_R_PLUS_08_2024: ModelMetadata(\"open_router\", 4000),\n    LlmModel.EVA_QWEN_2_5_32B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.DEEPSEEK_CHAT: ModelMetadata(\"open_router\", 8192),\n    LlmModel.PERPLEXITY_LLAMA_3_1_SONAR_LARGE_128K_ONLINE: ModelMetadata(\n        \"open_router\", 8192\n    ),\n    LlmModel.QWEN_QWQ_32B_PREVIEW: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_405B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.NOUSRESEARCH_HERMES_3_LLAMA_3_1_70B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_LITE_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_MICRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.AMAZON_NOVA_PRO_V1: ModelMetadata(\"open_router\", 4000),\n    LlmModel.MICROSOFT_WIZARDLM_2_8X22B: ModelMetadata(\"open_router\", 4000),\n    LlmModel.GRYPHE_MYTHOMAX_L2_13B: ModelMetadata(\"open_router\", 4000),"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "MessageRole",
            "start_line": 194,
            "end_line": 197,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 19,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 19,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "MessageRole"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "str"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 5,
                                            "end_token": 5,
                                            "children": [],
                                            "label": "Enum"
                                        }
                                    ],
                                    "label": "(str, Enum)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 9,
                                    "end_token": 19,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "SYSTEM"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": "\"system\""
                                                }
                                            ],
                                            "label": "SYSTEM = \"system\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 13,
                                            "end_token": 15,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "USER"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "\"user\""
                                                }
                                            ],
                                            "label": "USER = \"user\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 17,
                                            "end_token": 19,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "children": [],
                                                    "label": "ASSISTANT"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "children": [],
                                                    "label": "\"assistant\""
                                                }
                                            ],
                                            "label": "ASSISTANT = \"assistant\""
                                        }
                                    ],
                                    "label": "SYSTEM = \"system\"\n    USER = \"user\"\n    ASSISTANT = \"assistant\""
                                }
                            ],
                            "label": "class MessageRole(str, Enum):\n    SYSTEM = \"system\"\n    USER = \"user\"\n    ASSISTANT = \"assistant\""
                        }
                    ],
                    "label": "class MessageRole(str, Enum):\n    SYSTEM = \"system\"\n    USER = \"user\"\n    ASSISTANT = \"assistant\""
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "Message",
            "start_line": 200,
            "end_line": 202,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 13,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 14,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "Message"
                                },
                                {
                                    "type": "block",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "BlockSchema"
                                        }
                                    ],
                                    "label": "(BlockSchema):\n"
                                },
                                {
                                    "type": "block",
                                    "start_token": 7,
                                    "end_token": 13,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "role"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "MessageRole"
                                                }
                                            ],
                                            "label": "role: MessageRole"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 11,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": "content"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "content: str"
                                        }
                                    ],
                                    "label": "role: MessageRole\n    content: str"
                                }
                            ],
                            "label": "class Message(BlockSchema):\n    role: MessageRole\n    content: str\n"
                        }
                    ],
                    "label": "class Message(BlockSchema):\n    role: MessageRole\n    content: str"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AIStructuredResponseGeneratorBlock",
            "start_line": 205,
            "end_line": 552,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 11,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 5,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "AIStructuredResponseGeneratorBlock"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "Block"
                                        }
                                    ],
                                    "label": "(Block)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "decorated_definition",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "decorator",
                                                    "start_token": 9,
                                                    "end_token": 10,
                                                    "label": "@staticmethod"
                                                }
                                            ],
                                            "label": "@staticmethod\n"
                                        }
                                    ],
                                    "label": "\n\n\n    @staticmethod\n"
                                }
                            ],
                            "label": "class AIStructuredResponseGeneratorBlock(Block):"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__init__",
                            "start_line": 257,
                            "end_line": 287,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 160,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 159,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "__init__"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 5,
                                                    "end_token": 159,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 7,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "super"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "__init__"
                                                                        }
                                                                    ],
                                                                    "label": "super().__init__"
                                                                }
                                                            ],
                                                            "label": "super().__init__(\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 14,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": "id"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "children": [],
                                                                    "label": "\"ed55ac19-356e-4243-a6cb-bc599e9b716f\""
                                                                }
                                                            ],
                                                            "label": "id=\"ed55ac19-356e-4243-a6cb-bc599e9b716f\","
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 19,
                                                            "end_token": 22,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "children": [],
                                                                    "label": "description"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "children": [],
                                                                    "label": "\"Call a Large Language Model (LLM) to generate formatted object based on the given prompt.\""
                                                                }
                                                            ],
                                                            "label": "description=\"Call a Large Language Model (LLM) to generate formatted object based on the given prompt.\","
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 24,
                                                            "end_token": 30,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "children": [],
                                                                    "label": "categories"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 26,
                                                                    "end_token": 30,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 27,
                                                                            "end_token": 30,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 27,
                                                                                    "end_token": 29,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 27,
                                                                                            "end_token": 27,
                                                                                            "children": [],
                                                                                            "label": "BlockCategory"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 29,
                                                                                            "end_token": 29,
                                                                                            "children": [],
                                                                                            "label": "AI"
                                                                                        }
                                                                                    ],
                                                                                    "label": "BlockCategory.AI"
                                                                                }
                                                                            ],
                                                                            "label": "BlockCategory.AI}"
                                                                        }
                                                                    ],
                                                                    "label": "{BlockCategory.AI}"
                                                                }
                                                            ],
                                                            "label": "categories={BlockCategory.AI}"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 33,
                                                            "end_token": 38,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 33,
                                                                    "end_token": 33,
                                                                    "children": [],
                                                                    "label": "input_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 35,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 35,
                                                                            "end_token": 35,
                                                                            "children": [],
                                                                            "label": "AIStructuredResponseGeneratorBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 37,
                                                                            "end_token": 37,
                                                                            "children": [],
                                                                            "label": "Input"
                                                                        }
                                                                    ],
                                                                    "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                }
                                                            ],
                                                            "label": "input_schema=AIStructuredResponseGeneratorBlock.Input,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 40,
                                                            "end_token": 45,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 40,
                                                                    "end_token": 40,
                                                                    "children": [],
                                                                    "label": "output_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 42,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 42,
                                                                            "end_token": 42,
                                                                            "children": [],
                                                                            "label": "AIStructuredResponseGeneratorBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 44,
                                                                            "end_token": 44,
                                                                            "children": [],
                                                                            "label": "Output"
                                                                        }
                                                                    ],
                                                                    "label": "AIStructuredResponseGeneratorBlock.Output"
                                                                }
                                                            ],
                                                            "label": "output_schema=AIStructuredResponseGeneratorBlock.Output,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 47,
                                                            "end_token": 85,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 47,
                                                                    "end_token": 47,
                                                                    "children": [],
                                                                    "label": "test_input"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 49,
                                                                    "end_token": 85,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 51,
                                                                            "end_token": 56,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 51,
                                                                                    "end_token": 51,
                                                                                    "children": [],
                                                                                    "label": "\"model\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 53,
                                                                                    "end_token": 55,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 53,
                                                                                            "end_token": 53,
                                                                                            "children": [],
                                                                                            "label": "LlmModel"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 55,
                                                                                            "end_token": 55,
                                                                                            "children": [],
                                                                                            "label": "GPT4_TURBO"
                                                                                        }
                                                                                    ],
                                                                                    "label": "LlmModel.GPT4_TURBO"
                                                                                }
                                                                            ],
                                                                            "label": "\"model\": LlmModel.GPT4_TURBO,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 58,
                                                                            "end_token": 61,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 58,
                                                                                    "end_token": 58,
                                                                                    "children": [],
                                                                                    "label": "\"credentials\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 60,
                                                                                    "end_token": 60,
                                                                                    "children": [],
                                                                                    "label": "TEST_CREDENTIALS_INPUT"
                                                                                }
                                                                            ],
                                                                            "label": "\"credentials\": TEST_CREDENTIALS_INPUT,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 63,
                                                                            "end_token": 79,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 63,
                                                                                    "end_token": 63,
                                                                                    "children": [],
                                                                                    "label": "\"expected_format\""
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 65,
                                                                                    "end_token": 77,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 67,
                                                                                            "end_token": 70,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 67,
                                                                                                    "end_token": 67,
                                                                                                    "children": [],
                                                                                                    "label": "\"key1\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 69,
                                                                                                    "end_token": 69,
                                                                                                    "children": [],
                                                                                                    "label": "\"value1\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"key1\": \"value1\","
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 72,
                                                                                            "end_token": 75,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 72,
                                                                                                    "end_token": 72,
                                                                                                    "children": [],
                                                                                                    "label": "\"key2\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 74,
                                                                                                    "end_token": 74,
                                                                                                    "children": [],
                                                                                                    "label": "\"value2\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"key2\": \"value2\","
                                                                                        }
                                                                                    ],
                                                                                    "label": "{\n                    \"key1\": \"value1\",\n                    \"key2\": \"value2\",\n                }"
                                                                                }
                                                                            ],
                                                                            "label": "\"expected_format\": {\n                    \"key1\": \"value1\",\n                    \"key2\": \"value2\",\n                },\n"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 80,
                                                                            "end_token": 83,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 80,
                                                                                    "end_token": 80,
                                                                                    "children": [],
                                                                                    "label": "\"prompt\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 82,
                                                                                    "end_token": 82,
                                                                                    "children": [],
                                                                                    "label": "\"User prompt\""
                                                                                }
                                                                            ],
                                                                            "label": "\"prompt\": \"User prompt\","
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"expected_format\": {\n                    \"key1\": \"value1\",\n                    \"key2\": \"value2\",\n                },\n                \"prompt\": \"User prompt\",\n            }"
                                                                }
                                                            ],
                                                            "label": "test_input={\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"expected_format\": {\n                    \"key1\": \"value1\",\n                    \"key2\": \"value2\",\n                },\n                \"prompt\": \"User prompt\",\n            }"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 88,
                                                            "end_token": 91,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 88,
                                                                    "end_token": 88,
                                                                    "children": [],
                                                                    "label": "test_credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 90,
                                                                    "end_token": 90,
                                                                    "children": [],
                                                                    "label": "TEST_CREDENTIALS"
                                                                }
                                                            ],
                                                            "label": "test_credentials=TEST_CREDENTIALS,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 93,
                                                            "end_token": 107,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 93,
                                                                    "end_token": 93,
                                                                    "children": [],
                                                                    "label": "test_output"
                                                                },
                                                                {
                                                                    "type": "tuple",
                                                                    "start_token": 95,
                                                                    "end_token": 107,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 96,
                                                                            "end_token": 96,
                                                                            "children": [],
                                                                            "label": "\"response\""
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 98,
                                                                            "end_token": 106,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 99,
                                                                                    "end_token": 102,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 99,
                                                                                            "end_token": 99,
                                                                                            "children": [],
                                                                                            "label": "\"key1\""
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 101,
                                                                                            "end_token": 101,
                                                                                            "children": [],
                                                                                            "label": "\"key1Value\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"key1\": \"key1Value\","
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 103,
                                                                                    "end_token": 105,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 103,
                                                                                            "end_token": 103,
                                                                                            "children": [],
                                                                                            "label": "\"key2\""
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 105,
                                                                                            "end_token": 105,
                                                                                            "children": [],
                                                                                            "label": "\"key2Value\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"key2\": \"key2Value\""
                                                                                }
                                                                            ],
                                                                            "label": "{\"key1\": \"key1Value\", \"key2\": \"key2Value\"}"
                                                                        }
                                                                    ],
                                                                    "label": "(\"response\", {\"key1\": \"key1Value\", \"key2\": \"key2Value\"})"
                                                                }
                                                            ],
                                                            "label": "test_output=(\"response\", {\"key1\": \"key1Value\", \"key2\": \"key2Value\"})"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 110,
                                                            "end_token": 156,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 110,
                                                                    "end_token": 110,
                                                                    "children": [],
                                                                    "label": "test_mock"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 112,
                                                                    "end_token": 156,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 114,
                                                                            "end_token": 154,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 114,
                                                                                    "end_token": 114,
                                                                                    "children": [],
                                                                                    "label": "\"llm_call\""
                                                                                },
                                                                                {
                                                                                    "type": "lambda",
                                                                                    "start_token": 116,
                                                                                    "end_token": 154,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lambda_parameters",
                                                                                            "start_token": 117,
                                                                                            "end_token": 122,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 118,
                                                                                                    "end_token": 118,
                                                                                                    "children": [],
                                                                                                    "label": "args"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 121,
                                                                                                    "end_token": 121,
                                                                                                    "children": [],
                                                                                                    "label": "*"
                                                                                                }
                                                                                            ],
                                                                                            "label": "*args, **kwargs"
                                                                                        },
                                                                                        {
                                                                                            "type": "tuple",
                                                                                            "start_token": 124,
                                                                                            "end_token": 154,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 126,
                                                                                                    "end_token": 145,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 127,
                                                                                                            "end_token": 128,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 127,
                                                                                                                    "end_token": 127,
                                                                                                                    "children": [],
                                                                                                                    "label": "."
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 128,
                                                                                                                    "end_token": 128,
                                                                                                                    "children": [],
                                                                                                                    "label": "dumps"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": ".dumps"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 131,
                                                                                                            "end_token": 143,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 133,
                                                                                                                    "end_token": 136,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 133,
                                                                                                                            "end_token": 133,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"key1\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 135,
                                                                                                                            "end_token": 135,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"key1Value\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"key1\": \"key1Value\","
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 138,
                                                                                                                    "end_token": 141,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 138,
                                                                                                                            "end_token": 138,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"key2\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 140,
                                                                                                                            "end_token": 140,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"key2Value\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"key2\": \"key2Value\","
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "{\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    )"
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "start_token": 148,
                                                                                                    "end_token": 148,
                                                                                                    "children": [],
                                                                                                    "label": "0"
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "start_token": 151,
                                                                                                    "end_token": 151,
                                                                                                    "children": [],
                                                                                                    "label": "0"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                    json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    ),\n                    0,\n                    0,\n                )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "lambda *args, **kwargs: (\n                    json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    ),\n                    0,\n                    0,\n                )"
                                                                                }
                                                                            ],
                                                                            "label": "\"llm_call\": lambda *args, **kwargs: (\n                    json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    ),\n                    0,\n                    0,\n                )"
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"llm_call\": lambda *args, **kwargs: (\n                    json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    ),\n                    0,\n                    0,\n                )\n            }"
                                                                }
                                                            ],
                                                            "label": "test_mock={\n                \"llm_call\": lambda *args, **kwargs: (\n                    json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    ),\n                    0,\n                    0,\n                )\n            }"
                                                        }
                                                    ],
                                                    "label": ":\n        super().__init__(\n            id=\"ed55ac19-356e-4243-a6cb-bc599e9b716f\",\n            description=\"Call a Large Language Model (LLM) to generate formatted object based on the given prompt.\",\n            categories={BlockCategory.AI},\n            input_schema=AIStructuredResponseGeneratorBlock.Input,\n            output_schema=AIStructuredResponseGeneratorBlock.Output,\n            test_input={\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"expected_format\": {\n                    \"key1\": \"value1\",\n                    \"key2\": \"value2\",\n                },\n                \"prompt\": \"User prompt\",\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"response\", {\"key1\": \"key1Value\", \"key2\": \"key2Value\"}),\n            test_mock={\n                \"llm_call\": lambda *args, **kwargs: (\n                    json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    ),\n                    0,\n                    0,\n                )\n            },\n        )"
                                                }
                                            ],
                                            "label": "def __init__(self):\n        super().__init__(\n            id=\"ed55ac19-356e-4243-a6cb-bc599e9b716f\",\n            description=\"Call a Large Language Model (LLM) to generate formatted object based on the given prompt.\",\n            categories={BlockCategory.AI},\n            input_schema=AIStructuredResponseGeneratorBlock.Input,\n            output_schema=AIStructuredResponseGeneratorBlock.Output,\n            test_input={\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"expected_format\": {\n                    \"key1\": \"value1\",\n                    \"key2\": \"value2\",\n                },\n                \"prompt\": \"User prompt\",\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"response\", {\"key1\": \"key1Value\", \"key2\": \"key2Value\"}),\n            test_mock={\n                \"llm_call\": lambda *args, **kwargs: (\n                    json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    ),\n                    0,\n                    0,\n                )\n            },\n        )"
                                        }
                                    ],
                                    "label": "def __init__(self):\n        super().__init__(\n            id=\"ed55ac19-356e-4243-a6cb-bc599e9b716f\",\n            description=\"Call a Large Language Model (LLM) to generate formatted object based on the given prompt.\",\n            categories={BlockCategory.AI},\n            input_schema=AIStructuredResponseGeneratorBlock.Input,\n            output_schema=AIStructuredResponseGeneratorBlock.Output,\n            test_input={\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"expected_format\": {\n                    \"key1\": \"value1\",\n                    \"key2\": \"value2\",\n                },\n                \"prompt\": \"User prompt\",\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"response\", {\"key1\": \"key1Value\", \"key2\": \"key2Value\"}),\n            test_mock={\n                \"llm_call\": lambda *args, **kwargs: (\n                    json.dumps(\n                        {\n                            \"key1\": \"key1Value\",\n                            \"key2\": \"key2Value\",\n                        }\n                    ),\n                    0,\n                    0,\n                )\n            },\n        )\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "llm_call",
                            "start_line": 290,
                            "end_line": 437,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 1013,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 1013,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "llm_call"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 43,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 6,
                                                            "label": "credentials: APIKeyCredentials"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 9,
                                                            "end_token": 11,
                                                            "label": "llm_model: LlmModel"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 14,
                                                            "end_token": 19,
                                                            "label": "prompt: list[dict]"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 22,
                                                            "end_token": 24,
                                                            "label": "json_format: bool"
                                                        },
                                                        {
                                                            "type": "typed_default_parameter",
                                                            "start_token": 27,
                                                            "end_token": 33,
                                                            "label": "max_tokens: int | None = None"
                                                        },
                                                        {
                                                            "type": "typed_default_parameter",
                                                            "start_token": 36,
                                                            "end_token": 40,
                                                            "label": "ollama_host: str = \"localhost:11434\""
                                                        }
                                                    ],
                                                    "label": "(\n        credentials: APIKeyCredentials,\n        llm_model: LlmModel,\n        prompt: list[dict],\n        json_format: bool,\n        max_tokens: int | None = None,\n        ollama_host: str = \"localhost:11434\",\n    )"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 55,
                                                    "end_token": 1013,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 60,
                                                            "end_token": 66,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 62,
                                                                    "end_token": 66,
                                                                    "label": "llm_model.metadata.provider"
                                                                }
                                                            ],
                                                            "label": "provider = llm_model.metadata.provider"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 69,
                                                            "end_token": 292,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 76,
                                                                    "end_token": 276,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 76,
                                                                            "end_token": 91,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 78,
                                                                                    "end_token": 91,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 78,
                                                                                            "end_token": 80,
                                                                                            "label": "openai.OpenAI"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 83,
                                                                                            "end_token": 89,
                                                                                            "label": "=credentials.api_key.get_secret_value("
                                                                                        }
                                                                                    ],
                                                                                    "label": "openai.OpenAI(api_key=credentials.api_key.get_secret_value())"
                                                                                }
                                                                            ],
                                                                            "label": "oai_client = openai.OpenAI(api_key=credentials.api_key.get_secret_value())"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 93,
                                                                            "end_token": 95,
                                                                            "label": "response_format = None"
                                                                        },
                                                                        {
                                                                            "type": "if_statement",
                                                                            "start_token": 98,
                                                                            "end_token": 188,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 112,
                                                                                    "end_token": 188,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 112,
                                                                                            "end_token": 131,
                                                                                            "label": "sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 133,
                                                                                            "end_token": 152,
                                                                                            "label": "usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 154,
                                                                                            "end_token": 190,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "list",
                                                                                                    "start_token": 156,
                                                                                                    "end_token": 190,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 158,
                                                                                                            "end_token": 171,
                                                                                                            "label": "{\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)}"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 174,
                                                                                                            "end_token": 187,
                                                                                                            "label": "{\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)}"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "[\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},\n                ]"
                                                                                                }
                                                                                            ],
                                                                                            "label": "prompt = [\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},\n                ]"
                                                                                        }
                                                                                    ],
                                                                                    "label": "sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n                usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n                prompt = [\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},"
                                                                                }
                                                                            ],
                                                                            "label": "if llm_model in [LlmModel.O1_MINI, LlmModel.O1_PREVIEW]:\n                sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n                usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n                prompt = [\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},"
                                                                        },
                                                                        {
                                                                            "type": "elif_clause",
                                                                            "start_token": 192,
                                                                            "end_token": 203,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 196,
                                                                                    "end_token": 203,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 196,
                                                                                            "end_token": 202,
                                                                                            "label": "response_format = {\"type\": \"json_object\"}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "response_format = {\"type\": \"json_object\"}\n"
                                                                                }
                                                                            ],
                                                                            "label": "elif json_format:\n                response_format = {\"type\": \"json_object\"}\n"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 205,
                                                                            "end_token": 246,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 207,
                                                                                    "end_token": 213,
                                                                                    "label": "oai_client.chat.completions.create"
                                                                                }
                                                                            ],
                                                                            "label": "response = oai_client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_completion_tokens=max_tokens,\n            )"
                                                                        }
                                                                    ],
                                                                    "label": "oai_client = openai.OpenAI(api_key=credentials.api_key.get_secret_value())\n            response_format = None\n\n            if llm_model in [LlmModel.O1_MINI, LlmModel.O1_PREVIEW]:\n                sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n                usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n                prompt = [\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},\n                ]\n            elif json_format:\n                response_format = {\"type\": \"json_object\"}\n\n            response = oai_client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_completion_tokens=max_tokens,\n            )\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 249,
                                                                    "end_token": 292,
                                                                    "children": [
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 250,
                                                                            "end_token": 290,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 252,
                                                                                    "end_token": 261,
                                                                                    "label": "response.choices[0].message.content"
                                                                                },
                                                                                {
                                                                                    "type": "conditional_expression",
                                                                                    "start_token": 266,
                                                                                    "end_token": 276,
                                                                                    "label": "response.usage.prompt_tokens if response.usage else 0"
                                                                                },
                                                                                {
                                                                                    "type": "conditional_expression",
                                                                                    "start_token": 279,
                                                                                    "end_token": 289,
                                                                                    "label": "response.usage.completion_tokens if response.usage else 0"
                                                                                }
                                                                            ],
                                                                            "label": "(\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,"
                                                                        }
                                                                    ],
                                                                    "label": "return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )"
                                                                }
                                                            ],
                                                            "label": "if provider == \"openai\":\n            oai_client = openai.OpenAI(api_key=credentials.api_key.get_secret_value())\n            response_format = None\n\n            if llm_model in [LlmModel.O1_MINI, LlmModel.O1_PREVIEW]:\n                sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n                usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n                prompt = [\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},\n                ]\n            elif json_format:\n                response_format = {\"type\": \"json_object\"}\n\n            response = oai_client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_completion_tokens=max_tokens,\n            )\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )"
                                                        },
                                                        {
                                                            "type": "elif_clause",
                                                            "start_token": 294,
                                                            "end_token": 564,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 300,
                                                                    "end_token": 564,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 301,
                                                                            "end_token": 320,
                                                                            "label": "system_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 322,
                                                                            "end_token": 329,
                                                                            "children": [
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 324,
                                                                                    "end_token": 327,
                                                                                    "label": "\" \".join("
                                                                                }
                                                                            ],
                                                                            "label": "sysprompt = \" \".join(system_messages)"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 332,
                                                                            "end_token": 335,
                                                                            "children": [
                                                                                {
                                                                                    "type": "list",
                                                                                    "start_token": 334,
                                                                                    "end_token": 335,
                                                                                    "label": "[]"
                                                                                }
                                                                            ],
                                                                            "label": "messages = []"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 337,
                                                                            "end_token": 339,
                                                                            "label": "last_role = None"
                                                                        },
                                                                        {
                                                                            "type": "for_statement",
                                                                            "start_token": 341,
                                                                            "end_token": 432,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 345,
                                                                                    "end_token": 432,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "if_statement",
                                                                                            "start_token": 347,
                                                                                            "end_token": 388,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "block",
                                                                                                    "start_token": 360,
                                                                                                    "end_token": 388,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "conditional_expression",
                                                                                                            "start_token": 362,
                                                                                                            "end_token": 367,
                                                                                                            "label": "[\"role\"] != last_role"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "assignment",
                                                                                                            "start_token": 370,
                                                                                                            "end_token": 389,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "dictionary",
                                                                                                                    "start_token": 374,
                                                                                                                    "end_token": 388,
                                                                                                                    "label": "{\"role\": p[\"role\"], \"content\": p[\"content\"]}"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]})"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "if p[\"role\"] in [\"user\", \"assistant\"]:\n                    if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]}"
                                                                                        },
                                                                                        {
                                                                                            "type": "else_clause",
                                                                                            "start_token": 398,
                                                                                            "end_token": 432,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "binary_operator",
                                                                                                    "start_token": 417,
                                                                                                    "end_token": 432,
                                                                                                    "label": "messages[-1][\"content\"] += \"\\n\" + p[\"content\"]"
                                                                                                }
                                                                                            ],
                                                                                            "label": "else:\n                        # If the role is the same as the last one, combine the content\n                        messages[-1][\"content\"] += \"\\n\" + p[\"content\"]"
                                                                                        }
                                                                                    ],
                                                                                    "label": ":\n                if p[\"role\"] in [\"user\", \"assistant\"]:\n                    if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]})\n                        last_role = p[\"role\"]\n                    else:\n                        # If the role is the same as the last one, combine the content\n                        messages[-1][\"content\"] += \"\\n\" + p[\"content\"]"
                                                                                }
                                                                            ],
                                                                            "label": "for p in prompt:\n                if p[\"role\"] in [\"user\", \"assistant\"]:\n                    if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]})\n                        last_role = p[\"role\"]\n                    else:\n                        # If the role is the same as the last one, combine the content\n                        messages[-1][\"content\"] += \"\\n\" + p[\"content\"]"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 435,
                                                                            "end_token": 450,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 437,
                                                                                    "end_token": 439,
                                                                                    "label": "anthropic.Anthropic"
                                                                                }
                                                                            ],
                                                                            "label": "client = anthropic.Anthropic(api_key=credentials.api_key.get_secret_value())"
                                                                        },
                                                                        {
                                                                            "type": "try_statement",
                                                                            "start_token": 452,
                                                                            "end_token": 590,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 454,
                                                                                    "end_token": 562,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 456,
                                                                                            "end_token": 488,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 457,
                                                                                                    "end_token": 461,
                                                                                                    "label": "client.messages.create"
                                                                                                }
                                                                                            ],
                                                                                            "label": "= client.messages.create(\n                    model=llm_model.value,\n                    system=sysprompt,\n                    messages=messages,\n                    max_tokens=max_tokens or 8192,\n                )"
                                                                                        },
                                                                                        {
                                                                                            "type": "if_statement",
                                                                                            "start_token": 491,
                                                                                            "end_token": 502,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "block",
                                                                                                    "start_token": 496,
                                                                                                    "end_token": 502,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "raise_statement",
                                                                                                            "start_token": 498,
                                                                                                            "end_token": 502,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 501,
                                                                                                                    "end_token": 501,
                                                                                                                    "label": "\"No content returned from Anthropic.\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "raise ValueError(\"No content returned from Anthropic.\")"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ":\n                    raise ValueError(\"No content returned from Anthropic.\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "if not resp.content:\n                    raise ValueError(\"No content returned from Anthropic.\")"
                                                                                        },
                                                                                        {
                                                                                            "type": "return_statement",
                                                                                            "start_token": 505,
                                                                                            "end_token": 563,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "tuple",
                                                                                                    "start_token": 506,
                                                                                                    "end_token": 561,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "conditional_expression",
                                                                                                            "start_token": 510,
                                                                                                            "end_token": 544,
                                                                                                            "label": "resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 549,
                                                                                                            "end_token": 554,
                                                                                                            "label": "resp.usage.input_tokens,"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 556,
                                                                                                            "end_token": 560,
                                                                                                            "label": "resp.usage.output_tokens"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,"
                                                                                                }
                                                                                            ],
                                                                                            "label": "return (\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,\n                )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\n                resp = client.messages.create(\n                    model=llm_model.value,\n                    system=sysprompt,\n                    messages=messages,\n                    max_tokens=max_tokens or 8192,\n                )\n\n                if not resp.content:\n                    raise ValueError(\"No content returned from Anthropic.\")\n\n                return (\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,\n"
                                                                                },
                                                                                {
                                                                                    "type": "except_clause",
                                                                                    "start_token": 565,
                                                                                    "end_token": 589,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 571,
                                                                                            "end_token": 589,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 573,
                                                                                                    "end_token": 576,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 575,
                                                                                                            "end_token": 575,
                                                                                                            "label": "f"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "error_message = f\"Anthropic API error: {str(e)}\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 579,
                                                                                                    "end_token": 583,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 579,
                                                                                                            "end_token": 580,
                                                                                                            "label": ".error"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ".error(error_message)"
                                                                                                },
                                                                                                {
                                                                                                    "type": "raise_statement",
                                                                                                    "start_token": 585,
                                                                                                    "end_token": 589,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 588,
                                                                                                            "end_token": 588,
                                                                                                            "label": "error_message"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "raise ValueError(error_message)"
                                                                                                }
                                                                                            ],
                                                                                            "label": ":\n                error_message = f\"Anthropic API error: {str(e)}\"\n                logger.error(error_message)\n                raise ValueError(error_message)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "except anthropic.APIError as e:\n                error_message = f\"Anthropic API error: {str(e)}\"\n                logger.error(error_message)\n                raise ValueError(error_message)"
                                                                                }
                                                                            ],
                                                                            "label": "try:\n                resp = client.messages.create(\n                    model=llm_model.value,\n                    system=sysprompt,\n                    messages=messages,\n                    max_tokens=max_tokens or 8192,\n                )\n\n                if not resp.content:\n                    raise ValueError(\"No content returned from Anthropic.\")\n\n                return (\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,\n                )\n            except anthropic.APIError as e:\n                error_message = f\"Anthropic API error: {str(e)}\"\n                logger.error(error_message)\n                raise ValueError(error_message)\n"
                                                                        }
                                                                    ],
                                                                    "label": "\n            system_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            sysprompt = \" \".join(system_messages)\n\n            messages = []\n            last_role = None\n            for p in prompt:\n                if p[\"role\"] in [\"user\", \"assistant\"]:\n                    if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]})\n                        last_role = p[\"role\"]\n                    else:\n                        # If the role is the same as the last one, combine the content\n                        messages[-1][\"content\"] += \"\\n\" + p[\"content\"]\n\n            client = anthropic.Anthropic(api_key=credentials.api_key.get_secret_value())\n            try:\n                resp = client.messages.create(\n                    model=llm_model.value,\n                    system=sysprompt,\n                    messages=messages,\n                    max_tokens=max_tokens or 8192,\n                )\n\n                if not resp.content:\n                    raise ValueError(\"No content returned from Anthropic.\")\n\n                return (\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,\n                )\n"
                                                                }
                                                            ],
                                                            "label": "elif provider == \"anthropic\":\n            system_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            sysprompt = \" \".join(system_messages)\n\n            messages = []\n            last_role = None\n            for p in prompt:\n                if p[\"role\"] in [\"user\", \"assistant\"]:\n                    if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]})\n                        last_role = p[\"role\"]\n                    else:\n                        # If the role is the same as the last one, combine the content\n                        messages[-1][\"content\"] += \"\\n\" + p[\"content\"]\n\n            client = anthropic.Anthropic(api_key=credentials.api_key.get_secret_value())\n            try:\n                resp = client.messages.create(\n                    model=llm_model.value,\n                    system=sysprompt,\n                    messages=messages,\n                    max_tokens=max_tokens or 8192,\n                )\n\n                if not resp.content:\n                    raise ValueError(\"No content returned from Anthropic.\")\n\n                return (\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,\n                )\n"
                                                        },
                                                        {
                                                            "type": "elif_clause",
                                                            "start_token": 591,
                                                            "end_token": 710,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 596,
                                                                    "end_token": 710,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 599,
                                                                            "end_token": 611,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 600,
                                                                                    "end_token": 601,
                                                                                    "label": "Groq("
                                                                                }
                                                                            ],
                                                                            "label": "= Groq(api_key=credentials.api_key.get_secret_value())"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 613,
                                                                            "end_token": 623,
                                                                            "label": "response_format = {\"type\": \"json_object\"} if json_format else None"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 625,
                                                                            "end_token": 666,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 627,
                                                                                    "end_token": 633,
                                                                                    "label": "client.chat.completions.create"
                                                                                }
                                                                            ],
                                                                            "label": "response = client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_tokens=max_tokens,\n            )"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 668,
                                                                            "end_token": 711,
                                                                            "children": [
                                                                                {
                                                                                    "type": "tuple",
                                                                                    "start_token": 669,
                                                                                    "end_token": 709,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 671,
                                                                                            "end_token": 680,
                                                                                            "label": "response.choices[0].message.content"
                                                                                        },
                                                                                        {
                                                                                            "type": "conditional_expression",
                                                                                            "start_token": 685,
                                                                                            "end_token": 695,
                                                                                            "label": "response.usage.prompt_tokens if response.usage else 0"
                                                                                        },
                                                                                        {
                                                                                            "type": "conditional_expression",
                                                                                            "start_token": 698,
                                                                                            "end_token": 708,
                                                                                            "label": "response.usage.completion_tokens if response.usage else 0"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,"
                                                                                }
                                                                            ],
                                                                            "label": "return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            client = Groq(api_key=credentials.api_key.get_secret_value())\n            response_format = {\"type\": \"json_object\"} if json_format else None\n            response = client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_tokens=max_tokens,\n            )\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n"
                                                                }
                                                            ],
                                                            "label": "elif provider == \"groq\":\n            client = Groq(api_key=credentials.api_key.get_secret_value())\n            response_format = {\"type\": \"json_object\"} if json_format else None\n            response = client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_tokens=max_tokens,\n            )\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n"
                                                        },
                                                        {
                                                            "type": "elif_clause",
                                                            "start_token": 713,
                                                            "end_token": 832,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 718,
                                                                    "end_token": 832,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 721,
                                                                            "end_token": 729,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 722,
                                                                                    "end_token": 724,
                                                                                    "label": "ollama.Client"
                                                                                }
                                                                            ],
                                                                            "label": "= ollama.Client(host=ollama_host)"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 731,
                                                                            "end_token": 750,
                                                                            "label": "sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 752,
                                                                            "end_token": 771,
                                                                            "label": "usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 773,
                                                                            "end_token": 798,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 775,
                                                                                    "end_token": 777,
                                                                                    "label": "client.generate"
                                                                                }
                                                                            ],
                                                                            "label": "response = client.generate(\n                model=llm_model.value,\n                prompt=f\"{sys_messages}\\n\\n{usr_messages}\",\n                stream=False,\n            )"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 800,
                                                                            "end_token": 833,
                                                                            "children": [
                                                                                {
                                                                                    "type": "tuple",
                                                                                    "start_token": 801,
                                                                                    "end_token": 831,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 804,
                                                                                            "end_token": 810,
                                                                                            "label": ".get(\"response\") or \"\""
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 814,
                                                                                            "end_token": 820,
                                                                                            "label": ".get(\"prompt_eval_count\") or 0"
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 824,
                                                                                            "end_token": 830,
                                                                                            "label": ".get(\"eval_count\") or 0"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n                response.get(\"response\") or \"\",\n                response.get(\"prompt_eval_count\") or 0,\n                response.get(\"eval_count\") or 0,"
                                                                                }
                                                                            ],
                                                                            "label": "return (\n                response.get(\"response\") or \"\",\n                response.get(\"prompt_eval_count\") or 0,\n                response.get(\"eval_count\") or 0,\n            )"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            client = ollama.Client(host=ollama_host)\n            sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n            response = client.generate(\n                model=llm_model.value,\n                prompt=f\"{sys_messages}\\n\\n{usr_messages}\",\n                stream=False,\n            )\n            return (\n                response.get(\"response\") or \"\",\n                response.get(\"prompt_eval_count\") or 0,\n                response.get(\"eval_count\") or 0,\n"
                                                                }
                                                            ],
                                                            "label": "elif provider == \"ollama\":\n            client = ollama.Client(host=ollama_host)\n            sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n            response = client.generate(\n                model=llm_model.value,\n                prompt=f\"{sys_messages}\\n\\n{usr_messages}\",\n                stream=False,\n            )\n            return (\n                response.get(\"response\") or \"\",\n                response.get(\"prompt_eval_count\") or 0,\n                response.get(\"eval_count\") or 0,\n"
                                                        },
                                                        {
                                                            "type": "elif_clause",
                                                            "start_token": 835,
                                                            "end_token": 1003,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 840,
                                                                    "end_token": 1003,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 843,
                                                                            "end_token": 865,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 844,
                                                                                    "end_token": 846,
                                                                                    "label": "openai.OpenAI"
                                                                                }
                                                                            ],
                                                                            "label": "= openai.OpenAI(\n                base_url=\"https://openrouter.ai/api/v1\",\n                api_key=credentials.api_key.get_secret_value(),\n            )"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 868,
                                                                            "end_token": 917,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 870,
                                                                                    "end_token": 876,
                                                                                    "label": "client.chat.completions.create"
                                                                                }
                                                                            ],
                                                                            "label": "response = client.chat.completions.create(\n                extra_headers={\n                    \"HTTP-Referer\": \"https://agpt.co\",\n                    \"X-Title\": \"AutoGPT\",\n                },\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                max_tokens=max_tokens,\n            )"
                                                                        },
                                                                        {
                                                                            "type": "if_statement",
                                                                            "start_token": 932,
                                                                            "end_token": 957,
                                                                            "children": [
                                                                                {
                                                                                    "type": "else_clause",
                                                                                    "start_token": 950,
                                                                                    "end_token": 957,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "raise_statement",
                                                                                            "start_token": 953,
                                                                                            "end_token": 957,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 956,
                                                                                                    "end_token": 956,
                                                                                                    "label": "\"No response from OpenRouter.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "raise ValueError(\"No response from OpenRouter.\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "else:\n                    raise ValueError(\"No response from OpenRouter.\")"
                                                                                }
                                                                            ],
                                                                            "label": "if not response.choices:\n                if response:\n                    raise ValueError(f\"OpenRouter error: {response}\")\n                else:\n                    raise ValueError(\"No response from OpenRouter.\")"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 960,
                                                                            "end_token": 1003,
                                                                            "children": [
                                                                                {
                                                                                    "type": "tuple",
                                                                                    "start_token": 961,
                                                                                    "end_token": 1002,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 963,
                                                                                            "end_token": 972,
                                                                                            "label": "response.choices[0].message.content"
                                                                                        },
                                                                                        {
                                                                                            "type": "conditional_expression",
                                                                                            "start_token": 977,
                                                                                            "end_token": 987,
                                                                                            "label": "response.usage.prompt_tokens if response.usage else 0"
                                                                                        },
                                                                                        {
                                                                                            "type": "conditional_expression",
                                                                                            "start_token": 990,
                                                                                            "end_token": 1000,
                                                                                            "label": "response.usage.completion_tokens if response.usage else 0"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n"
                                                                                }
                                                                            ],
                                                                            "label": "return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            client = openai.OpenAI(\n                base_url=\"https://openrouter.ai/api/v1\",\n                api_key=credentials.api_key.get_secret_value(),\n            )\n\n            response = client.chat.completions.create(\n                extra_headers={\n                    \"HTTP-Referer\": \"https://agpt.co\",\n                    \"X-Title\": \"AutoGPT\",\n                },\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                max_tokens=max_tokens,\n            )\n\n            # If there's no response, raise an error\n            if not response.choices:\n                if response:\n                    raise ValueError(f\"OpenRouter error: {response}\")\n                else:\n                    raise ValueError(\"No response from OpenRouter.\")\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )"
                                                                }
                                                            ],
                                                            "label": "elif provider == \"open_router\":\n            client = openai.OpenAI(\n                base_url=\"https://openrouter.ai/api/v1\",\n                api_key=credentials.api_key.get_secret_value(),\n            )\n\n            response = client.chat.completions.create(\n                extra_headers={\n                    \"HTTP-Referer\": \"https://agpt.co\",\n                    \"X-Title\": \"AutoGPT\",\n                },\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                max_tokens=max_tokens,\n            )\n\n            # If there's no response, raise an error\n            if not response.choices:\n                if response:\n                    raise ValueError(f\"OpenRouter error: {response}\")\n                else:\n                    raise ValueError(\"No response from OpenRouter.\")\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )"
                                                        },
                                                        {
                                                            "type": "else_clause",
                                                            "start_token": 1005,
                                                            "end_token": 1013,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 1007,
                                                                    "end_token": 1013,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 1008,
                                                                            "end_token": 1012,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 1011,
                                                                                    "end_token": 1011,
                                                                                    "label": "f"
                                                                                }
                                                                            ],
                                                                            "label": "raise ValueError(f\"Unsupported LLM provider: {provider}\""
                                                                        }
                                                                    ],
                                                                    "label": "\n            raise ValueError(f\"Unsupported LLM provider: {provider}\")"
                                                                }
                                                            ],
                                                            "label": "else:\n            raise ValueError(f\"Unsupported LLM provider: {provider}\")"
                                                        }
                                                    ],
                                                    "label": "\n        \"\"\"\n        Args:\n            api_key: API key for the LLM provider.\n            llm_model: The LLM model to use.\n            prompt: The prompt to send to the LLM.\n            json_format: Whether the response should be in JSON format.\n            max_tokens: The maximum number of tokens to generate in the chat completion.\n            ollama_host: The host for ollama to use\n\n        Returns:\n            The response from the LLM.\n            The number of tokens used in the prompt.\n            The number of tokens used in the completion.\n        \"\"\"\n        provider = llm_model.metadata.provider\n\n        if provider == \"openai\":\n            oai_client = openai.OpenAI(api_key=credentials.api_key.get_secret_value())\n            response_format = None\n\n            if llm_model in [LlmModel.O1_MINI, LlmModel.O1_PREVIEW]:\n                sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n                usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n                prompt = [\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},\n                ]\n            elif json_format:\n                response_format = {\"type\": \"json_object\"}\n\n            response = oai_client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_completion_tokens=max_tokens,\n            )\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        elif provider == \"anthropic\":\n            system_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            sysprompt = \" \".join(system_messages)\n\n            messages = []\n            last_role = None\n            for p in prompt:\n                if p[\"role\"] in [\"user\", \"assistant\"]:\n                    if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]})\n                        last_role = p[\"role\"]\n                    else:\n                        # If the role is the same as the last one, combine the content\n                        messages[-1][\"content\"] += \"\\n\" + p[\"content\"]\n\n            client = anthropic.Anthropic(api_key=credentials.api_key.get_secret_value())\n            try:\n                resp = client.messages.create(\n                    model=llm_model.value,\n                    system=sysprompt,\n                    messages=messages,\n                    max_tokens=max_tokens or 8192,\n                )\n\n                if not resp.content:\n                    raise ValueError(\"No content returned from Anthropic.\")\n\n                return (\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,\n                )\n            except anthropic.APIError as e:\n                error_message = f\"Anthropic API error: {str(e)}\"\n                logger.error(error_message)\n                raise ValueError(error_message)\n        elif provider == \"groq\":\n            client = Groq(api_key=credentials.api_key.get_secret_value())\n            response_format = {\"type\": \"json_object\"} if json_format else None\n            response = client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_tokens=max_tokens,\n            )\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        elif provider == \"ollama\":\n            client = ollama.Client(host=ollama_host)\n            sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n            response = client.generate(\n                model=llm_model.value,\n                prompt=f\"{sys_messages}\\n\\n{usr_messages}\",\n                stream=False,\n            )\n            return (\n                response.get(\"response\") or \"\",\n                response.get(\"prompt_eval_count\") or 0,\n                response.get(\"eval_count\") or 0,\n            )\n        elif provider == \"open_router\":\n            client = openai.OpenAI(\n                base_url=\"https://openrouter.ai/api/v1\",\n                api_key=credentials.api_key.get_secret_value(),\n            )\n\n            response = client.chat.completions.create(\n                extra_headers={\n                    \"HTTP-Referer\": \"https://agpt.co\",\n                    \"X-Title\": \"AutoGPT\",\n                },\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                max_tokens=max_tokens,\n            )\n\n            # If there's no response, raise an error\n            if not response.choices:\n                if response:\n                    raise ValueError(f\"OpenRouter error: {response}\")\n                else:\n                    raise ValueError(\"No response from OpenRouter.\")\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        else:\n            raise ValueError(f\"Unsupported LLM provider: {provider}\")"
                                                }
                                            ],
                                            "label": "def llm_call(\n        credentials: APIKeyCredentials,\n        llm_model: LlmModel,\n        prompt: list[dict],\n        json_format: bool,\n        max_tokens: int | None = None,\n        ollama_host: str = \"localhost:11434\",\n    ) -> tuple[str, int, int]:\n        \"\"\"\n        Args:\n            api_key: API key for the LLM provider.\n            llm_model: The LLM model to use.\n            prompt: The prompt to send to the LLM.\n            json_format: Whether the response should be in JSON format.\n            max_tokens: The maximum number of tokens to generate in the chat completion.\n            ollama_host: The host for ollama to use\n\n        Returns:\n            The response from the LLM.\n            The number of tokens used in the prompt.\n            The number of tokens used in the completion.\n        \"\"\"\n        provider = llm_model.metadata.provider\n\n        if provider == \"openai\":\n            oai_client = openai.OpenAI(api_key=credentials.api_key.get_secret_value())\n            response_format = None\n\n            if llm_model in [LlmModel.O1_MINI, LlmModel.O1_PREVIEW]:\n                sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n                usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n                prompt = [\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},\n                ]\n            elif json_format:\n                response_format = {\"type\": \"json_object\"}\n\n            response = oai_client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_completion_tokens=max_tokens,\n            )\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        elif provider == \"anthropic\":\n            system_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            sysprompt = \" \".join(system_messages)\n\n            messages = []\n            last_role = None\n            for p in prompt:\n                if p[\"role\"] in [\"user\", \"assistant\"]:\n                    if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]})\n                        last_role = p[\"role\"]\n                    else:\n                        # If the role is the same as the last one, combine the content\n                        messages[-1][\"content\"] += \"\\n\" + p[\"content\"]\n\n            client = anthropic.Anthropic(api_key=credentials.api_key.get_secret_value())\n            try:\n                resp = client.messages.create(\n                    model=llm_model.value,\n                    system=sysprompt,\n                    messages=messages,\n                    max_tokens=max_tokens or 8192,\n                )\n\n                if not resp.content:\n                    raise ValueError(\"No content returned from Anthropic.\")\n\n                return (\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,\n                )\n            except anthropic.APIError as e:\n                error_message = f\"Anthropic API error: {str(e)}\"\n                logger.error(error_message)\n                raise ValueError(error_message)\n        elif provider == \"groq\":\n            client = Groq(api_key=credentials.api_key.get_secret_value())\n            response_format = {\"type\": \"json_object\"} if json_format else None\n            response = client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_tokens=max_tokens,\n            )\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        elif provider == \"ollama\":\n            client = ollama.Client(host=ollama_host)\n            sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n            response = client.generate(\n                model=llm_model.value,\n                prompt=f\"{sys_messages}\\n\\n{usr_messages}\",\n                stream=False,\n            )\n            return (\n                response.get(\"response\") or \"\",\n                response.get(\"prompt_eval_count\") or 0,\n                response.get(\"eval_count\") or 0,\n            )\n        elif provider == \"open_router\":\n            client = openai.OpenAI(\n                base_url=\"https://openrouter.ai/api/v1\",\n                api_key=credentials.api_key.get_secret_value(),\n            )\n\n            response = client.chat.completions.create(\n                extra_headers={\n                    \"HTTP-Referer\": \"https://agpt.co\",\n                    \"X-Title\": \"AutoGPT\",\n                },\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                max_tokens=max_tokens,\n            )\n\n            # If there's no response, raise an error\n            if not response.choices:\n                if response:\n                    raise ValueError(f\"OpenRouter error: {response}\")\n                else:\n                    raise ValueError(\"No response from OpenRouter.\")\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        else:\n            raise ValueError(f\"Unsupported LLM provider: {provider}\")"
                                        }
                                    ],
                                    "label": "def llm_call(\n        credentials: APIKeyCredentials,\n        llm_model: LlmModel,\n        prompt: list[dict],\n        json_format: bool,\n        max_tokens: int | None = None,\n        ollama_host: str = \"localhost:11434\",\n    ) -> tuple[str, int, int]:\n        \"\"\"\n        Args:\n            api_key: API key for the LLM provider.\n            llm_model: The LLM model to use.\n            prompt: The prompt to send to the LLM.\n            json_format: Whether the response should be in JSON format.\n            max_tokens: The maximum number of tokens to generate in the chat completion.\n            ollama_host: The host for ollama to use\n\n        Returns:\n            The response from the LLM.\n            The number of tokens used in the prompt.\n            The number of tokens used in the completion.\n        \"\"\"\n        provider = llm_model.metadata.provider\n\n        if provider == \"openai\":\n            oai_client = openai.OpenAI(api_key=credentials.api_key.get_secret_value())\n            response_format = None\n\n            if llm_model in [LlmModel.O1_MINI, LlmModel.O1_PREVIEW]:\n                sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n                usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n                prompt = [\n                    {\"role\": \"user\", \"content\": \"\\n\".join(sys_messages)},\n                    {\"role\": \"user\", \"content\": \"\\n\".join(usr_messages)},\n                ]\n            elif json_format:\n                response_format = {\"type\": \"json_object\"}\n\n            response = oai_client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_completion_tokens=max_tokens,\n            )\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        elif provider == \"anthropic\":\n            system_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            sysprompt = \" \".join(system_messages)\n\n            messages = []\n            last_role = None\n            for p in prompt:\n                if p[\"role\"] in [\"user\", \"assistant\"]:\n                    if p[\"role\"] != last_role:\n                        messages.append({\"role\": p[\"role\"], \"content\": p[\"content\"]})\n                        last_role = p[\"role\"]\n                    else:\n                        # If the role is the same as the last one, combine the content\n                        messages[-1][\"content\"] += \"\\n\" + p[\"content\"]\n\n            client = anthropic.Anthropic(api_key=credentials.api_key.get_secret_value())\n            try:\n                resp = client.messages.create(\n                    model=llm_model.value,\n                    system=sysprompt,\n                    messages=messages,\n                    max_tokens=max_tokens or 8192,\n                )\n\n                if not resp.content:\n                    raise ValueError(\"No content returned from Anthropic.\")\n\n                return (\n                    (\n                        resp.content[0].name\n                        if isinstance(resp.content[0], anthropic.types.ToolUseBlock)\n                        else resp.content[0].text\n                    ),\n                    resp.usage.input_tokens,\n                    resp.usage.output_tokens,\n                )\n            except anthropic.APIError as e:\n                error_message = f\"Anthropic API error: {str(e)}\"\n                logger.error(error_message)\n                raise ValueError(error_message)\n        elif provider == \"groq\":\n            client = Groq(api_key=credentials.api_key.get_secret_value())\n            response_format = {\"type\": \"json_object\"} if json_format else None\n            response = client.chat.completions.create(\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                response_format=response_format,  # type: ignore\n                max_tokens=max_tokens,\n            )\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        elif provider == \"ollama\":\n            client = ollama.Client(host=ollama_host)\n            sys_messages = [p[\"content\"] for p in prompt if p[\"role\"] == \"system\"]\n            usr_messages = [p[\"content\"] for p in prompt if p[\"role\"] != \"system\"]\n            response = client.generate(\n                model=llm_model.value,\n                prompt=f\"{sys_messages}\\n\\n{usr_messages}\",\n                stream=False,\n            )\n            return (\n                response.get(\"response\") or \"\",\n                response.get(\"prompt_eval_count\") or 0,\n                response.get(\"eval_count\") or 0,\n            )\n        elif provider == \"open_router\":\n            client = openai.OpenAI(\n                base_url=\"https://openrouter.ai/api/v1\",\n                api_key=credentials.api_key.get_secret_value(),\n            )\n\n            response = client.chat.completions.create(\n                extra_headers={\n                    \"HTTP-Referer\": \"https://agpt.co\",\n                    \"X-Title\": \"AutoGPT\",\n                },\n                model=llm_model.value,\n                messages=prompt,  # type: ignore\n                max_tokens=max_tokens,\n            )\n\n            # If there's no response, raise an error\n            if not response.choices:\n                if response:\n                    raise ValueError(f\"OpenRouter error: {response}\")\n                else:\n                    raise ValueError(\"No response from OpenRouter.\")\n\n            return (\n                response.choices[0].message.content or \"\",\n                response.usage.prompt_tokens if response.usage else 0,\n                response.usage.completion_tokens if response.usage else 0,\n            )\n        else:\n            raise ValueError(f\"Unsupported LLM provider: {provider}\")"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run",
                            "start_line": 439,
                            "end_line": 552,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 660,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 250,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "run"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 8,
                                                                    "end_token": 8,
                                                                    "children": [],
                                                                    "label": "Input"
                                                                }
                                                            ],
                                                            "label": "self, input_data: Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 12,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 18,
                                                            "end_token": 18,
                                                            "children": [],
                                                            "label": "kwargs"
                                                        }
                                                    ],
                                                    "label": "(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    )"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "children": [],
                                                    "label": "BlockOutput"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 24,
                                                    "end_token": 250,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 26,
                                                            "end_token": 32,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 26,
                                                                    "end_token": 28,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 26,
                                                                            "end_token": 26,
                                                                            "children": [],
                                                                            "label": "logger"
                                                                        }
                                                                    ],
                                                                    "label": "logger.debug"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 29,
                                                                    "end_token": 32,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 30,
                                                                            "end_token": 31,
                                                                            "children": [],
                                                                            "label": "f\"Calling LLM with input data: {input_data}\""
                                                                        }
                                                                    ],
                                                                    "label": "(f\"Calling LLM with input data: {input_data}\")"
                                                                }
                                                            ],
                                                            "label": "logger.debug(f\"Calling LLM with input data: {input_data}\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 34,
                                                            "end_token": 48,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 34,
                                                                    "end_token": 34,
                                                                    "children": [],
                                                                    "label": "prompt"
                                                                },
                                                                {
                                                                    "type": "list_comprehension",
                                                                    "start_token": 36,
                                                                    "end_token": 48,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 38,
                                                                            "end_token": 41,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 37,
                                                                                    "end_token": 39,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 37,
                                                                                            "end_token": 37,
                                                                                            "children": [],
                                                                                            "label": "p"
                                                                                        }
                                                                                    ],
                                                                                    "label": "p.model_dump"
                                                                                }
                                                                            ],
                                                                            "label": ".model_dump()"
                                                                        },
                                                                        {
                                                                            "type": "for_in_clause",
                                                                            "start_token": 42,
                                                                            "end_token": 47,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 43,
                                                                                    "end_token": 43,
                                                                                    "children": [],
                                                                                    "label": "p"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 45,
                                                                                    "end_token": 47,
                                                                                    "children": [],
                                                                                    "label": "input_data.conversation_history"
                                                                                }
                                                                            ],
                                                                            "label": "for p in input_data.conversation_history"
                                                                        }
                                                                    ],
                                                                    "label": "[p.model_dump() for p in input_data.conversation_history]"
                                                                }
                                                            ],
                                                            "label": "prompt = [p.model_dump() for p in input_data.conversation_history]"
                                                        },
                                                        {
                                                            "type": "function_definition",
                                                            "start_token": 51,
                                                            "end_token": 98,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 52,
                                                                    "end_token": 52,
                                                                    "children": [],
                                                                    "label": "trim_prompt"
                                                                },
                                                                {
                                                                    "type": "parameters",
                                                                    "start_token": 53,
                                                                    "end_token": 57,
                                                                    "children": [
                                                                        {
                                                                            "type": "typed_parameter",
                                                                            "start_token": 54,
                                                                            "end_token": 56,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 54,
                                                                                    "end_token": 54,
                                                                                    "children": [],
                                                                                    "label": "s"
                                                                                },
                                                                                {
                                                                                    "type": "type",
                                                                                    "start_token": 56,
                                                                                    "end_token": 56,
                                                                                    "children": [],
                                                                                    "label": "str"
                                                                                }
                                                                            ],
                                                                            "label": "s: str"
                                                                        }
                                                                    ],
                                                                    "label": "(s: str)"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 60,
                                                                    "end_token": 60,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 61,
                                                                    "end_token": 98,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 63,
                                                                            "end_token": 74,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 63,
                                                                                    "end_token": 63,
                                                                                    "children": [],
                                                                                    "label": "lines"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 65,
                                                                                    "end_token": 74,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 65,
                                                                                            "end_token": 67,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 65,
                                                                                                    "end_token": 65,
                                                                                                    "children": [],
                                                                                                    "label": "s"
                                                                                                }
                                                                                            ],
                                                                                            "label": "s.strip"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 68,
                                                                                            "end_token": 74,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 73,
                                                                                                    "end_token": 73,
                                                                                                    "children": [],
                                                                                                    "label": "\"\\n\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "().split(\"\\n\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "s.strip().split(\"\\n\")"
                                                                                }
                                                                            ],
                                                                            "label": "lines = s.strip().split(\"\\n\")"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 76,
                                                                            "end_token": 97,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 78,
                                                                                    "end_token": 97,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 78,
                                                                                            "end_token": 79,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 77,
                                                                                                    "end_token": 77,
                                                                                                    "children": [],
                                                                                                    "label": "\"\\n\""
                                                                                                }
                                                                                            ],
                                                                                            "label": ".join"
                                                                                        },
                                                                                        {
                                                                                            "type": "list_comprehension",
                                                                                            "start_token": 81,
                                                                                            "end_token": 96,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 83,
                                                                                                    "end_token": 88,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 82,
                                                                                                            "end_token": 82,
                                                                                                            "children": [],
                                                                                                            "label": "line"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ".strip().lstrip"
                                                                                                },
                                                                                                {
                                                                                                    "type": "for_in_clause",
                                                                                                    "start_token": 92,
                                                                                                    "end_token": 95,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 93,
                                                                                                            "end_token": 93,
                                                                                                            "children": [],
                                                                                                            "label": "line"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "for line in lines"
                                                                                                }
                                                                                            ],
                                                                                            "label": "[line.strip().lstrip(\"|\") for line in lines]"
                                                                                        }
                                                                                    ],
                                                                                    "label": ".join([line.strip().lstrip(\"|\") for line in lines])"
                                                                                }
                                                                            ],
                                                                            "label": "return \"\\n\".join([line.strip().lstrip(\"|\") for line in lines])"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            lines = s.strip().split(\"\\n\")\n            return \"\\n\".join([line.strip().lstrip(\"|\") for line in lines])\n"
                                                                }
                                                            ],
                                                            "label": "def trim_prompt(s: str) -> str:\n            lines = s.strip().split(\"\\n\")\n            return \"\\n\".join([line.strip().lstrip(\"|\") for line in lines])\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 100,
                                                            "end_token": 104,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 100,
                                                                    "end_token": 100,
                                                                    "children": [],
                                                                    "label": "values"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 102,
                                                                    "end_token": 104,
                                                                    "children": [],
                                                                    "label": "input_data.prompt_values"
                                                                }
                                                            ],
                                                            "label": "values = input_data.prompt_values"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 106,
                                                            "end_token": 123,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 107,
                                                                    "end_token": 108,
                                                                    "children": [],
                                                                    "label": "values:"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 109,
                                                                    "end_token": 123,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 110,
                                                                            "end_token": 123,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 110,
                                                                                    "end_token": 112,
                                                                                    "children": [],
                                                                                    "label": "input_data.prompt"
                                                                                }
                                                                            ],
                                                                            "label": "input_data.prompt = input_data.prompt.format(**values)"
                                                                        }
                                                                    ],
                                                                    "label": "\n            input_data.prompt = input_data.prompt.format(**values)"
                                                                }
                                                            ],
                                                            "label": "if values:\n            input_data.prompt = input_data.prompt.format(**values)"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 125,
                                                            "end_token": 138,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 142,
                                                                    "end_token": 145,
                                                                    "children": [],
                                                                    "label": "input_data.sys_prompt:"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 146,
                                                                    "end_token": 162,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 147,
                                                                            "end_token": 162,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 148,
                                                                                    "end_token": 149,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 147,
                                                                                            "end_token": 147,
                                                                                            "children": [],
                                                                                            "label": "prompt"
                                                                                        }
                                                                                    ],
                                                                                    "label": ".append"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 151,
                                                                                    "end_token": 161,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 152,
                                                                                            "end_token": 160,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 152,
                                                                                                    "end_token": 154,
                                                                                                    "children": [],
                                                                                                    "label": "\"role\": \"system\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 158,
                                                                                                    "end_token": 160,
                                                                                                    "children": [],
                                                                                                    "label": "input_data.sys_prompt"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"role\": \"system\", \"content\": input_data.sys_prompt"
                                                                                        }
                                                                                    ],
                                                                                    "label": "{\"role\": \"system\", \"content\": input_data.sys_prompt}"
                                                                                }
                                                                            ],
                                                                            "label": "prompt.append({\"role\": \"system\", \"content\": input_data.sys_prompt})"
                                                                        }
                                                                    ],
                                                                    "label": "\n            prompt.append({\"role\": \"system\", \"content\": input_data.sys_prompt})"
                                                                }
                                                            ],
                                                            "label": "input_data.sys_prompt = input_data.sys_prompt.format(**values)"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 165,
                                                            "end_token": 224,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 166,
                                                                    "end_token": 169,
                                                                    "children": [],
                                                                    "label": "input_data.expected_format:"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 171,
                                                                    "end_token": 225,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 171,
                                                                            "end_token": 199,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 171,
                                                                                    "end_token": 171,
                                                                                    "children": [],
                                                                                    "label": "expected_format"
                                                                                },
                                                                                {
                                                                                    "type": "list_comprehension",
                                                                                    "start_token": 173,
                                                                                    "end_token": 199,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 174,
                                                                                            "end_token": 186,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 175,
                                                                                                    "end_token": 176,
                                                                                                    "children": [],
                                                                                                    "label": "f'\"{k}\": \"{v}\"'"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n                f'\"{k}\": \"{v}\"' for k, v in input_data.expected_format.items"
                                                                                        },
                                                                                        {
                                                                                            "type": "for_in_clause",
                                                                                            "start_token": 178,
                                                                                            "end_token": 188,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 178,
                                                                                                    "end_token": 178,
                                                                                                    "children": [],
                                                                                                    "label": "k"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 182,
                                                                                                    "end_token": 183,
                                                                                                    "children": [],
                                                                                                    "label": "input_data."
                                                                                                }
                                                                                            ],
                                                                                            "label": "k, v in input_data.expected_format.items()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "[\n                f'\"{k}\": \"{v}\"' for k, v in input_data.expected_format.items()\n            ]\n            format_prompt = \",\\n  \".join(expected_format)"
                                                                                }
                                                                            ],
                                                                            "label": "expected_format = [\n                f'\"{k}\": \"{v}\"' for k, v in input_data.expected_format.items()\n            ]\n            format_prompt = \",\\n  \".join(expected_format)"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 201,
                                                                            "end_token": 225,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 201,
                                                                                    "end_token": 201,
                                                                                    "children": [],
                                                                                    "label": "sys_prompt"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 203,
                                                                                    "end_token": 211,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 206,
                                                                                            "end_token": 208,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 205,
                                                                                                    "end_token": 205,
                                                                                                    "children": [],
                                                                                                    "label": "\n"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"\"\"\n                  |Reply strictly only in the following JSON format:\n                  |{{\n                  |  {format_prompt}\n                  |}}\n                \""
                                                                                        }
                                                                                    ],
                                                                                    "label": "trim_prompt(\n                f\"\"\"\n                  |Reply strictly only in the following JSON format:\n                  |{{\n                  |  {format_prompt}\n                  |}}\n                \"\"\"\n            )"
                                                                                }
                                                                            ],
                                                                            "label": "sys_prompt = trim_prompt(\n                f\"\"\"\n                  |Reply strictly only in the following JSON format:\n                  |{{\n                  |  {format_prompt}\n                  |}}\n                \"\"\"\n            )\n            prompt.append({\"role\": \"system\", \"content\": sys_prompt}"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 213,
                                                                            "end_token": 225,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 214,
                                                                                    "end_token": 215,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 213,
                                                                                            "end_token": 213,
                                                                                            "children": [],
                                                                                            "label": "prompt"
                                                                                        }
                                                                                    ],
                                                                                    "label": ".append"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 216,
                                                                                    "end_token": 224,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 217,
                                                                                            "end_token": 223,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 218,
                                                                                                    "end_token": 220,
                                                                                                    "children": [],
                                                                                                    "label": "\"role\": \"system\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 224,
                                                                                                    "end_token": 224,
                                                                                                    "children": [],
                                                                                                    "label": "sys_prompt"
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"role\": \"system\", \"content\":"
                                                                                        }
                                                                                    ],
                                                                                    "label": "({\"role\": \"system\", \"content\": sys_prompt"
                                                                                }
                                                                            ],
                                                                            "label": "prompt.append({\"role\": \"system\", \"content\": sys_prompt}"
                                                                        }
                                                                    ],
                                                                    "label": "expected_format = [\n                f'\"{k}\": \"{v}\"' for k, v in input_data.expected_format.items()\n            ]\n            format_prompt = \",\\n  \".join(expected_format)\n            sys_prompt = trim_prompt(\n                f\"\"\"\n                  |Reply strictly only in the following JSON format:\n                  |{{\n                  |  {format_prompt}\n                  |}}\n                \"\"\"\n            )\n            prompt.append({\"role\": \"system\", \"content\": sys_prompt}"
                                                                }
                                                            ],
                                                            "label": "if input_data.expected_format:\n            expected_format = [\n                f'\"{k}\": \"{v}\"' for k, v in input_data.expected_format.items()\n            ]\n            format_prompt = \",\\n  \".join(expected_format)\n            sys_prompt = trim_prompt(\n                f\"\"\"\n                  |Reply strictly only in the following JSON format:\n                  |{{\n                  |  {format_prompt}\n                  |}}\n                \"\"\"\n            )\n            prompt.append({\"role\": \"system\", \"content\": sys_prompt"
                                                        }
                                                    ],
                                                    "label": ":\n        logger.debug(f\"Calling LLM with input data: {input_data}\")\n        prompt = [p.model_dump() for p in input_data.conversation_history]\n\n        def trim_prompt(s: str) -> str:\n            lines = s.strip().split(\"\\n\")\n            return \"\\n\".join([line.strip().lstrip(\"|\") for line in lines])\n\n        values = input_data.prompt_values\n        if values:\n            input_data.prompt = input_data.prompt.format(**values)\n            input_data.sys_prompt = input_data.sys_prompt.format(**values)\n\n        if input_data.sys_prompt:\n            prompt.append({\"role\": \"system\", \"content\": input_data.sys_prompt})\n\n        if input_data.expected_format:\n            expected_format = [\n                f'\"{k}\": \"{v}\"' for k, v in input_data.expected_format.items()\n            ]\n            format_prompt = \",\\n  \".join(expected_format)\n            sys_prompt = trim_prompt(\n                f\"\"\"\n                  |Reply strictly only in the following JSON format:\n                  |{{\n                  |  {format_prompt}\n                  |}}\n                \"\"\"\n            )\n            prompt.append({\"role\": \"system\", \"content\": sys_prompt})\n\n        if input_data.prompt:\n            prompt.append({\"role\": \"user\", \"content\": input_data.prompt})"
                                                }
                                            ],
                                            "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        logger.debug(f\"Calling LLM with input data: {input_data}\")\n        prompt = [p.model_dump() for p in input_data.conversation_history]\n\n        def trim_prompt(s: str) -> str:\n            lines = s.strip().split(\"\\n\")\n            return \"\\n\".join([line.strip().lstrip(\"|\") for line in lines])\n\n        values = input_data.prompt_values\n        if values:\n            input_data.prompt = input_data.prompt.format(**values)\n            input_data.sys_prompt = input_data.sys_prompt.format(**values)\n\n        if input_data.sys_prompt:\n            prompt.append({\"role\": \"system\", \"content\": input_data.sys_prompt})\n\n        if input_data.expected_format:\n            expected_format = [\n                f'\"{k}\": \"{v}\"' for k, v in input_data.expected_format.items()\n            ]\n            format_prompt = \",\\n  \".join(expected_format)\n            sys_prompt = trim_prompt(\n                f\"\"\"\n                  |Reply strictly only in the following JSON format:\n                  |{{\n                  |  {format_prompt}\n                  |}}\n                \"\"\"\n            )\n            prompt.append({\"role\": \"system\", \"content\": sys_prompt})\n\n        if input_data.prompt:\n            prompt.append({\"role\": \"user\", \"content\": input_data.prompt})"
                                        },
                                        {
                                            "type": "function_definition",
                                            "start_token": 253,
                                            "end_token": 660,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 254,
                                                    "end_token": 254,
                                                    "children": [],
                                                    "label": "parse_response"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 255,
                                                    "end_token": 259,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 255,
                                                            "end_token": 258,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 256,
                                                                    "end_token": 256,
                                                                    "children": [],
                                                                    "label": "resp"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 258,
                                                                    "end_token": 258,
                                                                    "children": [],
                                                                    "label": "str"
                                                                }
                                                            ],
                                                            "label": "(resp: str"
                                                        }
                                                    ],
                                                    "label": "(resp: str)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 263,
                                                    "end_token": 274,
                                                    "children": [],
                                                    "label": "[dict[str, Any], str | None]"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 275,
                                                    "end_token": 660,
                                                    "children": [
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 277,
                                                            "end_token": 343,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 279,
                                                                    "end_token": 288,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 280,
                                                                            "end_token": 287,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 280,
                                                                                    "end_token": 280,
                                                                                    "children": [],
                                                                                    "label": "parsed"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 282,
                                                                                    "end_token": 287,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 282,
                                                                                            "end_token": 283,
                                                                                            "children": [],
                                                                                            "label": "json."
                                                                                        }
                                                                                    ],
                                                                                    "label": "json.loads(resp)"
                                                                                }
                                                                            ],
                                                                            "label": "parsed = json.loads(resp)"
                                                                        }
                                                                    ],
                                                                    "label": "\n                parsed = json.loads(resp)\n"
                                                                }
                                                            ],
                                                            "label": "try:\n                parsed = json.loads(resp)\n                if not isinstance(parsed, dict):\n                    return {}, f\"Expected a dictionary, but got {type(parsed)}\"\n                miss_keys = set(input_data.expected_format.keys()) - set(parsed.keys())\n                if miss_keys:\n                    return parsed, f\"Missing keys: {miss_keys}\"\n                return parsed, None\n            except"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 289,
                                                            "end_token": 326,
                                                            "children": [
                                                                {
                                                                    "type": "boolean_operator",
                                                                    "start_token": 290,
                                                                    "end_token": 298,
                                                                    "children": [
                                                                        {
                                                                            "type": "not_operator",
                                                                            "start_token": 290,
                                                                            "end_token": 290,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 291,
                                                                                    "end_token": 297,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 292,
                                                                                            "end_token": 292,
                                                                                            "children": [],
                                                                                            "label": "("
                                                                                        }
                                                                                    ],
                                                                                    "label": "isinstance(parsed, dict):"
                                                                                }
                                                                            ],
                                                                            "label": "not"
                                                                        }
                                                                    ],
                                                                    "label": "not isinstance(parsed, dict):\n"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 299,
                                                                    "end_token": 305,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 299,
                                                                            "end_token": 305,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 300,
                                                                                    "end_token": 302,
                                                                                    "children": [],
                                                                                    "label": "{},"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 303,
                                                                                    "end_token": 304,
                                                                                    "children": [],
                                                                                    "label": "f\"Expected a dictionary, but got {type(parsed)}\""
                                                                                }
                                                                            ],
                                                                            "label": "return {}, f\"Expected a dictionary, but got {type(parsed)}\"\n"
                                                                        }
                                                                    ],
                                                                    "label": "return {}, f\"Expected a dictionary, but got {type(parsed)}\"\n"
                                                                }
                                                            ],
                                                            "label": "if not isinstance(parsed, dict):\n                    return {}, f\"Expected a dictionary, but got {type(parsed)}\"\n                miss_keys = set(input_data.expected_format.keys()) - set(parsed.keys())"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 306,
                                                            "end_token": 319,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 306,
                                                                    "end_token": 306,
                                                                    "children": [],
                                                                    "label": "miss_keys"
                                                                },
                                                                {
                                                                    "type": "binary_operator",
                                                                    "start_token": 308,
                                                                    "end_token": 318,
                                                                    "children": [],
                                                                    "label": "set(input_data.expected_format.keys()) -"
                                                                }
                                                            ],
                                                            "label": "miss_keys = set(input_data.expected_format.keys()) - set"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 328,
                                                            "end_token": 337,
                                                            "children": [
                                                                {
                                                                    "type": "boolean_operator",
                                                                    "start_token": 331,
                                                                    "end_token": 333,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 329,
                                                                            "end_token": 329,
                                                                            "children": [],
                                                                            "label": "miss_keys"
                                                                        }
                                                                    ],
                                                                    "label": "\n                    return parsed"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 334,
                                                                    "end_token": 337,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 338,
                                                                            "end_token": 341,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 339,
                                                                                    "end_token": 339,
                                                                                    "children": [],
                                                                                    "label": "parsed"
                                                                                },
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 340,
                                                                                    "end_token": 341,
                                                                                    "children": [],
                                                                                    "label": ", None"
                                                                                }
                                                                            ],
                                                                            "label": "return parsed, None"
                                                                        }
                                                                    ],
                                                                    "label": ", f\"Missing keys: {miss_keys}\"\n"
                                                                }
                                                            ],
                                                            "label": "if miss_keys:\n                    return parsed, f\"Missing keys: {miss_keys}\"\n"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 344,
                                                            "end_token": 354,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 344,
                                                                    "end_token": 345,
                                                                    "children": [],
                                                                    "label": "JSONDecodeError as"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 347,
                                                                    "end_token": 354,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 349,
                                                                            "end_token": 354,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 350,
                                                                                    "end_token": 352,
                                                                                    "children": [],
                                                                                    "label": "{},"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 353,
                                                                                    "end_token": 354,
                                                                                    "children": [],
                                                                                    "label": "f\"JSON decode error: {e}\""
                                                                                }
                                                                            ],
                                                                            "label": "return {}, f\"JSON decode error: {e}\""
                                                                        }
                                                                    ],
                                                                    "label": ":\n                return {}, f\"JSON decode error: {e}\""
                                                                }
                                                            ],
                                                            "label": "JSONDecodeError as e:\n                return {}, f\"JSON decode error: {e}\""
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 357,
                                                            "end_token": 363,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 357,
                                                                    "end_token": 359,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 357,
                                                                            "end_token": 357,
                                                                            "children": [],
                                                                            "label": "logger"
                                                                        }
                                                                    ],
                                                                    "label": "logger.info"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 360,
                                                                    "end_token": 363,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 361,
                                                                            "end_token": 362,
                                                                            "children": [],
                                                                            "label": "f\"LLM request: {prompt}\""
                                                                        }
                                                                    ],
                                                                    "label": "(f\"LLM request: {prompt}\")"
                                                                }
                                                            ],
                                                            "label": "logger.info(f\"LLM request: {prompt}\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 365,
                                                            "end_token": 367,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 365,
                                                                    "end_token": 365,
                                                                    "children": [],
                                                                    "label": "retry_prompt"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 367,
                                                                    "end_token": 367,
                                                                    "children": [],
                                                                    "label": "\"\""
                                                                }
                                                            ],
                                                            "label": "retry_prompt = \"\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 369,
                                                            "end_token": 374,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 369,
                                                                    "end_token": 369,
                                                                    "children": [],
                                                                    "label": "llm_model"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 371,
                                                                    "end_token": 374,
                                                                    "children": [],
                                                                    "label": "input_data.model\n"
                                                                }
                                                            ],
                                                            "label": "llm_model = input_data.model\n"
                                                        },
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 376,
                                                            "end_token": 649,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 379,
                                                                    "end_token": 384,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 377,
                                                                            "end_token": 377,
                                                                            "children": [],
                                                                            "label": "retry_count"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 380,
                                                                            "end_token": 384,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 381,
                                                                                    "end_token": 384,
                                                                                    "children": [],
                                                                                    "label": "input_data.retry)"
                                                                                }
                                                                            ],
                                                                            "label": "(input_data.retry)"
                                                                        }
                                                                    ],
                                                                    "label": "range(input_data.retry)"
                                                                },
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 385,
                                                                    "end_token": 385,
                                                                    "children": [],
                                                                    "label": ":"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 386,
                                                                    "end_token": 649,
                                                                    "children": [
                                                                        {
                                                                            "type": "try_statement",
                                                                            "start_token": 388,
                                                                            "end_token": 674,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 390,
                                                                                    "end_token": 470,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "tuple",
                                                                                            "start_token": 391,
                                                                                            "end_token": 395,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 391,
                                                                                                    "end_token": 391,
                                                                                                    "children": [],
                                                                                                    "label": ","
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 392,
                                                                                                    "end_token": 392,
                                                                                                    "children": [],
                                                                                                    "label": "input_token"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 393,
                                                                                                    "end_token": 393,
                                                                                                    "children": [],
                                                                                                    "label": ","
                                                                                                }
                                                                                            ],
                                                                                            "label": ", input_token, output_token ="
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 397,
                                                                                            "end_token": 440,
                                                                                            "children": [],
                                                                                            "label": ".llm_call(\n                    credentials=credentials,\n                    llm_model=llm_model,\n                    prompt=prompt,\n                    json_format=bool(input_data.expected_format),\n                    ollama_host=input_data.ollama_host,\n                    max_tokens=input_data.max_tokens,\n                )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "response_text, input_token, output_token = self.llm_call(\n                    credentials=credentials,\n                    llm_model=llm_model,\n                    prompt=prompt,\n                    json_format=bool(input_data.expected_format),\n                    ollama_host=input_data.ollama_host,\n                    max_tokens=input_data.max_tokens,\n                )\n                self.merge_stats(\n                    {\n                        \"input_token_count\": input_token,\n                        \"output_token_count\": output_token,\n                    }\n                )\n                logger.info(f\"LLM attempt-{retry_count} response: {response_text}\")\n"
                                                                                },
                                                                                {
                                                                                    "type": "if_statement",
                                                                                    "start_token": 472,
                                                                                    "end_token": 579,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "comparison_operator",
                                                                                            "start_token": 475,
                                                                                            "end_token": 475,
                                                                                            "children": [],
                                                                                            "label": "expected_format"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 477,
                                                                                            "end_token": 486,
                                                                                            "children": [],
                                                                                            "label": "\n                    parsed_dict, parsed_error = parse_response(response_text)\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "if input_data.expected_format:\n                    parsed_dict, parsed_error = parse_response(response_text)\n                    if not parsed_error:\n                        yield \"response\", {\n                            k: (\n                                json.loads(v)\n                                if isinstance(v, str)\n                                and v.startswith(\"[\")\n                                and v.endswith(\"]\")\n                                else (\", \".join(v) if isinstance(v, list) else v)\n                            )\n                            for k, v in parsed_dict.items()\n                        }\n                        return\n                else:\n                    yield \"response\", {\"response\": response_text}\n"
                                                                                },
                                                                                {
                                                                                    "type": "else_clause",
                                                                                    "start_token": 569,
                                                                                    "end_token": 579,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 570,
                                                                                            "end_token": 579,
                                                                                            "children": [],
                                                                                            "label": "\n                    yield \"response\", {\"response\": response_text}\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": ":\n                    yield \"response\", {\"response\": response_text}\n"
                                                                                }
                                                                            ],
                                                                            "label": ""
                                                                        },
                                                                        {
                                                                            "type": "except_clause",
                                                                            "start_token": 610,
                                                                            "end_token": 622,
                                                                            "children": [],
                                                                            "exception": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 610,
                                                                                    "end_token": 610,
                                                                                    "children": []
                                                                                }
                                                                            ],
                                                                            "body": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 617,
                                                                                    "end_token": 621,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 617,
                                                                                            "end_token": 619,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 617,
                                                                                                    "end_token": 617,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 620,
                                                                                            "end_token": 621,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 621,
                                                                                                    "end_token": 621,
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ],
                                                                            "label": "except Exception as e:\n                logger.exception(f\"Error calling LLM: {e}\")"
                                                                        },
                                                                        {
                                                                            "type": "finally_clause",
                                                                            "start_token": 629,
                                                                            "end_token": 653,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 631,
                                                                                    "end_token": 653,
                                                                                    "children": [],
                                                                                    "label": "\n                self.merge_stats(\n                    {\n                        \"llm_call_count\": retry_count + 1,\n                        \"llm_retry_count\": retry_count,\n                    }\n                )"
                                                                                }
                                                                            ],
                                                                            "label": "finally:\n                self.merge_stats(\n                    {\n                        \"llm_call_count\": retry_count + 1,\n                        \"llm_retry_count\": retry_count,\n                    }\n                )"
                                                                        }
                                                                    ],
                                                                    "label": "\n            try:\n                response_text, input_token, output_token = self.llm_call(\n                    credentials=credentials,\n                    llm_model=llm_model,\n                    prompt=prompt,\n                    json_format=bool(input_data.expected_format),\n                    ollama_host=input_data.ollama_host,\n                    max_tokens=input_data.max_tokens,\n                )\n                self.merge_stats(\n                    {\n                        \"input_token_count\": input_token,\n                        \"output_token_count\": output_token,\n                    }\n                )\n                logger.info(f\"LLM attempt-{retry_count} response: {response_text}\")\n\n                if input_data.expected_format:\n                    parsed_dict, parsed_error = parse_response(response_text)\n                    if not parsed_error:\n                        yield \"response\", {\n                            k: (\n                                json.loads(v)\n                                if isinstance(v, str)\n                                and v.startswith(\"[\")\n                                and v.endswith(\"]\")\n                                else (\", \".join(v) if isinstance(v, list) else v)\n                            )\n                            for k, v in parsed_dict.items()\n                        }\n                        return\n                else:\n                    yield \"response\", {\"response\": response_text}\n                    return\n\n                retry_prompt = trim_prompt(\n                    f\"\"\"\n                  |This is your previous error response:\n                  |--\n                  |{response_text}\n                  |--\n                  |\n                  |And this is the error:\n                  |--\n                  |{parsed_error}\n                  |--\n                \"\"\"\n                )\n                prompt.append({\"role\": \"user\", \"content\": retry_prompt})\n            except Exception as e:\n                logger.exception(f\"Error calling LLM: {e}\")\n                retry_prompt = f\"Error calling LLM: {e}\"\n            finally:\n                self.merge_stats(\n                    {\n                        \"llm_call_count\": retry_count + 1,\n                        \"llm_retry_count\": retry_count,"
                                                                }
                                                            ],
                                                            "label": "for retry_count in range(input_data.retry):\n            try:\n                response_text, input_token, output_token = self.llm_call(\n                    credentials=credentials,\n                    llm_model=llm_model,\n                    prompt=prompt,\n                    json_format=bool(input_data.expected_format),\n                    ollama_host=input_data.ollama_host,\n                    max_tokens=input_data.max_tokens,\n                )\n                self.merge_stats(\n                    {\n                        \"input_token_count\": input_token,\n                        \"output_token_count\": output_token,\n                    }\n                )\n                logger.info(f\"LLM attempt-{retry_count} response: {response_text}\")\n\n                if input_data.expected_format:\n                    parsed_dict, parsed_error = parse_response(response_text)\n                    if not parsed_error:\n                        yield \"response\", {\n                            k: (\n                                json.loads(v)\n                                if isinstance(v, str)\n                                and v.startswith(\"[\")\n                                and v.endswith(\"]\")\n                                else (\", \".join(v) if isinstance(v, list) else v)\n                            )\n                            for k, v in parsed_dict.items()\n                        }\n                        return\n                else:\n                    yield \"response\", {\"response\": response_text}\n                    return\n\n                retry_prompt = trim_prompt(\n                    f\"\"\"\n                  |This is your previous error response:\n                  |--\n                  |{response_text}\n                  |--\n                  |\n                  |And this is the error:\n                  |--\n                  |{parsed_error}\n                  |--\n                \"\"\"\n                )\n                prompt.append({\"role\": \"user\", \"content\": retry_prompt})\n            except Exception as e:\n                logger.exception(f\"Error calling LLM: {e}\")\n                retry_prompt = f\"Error calling LLM: {e}\"\n            finally:\n                self.merge_stats(\n                    {\n                        \"llm_call_count\": retry_count + 1,\n                        \"llm_retry_count\": retry_count,"
                                                        },
                                                        {
                                                            "type": "raise_statement",
                                                            "start_token": 656,
                                                            "end_token": 660,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 658,
                                                                    "end_token": 660,
                                                                    "children": [
                                                                        {
                                                                            "type": "arg_list",
                                                                            "start_token": 659,
                                                                            "end_token": 659,
                                                                            "children": [],
                                                                            "label": "retry_prompt"
                                                                        }
                                                                    ],
                                                                    "label": "(retry_prompt)"
                                                                }
                                                            ],
                                                            "label": "raise RuntimeError(retry_prompt)"
                                                        }
                                                    ],
                                                    "label": ":\n            try:\n                parsed = json.loads(resp)\n                if not isinstance(parsed, dict):\n                    return {}, f\"Expected a dictionary, but got {type(parsed)}\"\n                miss_keys = set(input_data.expected_format.keys()) - set(parsed.keys())\n                if miss_keys:\n                    return parsed, f\"Missing keys: {miss_keys}\"\n                return parsed, None\n            except JSONDecodeError as e:\n                return {}, f\"JSON decode error: {e}\"\n\n        logger.info(f\"LLM request: {prompt}\")\n        retry_prompt = \"\"\n        llm_model = input_data.model\n\n        for retry_count in range(input_data.retry):\n            try:\n                response_text, input_token, output_token = self.llm_call(\n                    credentials=credentials,\n                    llm_model=llm_model,\n                    prompt=prompt,\n                    json_format=bool(input_data.expected_format),\n                    ollama_host=input_data.ollama_host,\n                    max_tokens=input_data.max_tokens,\n                )\n                self.merge_stats(\n                    {\n                        \"input_token_count\": input_token,\n                        \"output_token_count\": output_token,\n                    }\n                )\n                logger.info(f\"LLM attempt-{retry_count} response: {response_text}\")\n\n                if input_data.expected_format:\n                    parsed_dict, parsed_error = parse_response(response_text)\n                    if not parsed_error:\n                        yield \"response\", {\n                            k: (\n                                json.loads(v)\n                                if isinstance(v, str)\n                                and v.startswith(\"[\")\n                                and v.endswith(\"]\")\n                                else (\", \".join(v) if isinstance(v, list) else v)\n                            )\n                            for k, v in parsed_dict.items()\n                        }\n                        return\n                else:\n                    yield \"response\", {\"response\": response_text}\n                    return\n\n                retry_prompt = trim_prompt(\n                    f\"\"\"\n                  |This is your previous error response:\n                  |--\n                  |{response_text}\n                  |--\n                  |\n                  |And this is the error:\n                  |--\n                  |{parsed_error}\n                  |--\n                \"\"\"\n                )\n                prompt.append({\"role\": \"user\", \"content\": retry_prompt})\n            except Exception as e:\n                logger.exception(f\"Error calling LLM: {e}\")\n                retry_prompt = f\"Error calling LLM: {e}\"\n            finally:\n                self.merge_stats(\n                    {\n                        \"llm_call_count\": retry_count + 1,\n                        \"llm_retry_count\": retry_count,\n                    }\n                )\n\n        raise RuntimeError(retry_prompt)"
                                                }
                                            ],
                                            "label": "def parse_response(resp: str) -> tuple[dict[str, Any], str | None]:\n            try:\n                parsed = json.loads(resp)\n                if not isinstance(parsed, dict):\n                    return {}, f\"Expected a dictionary, but got {type(parsed)}\"\n                miss_keys = set(input_data.expected_format.keys()) - set(parsed.keys())\n                if miss_keys:\n                    return parsed, f\"Missing keys: {miss_keys}\"\n                return parsed, None\n            except JSONDecodeError as e:\n                return {}, f\"JSON decode error: {e}\"\n\n        logger.info(f\"LLM request: {prompt}\")\n        retry_prompt = \"\"\n        llm_model = input_data.model\n\n        for retry_count in range(input_data.retry):\n            try:\n                response_text, input_token, output_token = self.llm_call(\n                    credentials=credentials,\n                    llm_model=llm_model,\n                    prompt=prompt,\n                    json_format=bool(input_data.expected_format),\n                    ollama_host=input_data.ollama_host,\n                    max_tokens=input_data.max_tokens,\n                )\n                self.merge_stats(\n                    {\n                        \"input_token_count\": input_token,\n                        \"output_token_count\": output_token,\n                    }\n                )\n                logger.info(f\"LLM attempt-{retry_count} response: {response_text}\")\n\n                if input_data.expected_format:\n                    parsed_dict, parsed_error = parse_response(response_text)\n                    if not parsed_error:\n                        yield \"response\", {\n                            k: (\n                                json.loads(v)\n                                if isinstance(v, str)\n                                and v.startswith(\"[\")\n                                and v.endswith(\"]\")\n                                else (\", \".join(v) if isinstance(v, list) else v)\n                            )\n                            for k, v in parsed_dict.items()\n                        }\n                        return\n                else:\n                    yield \"response\", {\"response\": response_text}\n                    return\n\n                retry_prompt = trim_prompt(\n                    f\"\"\"\n                  |This is your previous error response:\n                  |--\n                  |{response_text}\n                  |--\n                  |\n                  |And this is the error:\n                  |--\n                  |{parsed_error}\n                  |--\n                \"\"\"\n                )\n                prompt.append({\"role\": \"user\", \"content\": retry_prompt})\n            except Exception as e:\n                logger.exception(f\"Error calling LLM: {e}\")\n                retry_prompt = f\"Error calling LLM: {e}\"\n            finally:\n                self.merge_stats(\n                    {\n                        \"llm_call_count\": retry_count + 1,\n                        \"llm_retry_count\": retry_count,\n                    }\n                )\n\n        raise RuntimeError(retry_prompt)"
                                        }
                                    ],
                                    "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        logger.debug(f\"Calling LLM with input data: {input_data}\")\n        prompt = [p.model_dump() for p in input_data.conversation_history]\n\n        def trim_prompt(s: str) -> str:\n            lines = s.strip().split(\"\\n\")\n            return \"\\n\".join([line.strip().lstrip(\"|\") for line in lines])\n\n        values = input_data.prompt_values\n        if values:\n            input_data.prompt = input_data.prompt.format(**values)\n            input_data.sys_prompt = input_data.sys_prompt.format(**values)\n\n        if input_data.sys_prompt:\n            prompt.append({\"role\": \"system\", \"content\": input_data.sys_prompt})\n\n        if input_data.expected_format:\n            expected_format = [\n                f'\"{k}\": \"{v}\"' for k, v in input_data.expected_format.items()\n            ]\n            format_prompt = \",\\n  \".join(expected_format)\n            sys_prompt = trim_prompt(\n                f\"\"\"\n                  |Reply strictly only in the following JSON format:\n                  |{{\n                  |  {format_prompt}\n                  |}}\n                \"\"\"\n            )\n            prompt.append({\"role\": \"system\", \"content\": sys_prompt})\n\n        if input_data.prompt:\n            prompt.append({\"role\": \"user\", \"content\": input_data.prompt})\n\n        def parse_response(resp: str) -> tuple[dict[str, Any], str | None]:\n            try:\n                parsed = json.loads(resp)\n                if not isinstance(parsed, dict):\n                    return {}, f\"Expected a dictionary, but got {type(parsed)}\"\n                miss_keys = set(input_data.expected_format.keys()) - set(parsed.keys())\n                if miss_keys:\n                    return parsed, f\"Missing keys: {miss_keys}\"\n                return parsed, None\n            except JSONDecodeError as e:\n                return {}, f\"JSON decode error: {e}\"\n\n        logger.info(f\"LLM request: {prompt}\")\n        retry_prompt = \"\"\n        llm_model = input_data.model\n\n        for retry_count in range(input_data.retry):\n            try:\n                response_text, input_token, output_token = self.llm_call(\n                    credentials=credentials,\n                    llm_model=llm_model,\n                    prompt=prompt,\n                    json_format=bool(input_data.expected_format),\n                    ollama_host=input_data.ollama_host,\n                    max_tokens=input_data.max_tokens,\n                )\n                self.merge_stats(\n                    {\n                        \"input_token_count\": input_token,\n                        \"output_token_count\": output_token,\n                    }\n                )\n                logger.info(f\"LLM attempt-{retry_count} response: {response_text}\")\n\n                if input_data.expected_format:\n                    parsed_dict, parsed_error = parse_response(response_text)\n                    if not parsed_error:\n                        yield \"response\", {\n                            k: (\n                                json.loads(v)\n                                if isinstance(v, str)\n                                and v.startswith(\"[\")\n                                and v.endswith(\"]\")\n                                else (\", \".join(v) if isinstance(v, list) else v)\n                            )\n                            for k, v in parsed_dict.items()\n                        }\n                        return\n                else:\n                    yield \"response\", {\"response\": response_text}\n                    return\n\n                retry_prompt = trim_prompt(\n                    f\"\"\"\n                  |This is your previous error response:\n                  |--\n                  |{response_text}\n                  |--\n                  |\n                  |And this is the error:\n                  |--\n                  |{parsed_error}\n                  |--\n                \"\"\"\n                )\n                prompt.append({\"role\": \"user\", \"content\": retry_prompt})\n            except Exception as e:\n                logger.exception(f\"Error calling LLM: {e}\")\n                retry_prompt = f\"Error calling LLM: {e}\"\n            finally:\n                self.merge_stats(\n                    {\n                        \"llm_call_count\": retry_count + 1,\n                        \"llm_retry_count\": retry_count,\n                    }\n                )\n\n        raise RuntimeError(retry_prompt)"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Input",
                            "start_line": 206,
                            "end_line": 250,
                            "children": [
                                {
                                    "type": "ErrorNode",
                                    "start_token": -1,
                                    "end_token": -1,
                                    "children": [],
                                    "label": ""
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Output",
                            "start_line": 251,
                            "end_line": 255,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 35,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 35,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "Output"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 35,
                                                    "children": [
                                                        {
                                                            "type": "typed_default_parameter",
                                                            "start_token": 7,
                                                            "end_token": 23,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "label": "response"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 9,
                                                                    "end_token": 14,
                                                                    "children": [
                                                                        {
                                                                            "type": "generic_type",
                                                                            "start_token": 9,
                                                                            "end_token": 14,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 9,
                                                                                    "end_token": 9,
                                                                                    "label": "dict"
                                                                                },
                                                                                {
                                                                                    "type": "type_parameter",
                                                                                    "start_token": 11,
                                                                                    "end_token": 13,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 11,
                                                                                            "end_token": 11,
                                                                                            "label": "str"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 13,
                                                                                            "end_token": 13,
                                                                                            "label": "Any"
                                                                                        }
                                                                                    ],
                                                                                    "label": "str, Any"
                                                                                }
                                                                            ],
                                                                            "label": "dict[str, Any]"
                                                                        }
                                                                    ],
                                                                    "label": "dict[str, Any]"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 16,
                                                                    "end_token": 23,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 16,
                                                                            "end_token": 16,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 17,
                                                                            "end_token": 23,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 19,
                                                                                    "end_token": 21,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 19,
                                                                                            "end_token": 19,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 21,
                                                                                            "end_token": 21,
                                                                                            "label": "\"The response object generated by the language model.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The response object generated by the language model.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"The response object generated by the language model.\"\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"The response object generated by the language model.\"\n        )"
                                                                }
                                                            ],
                                                            "label": "response: dict[str, Any] = SchemaField(\n            description=\"The response object generated by the language model.\"\n        )"
                                                        },
                                                        {
                                                            "type": "typed_default_parameter",
                                                            "start_token": 25,
                                                            "end_token": 34,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 25,
                                                                    "end_token": 25,
                                                                    "label": "error"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 27,
                                                                    "end_token": 27,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 27,
                                                                            "end_token": 27,
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 29,
                                                                    "end_token": 34,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 29,
                                                                            "end_token": 29,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 30,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 31,
                                                                                    "end_token": 33,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 31,
                                                                                            "end_token": 31,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 33,
                                                                                            "end_token": 33,
                                                                                            "label": "\"Error message if the API call failed.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Error message if the API call failed.\""
                                                                                }
                                                                            ],
                                                                            "label": "(description=\"Error message if the API call failed.\")"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(description=\"Error message if the API call failed.\")"
                                                                }
                                                            ],
                                                            "label": "error: str = SchemaField(description=\"Error message if the API call failed.\")"
                                                        }
                                                    ],
                                                    "label": "\n        response: dict[str, Any] = SchemaField(\n            description=\"The response object generated by the language model.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                                }
                                            ],
                                            "label": "class Output(BlockSchema):\n        response: dict[str, Any] = SchemaField(\n            description=\"The response object generated by the language model.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                        }
                                    ],
                                    "label": "class Output(BlockSchema):\n        response: dict[str, Any] = SchemaField(\n            description=\"The response object generated by the language model.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                }
                            ]
                        }
                    ],
                    "label": "class AIStructuredResponseGeneratorBlock(Block):\n\n\n    @staticmethod\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AITextGeneratorBlock",
            "start_line": 555,
            "end_line": 632,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 5,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 5,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "AITextGeneratorBlock"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "Block"
                                        }
                                    ],
                                    "label": "(Block)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 5,
                                    "end_token": 5,
                                    "children": [],
                                    "label": ":"
                                }
                            ],
                            "label": "class AITextGeneratorBlock(Block):"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__init__",
                            "start_line": 598,
                            "end_line": 612,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 95,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 95,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "__init__"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 5,
                                                    "end_token": 95,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 7,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "label": "super"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 10,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "label": "__init__"
                                                                        }
                                                                    ],
                                                                    "label": ".__init__"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "label": "("
                                                                }
                                                            ],
                                                            "label": "super().__init__(\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 14,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "label": "id"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "label": "\"1f292d4a-41a4-4977-9684-7c8d560b9f91\""
                                                                }
                                                            ],
                                                            "label": "id=\"1f292d4a-41a4-4977-9684-7c8d560b9f91\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 19,
                                                            "end_token": 21,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "label": "description"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "label": "\"Call a Large Language Model (LLM) to generate a string based on the given prompt.\""
                                                                }
                                                            ],
                                                            "label": "description=\"Call a Large Language Model (LLM) to generate a string based on the given prompt.\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 24,
                                                            "end_token": 30,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "label": "categories"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 26,
                                                                    "end_token": 30,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 27,
                                                                            "end_token": 29,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 28,
                                                                                    "end_token": 28,
                                                                                    "label": "."
                                                                                }
                                                                            ],
                                                                            "label": "BlockCategory.AI"
                                                                        }
                                                                    ],
                                                                    "label": "{BlockCategory.AI}"
                                                                }
                                                            ],
                                                            "label": "categories={BlockCategory.AI}"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 33,
                                                            "end_token": 38,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 33,
                                                                    "end_token": 33,
                                                                    "label": "input_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 35,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 36,
                                                                            "end_token": 36,
                                                                            "label": "."
                                                                        }
                                                                    ],
                                                                    "label": "AITextGeneratorBlock.Input"
                                                                }
                                                            ],
                                                            "label": "input_schema=AITextGeneratorBlock.Input,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 40,
                                                            "end_token": 45,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 40,
                                                                    "end_token": 40,
                                                                    "label": "output_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 42,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 43,
                                                                            "end_token": 43,
                                                                            "label": "."
                                                                        }
                                                                    ],
                                                                    "label": "AITextGeneratorBlock.Output"
                                                                }
                                                            ],
                                                            "label": "output_schema=AITextGeneratorBlock.Output,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 47,
                                                            "end_token": 61,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 47,
                                                                    "end_token": 47,
                                                                    "label": "test_input"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 49,
                                                                    "end_token": 61,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 51,
                                                                            "end_token": 53,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 51,
                                                                                    "end_token": 51,
                                                                                    "label": "\"prompt\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 53,
                                                                                    "end_token": 53,
                                                                                    "label": "\"User prompt\""
                                                                                }
                                                                            ],
                                                                            "label": "\"prompt\": \"User prompt\""
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 56,
                                                                            "end_token": 58,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 56,
                                                                                    "end_token": 56,
                                                                                    "label": "\"credentials\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 58,
                                                                                    "end_token": 58,
                                                                                    "label": "TEST_CREDENTIALS_INPUT"
                                                                                }
                                                                            ],
                                                                            "label": "\"credentials\": TEST_CREDENTIALS_INPUT"
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"prompt\": \"User prompt\",\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            }"
                                                                }
                                                            ],
                                                            "label": "test_input={\n                \"prompt\": \"User prompt\",\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            }"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 64,
                                                            "end_token": 66,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 64,
                                                                    "end_token": 64,
                                                                    "label": "test_credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 66,
                                                                    "end_token": 66,
                                                                    "label": "TEST_CREDENTIALS"
                                                                }
                                                            ],
                                                            "label": "test_credentials=TEST_CREDENTIALS"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 69,
                                                            "end_token": 75,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 69,
                                                                    "end_token": 69,
                                                                    "label": "test_output"
                                                                },
                                                                {
                                                                    "type": "tuple",
                                                                    "start_token": 71,
                                                                    "end_token": 75,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 72,
                                                                            "end_token": 72,
                                                                            "label": "\"response\""
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 74,
                                                                            "end_token": 74,
                                                                            "label": "\"Response text\""
                                                                        }
                                                                    ],
                                                                    "label": "(\"response\", \"Response text\")"
                                                                }
                                                            ],
                                                            "label": "test_output=(\"response\", \"Response text\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 78,
                                                            "end_token": 92,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 78,
                                                                    "end_token": 78,
                                                                    "label": "test_mock"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 80,
                                                                    "end_token": 92,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 81,
                                                                            "end_token": 91,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 81,
                                                                                    "end_token": 81,
                                                                                    "label": "\"llm_call\""
                                                                                },
                                                                                {
                                                                                    "type": "lambda",
                                                                                    "start_token": 83,
                                                                                    "end_token": 91,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lambda_parameters",
                                                                                            "start_token": 84,
                                                                                            "end_token": 89,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 85,
                                                                                                    "end_token": 85,
                                                                                                    "label": "args"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 87,
                                                                                                    "end_token": 89,
                                                                                                    "label": "**kwargs"
                                                                                                }
                                                                                            ],
                                                                                            "label": "*args, **kwargs"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 91,
                                                                                            "end_token": 91,
                                                                                            "label": "\"Response text\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "lambda *args, **kwargs: \"Response text\""
                                                                                }
                                                                            ],
                                                                            "label": "\"llm_call\": lambda *args, **kwargs: \"Response text\""
                                                                        }
                                                                    ],
                                                                    "label": "{\"llm_call\": lambda *args, **kwargs: \"Response text\"}"
                                                                }
                                                            ],
                                                            "label": "test_mock={\"llm_call\": lambda *args, **kwargs: \"Response text\"}"
                                                        }
                                                    ],
                                                    "label": ":\n        super().__init__(\n            id=\"1f292d4a-41a4-4977-9684-7c8d560b9f91\",\n            description=\"Call a Large Language Model (LLM) to generate a string based on the given prompt.\",\n            categories={BlockCategory.AI},\n            input_schema=AITextGeneratorBlock.Input,\n            output_schema=AITextGeneratorBlock.Output,\n            test_input={\n                \"prompt\": \"User prompt\",\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"response\", \"Response text\"),\n            test_mock={\"llm_call\": lambda *args, **kwargs: \"Response text\"},\n        )"
                                                }
                                            ],
                                            "label": "def __init__(self):\n        super().__init__(\n            id=\"1f292d4a-41a4-4977-9684-7c8d560b9f91\",\n            description=\"Call a Large Language Model (LLM) to generate a string based on the given prompt.\",\n            categories={BlockCategory.AI},\n            input_schema=AITextGeneratorBlock.Input,\n            output_schema=AITextGeneratorBlock.Output,\n            test_input={\n                \"prompt\": \"User prompt\",\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"response\", \"Response text\"),\n            test_mock={\"llm_call\": lambda *args, **kwargs: \"Response text\"},\n        )"
                                        }
                                    ],
                                    "label": "def __init__(self):\n        super().__init__(\n            id=\"1f292d4a-41a4-4977-9684-7c8d560b9f91\",\n            description=\"Call a Large Language Model (LLM) to generate a string based on the given prompt.\",\n            categories={BlockCategory.AI},\n            input_schema=AITextGeneratorBlock.Input,\n            output_schema=AITextGeneratorBlock.Output,\n            test_input={\n                \"prompt\": \"User prompt\",\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"response\", \"Response text\"),\n            test_mock={\"llm_call\": lambda *args, **kwargs: \"Response text\"},\n        )"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "llm_call",
                            "start_line": 614,
                            "end_line": 622,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 59,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 59,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "llm_call"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 19,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 12,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "dotted_name",
                                                                            "start_token": 9,
                                                                            "end_token": 11,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 9,
                                                                                    "end_token": 9,
                                                                                    "label": "AIStructuredResponseGeneratorBlock"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "label": "Input"
                                                                                }
                                                                            ],
                                                                            "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                        }
                                                                    ],
                                                                    "label": "input_data: AIStructuredResponseGeneratorBlock.Input"
                                                                }
                                                            ],
                                                            "label": "self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 14,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials,"
                                                        }
                                                    ],
                                                    "label": "(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    )"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 23,
                                                    "end_token": 59,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 25,
                                                            "end_token": 29,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 25,
                                                                    "end_token": 25,
                                                                    "label": "block"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 27,
                                                                    "end_token": 29,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 27,
                                                                            "end_token": 27,
                                                                            "label": "AIStructuredResponseGeneratorBlock"
                                                                        }
                                                                    ],
                                                                    "label": "AIStructuredResponseGeneratorBlock()"
                                                                }
                                                            ],
                                                            "label": "block = AIStructuredResponseGeneratorBlock()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 31,
                                                            "end_token": 44,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 31,
                                                                    "end_token": 31,
                                                                    "label": "response"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 33,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 33,
                                                                            "end_token": 35,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "label": "block"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 35,
                                                                                    "end_token": 35,
                                                                                    "label": "run_once"
                                                                                }
                                                                            ],
                                                                            "label": "block.run_once"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 36,
                                                                            "end_token": 44,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 37,
                                                                                    "end_token": 37,
                                                                                    "label": "input_data"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 39,
                                                                                    "end_token": 39,
                                                                                    "label": "\"response\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 41,
                                                                                    "end_token": 43,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 41,
                                                                                            "end_token": 41,
                                                                                            "label": "credentials"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 43,
                                                                                            "end_token": 43,
                                                                                            "label": "credentials"
                                                                                        }
                                                                                    ],
                                                                                    "label": "credentials=credentials"
                                                                                }
                                                                            ],
                                                                            "label": "(input_data, \"response\", credentials=credentials)"
                                                                        }
                                                                    ],
                                                                    "label": "block.run_once(input_data, \"response\", credentials=credentials)"
                                                                }
                                                            ],
                                                            "label": "response = block.run_once(input_data, \"response\", credentials=credentials)"
                                                        },
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 46,
                                                            "end_token": 53,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 46,
                                                                    "end_token": 53,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 46,
                                                                            "end_token": 48,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 46,
                                                                                    "end_token": 46,
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 48,
                                                                                    "end_token": 48,
                                                                                    "label": "merge_stats"
                                                                                }
                                                                            ],
                                                                            "label": "self.merge_stats"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 49,
                                                                            "end_token": 53,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 50,
                                                                                    "end_token": 52,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 50,
                                                                                            "end_token": 50,
                                                                                            "label": "block"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 52,
                                                                                            "end_token": 52,
                                                                                            "label": "execution_stats"
                                                                                        }
                                                                                    ],
                                                                                    "label": "block.execution_stats"
                                                                                }
                                                                            ],
                                                                            "label": "(block.execution_stats)"
                                                                        }
                                                                    ],
                                                                    "label": "self.merge_stats(block.execution_stats)"
                                                                }
                                                            ],
                                                            "label": "self.merge_stats(block.execution_stats)"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 55,
                                                            "end_token": 59,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 56,
                                                                    "end_token": 59,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 56,
                                                                            "end_token": 56,
                                                                            "label": "response"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 58,
                                                                            "end_token": 58,
                                                                            "label": "\"response\""
                                                                        }
                                                                    ],
                                                                    "label": "response[\"response\"]"
                                                                }
                                                            ],
                                                            "label": "return response[\"response\"]"
                                                        }
                                                    ],
                                                    "label": ":\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response[\"response\"]"
                                                }
                                            ],
                                            "label": "def llm_call(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    ) -> str:\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response[\"response\"]"
                                        }
                                    ],
                                    "label": "def llm_call(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    ) -> str:\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response[\"response\"]"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run",
                            "start_line": 624,
                            "end_line": 631,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 72,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 72,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "run"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 7,
                                                                    "end_token": 8,
                                                                    "children": [],
                                                                    "label": ": Input"
                                                                }
                                                            ],
                                                            "label": "self, input_data: Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 12,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 13,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": ": APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        },
                                                        {
                                                            "type": "parameters",
                                                            "start_token": 16,
                                                            "end_token": 18,
                                                            "children": [
                                                                {
                                                                    "type": "list_splat_pattern",
                                                                    "start_token": 18,
                                                                    "end_token": 18,
                                                                    "children": [],
                                                                    "label": "kwargs"
                                                                }
                                                            ],
                                                            "label": "**kwargs"
                                                        }
                                                    ],
                                                    "label": "(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    )"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 22,
                                                    "end_token": 23,
                                                    "children": [],
                                                    "label": "> BlockOutput"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 24,
                                                    "end_token": 72,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 26,
                                                            "end_token": 59,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 26,
                                                                    "end_token": 26,
                                                                    "children": [],
                                                                    "label": "object_input_data"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 28,
                                                                    "end_token": 59,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 28,
                                                                            "end_token": 30,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 28,
                                                                                    "end_token": 29,
                                                                                    "children": [],
                                                                                    "label": "AIStructuredResponseGeneratorBlock."
                                                                                }
                                                                            ],
                                                                            "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 31,
                                                                            "end_token": 59,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dictionary_comprehension",
                                                                                    "start_token": 35,
                                                                                    "end_token": 50,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 36,
                                                                                            "end_token": 43,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 36,
                                                                                                    "end_token": 36,
                                                                                                    "children": [],
                                                                                                    "label": "attr"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 38,
                                                                                                    "end_token": 43,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 38,
                                                                                                            "end_token": 38,
                                                                                                            "children": [],
                                                                                                            "label": "getattr"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 39,
                                                                                                            "end_token": 43,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 40,
                                                                                                                    "end_token": 40,
                                                                                                                    "children": [],
                                                                                                                    "label": "input_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 42,
                                                                                                                    "end_token": 42,
                                                                                                                    "children": [],
                                                                                                                    "label": "attr"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(input_data, attr)"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "getattr(input_data, attr)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "attr: getattr(input_data, attr)"
                                                                                        },
                                                                                        {
                                                                                            "type": "for_in_clause",
                                                                                            "start_token": 44,
                                                                                            "end_token": 49,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 45,
                                                                                                    "end_token": 45,
                                                                                                    "children": [],
                                                                                                    "label": "attr"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 47,
                                                                                                    "end_token": 49,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 47,
                                                                                                            "end_token": 47,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_data.model_fields"
                                                                                                }
                                                                                            ],
                                                                                            "label": "for attr in input_data.model_fields"
                                                                                        }
                                                                                    ],
                                                                                    "label": "{attr: getattr(input_data, attr) for attr in input_data.model_fields}"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 53,
                                                                                    "end_token": 56,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 53,
                                                                                            "end_token": 53,
                                                                                            "children": [],
                                                                                            "label": "expected_format"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 55,
                                                                                            "end_token": 56,
                                                                                            "children": [],
                                                                                            "label": "{}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "expected_format={}"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            **{attr: getattr(input_data, attr) for attr in input_data.model_fields},\n            expected_format={},\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "AIStructuredResponseGeneratorBlock.Input(\n            **{attr: getattr(input_data, attr) for attr in input_data.model_fields},\n            expected_format={},\n        )"
                                                                }
                                                            ],
                                                            "label": "object_input_data = AIStructuredResponseGeneratorBlock.Input(\n            **{attr: getattr(input_data, attr) for attr in input_data.model_fields},\n            expected_format={},\n        )"
                                                        },
                                                        {
                                                            "type": "yield",
                                                            "start_token": 61,
                                                            "end_token": 71,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 62,
                                                                    "end_token": 62,
                                                                    "children": [],
                                                                    "label": "\"response\""
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 64,
                                                                    "end_token": 71,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 64,
                                                                            "end_token": 66,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 64,
                                                                                    "end_token": 64,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                }
                                                                            ],
                                                                            "label": "self.llm_call"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 67,
                                                                            "end_token": 71,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 68,
                                                                                    "end_token": 68,
                                                                                    "children": [],
                                                                                    "label": "object_input_data"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 70,
                                                                                    "end_token": 70,
                                                                                    "children": [],
                                                                                    "label": "credentials"
                                                                                }
                                                                            ],
                                                                            "label": "(object_input_data, credentials)"
                                                                        }
                                                                    ],
                                                                    "label": "self.llm_call(object_input_data, credentials)"
                                                                }
                                                            ],
                                                            "label": "yield \"response\", self.llm_call(object_input_data, credentials)"
                                                        }
                                                    ],
                                                    "label": ":\n        object_input_data = AIStructuredResponseGeneratorBlock.Input(\n            **{attr: getattr(input_data, attr) for attr in input_data.model_fields},\n            expected_format={},\n        )\n        yield \"response\", self.llm_call(object_input_data, credentials)\n"
                                                }
                                            ],
                                            "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        object_input_data = AIStructuredResponseGeneratorBlock.Input(\n            **{attr: getattr(input_data, attr) for attr in input_data.model_fields},\n            expected_format={},\n        )\n        yield \"response\", self.llm_call(object_input_data, credentials)\n"
                                        }
                                    ],
                                    "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        object_input_data = AIStructuredResponseGeneratorBlock.Input(\n            **{attr: getattr(input_data, attr) for attr in input_data.model_fields},\n            expected_format={},\n        )\n        yield \"response\", self.llm_call(object_input_data, credentials)\n"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Input",
                            "start_line": 556,
                            "end_line": 590,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 188,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 188,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "Input"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 188,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 7,
                                                                    "end_token": 10,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "label": "prompt"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "prompt: str ="
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 24,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 12,
                                                                            "end_token": 24,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 14,
                                                                                    "end_token": 17,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 14,
                                                                                            "end_token": 14,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 16,
                                                                                            "end_token": 16,
                                                                                            "children": [],
                                                                                            "label": "\"The prompt to send to the language model. You can use any of the {keys} from Prompt Values to fill in the prompt with values from the prompt values dictionary by putting them in curly braces.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The prompt to send to the language model. You can use any of the {keys} from Prompt Values to fill in the prompt with values from the prompt values dictionary by putting them in curly braces.\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 19,
                                                                                    "end_token": 22,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 19,
                                                                                            "end_token": 19,
                                                                                            "label": "placeholder"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 21,
                                                                                            "end_token": 21,
                                                                                            "label": "\"Enter your prompt here...\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "placeholder=\"Enter your prompt here...\","
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"The prompt to send to the language model. You can use any of the {keys} from Prompt Values to fill in the prompt with values from the prompt values dictionary by putting them in curly braces.\",\n            placeholder=\"Enter your prompt here...\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"The prompt to send to the language model. You can use any of the {keys} from Prompt Values to fill in the prompt with values from the prompt values dictionary by putting them in curly braces.\",\n            placeholder=\"Enter your prompt here...\",\n        )"
                                                                }
                                                            ],
                                                            "label": "prompt: str = SchemaField(\n            description=\"The prompt to send to the language model. You can use any of the {keys} from Prompt Values to fill in the prompt with values from the prompt values dictionary by putting them in curly braces.\",\n            placeholder=\"Enter your prompt here...\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 26,
                                                            "end_token": 55,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 26,
                                                                    "end_token": 29,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 26,
                                                                            "end_token": 26,
                                                                            "label": "model"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 28,
                                                                            "end_token": 28,
                                                                            "label": "LlmModel"
                                                                        }
                                                                    ],
                                                                    "label": "model: LlmModel ="
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 30,
                                                                    "end_token": 55,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 30,
                                                                            "end_token": 30,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 31,
                                                                            "end_token": 55,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 33,
                                                                                    "end_token": 36,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 33,
                                                                                            "end_token": 33,
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 35,
                                                                                            "end_token": 35,
                                                                                            "label": "\"LLM Model\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"LLM Model\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 38,
                                                                                    "end_token": 43,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 38,
                                                                                            "end_token": 38,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 40,
                                                                                            "end_token": 42,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 40,
                                                                                                    "end_token": 40,
                                                                                                    "label": "LlmModel"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "label": "GPT4_TURBO"
                                                                                                }
                                                                                            ],
                                                                                            "label": "LlmModel.GPT4_TURBO"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=LlmModel.GPT4_TURBO,"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 45,
                                                                                    "end_token": 48,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 45,
                                                                                            "end_token": 45,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 47,
                                                                                            "end_token": 47,
                                                                                            "label": "\"The language model to use for answering the prompt.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The language model to use for answering the prompt.\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 50,
                                                                                    "end_token": 52,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 50,
                                                                                            "end_token": 50,
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "false",
                                                                                            "start_token": 52,
                                                                                            "end_token": 52,
                                                                                            "label": "False"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=False"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for answering the prompt.\",\n            advanced=False,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for answering the prompt.\",\n            advanced=False,\n        )"
                                                                }
                                                            ],
                                                            "label": "model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for answering the prompt.\",\n            advanced=False,\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 57,
                                                            "end_token": 63,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 57,
                                                                    "end_token": 60,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 57,
                                                                            "end_token": 57,
                                                                            "label": "credentials"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 59,
                                                                            "end_token": 59,
                                                                            "label": "AICredentials"
                                                                        }
                                                                    ],
                                                                    "label": "credentials: AICredentials ="
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 61,
                                                                    "end_token": 63,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 61,
                                                                            "end_token": 61,
                                                                            "label": "AICredentialsField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 62,
                                                                            "end_token": 63,
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "AICredentialsField()"
                                                                }
                                                            ],
                                                            "label": "credentials: AICredentials = AICredentialsField()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 65,
                                                            "end_token": 87,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 65,
                                                                    "end_token": 68,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 65,
                                                                            "end_token": 65,
                                                                            "label": "sys_prompt"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 67,
                                                                            "end_token": 67,
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "sys_prompt: str ="
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 69,
                                                                    "end_token": 87,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 69,
                                                                            "end_token": 69,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 70,
                                                                            "end_token": 87,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 72,
                                                                                    "end_token": 75,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 72,
                                                                                            "end_token": 72,
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 74,
                                                                                            "end_token": 74,
                                                                                            "label": "\"System Prompt\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"System Prompt\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 77,
                                                                                    "end_token": 79,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 77,
                                                                                            "end_token": 77,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 79,
                                                                                            "end_token": 79,
                                                                                            "label": "\"\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=\"\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 82,
                                                                                    "end_token": 85,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 82,
                                                                                            "end_token": 82,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 84,
                                                                                            "end_token": 84,
                                                                                            "label": "\"The system prompt to provide additional context to the model.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The system prompt to provide additional context to the model.\","
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"System Prompt\",\n            default=\"\",\n            description=\"The system prompt to provide additional context to the model.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"System Prompt\",\n            default=\"\",\n            description=\"The system prompt to provide additional context to the model.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "sys_prompt: str = SchemaField(\n            title=\"System Prompt\",\n            default=\"\",\n            description=\"The system prompt to provide additional context to the model.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 89,
                                                            "end_token": 111,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 89,
                                                                    "end_token": 92,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 89,
                                                                            "end_token": 89,
                                                                            "label": "retry"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 91,
                                                                            "end_token": 91,
                                                                            "label": "int"
                                                                        }
                                                                    ],
                                                                    "label": "retry: int ="
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 93,
                                                                    "end_token": 111,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 93,
                                                                            "end_token": 93,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 94,
                                                                            "end_token": 111,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 96,
                                                                                    "end_token": 99,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 96,
                                                                                            "end_token": 96,
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 98,
                                                                                            "end_token": 98,
                                                                                            "label": "\"Retry Count\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Retry Count\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 101,
                                                                                    "end_token": 103,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 101,
                                                                                            "end_token": 101,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 103,
                                                                                            "end_token": 103,
                                                                                            "label": "3"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=3"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 106,
                                                                                    "end_token": 109,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 106,
                                                                                            "end_token": 106,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 108,
                                                                                            "end_token": 108,
                                                                                            "label": "\"Number of times to retry the LLM call if the response does not match the expected format.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Number of times to retry the LLM call if the response does not match the expected format.\","
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"Retry Count\",\n            default=3,\n            description=\"Number of times to retry the LLM call if the response does not match the expected format.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"Retry Count\",\n            default=3,\n            description=\"Number of times to retry the LLM call if the response does not match the expected format.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "retry: int = SchemaField(\n            title=\"Retry Count\",\n            default=3,\n            description=\"Number of times to retry the LLM call if the response does not match the expected format.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 113,
                                                            "end_token": 138,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 113,
                                                                    "end_token": 121,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 113,
                                                                            "end_token": 113,
                                                                            "label": "prompt_values"
                                                                        },
                                                                        {
                                                                            "type": "generic_type",
                                                                            "start_token": 115,
                                                                            "end_token": 120,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 115,
                                                                                    "end_token": 115,
                                                                                    "label": "dict"
                                                                                },
                                                                                {
                                                                                    "type": "type_parameter",
                                                                                    "start_token": 116,
                                                                                    "end_token": 120,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "type",
                                                                                            "start_token": 117,
                                                                                            "end_token": 117,
                                                                                            "label": "str"
                                                                                        },
                                                                                        {
                                                                                            "type": "type",
                                                                                            "start_token": 119,
                                                                                            "end_token": 119,
                                                                                            "label": "str"
                                                                                        }
                                                                                    ],
                                                                                    "label": "[str, str]"
                                                                                }
                                                                            ],
                                                                            "label": "dict[str, str]"
                                                                        }
                                                                    ],
                                                                    "label": "prompt_values: dict[str, str] ="
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 122,
                                                                    "end_token": 138,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 122,
                                                                            "end_token": 122,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 123,
                                                                            "end_token": 138,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 125,
                                                                                    "end_token": 127,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 125,
                                                                                            "end_token": 125,
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "false",
                                                                                            "start_token": 127,
                                                                                            "end_token": 127,
                                                                                            "label": "False"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=False"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 129,
                                                                                    "end_token": 133,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 129,
                                                                                            "end_token": 129,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 131,
                                                                                            "end_token": 132,
                                                                                            "label": "{}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default={},"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 134,
                                                                                    "end_token": 136,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 134,
                                                                                            "end_token": 134,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 136,
                                                                                            "end_token": 136,
                                                                                            "label": "\"Values used to fill in the prompt.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Values used to fill in the prompt.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            advanced=False, default={}, description=\"Values used to fill in the prompt.\"\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            advanced=False, default={}, description=\"Values used to fill in the prompt.\"\n        )"
                                                                }
                                                            ],
                                                            "label": "prompt_values: dict[str, str] = SchemaField(\n            advanced=False, default={}, description=\"Values used to fill in the prompt.\"\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 140,
                                                            "end_token": 162,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 140,
                                                                    "end_token": 143,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 140,
                                                                            "end_token": 140,
                                                                            "label": "ollama_host"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 142,
                                                                            "end_token": 142,
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "ollama_host: str ="
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 144,
                                                                    "end_token": 162,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 144,
                                                                            "end_token": 144,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 145,
                                                                            "end_token": 162,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 147,
                                                                                    "end_token": 149,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 147,
                                                                                            "end_token": 147,
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "true",
                                                                                            "start_token": 149,
                                                                                            "end_token": 149,
                                                                                            "label": "True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=True"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 152,
                                                                                    "end_token": 154,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 152,
                                                                                            "end_token": 152,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 154,
                                                                                            "end_token": 154,
                                                                                            "label": "\"localhost:11434\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=\"localhost:11434\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 157,
                                                                                    "end_token": 159,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 157,
                                                                                            "end_token": 157,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 159,
                                                                                            "end_token": 159,
                                                                                            "label": "\"Ollama host for local  models\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Ollama host for local  models\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                                }
                                                            ],
                                                            "label": "ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 164,
                                                            "end_token": 188,
                                                            "children": [
                                                                {
                                                                    "type": "union_type",
                                                                    "start_token": 164,
                                                                    "end_token": 168,
                                                                    "children": [
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 166,
                                                                            "end_token": 166,
                                                                            "label": "int"
                                                                        },
                                                                        {
                                                                            "type": "none",
                                                                            "start_token": 168,
                                                                            "end_token": 168,
                                                                            "label": "None"
                                                                        }
                                                                    ],
                                                                    "label": "max_tokens: int | None"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 170,
                                                                    "end_token": 188,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 170,
                                                                            "end_token": 170,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 171,
                                                                            "end_token": 188,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 173,
                                                                                    "end_token": 175,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 173,
                                                                                            "end_token": 173,
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "true",
                                                                                            "start_token": 175,
                                                                                            "end_token": 175,
                                                                                            "label": "True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=True"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 178,
                                                                                    "end_token": 180,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 178,
                                                                                            "end_token": 178,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "none",
                                                                                            "start_token": 180,
                                                                                            "end_token": 180,
                                                                                            "label": "None"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=None"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 183,
                                                                                    "end_token": 185,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 183,
                                                                                            "end_token": 183,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 185,
                                                                                            "end_token": 185,
                                                                                            "label": "\"The maximum number of tokens to generate in the chat completion.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The maximum number of tokens to generate in the chat completion.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                        }
                                                    ],
                                                    "label": "\n        prompt: str = SchemaField(\n            description=\"The prompt to send to the language model. You can use any of the {keys} from Prompt Values to fill in the prompt with values from the prompt values dictionary by putting them in curly braces.\",\n            placeholder=\"Enter your prompt here...\",\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for answering the prompt.\",\n            advanced=False,\n        )\n        credentials: AICredentials = AICredentialsField()\n        sys_prompt: str = SchemaField(\n            title=\"System Prompt\",\n            default=\"\",\n            description=\"The system prompt to provide additional context to the model.\",\n        )\n        retry: int = SchemaField(\n            title=\"Retry Count\",\n            default=3,\n            description=\"Number of times to retry the LLM call if the response does not match the expected format.\",\n        )\n        prompt_values: dict[str, str] = SchemaField(\n            advanced=False, default={}, description=\"Values used to fill in the prompt.\"\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                }
                                            ],
                                            "label": "class Input(BlockSchema):\n        prompt: str = SchemaField(\n            description=\"The prompt to send to the language model. You can use any of the {keys} from Prompt Values to fill in the prompt with values from the prompt values dictionary by putting them in curly braces.\",\n            placeholder=\"Enter your prompt here...\",\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for answering the prompt.\",\n            advanced=False,\n        )\n        credentials: AICredentials = AICredentialsField()\n        sys_prompt: str = SchemaField(\n            title=\"System Prompt\",\n            default=\"\",\n            description=\"The system prompt to provide additional context to the model.\",\n        )\n        retry: int = SchemaField(\n            title=\"Retry Count\",\n            default=3,\n            description=\"Number of times to retry the LLM call if the response does not match the expected format.\",\n        )\n        prompt_values: dict[str, str] = SchemaField(\n            advanced=False, default={}, description=\"Values used to fill in the prompt.\"\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                        }
                                    ],
                                    "label": "class Input(BlockSchema):\n        prompt: str = SchemaField(\n            description=\"The prompt to send to the language model. You can use any of the {keys} from Prompt Values to fill in the prompt with values from the prompt values dictionary by putting them in curly braces.\",\n            placeholder=\"Enter your prompt here...\",\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for answering the prompt.\",\n            advanced=False,\n        )\n        credentials: AICredentials = AICredentialsField()\n        sys_prompt: str = SchemaField(\n            title=\"System Prompt\",\n            default=\"\",\n            description=\"The system prompt to provide additional context to the model.\",\n        )\n        retry: int = SchemaField(\n            title=\"Retry Count\",\n            default=3,\n            description=\"Number of times to retry the LLM call if the response does not match the expected format.\",\n        )\n        prompt_values: dict[str, str] = SchemaField(\n            advanced=False, default={}, description=\"Values used to fill in the prompt.\"\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Output",
                            "start_line": 592,
                            "end_line": 596,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 30,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 30,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "Output"
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 30,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 18,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "response"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 9,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 18,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 12,
                                                                            "end_token": 18,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 14,
                                                                                    "end_token": 16,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 14,
                                                                                            "end_token": 14,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 16,
                                                                                            "end_token": 16,
                                                                                            "children": [],
                                                                                            "label": "\"The response generated by the language model.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The response generated by the language model.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"The response generated by the language model.\"\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"The response generated by the language model.\"\n        )"
                                                                }
                                                            ],
                                                            "label": "response: str = SchemaField(\n            description=\"The response generated by the language model.\"\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 20,
                                                            "end_token": 29,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [],
                                                                    "label": "error"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 22,
                                                                    "end_token": 22,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 24,
                                                                    "end_token": 29,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 24,
                                                                            "end_token": 24,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 25,
                                                                            "end_token": 29,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 26,
                                                                                    "end_token": 28,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 26,
                                                                                            "end_token": 26,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 28,
                                                                                            "end_token": 28,
                                                                                            "children": [],
                                                                                            "label": "\"Error message if the API call failed.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Error message if the API call failed.\""
                                                                                }
                                                                            ],
                                                                            "label": "(description=\"Error message if the API call failed.\")"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(description=\"Error message if the API call failed.\")"
                                                                }
                                                            ],
                                                            "label": "error: str = SchemaField(description=\"Error message if the API call failed.\")"
                                                        }
                                                    ],
                                                    "label": "\n        response: str = SchemaField(\n            description=\"The response generated by the language model.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                                }
                                            ],
                                            "label": "class Output(BlockSchema):\n        response: str = SchemaField(\n            description=\"The response generated by the language model.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                        }
                                    ],
                                    "label": "class Output(BlockSchema):\n        response: str = SchemaField(\n            description=\"The response generated by the language model.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                }
                            ]
                        }
                    ],
                    "label": "class AITextGeneratorBlock(Block):"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "SummaryStyle",
            "start_line": 634,
            "end_line": 638,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 21,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 21,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "SummaryStyle"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "Enum"
                                        }
                                    ],
                                    "label": "(Enum)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 5,
                                    "end_token": 21,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "label": "CONCISE"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "label": "\"concise\""
                                                }
                                            ],
                                            "label": "CONCISE = \"concise\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 11,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "label": "DETAILED"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "label": "\"detailed\""
                                                }
                                            ],
                                            "label": "DETAILED = \"detailed\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 15,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "label": "BULLET_POINTS"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "label": "\"bullet points\""
                                                }
                                            ],
                                            "label": "BULLET_POINTS = \"bullet points\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 19,
                                            "end_token": 21,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "label": "NUMBERED_LIST"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 21,
                                                    "end_token": 21,
                                                    "label": "\"numbered list\""
                                                }
                                            ],
                                            "label": "NUMBERED_LIST = \"numbered list\""
                                        }
                                    ],
                                    "label": ":\n    CONCISE = \"concise\"\n    DETAILED = \"detailed\"\n    BULLET_POINTS = \"bullet points\"\n    NUMBERED_LIST = \"numbered list\""
                                }
                            ],
                            "label": "class SummaryStyle(Enum):\n    CONCISE = \"concise\"\n    DETAILED = \"detailed\"\n    BULLET_POINTS = \"bullet points\"\n    NUMBERED_LIST = \"numbered list\""
                        }
                    ],
                    "label": "class SummaryStyle(Enum):\n    CONCISE = \"concise\"\n    DETAILED = \"detailed\"\n    BULLET_POINTS = \"bullet points\"\n    NUMBERED_LIST = \"numbered list\""
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AITextSummarizerBlock",
            "start_line": 641,
            "end_line": 800,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 16,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 5,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "AITextSummarizerBlock"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "Block"
                                        }
                                    ],
                                    "label": "(Block)"
                                }
                            ],
                            "label": "class AITextSummarizerBlock(Block):"
                        },
                        {
                            "type": "decorated_definition",
                            "start_token": 11,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "decorator",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 12,
                                            "end_token": 12,
                                            "children": [],
                                            "label": "staticmethod"
                                        }
                                    ],
                                    "label": "@"
                                }
                            ],
                            "label": "@staticmethod"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__init__",
                            "start_line": 686,
                            "end_line": 706,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 122,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 122,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "__init__"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 122,
                                                    "children": [
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 7,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 7,
                                                                    "end_token": 13,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 7,
                                                                            "end_token": 11,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 7,
                                                                                    "end_token": 7,
                                                                                    "children": [],
                                                                                    "label": "super"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": [],
                                                                                    "label": "__init__"
                                                                                }
                                                                            ],
                                                                            "label": "super().__init__"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 12,
                                                                            "end_token": 13,
                                                                            "children": [],
                                                                            "label": "(\n"
                                                                        }
                                                                    ],
                                                                    "label": "super().__init__(\n"
                                                                }
                                                            ],
                                                            "label": "super().__init__(\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 14,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": "id"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "children": [],
                                                                    "label": "\"a0a69be1-4528-491c-a85a-a4ab6873e3f0\""
                                                                }
                                                            ],
                                                            "label": "id=\"a0a69be1-4528-491c-a85a-a4ab6873e3f0\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 19,
                                                            "end_token": 21,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "children": [],
                                                                    "label": "description"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "children": [],
                                                                    "label": "\"Utilize a Large Language Model (LLM) to summarize a long text.\""
                                                                }
                                                            ],
                                                            "label": "description=\"Utilize a Large Language Model (LLM) to summarize a long text.\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 24,
                                                            "end_token": 34,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "children": [],
                                                                    "label": "categories"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 26,
                                                                    "end_token": 34,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 27,
                                                                            "end_token": 29,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 27,
                                                                                    "end_token": 27,
                                                                                    "children": [],
                                                                                    "label": "BlockCategory"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 29,
                                                                                    "end_token": 29,
                                                                                    "children": [],
                                                                                    "label": "AI"
                                                                                }
                                                                            ],
                                                                            "label": "BlockCategory.AI"
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 31,
                                                                            "end_token": 33,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 31,
                                                                                    "end_token": 31,
                                                                                    "children": [],
                                                                                    "label": "BlockCategory"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "children": [],
                                                                                    "label": "TEXT"
                                                                                }
                                                                            ],
                                                                            "label": "BlockCategory.TEXT"
                                                                        }
                                                                    ],
                                                                    "label": "{BlockCategory.AI, BlockCategory.TEXT}"
                                                                }
                                                            ],
                                                            "label": "categories={BlockCategory.AI, BlockCategory.TEXT}"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 37,
                                                            "end_token": 42,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 37,
                                                                    "end_token": 37,
                                                                    "children": [],
                                                                    "label": "input_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 39,
                                                                    "end_token": 41,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 39,
                                                                            "end_token": 39,
                                                                            "children": [],
                                                                            "label": "AITextSummarizerBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 41,
                                                                            "end_token": 41,
                                                                            "children": [],
                                                                            "label": "Input"
                                                                        }
                                                                    ],
                                                                    "label": "AITextSummarizerBlock.Input"
                                                                }
                                                            ],
                                                            "label": "input_schema=AITextSummarizerBlock.Input,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 44,
                                                            "end_token": 49,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 44,
                                                                    "end_token": 44,
                                                                    "children": [],
                                                                    "label": "output_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 46,
                                                                    "end_token": 48,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 46,
                                                                            "end_token": 46,
                                                                            "children": [],
                                                                            "label": "AITextSummarizerBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 48,
                                                                            "end_token": 48,
                                                                            "children": [],
                                                                            "label": "Output"
                                                                        }
                                                                    ],
                                                                    "label": "AITextSummarizerBlock.Output"
                                                                }
                                                            ],
                                                            "label": "output_schema=AITextSummarizerBlock.Output,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 51,
                                                            "end_token": 67,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 51,
                                                                    "end_token": 51,
                                                                    "children": [],
                                                                    "label": "test_input"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 53,
                                                                    "end_token": 67,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 55,
                                                                            "end_token": 57,
                                                                            "children": [],
                                                                            "label": "\"text\": \"Lorem ipsum...\""
                                                                        },
                                                                        {
                                                                            "type": "binary_operator",
                                                                            "start_token": 58,
                                                                            "end_token": 59,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 57,
                                                                                    "end_token": 57,
                                                                                    "children": [],
                                                                                    "label": "\"Lorem ipsum...\""
                                                                                },
                                                                                {
                                                                                    "type": "integer",
                                                                                    "start_token": 59,
                                                                                    "end_token": 59,
                                                                                    "children": [],
                                                                                    "label": "100"
                                                                                }
                                                                            ],
                                                                            "label": "* 100"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 62,
                                                                            "end_token": 62,
                                                                            "children": [],
                                                                            "label": "\"credentials\""
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 64,
                                                                            "end_token": 64,
                                                                            "children": [],
                                                                            "label": "TEST_CREDENTIALS_INPUT"
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"text\": \"Lorem ipsum...\" * 100,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            }"
                                                                }
                                                            ],
                                                            "label": "test_input={\n                \"text\": \"Lorem ipsum...\" * 100,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            }"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 70,
                                                            "end_token": 72,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 70,
                                                                    "end_token": 70,
                                                                    "children": [],
                                                                    "label": "test_credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 72,
                                                                    "end_token": 72,
                                                                    "children": [],
                                                                    "label": "TEST_CREDENTIALS"
                                                                }
                                                            ],
                                                            "label": "test_credentials=TEST_CREDENTIALS"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 75,
                                                            "end_token": 81,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 75,
                                                                    "end_token": 75,
                                                                    "children": [],
                                                                    "label": "test_output"
                                                                },
                                                                {
                                                                    "type": "tuple",
                                                                    "start_token": 77,
                                                                    "end_token": 81,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 78,
                                                                            "end_token": 80,
                                                                            "children": [],
                                                                            "label": "\"summary\", \"Final summary of a long text\""
                                                                        }
                                                                    ],
                                                                    "label": "(\"summary\", \"Final summary of a long text\")"
                                                                }
                                                            ],
                                                            "label": "test_output=(\"summary\", \"Final summary of a long text\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 84,
                                                            "end_token": 119,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 84,
                                                                    "end_token": 84,
                                                                    "children": [],
                                                                    "label": "test_mock"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 86,
                                                                    "end_token": 119,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 88,
                                                                            "end_token": 88,
                                                                            "children": [],
                                                                            "label": "\"llm_call\""
                                                                        },
                                                                        {
                                                                            "type": "lambda",
                                                                            "start_token": 90,
                                                                            "end_token": 117,
                                                                            "children": [
                                                                                {
                                                                                    "type": "lambda_parameters",
                                                                                    "start_token": 91,
                                                                                    "end_token": 92,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 91,
                                                                                            "end_token": 91,
                                                                                            "children": [],
                                                                                            "label": "input_data"
                                                                                        }
                                                                                    ],
                                                                                    "label": "input_data,"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 97,
                                                                                    "end_token": 100,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 98,
                                                                                            "end_token": 100,
                                                                                            "children": [],
                                                                                            "label": "\"final_summary\": \"Final summary of a long text\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "{\"final_summary\": \"Final summary of a long text\""
                                                                                },
                                                                                {
                                                                                    "type": "conditional_expression",
                                                                                    "start_token": 103,
                                                                                    "end_token": 115,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "comparison_operator",
                                                                                            "start_token": 104,
                                                                                            "end_token": 108,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 104,
                                                                                                    "end_token": 104,
                                                                                                    "children": [],
                                                                                                    "label": "\"final_summary\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 106,
                                                                                                    "end_token": 108,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 106,
                                                                                                            "end_token": 106,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 108,
                                                                                                            "end_token": 108,
                                                                                                            "children": [],
                                                                                                            "label": "expected_format"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_data.expected_format"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"final_summary\" in input_data.expected_format"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 111,
                                                                                            "end_token": 115,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 112,
                                                                                                    "end_token": 114,
                                                                                                    "children": [],
                                                                                                    "label": "\"summary\": \"Summary of a chunk of text\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"summary\": \"Summary of a chunk of text\"}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "if \"final_summary\" in input_data.expected_format\n                    else {\"summary\": \"Summary of a chunk of text\"}"
                                                                                }
                                                                            ],
                                                                            "label": "lambda input_data, credentials: (\n                    {\"final_summary\": \"Final summary of a long text\"}\n                    if \"final_summary\" in input_data.expected_format\n                    else {\"summary\": \"Summary of a chunk of text\"}\n                )"
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"llm_call\": lambda input_data, credentials: (\n                    {\"final_summary\": \"Final summary of a long text\"}\n                    if \"final_summary\" in input_data.expected_format\n                    else {\"summary\": \"Summary of a chunk of text\"}\n                )\n            }"
                                                                }
                                                            ],
                                                            "label": "test_mock={\n                \"llm_call\": lambda input_data, credentials: (\n                    {\"final_summary\": \"Final summary of a long text\"}\n                    if \"final_summary\" in input_data.expected_format\n                    else {\"summary\": \"Summary of a chunk of text\"}\n                )\n            }"
                                                        }
                                                    ],
                                                    "label": "\n        super().__init__(\n            id=\"a0a69be1-4528-491c-a85a-a4ab6873e3f0\",\n            description=\"Utilize a Large Language Model (LLM) to summarize a long text.\",\n            categories={BlockCategory.AI, BlockCategory.TEXT},\n            input_schema=AITextSummarizerBlock.Input,\n            output_schema=AITextSummarizerBlock.Output,\n            test_input={\n                \"text\": \"Lorem ipsum...\" * 100,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"summary\", \"Final summary of a long text\"),\n            test_mock={\n                \"llm_call\": lambda input_data, credentials: (\n                    {\"final_summary\": \"Final summary of a long text\"}\n                    if \"final_summary\" in input_data.expected_format\n                    else {\"summary\": \"Summary of a chunk of text\"}\n                )\n            },\n        )"
                                                }
                                            ],
                                            "label": "def __init__(self):\n        super().__init__(\n            id=\"a0a69be1-4528-491c-a85a-a4ab6873e3f0\",\n            description=\"Utilize a Large Language Model (LLM) to summarize a long text.\",\n            categories={BlockCategory.AI, BlockCategory.TEXT},\n            input_schema=AITextSummarizerBlock.Input,\n            output_schema=AITextSummarizerBlock.Output,\n            test_input={\n                \"text\": \"Lorem ipsum...\" * 100,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"summary\", \"Final summary of a long text\"),\n            test_mock={\n                \"llm_call\": lambda input_data, credentials: (\n                    {\"final_summary\": \"Final summary of a long text\"}\n                    if \"final_summary\" in input_data.expected_format\n                    else {\"summary\": \"Summary of a chunk of text\"}\n                )\n            },\n        )"
                                        }
                                    ],
                                    "label": "def __init__(self):\n        super().__init__(\n            id=\"a0a69be1-4528-491c-a85a-a4ab6873e3f0\",\n            description=\"Utilize a Large Language Model (LLM) to summarize a long text.\",\n            categories={BlockCategory.AI, BlockCategory.TEXT},\n            input_schema=AITextSummarizerBlock.Input,\n            output_schema=AITextSummarizerBlock.Output,\n            test_input={\n                \"text\": \"Lorem ipsum...\" * 100,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\"summary\", \"Final summary of a long text\"),\n            test_mock={\n                \"llm_call\": lambda input_data, credentials: (\n                    {\"final_summary\": \"Final summary of a long text\"}\n                    if \"final_summary\" in input_data.expected_format\n                    else {\"summary\": \"Summary of a chunk of text\"}\n                )\n            },\n        )"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run",
                            "start_line": 708,
                            "end_line": 712,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 41,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 41,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "run"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 8,
                                                                    "end_token": 8,
                                                                    "children": [],
                                                                    "label": "Input"
                                                                }
                                                            ],
                                                            "label": "self, input_data: Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 12,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        },
                                                        {
                                                            "type": "parameter",
                                                            "start_token": 18,
                                                            "end_token": 18,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 18,
                                                                    "end_token": 18,
                                                                    "children": [],
                                                                    "label": "kwargs"
                                                                }
                                                            ],
                                                            "label": "kwargs"
                                                        }
                                                    ],
                                                    "label": "(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    )"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 22,
                                                    "end_token": 23,
                                                    "children": [],
                                                    "label": "> BlockOutput"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 24,
                                                    "end_token": 41,
                                                    "children": [
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 26,
                                                            "end_token": 40,
                                                            "children": [
                                                                {
                                                                    "type": "for_in_clause",
                                                                    "start_token": 26,
                                                                    "end_token": 36,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 27,
                                                                            "end_token": 27,
                                                                            "children": [],
                                                                            "label": "output"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 29,
                                                                            "end_token": 36,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 29,
                                                                                    "end_token": 31,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 29,
                                                                                            "end_token": 29,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 31,
                                                                                            "end_token": 31,
                                                                                            "children": [],
                                                                                            "label": "_run"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self._run"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 32,
                                                                                    "end_token": 36,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 33,
                                                                                            "end_token": 33,
                                                                                            "children": [],
                                                                                            "label": "input_data"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 35,
                                                                                            "end_token": 35,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(input_data, credentials)"
                                                                                }
                                                                            ],
                                                                            "label": "self._run(input_data, credentials)"
                                                                        }
                                                                    ],
                                                                    "label": "for output in self._run(input_data, credentials)"
                                                                },
                                                                {
                                                                    "type": "yield",
                                                                    "start_token": 39,
                                                                    "end_token": 40,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 40,
                                                                            "end_token": 40,
                                                                            "children": [],
                                                                            "label": "output"
                                                                        }
                                                                    ],
                                                                    "label": "yield output"
                                                                }
                                                            ],
                                                            "label": "for output in self._run(input_data, credentials):\n            yield output"
                                                        }
                                                    ],
                                                    "label": ":\n        for output in self._run(input_data, credentials):\n            yield output\n"
                                                }
                                            ],
                                            "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        for output in self._run(input_data, credentials):\n            yield output\n"
                                        }
                                    ],
                                    "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        for output in self._run(input_data, credentials):\n            yield output\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "_run",
                            "start_line": 714,
                            "end_line": 725,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 88,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 88,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "_run"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 12,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 7,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 6,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": ": Input"
                                                                }
                                                            ],
                                                            "label": "self, input_data: Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 5,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "input_data"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 10,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": ": APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "input_data: Input, credentials: APIKeyCredentials"
                                                        }
                                                    ],
                                                    "label": "(self, input_data: Input, credentials: APIKeyCredentials)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 14,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "> BlockOutput"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 16,
                                                    "end_token": 88,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 18,
                                                            "end_token": 37,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 18,
                                                                    "end_token": 18,
                                                                    "children": [],
                                                                    "label": "chunks"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 20,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 20,
                                                                            "end_token": 22,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 20,
                                                                                    "end_token": 20,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 22,
                                                                                    "end_token": 22,
                                                                                    "children": [],
                                                                                    "label": "_split_text"
                                                                                }
                                                                            ],
                                                                            "label": "self._split_text"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 23,
                                                                            "end_token": 37,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 25,
                                                                                    "end_token": 27,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 25,
                                                                                            "end_token": 25,
                                                                                            "children": [],
                                                                                            "label": "input_data"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 27,
                                                                                            "end_token": 27,
                                                                                            "children": [],
                                                                                            "label": "text"
                                                                                        }
                                                                                    ],
                                                                                    "label": "input_data.text"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 29,
                                                                                    "end_token": 31,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 29,
                                                                                            "end_token": 29,
                                                                                            "children": [],
                                                                                            "label": "input_data"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 31,
                                                                                            "end_token": 31,
                                                                                            "children": [],
                                                                                            "label": "max_tokens"
                                                                                        }
                                                                                    ],
                                                                                    "label": "input_data.max_tokens"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 33,
                                                                                    "end_token": 35,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 33,
                                                                                            "end_token": 33,
                                                                                            "children": [],
                                                                                            "label": "input_data"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 35,
                                                                                            "end_token": 35,
                                                                                            "children": [],
                                                                                            "label": "chunk_overlap"
                                                                                        }
                                                                                    ],
                                                                                    "label": "input_data.chunk_overlap"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            input_data.text, input_data.max_tokens, input_data.chunk_overlap\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "self._split_text(\n            input_data.text, input_data.max_tokens, input_data.chunk_overlap\n        )"
                                                                }
                                                            ],
                                                            "label": "chunks = self._split_text(\n            input_data.text, input_data.max_tokens, input_data.chunk_overlap\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 39,
                                                            "end_token": 42,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 39,
                                                                    "end_token": 39,
                                                                    "children": [],
                                                                    "label": "summaries"
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "start_token": 41,
                                                                    "end_token": 42,
                                                                    "children": [],
                                                                    "label": "[]"
                                                                }
                                                            ],
                                                            "label": "summaries = []"
                                                        },
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 45,
                                                            "end_token": 69,
                                                            "children": [
                                                                {
                                                                    "type": "for_in_clause",
                                                                    "start_token": 45,
                                                                    "end_token": 48,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 46,
                                                                            "end_token": 46,
                                                                            "children": [],
                                                                            "label": "chunk"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 48,
                                                                            "end_token": 48,
                                                                            "children": [],
                                                                            "label": "chunks"
                                                                        }
                                                                    ],
                                                                    "label": "for chunk in chunks"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 49,
                                                                    "end_token": 69,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 51,
                                                                            "end_token": 62,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 51,
                                                                                    "end_token": 51,
                                                                                    "children": [],
                                                                                    "label": "chunk_summary"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 53,
                                                                                    "end_token": 62,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 53,
                                                                                            "end_token": 55,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 53,
                                                                                                    "end_token": 53,
                                                                                                    "children": [],
                                                                                                    "label": "self"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 55,
                                                                                                    "end_token": 55,
                                                                                                    "children": [],
                                                                                                    "label": "_summarize_chunk"
                                                                                                }
                                                                                            ],
                                                                                            "label": "self._summarize_chunk"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 56,
                                                                                            "end_token": 62,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 57,
                                                                                                    "end_token": 57,
                                                                                                    "children": [],
                                                                                                    "label": "chunk"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 59,
                                                                                                    "end_token": 59,
                                                                                                    "children": [],
                                                                                                    "label": "input_data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 61,
                                                                                                    "end_token": 61,
                                                                                                    "children": [],
                                                                                                    "label": "credentials"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(chunk, input_data, credentials)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self._summarize_chunk(chunk, input_data, credentials)"
                                                                                }
                                                                            ],
                                                                            "label": "chunk_summary = self._summarize_chunk(chunk, input_data, credentials)"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 64,
                                                                            "end_token": 69,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 64,
                                                                                    "end_token": 66,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 64,
                                                                                            "end_token": 64,
                                                                                            "children": [],
                                                                                            "label": "summaries"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 66,
                                                                                            "end_token": 66,
                                                                                            "children": [],
                                                                                            "label": "append"
                                                                                        }
                                                                                    ],
                                                                                    "label": "summaries.append"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 67,
                                                                                    "end_token": 69,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 68,
                                                                                            "end_token": 68,
                                                                                            "children": [],
                                                                                            "label": "chunk_summary"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(chunk_summary)"
                                                                                }
                                                                            ],
                                                                            "label": "summaries.append(chunk_summary)"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            chunk_summary = self._summarize_chunk(chunk, input_data, credentials)\n            summaries.append(chunk_summary)"
                                                                }
                                                            ],
                                                            "label": "for chunk in chunks:\n            chunk_summary = self._summarize_chunk(chunk, input_data, credentials)\n            summaries.append(chunk_summary)"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 72,
                                                            "end_token": 83,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 72,
                                                                    "end_token": 72,
                                                                    "children": [],
                                                                    "label": "final_summary"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 74,
                                                                    "end_token": 83,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 74,
                                                                            "end_token": 76,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 74,
                                                                                    "end_token": 74,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 76,
                                                                                    "end_token": 76,
                                                                                    "children": [],
                                                                                    "label": "_combine_summaries"
                                                                                }
                                                                            ],
                                                                            "label": "self._combine_summaries"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 77,
                                                                            "end_token": 83,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 78,
                                                                                    "end_token": 78,
                                                                                    "children": [],
                                                                                    "label": "summaries"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 80,
                                                                                    "end_token": 80,
                                                                                    "children": [],
                                                                                    "label": "input_data"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 82,
                                                                                    "end_token": 82,
                                                                                    "children": [],
                                                                                    "label": "credentials"
                                                                                }
                                                                            ],
                                                                            "label": "(summaries, input_data, credentials)"
                                                                        }
                                                                    ],
                                                                    "label": "self._combine_summaries(summaries, input_data, credentials)"
                                                                }
                                                            ],
                                                            "label": "final_summary = self._combine_summaries(summaries, input_data, credentials)"
                                                        },
                                                        {
                                                            "type": "yield",
                                                            "start_token": 85,
                                                            "end_token": 88,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 86,
                                                                    "end_token": 86,
                                                                    "children": [],
                                                                    "label": "\"summary\""
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 88,
                                                                    "end_token": 88,
                                                                    "children": [],
                                                                    "label": "final_summary"
                                                                }
                                                            ],
                                                            "label": "yield \"summary\", final_summary"
                                                        }
                                                    ],
                                                    "label": ":\n        chunks = self._split_text(\n            input_data.text, input_data.max_tokens, input_data.chunk_overlap\n        )\n        summaries = []\n\n        for chunk in chunks:\n            chunk_summary = self._summarize_chunk(chunk, input_data, credentials)\n            summaries.append(chunk_summary)\n\n        final_summary = self._combine_summaries(summaries, input_data, credentials)\n        yield \"summary\", final_summary"
                                                }
                                            ],
                                            "label": "def _run(self, input_data: Input, credentials: APIKeyCredentials) -> BlockOutput:\n        chunks = self._split_text(\n            input_data.text, input_data.max_tokens, input_data.chunk_overlap\n        )\n        summaries = []\n\n        for chunk in chunks:\n            chunk_summary = self._summarize_chunk(chunk, input_data, credentials)\n            summaries.append(chunk_summary)\n\n        final_summary = self._combine_summaries(summaries, input_data, credentials)\n        yield \"summary\", final_summary"
                                        }
                                    ],
                                    "label": "def _run(self, input_data: Input, credentials: APIKeyCredentials) -> BlockOutput:\n        chunks = self._split_text(\n            input_data.text, input_data.max_tokens, input_data.chunk_overlap\n        )\n        summaries = []\n\n        for chunk in chunks:\n            chunk_summary = self._summarize_chunk(chunk, input_data, credentials)\n            summaries.append(chunk_summary)\n\n        final_summary = self._combine_summaries(summaries, input_data, credentials)\n        yield \"summary\", final_summary"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "_split_text",
                            "start_line": 728,
                            "end_line": 737,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 84,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 84,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "_split_text"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 14,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 5,
                                                            "children": [],
                                                            "label": "text: str"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 7,
                                                            "end_token": 9,
                                                            "children": [],
                                                            "label": "max_tokens: int"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 11,
                                                            "end_token": 13,
                                                            "children": [],
                                                            "label": "overlap: int"
                                                        }
                                                    ],
                                                    "label": "(text: str, max_tokens: int, overlap: int)"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 17,
                                                    "end_token": 20,
                                                    "children": [],
                                                    "label": "list[str]"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 22,
                                                    "end_token": 84,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 23,
                                                            "end_token": 29,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 23,
                                                                    "end_token": 23,
                                                                    "children": [],
                                                                    "label": "words"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 25,
                                                                    "end_token": 29,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 25,
                                                                            "end_token": 27,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 25,
                                                                                    "end_token": 25,
                                                                                    "children": [],
                                                                                    "label": "text"
                                                                                }
                                                                            ],
                                                                            "label": "text.split"
                                                                        }
                                                                    ],
                                                                    "label": "text.split()"
                                                                }
                                                            ],
                                                            "label": "words = text.split()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 31,
                                                            "end_token": 34,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 31,
                                                                    "end_token": 31,
                                                                    "children": [],
                                                                    "label": "chunks"
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "start_token": 33,
                                                                    "end_token": 34,
                                                                    "children": [],
                                                                    "label": "[]"
                                                                }
                                                            ],
                                                            "label": "chunks = []"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 36,
                                                            "end_token": 40,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 36,
                                                                    "end_token": 36,
                                                                    "children": [],
                                                                    "label": "chunk_size"
                                                                },
                                                                {
                                                                    "type": "binary_operator",
                                                                    "start_token": 38,
                                                                    "end_token": 40,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 38,
                                                                            "end_token": 38,
                                                                            "children": [],
                                                                            "label": "max_tokens"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 40,
                                                                            "end_token": 40,
                                                                            "children": [],
                                                                            "label": "overlap"
                                                                        }
                                                                    ],
                                                                    "label": "max_tokens - overlap"
                                                                }
                                                            ],
                                                            "label": "chunk_size = max_tokens - overlap"
                                                        },
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 43,
                                                            "end_token": 80,
                                                            "children": [
                                                                {
                                                                    "type": "for_in_clause",
                                                                    "start_token": 43,
                                                                    "end_token": 56,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 44,
                                                                            "end_token": 44,
                                                                            "children": [],
                                                                            "label": "i"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 46,
                                                                            "end_token": 56,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 46,
                                                                                    "end_token": 46,
                                                                                    "children": [],
                                                                                    "label": "range"
                                                                                }
                                                                            ],
                                                                            "label": "range(0, len(words), chunk_size)"
                                                                        }
                                                                    ],
                                                                    "label": "for i in range(0, len(words), chunk_size)"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 57,
                                                                    "end_token": 80,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 59,
                                                                            "end_token": 73,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 59,
                                                                                    "end_token": 59,
                                                                                    "children": [],
                                                                                    "label": "chunk"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 61,
                                                                                    "end_token": 73,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 61,
                                                                                            "end_token": 61,
                                                                                            "children": [],
                                                                                            "label": "\" \""
                                                                                        }
                                                                                    ],
                                                                                    "label": "\" \".join(words[i : i + max_tokens])"
                                                                                }
                                                                            ],
                                                                            "label": "chunk = \" \".join(words[i : i + max_tokens])"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 75,
                                                                            "end_token": 80,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 75,
                                                                                    "end_token": 77,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 75,
                                                                                            "end_token": 75,
                                                                                            "children": [],
                                                                                            "label": "chunks"
                                                                                        }
                                                                                    ],
                                                                                    "label": "chunks.append"
                                                                                }
                                                                            ],
                                                                            "label": "chunks.append(chunk)"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            chunk = \" \".join(words[i : i + max_tokens])\n            chunks.append(chunk)"
                                                                }
                                                            ],
                                                            "label": "for i in range(0, len(words), chunk_size):\n            chunk = \" \".join(words[i : i + max_tokens])\n            chunks.append(chunk)"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 83,
                                                            "end_token": 84,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 84,
                                                                    "end_token": 84,
                                                                    "children": [],
                                                                    "label": "chunks"
                                                                }
                                                            ],
                                                            "label": "return chunks"
                                                        }
                                                    ],
                                                    "label": "\n        words = text.split()\n        chunks = []\n        chunk_size = max_tokens - overlap\n\n        for i in range(0, len(words), chunk_size):\n            chunk = \" \".join(words[i : i + max_tokens])\n            chunks.append(chunk)\n\n        return chunks"
                                                }
                                            ],
                                            "label": "def _split_text(text: str, max_tokens: int, overlap: int) -> list[str]:\n        words = text.split()\n        chunks = []\n        chunk_size = max_tokens - overlap\n\n        for i in range(0, len(words), chunk_size):\n            chunk = \" \".join(words[i : i + max_tokens])\n            chunks.append(chunk)\n\n        return chunks"
                                        }
                                    ],
                                    "label": "def _split_text(text: str, max_tokens: int, overlap: int) -> list[str]:\n        words = text.split()\n        chunks = []\n        chunk_size = max_tokens - overlap\n\n        for i in range(0, len(words), chunk_size):\n            chunk = \" \".join(words[i : i + max_tokens])\n            chunks.append(chunk)\n\n        return chunks"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "llm_call",
                            "start_line": 739,
                            "end_line": 747,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 57,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 56,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "llm_call"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 19,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 12,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "input_data: AIStructuredResponseGeneratorBlock.Input"
                                                                }
                                                            ],
                                                            "label": "self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 14,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "children": [],
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials,"
                                                        }
                                                    ],
                                                    "label": "(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    )"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 23,
                                                    "end_token": 56,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 25,
                                                            "end_token": 29,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 25,
                                                                    "end_token": 25,
                                                                    "children": [],
                                                                    "label": "block"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 27,
                                                                    "end_token": 29,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 27,
                                                                            "end_token": 27,
                                                                            "children": [],
                                                                            "label": "AIStructuredResponseGeneratorBlock"
                                                                        }
                                                                    ],
                                                                    "label": "AIStructuredResponseGeneratorBlock()"
                                                                }
                                                            ],
                                                            "label": "block = AIStructuredResponseGeneratorBlock()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 31,
                                                            "end_token": 44,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 31,
                                                                    "end_token": 31,
                                                                    "children": [],
                                                                    "label": "response"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 33,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 33,
                                                                            "end_token": 35,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "children": [],
                                                                                    "label": "block"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 35,
                                                                                    "end_token": 35,
                                                                                    "children": [],
                                                                                    "label": "run_once"
                                                                                }
                                                                            ],
                                                                            "label": "block.run_once"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 36,
                                                                            "end_token": 44,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 37,
                                                                                    "end_token": 37,
                                                                                    "children": [],
                                                                                    "label": "input_data"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 39,
                                                                                    "end_token": 39,
                                                                                    "children": [],
                                                                                    "label": "\"response\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 41,
                                                                                    "end_token": 43,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 41,
                                                                                            "end_token": 41,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 43,
                                                                                            "end_token": 43,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        }
                                                                                    ],
                                                                                    "label": "credentials=credentials"
                                                                                }
                                                                            ],
                                                                            "label": "(input_data, \"response\", credentials=credentials)"
                                                                        }
                                                                    ],
                                                                    "label": "block.run_once(input_data, \"response\", credentials=credentials)"
                                                                }
                                                            ],
                                                            "label": "response = block.run_once(input_data, \"response\", credentials=credentials)"
                                                        },
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 46,
                                                            "end_token": 53,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 46,
                                                                    "end_token": 53,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 46,
                                                                            "end_token": 48,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 46,
                                                                                    "end_token": 46,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 48,
                                                                                    "end_token": 48,
                                                                                    "children": [],
                                                                                    "label": "merge_stats"
                                                                                }
                                                                            ],
                                                                            "label": "self.merge_stats"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 49,
                                                                            "end_token": 53,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 50,
                                                                                    "end_token": 52,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 50,
                                                                                            "end_token": 50,
                                                                                            "children": [],
                                                                                            "label": "block"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 52,
                                                                                            "end_token": 52,
                                                                                            "children": [],
                                                                                            "label": "execution_stats"
                                                                                        }
                                                                                    ],
                                                                                    "label": "block.execution_stats"
                                                                                }
                                                                            ],
                                                                            "label": "(block.execution_stats)"
                                                                        }
                                                                    ],
                                                                    "label": "self.merge_stats(block.execution_stats)"
                                                                }
                                                            ],
                                                            "label": "self.merge_stats(block.execution_stats)"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 55,
                                                            "end_token": 56,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 56,
                                                                    "end_token": 56,
                                                                    "children": [],
                                                                    "label": "response"
                                                                }
                                                            ],
                                                            "label": "return response"
                                                        }
                                                    ],
                                                    "label": ":\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response"
                                                }
                                            ],
                                            "label": "def llm_call(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    ) -> dict:\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response"
                                        }
                                    ],
                                    "label": "def llm_call(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    ) -> dict:\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "_summarize_chunk",
                            "start_line": 749,
                            "end_line": 764,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 85,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 85,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "_summarize_chunk"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 18,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 4,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                }
                                                            ],
                                                            "label": "self"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 6,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 6,
                                                                    "end_token": 6,
                                                                    "children": [],
                                                                    "label": "chunk"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 8,
                                                                    "end_token": 8,
                                                                    "children": [],
                                                                    "label": "str"
                                                                }
                                                            ],
                                                            "label": "chunk: str"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 10,
                                                            "end_token": 12,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 10,
                                                                    "end_token": 10,
                                                                    "children": [],
                                                                    "label": "input_data"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "children": [],
                                                                    "label": "Input"
                                                                }
                                                            ],
                                                            "label": "input_data: Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 14,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "children": [],
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        }
                                                    ],
                                                    "label": "(\n        self, chunk: str, input_data: Input, credentials: APIKeyCredentials\n    )"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 20,
                                                    "end_token": 21,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 21,
                                                            "end_token": 21,
                                                            "children": [],
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "> str"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 22,
                                                    "end_token": 85,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 24,
                                                            "end_token": 27,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "children": [],
                                                                    "label": "prompt"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 26,
                                                                    "end_token": 27,
                                                                    "children": [
                                                                        {
                                                                            "type": "string_content",
                                                                            "start_token": 27,
                                                                            "end_token": 27,
                                                                            "label": "\"Summarize the following text in a {input_data.style} form. Focus your summary on the topic of `{input_data.focus}` if present, otherwise just provide a general summary:\\n\\n```{chunk}```\""
                                                                        }
                                                                    ],
                                                                    "label": "f\"Summarize the following text in a {input_data.style} form. Focus your summary on the topic of `{input_data.focus}` if present, otherwise just provide a general summary:\\n\\n```{chunk}```\""
                                                                }
                                                            ],
                                                            "label": "prompt = f\"Summarize the following text in a {input_data.style} form. Focus your summary on the topic of `{input_data.focus}` if present, otherwise just provide a general summary:\\n\\n```{chunk}```\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 30,
                                                            "end_token": 78,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 30,
                                                                    "end_token": 30,
                                                                    "children": [],
                                                                    "label": "llm_response"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 32,
                                                                    "end_token": 78,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 32,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 32,
                                                                                    "end_token": 32,
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 34,
                                                                                    "end_token": 34,
                                                                                    "label": "llm_call"
                                                                                }
                                                                            ],
                                                                            "label": "self.llm_call"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 35,
                                                                            "end_token": 78,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 37,
                                                                                    "end_token": 70,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 37,
                                                                                            "end_token": 39,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 37,
                                                                                                    "end_token": 37,
                                                                                                    "label": "AIStructuredResponseGeneratorBlock"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 39,
                                                                                                    "end_token": 39,
                                                                                                    "label": "Input"
                                                                                                }
                                                                                            ],
                                                                                            "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 40,
                                                                                            "end_token": 70,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 45,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 42,
                                                                                                            "end_token": 42,
                                                                                                            "children": [],
                                                                                                            "label": "prompt"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 44,
                                                                                                            "end_token": 44,
                                                                                                            "children": [],
                                                                                                            "label": "prompt"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prompt=prompt,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 47,
                                                                                                    "end_token": 52,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 47,
                                                                                                            "end_token": 47,
                                                                                                            "children": [],
                                                                                                            "label": "credentials"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 49,
                                                                                                            "end_token": 51,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 49,
                                                                                                                    "end_token": 49,
                                                                                                                    "label": "input_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 51,
                                                                                                                    "end_token": 51,
                                                                                                                    "label": "credentials"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "input_data.credentials"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "credentials=input_data.credentials,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 54,
                                                                                                    "end_token": 59,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 54,
                                                                                                            "end_token": 54,
                                                                                                            "children": [],
                                                                                                            "label": "model"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 56,
                                                                                                            "end_token": 58,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 56,
                                                                                                                    "end_token": 56,
                                                                                                                    "label": "input_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 58,
                                                                                                                    "end_token": 58,
                                                                                                                    "label": "model"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "input_data.model"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "model=input_data.model,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 61,
                                                                                                    "end_token": 67,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 61,
                                                                                                            "end_token": 61,
                                                                                                            "children": [],
                                                                                                            "label": "expected_format"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 63,
                                                                                                            "end_token": 67,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 63,
                                                                                                                    "end_token": 66,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 63,
                                                                                                                            "end_token": 63,
                                                                                                                            "children": [],
                                                                                                                            "label": "{"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 66,
                                                                                                                            "end_token": 66,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"The summary of the given text.\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "{\"summary\": \"The summary of the given text.\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "{\"summary\": \"The summary of the given text.\"}"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "expected_format={\"summary\": \"The summary of the given text.\"}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                prompt=prompt,\n                credentials=input_data.credentials,\n                model=input_data.model,\n                expected_format={\"summary\": \"The summary of the given text.\"},\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "AIStructuredResponseGeneratorBlock.Input(\n                prompt=prompt,\n                credentials=input_data.credentials,\n                model=input_data.model,\n                expected_format={\"summary\": \"The summary of the given text.\"},\n            )"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 73,
                                                                                    "end_token": 75,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 73,
                                                                                            "end_token": 73,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 75,
                                                                                            "end_token": 75,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        }
                                                                                    ],
                                                                                    "label": "credentials=credentials"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=prompt,\n                credentials=input_data.credentials,\n                model=input_data.model,\n                expected_format={\"summary\": \"The summary of the given text.\"},\n            ),\n            credentials=credentials,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=prompt,\n                credentials=input_data.credentials,\n                model=input_data.model,\n                expected_format={\"summary\": \"The summary of the given text.\"},\n            ),\n            credentials=credentials,\n        )"
                                                                }
                                                            ],
                                                            "label": "llm_response = self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=prompt,\n                credentials=input_data.credentials,\n                model=input_data.model,\n                expected_format={\"summary\": \"The summary of the given text.\"},\n            ),\n            credentials=credentials,\n        )"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 81,
                                                            "end_token": 85,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 82,
                                                                    "end_token": 85,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 82,
                                                                            "end_token": 82,
                                                                            "children": [],
                                                                            "label": "llm_response"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 84,
                                                                            "end_token": 84,
                                                                            "children": [],
                                                                            "label": "\"summary\""
                                                                        }
                                                                    ],
                                                                    "label": "llm_response[\"summary\"]"
                                                                }
                                                            ],
                                                            "label": "return llm_response[\"summary\"]"
                                                        }
                                                    ],
                                                    "label": ":\n        prompt = f\"Summarize the following text in a {input_data.style} form. Focus your summary on the topic of `{input_data.focus}` if present, otherwise just provide a general summary:\\n\\n```{chunk}```\"\n\n        llm_response = self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=prompt,\n                credentials=input_data.credentials,\n                model=input_data.model,\n                expected_format={\"summary\": \"The summary of the given text.\"},\n            ),\n            credentials=credentials,\n        )\n\n        return llm_response[\"summary\"]"
                                                }
                                            ],
                                            "label": "def _summarize_chunk(\n        self, chunk: str, input_data: Input, credentials: APIKeyCredentials\n    ) -> str:\n        prompt = f\"Summarize the following text in a {input_data.style} form. Focus your summary on the topic of `{input_data.focus}` if present, otherwise just provide a general summary:\\n\\n```{chunk}```\"\n\n        llm_response = self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=prompt,\n                credentials=input_data.credentials,\n                model=input_data.model,\n                expected_format={\"summary\": \"The summary of the given text.\"},\n            ),\n            credentials=credentials,\n        )\n\n        return llm_response[\"summary\"]"
                                        }
                                    ],
                                    "label": "def _summarize_chunk(\n        self, chunk: str, input_data: Input, credentials: APIKeyCredentials\n    ) -> str:\n        prompt = f\"Summarize the following text in a {input_data.style} form. Focus your summary on the topic of `{input_data.focus}` if present, otherwise just provide a general summary:\\n\\n```{chunk}```\"\n\n        llm_response = self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=prompt,\n                credentials=input_data.credentials,\n                model=input_data.model,\n                expected_format={\"summary\": \"The summary of the given text.\"},\n            ),\n            credentials=credentials,\n        )\n\n        return llm_response[\"summary\"]"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "_combine_summaries",
                            "start_line": 766,
                            "end_line": 800,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 202,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 202,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "_combine_summaries"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 21,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 4,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                }
                                                            ],
                                                            "label": "self"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 6,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 6,
                                                                    "end_token": 6,
                                                                    "children": [],
                                                                    "label": "summaries"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 8,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 8,
                                                                            "end_token": 8,
                                                                            "children": [],
                                                                            "label": "list"
                                                                        },
                                                                        {
                                                                            "type": "type_parameter",
                                                                            "start_token": 10,
                                                                            "end_token": 10,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "list[str]"
                                                                }
                                                            ],
                                                            "label": "summaries: list[str]"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 13,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 13,
                                                                    "end_token": 13,
                                                                    "children": [],
                                                                    "label": "input_data"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 15,
                                                                    "end_token": 15,
                                                                    "children": [],
                                                                    "label": "Input"
                                                                }
                                                            ],
                                                            "label": "input_data: Input,"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 17,
                                                            "end_token": 19,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 17,
                                                                    "end_token": 17,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "children": [],
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        }
                                                    ],
                                                    "label": "(\n        self, summaries: list[str], input_data: Input, credentials: APIKeyCredentials\n    )"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 25,
                                                    "end_token": 202,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 27,
                                                            "end_token": 34,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 27,
                                                                    "end_token": 27,
                                                                    "children": [],
                                                                    "label": "combined_text"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 30,
                                                                    "end_token": 34,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 30,
                                                                            "end_token": 31,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 29,
                                                                                    "end_token": 29,
                                                                                    "children": [],
                                                                                    "label": "\"\\n\\n\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 31,
                                                                                    "end_token": 31,
                                                                                    "children": [],
                                                                                    "label": "join"
                                                                                }
                                                                            ],
                                                                            "label": ".join"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 32,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "children": [],
                                                                                    "label": "summaries"
                                                                                }
                                                                            ],
                                                                            "label": "(summaries)"
                                                                        }
                                                                    ],
                                                                    "label": ".join(summaries)"
                                                                }
                                                            ],
                                                            "label": "combined_text = \"\\n\\n\".join(summaries)"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 37,
                                                            "end_token": 116,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 38,
                                                                    "end_token": 50,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 38,
                                                                            "end_token": 45,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 40,
                                                                                    "end_token": 42,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 40,
                                                                                            "end_token": 40,
                                                                                            "children": [],
                                                                                            "label": "combined_text"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 42,
                                                                                            "end_token": 42,
                                                                                            "children": [],
                                                                                            "label": "split"
                                                                                        }
                                                                                    ],
                                                                                    "label": "combined_text.split"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 43,
                                                                                    "end_token": 45,
                                                                                    "children": [],
                                                                                    "label": "())"
                                                                                }
                                                                            ],
                                                                            "label": "len(combined_text.split())"
                                                                        },
                                                                        {
                                                                            "type": "boolean_operator",
                                                                            "start_token": 46,
                                                                            "end_token": 47,
                                                                            "children": [],
                                                                            "label": "<="
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 48,
                                                                            "end_token": 50,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 48,
                                                                                    "end_token": 48,
                                                                                    "children": [],
                                                                                    "label": "input_data"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 50,
                                                                                    "end_token": 50,
                                                                                    "children": [],
                                                                                    "label": "max_tokens"
                                                                                }
                                                                            ],
                                                                            "label": "input_data.max_tokens"
                                                                        }
                                                                    ],
                                                                    "label": "len(combined_text.split()) <= input_data.max_tokens"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 52,
                                                                    "end_token": 116,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 53,
                                                                            "end_token": 56,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 53,
                                                                                    "end_token": 53,
                                                                                    "children": [],
                                                                                    "label": "prompt"
                                                                                },
                                                                                {
                                                                                    "type": "format_specifier",
                                                                                    "start_token": 55,
                                                                                    "end_token": 56,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 56,
                                                                                            "end_token": 56,
                                                                                            "children": [],
                                                                                            "label": "\"Provide a final summary of the following section summaries in a {input_data.style} form, focus your summary on the topic of `{input_data.focus}` if present:\\n\\n ```{combined_text}```\\n\\n Just respond with the final_summary in the format specified.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Provide a final summary of the following section summaries in a {input_data.style} form, focus your summary on the topic of `{input_data.focus}` if present:\\n\\n ```{combined_text}```\\n\\n Just respond with the final_summary in the format specified.\""
                                                                                }
                                                                            ],
                                                                            "label": "prompt = f\"Provide a final summary of the following section summaries in a {input_data.style} form, focus your summary on the topic of `{input_data.focus}` if present:\\n\\n ```{combined_text}```\\n\\n Just respond with the final_summary in the format specified.\""
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 59,
                                                                            "end_token": 116,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 59,
                                                                                    "end_token": 59,
                                                                                    "children": [],
                                                                                    "label": "llm_response"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 61,
                                                                                    "end_token": 110,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 61,
                                                                                            "end_token": 63,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 61,
                                                                                                    "end_token": 61,
                                                                                                    "children": [],
                                                                                                    "label": "self"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 63,
                                                                                                    "end_token": 63,
                                                                                                    "children": [],
                                                                                                    "label": "llm_call"
                                                                                                }
                                                                                            ],
                                                                                            "label": "self.llm_call"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 64,
                                                                                            "end_token": 109,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 66,
                                                                                                    "end_token": 71,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 66,
                                                                                                            "end_token": 68,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 66,
                                                                                                                    "end_token": 66,
                                                                                                                    "children": [],
                                                                                                                    "label": "AIStructuredResponseGeneratorBlock"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 68,
                                                                                                                    "end_token": 68,
                                                                                                                    "children": [],
                                                                                                                    "label": "Input"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "assignment",
                                                                                                            "start_token": 72,
                                                                                                            "end_token": 73,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 72,
                                                                                                                    "end_token": 72,
                                                                                                                    "children": [],
                                                                                                                    "label": "="
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 73,
                                                                                                                    "end_token": 73,
                                                                                                                    "children": [],
                                                                                                                    "label": "prompt"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "=prompt"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "AIStructuredResponseGeneratorBlock.Input(\n                    prompt"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 76,
                                                                                                    "end_token": 81,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 76,
                                                                                                            "end_token": 78,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 76,
                                                                                                                    "end_token": 76,
                                                                                                                    "children": [],
                                                                                                                    "label": "credentials"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 78,
                                                                                                                    "end_token": 78,
                                                                                                                    "children": [],
                                                                                                                    "label": "input_data"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "credentials=input_data"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 79,
                                                                                                            "end_token": 81,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 79,
                                                                                                                    "end_token": 79,
                                                                                                                    "children": [],
                                                                                                                    "label": "."
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 81,
                                                                                                                    "end_token": 81,
                                                                                                                    "children": [],
                                                                                                                    "label": ","
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": ".credentials,"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "credentials=input_data.credentials,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 84,
                                                                                                    "end_token": 89,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 84,
                                                                                                            "end_token": 86,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 84,
                                                                                                                    "end_token": 84,
                                                                                                                    "children": [],
                                                                                                                    "label": "="
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 86,
                                                                                                                    "end_token": 86,
                                                                                                                    "children": [],
                                                                                                                    "label": "."
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "=input_data."
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 87,
                                                                                                            "end_token": 89,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 87,
                                                                                                                    "end_token": 87,
                                                                                                                    "children": [],
                                                                                                                    "label": "model"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 89,
                                                                                                                    "end_token": 89,
                                                                                                                    "children": [],
                                                                                                                    "label": "\n"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "model,\n"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "=input_data.model,\n"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 90,
                                                                                                    "end_token": 99,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 90,
                                                                                                            "end_token": 92,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 90,
                                                                                                                    "end_token": 90,
                                                                                                                    "children": [],
                                                                                                                    "label": "expected_format"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 92,
                                                                                                                    "end_token": 92,
                                                                                                                    "children": [],
                                                                                                                    "label": "{"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "expected_format={"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 93,
                                                                                                            "end_token": 98,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 94,
                                                                                                                    "end_token": 96,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 94,
                                                                                                                            "end_token": 94,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"final_summary\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 96,
                                                                                                                            "end_token": 96,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"The final summary of all provided summaries.\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"final_summary\": \"The final summary of all provided summaries.\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    }"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                AIStructuredResponseGeneratorBlock.Input(\n                    prompt=prompt,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },\n                ),\n                credentials=credentials,\n            )"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 104,
                                                                                            "end_token": 107,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 104,
                                                                                                    "end_token": 104,
                                                                                                    "children": [],
                                                                                                    "label": "credentials"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 106,
                                                                                                    "end_token": 106,
                                                                                                    "children": [],
                                                                                                    "label": "credentials"
                                                                                                }
                                                                                            ],
                                                                                            "label": "credentials=credentials,"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.llm_call(\n                AIStructuredResponseGeneratorBlock.Input(\n                    prompt=prompt,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },\n                ),\n                credentials=credentials,\n            )\n"
                                                                                }
                                                                            ],
                                                                            "label": "llm_response = self.llm_call(\n                AIStructuredResponseGeneratorBlock.Input(\n                    prompt=prompt,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },\n                ),\n                credentials=credentials,\n            )\n\n            return llm_response[\"final_summary\"]"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 112,
                                                                            "end_token": 116,
                                                                            "children": [
                                                                                {
                                                                                    "type": "subscript",
                                                                                    "start_token": 113,
                                                                                    "end_token": 115,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 113,
                                                                                            "end_token": 113,
                                                                                            "children": [],
                                                                                            "label": "llm_response"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 115,
                                                                                            "end_token": 115,
                                                                                            "children": [],
                                                                                            "label": "\"final_summary\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "llm_response[\"final_summary\""
                                                                                }
                                                                            ],
                                                                            "label": "return llm_response[\"final_summary\"]"
                                                                        }
                                                                    ],
                                                                    "label": "\n            prompt = f\"Provide a final summary of the following section summaries in a {input_data.style} form, focus your summary on the topic of `{input_data.focus}` if present:\\n\\n ```{combined_text}```\\n\\n Just respond with the final_summary in the format specified.\"\n\n            llm_response = self.llm_call(\n                AIStructuredResponseGeneratorBlock.Input(\n                    prompt=prompt,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },\n                ),\n                credentials=credentials,\n            )\n\n            return llm_response[\"final_summary\"]"
                                                                }
                                                            ],
                                                            "label": "if len(combined_text.split()) <= input_data.max_tokens:\n            prompt = f\"Provide a final summary of the following section summaries in a {input_data.style} form, focus your summary on the topic of `{input_data.focus}` if present:\\n\\n ```{combined_text}```\\n\\n Just respond with the final_summary in the format specified.\"\n\n            llm_response = self.llm_call(\n                AIStructuredResponseGeneratorBlock.Input(\n                    prompt=prompt,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },\n                ),\n                credentials=credentials,\n            )\n\n            return llm_response[\"final_summary\"]"
                                                        },
                                                        {
                                                            "type": "else_clause",
                                                            "start_token": 118,
                                                            "end_token": 195,
                                                            "children": [
                                                                {
                                                                    "type": "comment",
                                                                    "start_token": 121,
                                                                    "end_token": 131,
                                                                    "children": [],
                                                                    "label": "# If combined summaries are still too long, recursively summarize"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 133,
                                                                    "end_token": 195,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 134,
                                                                            "end_token": 185,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 134,
                                                                                    "end_token": 136,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 134,
                                                                                            "end_token": 134,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 136,
                                                                                            "end_token": 136,
                                                                                            "children": [],
                                                                                            "label": "_run"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self._run"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 137,
                                                                                    "end_token": 174,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 139,
                                                                                            "end_token": 146,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 139,
                                                                                                    "end_token": 141,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 139,
                                                                                                            "end_token": 139,
                                                                                                            "children": [],
                                                                                                            "label": "AITextSummarizerBlock"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 141,
                                                                                                            "end_token": 141,
                                                                                                            "children": [],
                                                                                                            "label": "Input"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "AITextSummarizerBlock.Input"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 145,
                                                                                                    "end_token": 145,
                                                                                                    "children": [],
                                                                                                    "label": "="
                                                                                                }
                                                                                            ],
                                                                                            "label": "AITextSummarizerBlock.Input(\n                    text=combined_text"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 149,
                                                                                            "end_token": 154,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 149,
                                                                                                    "end_token": 151,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 149,
                                                                                                            "end_token": 149,
                                                                                                            "children": [],
                                                                                                            "label": "credentials"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 151,
                                                                                                            "end_token": 151,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "credentials=input_data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 152,
                                                                                                    "end_token": 154,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 152,
                                                                                                            "end_token": 152,
                                                                                                            "children": [],
                                                                                                            "label": "."
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 154,
                                                                                                            "end_token": 154,
                                                                                                            "children": [],
                                                                                                            "label": ","
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ".credentials,"
                                                                                                }
                                                                                            ],
                                                                                            "label": "credentials=input_data.credentials,"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 156,
                                                                                            "end_token": 161,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 156,
                                                                                                    "end_token": 158,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 156,
                                                                                                            "end_token": 156,
                                                                                                            "children": [],
                                                                                                            "label": "model"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 158,
                                                                                                            "end_token": 158,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "model=input_data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 159,
                                                                                                    "end_token": 161,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 159,
                                                                                                            "end_token": 159,
                                                                                                            "children": [],
                                                                                                            "label": "."
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 161,
                                                                                                            "end_token": 161,
                                                                                                            "children": [],
                                                                                                            "label": ","
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ".model,"
                                                                                                }
                                                                                            ],
                                                                                            "label": "model=input_data.model,"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 163,
                                                                                            "end_token": 168,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 163,
                                                                                                    "end_token": 165,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 163,
                                                                                                            "end_token": 163,
                                                                                                            "children": [],
                                                                                                            "label": "max_tokens"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 165,
                                                                                                            "end_token": 165,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "max_tokens=input_data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 166,
                                                                                                    "end_token": 168,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 166,
                                                                                                            "end_token": 166,
                                                                                                            "children": [],
                                                                                                            "label": "."
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 168,
                                                                                                            "end_token": 168,
                                                                                                            "children": [],
                                                                                                            "label": ","
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ".max_tokens,"
                                                                                                }
                                                                                            ],
                                                                                            "label": "max_tokens=input_data.max_tokens,"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 170,
                                                                                            "end_token": 175,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 170,
                                                                                                    "end_token": 172,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 170,
                                                                                                            "end_token": 170,
                                                                                                            "children": [],
                                                                                                            "label": "chunk_overlap"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 172,
                                                                                                            "end_token": 172,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "chunk_overlap=input_data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 173,
                                                                                                    "end_token": 175,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 173,
                                                                                                            "end_token": 173,
                                                                                                            "children": [],
                                                                                                            "label": "."
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 175,
                                                                                                            "end_token": 175,
                                                                                                            "children": [],
                                                                                                            "label": ","
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ".chunk_overlap,"
                                                                                                }
                                                                                            ],
                                                                                            "label": "chunk_overlap=input_data.chunk_overlap,"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n                AITextSummarizerBlock.Input(\n                    text=combined_text,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    max_tokens=input_data.max_tokens,\n                    chunk_overlap=input_data.chunk_overlap"
                                                                                }
                                                                            ],
                                                                            "label": "self._run(\n                AITextSummarizerBlock.Input(\n                    text=combined_text,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    max_tokens=input_data.max_tokens,\n                    chunk_overlap=input_data.chunk_overlap,\n                ),\n                credentials=credentials,\n            )"
                                                                        },
                                                                        {
                                                                            "type": "subscript",
                                                                            "start_token": 187,
                                                                            "end_token": 195,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 187,
                                                                                    "end_token": 187,
                                                                                    "children": [],
                                                                                    "label": "send"
                                                                                },
                                                                                {
                                                                                    "type": "integer",
                                                                                    "start_token": 193,
                                                                                    "end_token": 193,
                                                                                    "children": [],
                                                                                    "label": "1"
                                                                                }
                                                                            ],
                                                                            "label": "send(None)[\n                1\n            ]"
                                                                        }
                                                                    ],
                                                                    "label": "return self._run(\n                AITextSummarizerBlock.Input(\n                    text=combined_text,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    max_tokens=input_data.max_tokens,\n                    chunk_overlap=input_data.chunk_overlap,\n                ),\n                credentials=credentials,\n            ).send(None)[\n                1\n            ]"
                                                                }
                                                            ],
                                                            "label": "else:\n            # If combined summaries are still too long, recursively summarize\n            return self._run(\n                AITextSummarizerBlock.Input(\n                    text=combined_text,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    max_tokens=input_data.max_tokens,\n                    chunk_overlap=input_data.chunk_overlap,\n                ),\n                credentials=credentials,\n            ).send(None)[\n                1\n            ]"
                                                        }
                                                    ],
                                                    "label": ":\n        combined_text = \"\\n\\n\".join(summaries)\n\n        if len(combined_text.split()) <= input_data.max_tokens:\n            prompt = f\"Provide a final summary of the following section summaries in a {input_data.style} form, focus your summary on the topic of `{input_data.focus}` if present:\\n\\n ```{combined_text}```\\n\\n Just respond with the final_summary in the format specified.\"\n\n            llm_response = self.llm_call(\n                AIStructuredResponseGeneratorBlock.Input(\n                    prompt=prompt,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },\n                ),\n                credentials=credentials,\n            )\n\n            return llm_response[\"final_summary\"]\n        else:\n            # If combined summaries are still too long, recursively summarize\n            return self._run(\n                AITextSummarizerBlock.Input(\n                    text=combined_text,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    max_tokens=input_data.max_tokens,\n                    chunk_overlap=input_data.chunk_overlap,\n                ),\n                credentials=credentials,\n            ).send(None)[\n                1\n            ]  # Get the first yielded value\n"
                                                }
                                            ],
                                            "label": "def _combine_summaries(\n        self, summaries: list[str], input_data: Input, credentials: APIKeyCredentials\n    ) -> str:\n        combined_text = \"\\n\\n\".join(summaries)\n\n        if len(combined_text.split()) <= input_data.max_tokens:\n            prompt = f\"Provide a final summary of the following section summaries in a {input_data.style} form, focus your summary on the topic of `{input_data.focus}` if present:\\n\\n ```{combined_text}```\\n\\n Just respond with the final_summary in the format specified.\"\n\n            llm_response = self.llm_call(\n                AIStructuredResponseGeneratorBlock.Input(\n                    prompt=prompt,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },\n                ),\n                credentials=credentials,\n            )\n\n            return llm_response[\"final_summary\"]\n        else:\n            # If combined summaries are still too long, recursively summarize\n            return self._run(\n                AITextSummarizerBlock.Input(\n                    text=combined_text,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    max_tokens=input_data.max_tokens,\n                    chunk_overlap=input_data.chunk_overlap,\n                ),\n                credentials=credentials,\n            ).send(None)[\n                1\n            ]  # Get the first yielded value\n"
                                        }
                                    ],
                                    "label": "def _combine_summaries(\n        self, summaries: list[str], input_data: Input, credentials: APIKeyCredentials\n    ) -> str:\n        combined_text = \"\\n\\n\".join(summaries)\n\n        if len(combined_text.split()) <= input_data.max_tokens:\n            prompt = f\"Provide a final summary of the following section summaries in a {input_data.style} form, focus your summary on the topic of `{input_data.focus}` if present:\\n\\n ```{combined_text}```\\n\\n Just respond with the final_summary in the format specified.\"\n\n            llm_response = self.llm_call(\n                AIStructuredResponseGeneratorBlock.Input(\n                    prompt=prompt,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    expected_format={\n                        \"final_summary\": \"The final summary of all provided summaries.\"\n                    },\n                ),\n                credentials=credentials,\n            )\n\n            return llm_response[\"final_summary\"]\n        else:\n            # If combined summaries are still too long, recursively summarize\n            return self._run(\n                AITextSummarizerBlock.Input(\n                    text=combined_text,\n                    credentials=input_data.credentials,\n                    model=input_data.model,\n                    max_tokens=input_data.max_tokens,\n                    chunk_overlap=input_data.chunk_overlap,\n                ),\n                credentials=credentials,\n            ).send(None)[\n                1\n            ]  # Get the first yielded value\n"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Input",
                            "start_line": 642,
                            "end_line": 681,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 199,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 197,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "Input"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 197,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 7,
                                                                    "end_token": 9,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "text"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "text: str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 24,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 12,
                                                                            "end_token": 24,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 14,
                                                                                    "end_token": 17,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 14,
                                                                                            "end_token": 14,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 16,
                                                                                            "end_token": 16,
                                                                                            "children": [],
                                                                                            "label": "\"The text to summarize.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The text to summarize.\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 19,
                                                                                    "end_token": 22,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 19,
                                                                                            "end_token": 19,
                                                                                            "children": [],
                                                                                            "label": "placeholder"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 21,
                                                                                            "end_token": 21,
                                                                                            "children": [],
                                                                                            "label": "\"Enter the text to summarize here...\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "placeholder=\"Enter the text to summarize here...\","
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"The text to summarize.\",\n            placeholder=\"Enter the text to summarize here...\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"The text to summarize.\",\n            placeholder=\"Enter the text to summarize here...\",\n        )"
                                                                }
                                                            ],
                                                            "label": "text: str = SchemaField(\n            description=\"The text to summarize.\",\n            placeholder=\"Enter the text to summarize here...\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 26,
                                                            "end_token": 50,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 26,
                                                                    "end_token": 28,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 26,
                                                                            "end_token": 26,
                                                                            "children": [],
                                                                            "label": "model"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 28,
                                                                            "end_token": 28,
                                                                            "children": [],
                                                                            "label": "LlmModel"
                                                                        }
                                                                    ],
                                                                    "label": "model: LlmModel"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 30,
                                                                    "end_token": 50,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 30,
                                                                            "end_token": 30,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 31,
                                                                            "end_token": 50,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 33,
                                                                                    "end_token": 36,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 33,
                                                                                            "end_token": 33,
                                                                                            "children": [],
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 35,
                                                                                            "end_token": 35,
                                                                                            "children": [],
                                                                                            "label": "\"LLM Model\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"LLM Model\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 38,
                                                                                    "end_token": 43,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 38,
                                                                                            "end_token": 38,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 40,
                                                                                            "end_token": 42,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 40,
                                                                                                    "end_token": 40,
                                                                                                    "children": [],
                                                                                                    "label": "LlmModel"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "children": [],
                                                                                                    "label": "GPT4_TURBO"
                                                                                                }
                                                                                            ],
                                                                                            "label": "LlmModel.GPT4_TURBO"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=LlmModel.GPT4_TURBO,"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 45,
                                                                                    "end_token": 48,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 45,
                                                                                            "end_token": 45,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 47,
                                                                                            "end_token": 47,
                                                                                            "children": [],
                                                                                            "label": "\"The language model to use for summarizing the text.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The language model to use for summarizing the text.\","
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for summarizing the text.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for summarizing the text.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for summarizing the text.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 52,
                                                            "end_token": 74,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 52,
                                                                    "end_token": 54,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 52,
                                                                            "end_token": 52,
                                                                            "children": [],
                                                                            "label": "focus"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 54,
                                                                            "end_token": 54,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "focus: str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 56,
                                                                    "end_token": 74,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 56,
                                                                            "end_token": 56,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 57,
                                                                            "end_token": 74,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 59,
                                                                                    "end_token": 62,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 59,
                                                                                            "end_token": 59,
                                                                                            "children": [],
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 61,
                                                                                            "end_token": 61,
                                                                                            "children": [],
                                                                                            "label": "\"Focus\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Focus\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 64,
                                                                                    "end_token": 67,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 64,
                                                                                            "end_token": 64,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 66,
                                                                                            "end_token": 66,
                                                                                            "children": [],
                                                                                            "label": "\"general information\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=\"general information\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 69,
                                                                                    "end_token": 71,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 69,
                                                                                            "end_token": 69,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 71,
                                                                                            "end_token": 71,
                                                                                            "children": [],
                                                                                            "label": "\"The topic to focus on in the summary\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The topic to focus on in the summary\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"Focus\",\n            default=\"general information\",\n            description=\"The topic to focus on in the summary\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"Focus\",\n            default=\"general information\",\n            description=\"The topic to focus on in the summary\",\n        )"
                                                                }
                                                            ],
                                                            "label": "focus: str = SchemaField(\n            title=\"Focus\",\n            default=\"general information\",\n            description=\"The topic to focus on in the summary\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 76,
                                                            "end_token": 100,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 76,
                                                                    "end_token": 78,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 76,
                                                                            "end_token": 76,
                                                                            "children": [],
                                                                            "label": "style"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 78,
                                                                            "end_token": 78,
                                                                            "children": [],
                                                                            "label": "SummaryStyle"
                                                                        }
                                                                    ],
                                                                    "label": "style: SummaryStyle"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 80,
                                                                    "end_token": 100,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 80,
                                                                            "end_token": 80,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 81,
                                                                            "end_token": 100,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 83,
                                                                                    "end_token": 85,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 83,
                                                                                            "end_token": 83,
                                                                                            "children": [],
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 85,
                                                                                            "end_token": 85,
                                                                                            "children": [],
                                                                                            "label": "\"Summary Style\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Summary Style\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 88,
                                                                                    "end_token": 92,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 88,
                                                                                            "end_token": 88,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 90,
                                                                                            "end_token": 92,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 90,
                                                                                                    "end_token": 90,
                                                                                                    "children": [],
                                                                                                    "label": "SummaryStyle"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 92,
                                                                                                    "end_token": 92,
                                                                                                    "children": [],
                                                                                                    "label": "CONCISE"
                                                                                                }
                                                                                            ],
                                                                                            "label": "SummaryStyle.CONCISE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=SummaryStyle.CONCISE"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 95,
                                                                                    "end_token": 97,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 95,
                                                                                            "end_token": 95,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 97,
                                                                                            "end_token": 97,
                                                                                            "children": [],
                                                                                            "label": "\"The style of the summary to generate.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The style of the summary to generate.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"Summary Style\",\n            default=SummaryStyle.CONCISE,\n            description=\"The style of the summary to generate.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"Summary Style\",\n            default=SummaryStyle.CONCISE,\n            description=\"The style of the summary to generate.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "style: SummaryStyle = SchemaField(\n            title=\"Summary Style\",\n            default=SummaryStyle.CONCISE,\n            description=\"The style of the summary to generate.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 102,
                                                            "end_token": 108,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 102,
                                                                    "end_token": 104,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 102,
                                                                            "end_token": 102,
                                                                            "children": [],
                                                                            "label": "credentials"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 104,
                                                                            "end_token": 104,
                                                                            "children": [],
                                                                            "label": "AICredentials"
                                                                        }
                                                                    ],
                                                                    "label": "credentials: AICredentials"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 106,
                                                                    "end_token": 108,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 106,
                                                                            "end_token": 106,
                                                                            "children": [],
                                                                            "label": "AICredentialsField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 107,
                                                                            "end_token": 108,
                                                                            "children": [],
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "AICredentialsField()"
                                                                }
                                                            ],
                                                            "label": "credentials: AICredentials = AICredentialsField()"
                                                        },
                                                        {
                                                            "type": "comment",
                                                            "start_token": 110,
                                                            "end_token": 115,
                                                            "children": [],
                                                            "label": "# TODO: Make this dynamic"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 117,
                                                            "end_token": 144,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 117,
                                                                    "end_token": 119,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 117,
                                                                            "end_token": 117,
                                                                            "children": [],
                                                                            "label": "max_tokens"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 119,
                                                                            "end_token": 119,
                                                                            "children": [],
                                                                            "label": "int"
                                                                        }
                                                                    ],
                                                                    "label": "max_tokens: int"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 121,
                                                                    "end_token": 144,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 121,
                                                                            "end_token": 121,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 122,
                                                                            "end_token": 144,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 124,
                                                                                    "end_token": 126,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 124,
                                                                                            "end_token": 124,
                                                                                            "children": [],
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 126,
                                                                                            "end_token": 126,
                                                                                            "children": [],
                                                                                            "label": "\"Max Tokens\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Max Tokens\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 129,
                                                                                    "end_token": 131,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 129,
                                                                                            "end_token": 129,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 131,
                                                                                            "end_token": 131,
                                                                                            "children": [],
                                                                                            "label": "4096"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=4096"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 134,
                                                                                    "end_token": 137,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 134,
                                                                                            "end_token": 134,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 136,
                                                                                            "end_token": 136,
                                                                                            "children": [],
                                                                                            "label": "\"The maximum number of tokens to generate in the chat completion.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The maximum number of tokens to generate in the chat completion.\","
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 139,
                                                                                    "end_token": 141,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 139,
                                                                                            "end_token": 139,
                                                                                            "children": [],
                                                                                            "label": "ge"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 141,
                                                                                            "end_token": 141,
                                                                                            "children": [],
                                                                                            "label": "1"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ge=1"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"Max Tokens\",\n            default=4096,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n            ge=1,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"Max Tokens\",\n            default=4096,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n            ge=1,\n        )"
                                                                }
                                                            ],
                                                            "label": "max_tokens: int = SchemaField(\n            title=\"Max Tokens\",\n            default=4096,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n            ge=1,\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 146,
                                                            "end_token": 173,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 146,
                                                                    "end_token": 148,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 146,
                                                                            "end_token": 146,
                                                                            "children": [],
                                                                            "label": "chunk_overlap"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 148,
                                                                            "end_token": 148,
                                                                            "children": [],
                                                                            "label": "int"
                                                                        }
                                                                    ],
                                                                    "label": "chunk_overlap: int"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 150,
                                                                    "end_token": 173,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 150,
                                                                            "end_token": 150,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 151,
                                                                            "end_token": 173,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 153,
                                                                                    "end_token": 155,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 153,
                                                                                            "end_token": 153,
                                                                                            "children": [],
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 155,
                                                                                            "end_token": 155,
                                                                                            "children": [],
                                                                                            "label": "\"Chunk Overlap\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Chunk Overlap\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 158,
                                                                                    "end_token": 160,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 158,
                                                                                            "end_token": 158,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 160,
                                                                                            "end_token": 160,
                                                                                            "children": [],
                                                                                            "label": "100"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=100"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 163,
                                                                                    "end_token": 165,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 163,
                                                                                            "end_token": 163,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 165,
                                                                                            "end_token": 165,
                                                                                            "children": [],
                                                                                            "label": "\"The number of overlapping tokens between chunks to maintain context.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The number of overlapping tokens between chunks to maintain context.\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 168,
                                                                                    "end_token": 170,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 168,
                                                                                            "end_token": 168,
                                                                                            "children": [],
                                                                                            "label": "ge"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 170,
                                                                                            "end_token": 170,
                                                                                            "children": [],
                                                                                            "label": "0"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ge=0"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"Chunk Overlap\",\n            default=100,\n            description=\"The number of overlapping tokens between chunks to maintain context.\",\n            ge=0,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"Chunk Overlap\",\n            default=100,\n            description=\"The number of overlapping tokens between chunks to maintain context.\",\n            ge=0,\n        )"
                                                                }
                                                            ],
                                                            "label": "chunk_overlap: int = SchemaField(\n            title=\"Chunk Overlap\",\n            default=100,\n            description=\"The number of overlapping tokens between chunks to maintain context.\",\n            ge=0,\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 175,
                                                            "end_token": 197,
                                                            "children": [
                                                                {
                                                                    "type": "typed_default_parameter",
                                                                    "start_token": 175,
                                                                    "end_token": 177,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 175,
                                                                            "end_token": 175,
                                                                            "children": [],
                                                                            "label": "ollama_host"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 177,
                                                                            "end_token": 177,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "ollama_host: str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 179,
                                                                    "end_token": 197,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 179,
                                                                            "end_token": 179,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 180,
                                                                            "end_token": 197,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 182,
                                                                                    "end_token": 184,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 182,
                                                                                            "end_token": 182,
                                                                                            "children": [],
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "true",
                                                                                            "start_token": 184,
                                                                                            "end_token": 184,
                                                                                            "children": [],
                                                                                            "label": "True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=True"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 187,
                                                                                    "end_token": 189,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 187,
                                                                                            "end_token": 187,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 189,
                                                                                            "end_token": 189,
                                                                                            "children": [],
                                                                                            "label": "\"localhost:11434\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=\"localhost:11434\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 192,
                                                                                    "end_token": 194,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 192,
                                                                                            "end_token": 192,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 194,
                                                                                            "end_token": 194,
                                                                                            "children": [],
                                                                                            "label": "\"Ollama host for local  models\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Ollama host for local  models\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                                }
                                                            ],
                                                            "label": "ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                        }
                                                    ],
                                                    "label": "\n        text: str = SchemaField(\n            description=\"The text to summarize.\",\n            placeholder=\"Enter the text to summarize here...\",\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for summarizing the text.\",\n        )\n        focus: str = SchemaField(\n            title=\"Focus\",\n            default=\"general information\",\n            description=\"The topic to focus on in the summary\",\n        )\n        style: SummaryStyle = SchemaField(\n            title=\"Summary Style\",\n            default=SummaryStyle.CONCISE,\n            description=\"The style of the summary to generate.\",\n        )\n        credentials: AICredentials = AICredentialsField()\n        # TODO: Make this dynamic\n        max_tokens: int = SchemaField(\n            title=\"Max Tokens\",\n            default=4096,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n            ge=1,\n        )\n        chunk_overlap: int = SchemaField(\n            title=\"Chunk Overlap\",\n            default=100,\n            description=\"The number of overlapping tokens between chunks to maintain context.\",\n            ge=0,\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                }
                                            ],
                                            "label": "class Input(BlockSchema):\n        text: str = SchemaField(\n            description=\"The text to summarize.\",\n            placeholder=\"Enter the text to summarize here...\",\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for summarizing the text.\",\n        )\n        focus: str = SchemaField(\n            title=\"Focus\",\n            default=\"general information\",\n            description=\"The topic to focus on in the summary\",\n        )\n        style: SummaryStyle = SchemaField(\n            title=\"Summary Style\",\n            default=SummaryStyle.CONCISE,\n            description=\"The style of the summary to generate.\",\n        )\n        credentials: AICredentials = AICredentialsField()\n        # TODO: Make this dynamic\n        max_tokens: int = SchemaField(\n            title=\"Max Tokens\",\n            default=4096,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n            ge=1,\n        )\n        chunk_overlap: int = SchemaField(\n            title=\"Chunk Overlap\",\n            default=100,\n            description=\"The number of overlapping tokens between chunks to maintain context.\",\n            ge=0,\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                        }
                                    ],
                                    "label": "class Input(BlockSchema):\n        text: str = SchemaField(\n            description=\"The text to summarize.\",\n            placeholder=\"Enter the text to summarize here...\",\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for summarizing the text.\",\n        )\n        focus: str = SchemaField(\n            title=\"Focus\",\n            default=\"general information\",\n            description=\"The topic to focus on in the summary\",\n        )\n        style: SummaryStyle = SchemaField(\n            title=\"Summary Style\",\n            default=SummaryStyle.CONCISE,\n            description=\"The style of the summary to generate.\",\n        )\n        credentials: AICredentials = AICredentialsField()\n        # TODO: Make this dynamic\n        max_tokens: int = SchemaField(\n            title=\"Max Tokens\",\n            default=4096,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n            ge=1,\n        )\n        chunk_overlap: int = SchemaField(\n            title=\"Chunk Overlap\",\n            default=100,\n            description=\"The number of overlapping tokens between chunks to maintain context.\",\n            ge=0,\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )\n\n"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Output",
                            "start_line": 682,
                            "end_line": 684,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 28,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 28,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "children": [],
                                                    "label": "class"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 28,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "summary"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 9,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 16,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 12,
                                                                            "end_token": 16,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 13,
                                                                                    "end_token": 15,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 13,
                                                                                            "end_token": 13,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 15,
                                                                                            "end_token": 15,
                                                                                            "children": [],
                                                                                            "label": "\"The final summary of the text.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The final summary of the text.\""
                                                                                }
                                                                            ],
                                                                            "label": "(description=\"The final summary of the text.\")"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(description=\"The final summary of the text.\")"
                                                                }
                                                            ],
                                                            "label": "summary: str = SchemaField(description=\"The final summary of the text.\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 18,
                                                            "end_token": 27,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 18,
                                                                    "end_token": 18,
                                                                    "children": [],
                                                                    "label": "error"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 22,
                                                                    "end_token": 27,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 22,
                                                                            "end_token": 22,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 23,
                                                                            "end_token": 27,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 24,
                                                                                    "end_token": 26,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 24,
                                                                                            "end_token": 24,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 26,
                                                                                            "end_token": 26,
                                                                                            "children": [],
                                                                                            "label": "\"Error message if the API call failed.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Error message if the API call failed.\""
                                                                                }
                                                                            ],
                                                                            "label": "(description=\"Error message if the API call failed.\")"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(description=\"Error message if the API call failed.\")"
                                                                }
                                                            ],
                                                            "label": "error: str = SchemaField(description=\"Error message if the API call failed.\")"
                                                        }
                                                    ],
                                                    "label": "\n        summary: str = SchemaField(description=\"The final summary of the text.\")\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                                }
                                            ],
                                            "label": "class Output(BlockSchema):\n        summary: str = SchemaField(description=\"The final summary of the text.\")\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                        }
                                    ],
                                    "label": "class Output(BlockSchema):\n        summary: str = SchemaField(description=\"The final summary of the text.\")\n        error: str = SchemaField(description=\"Error message if the API call failed.\")\n"
                                }
                            ]
                        }
                    ],
                    "label": "class AITextSummarizerBlock(Block):\n\n\n\n\n    @staticmethod\n\n\n\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AIConversationBlock",
            "start_line": 803,
            "end_line": 887,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 5,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 5,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "AIConversationBlock"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "Block"
                                        }
                                    ],
                                    "label": "(Block)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 5,
                                    "end_token": 5,
                                    "children": [],
                                    "label": ":"
                                }
                            ],
                            "label": "class AIConversationBlock(Block):"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__init__",
                            "start_line": 831,
                            "end_line": 859,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 158,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 158,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "__init__"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 158,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 7,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "super"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "__init__"
                                                                        }
                                                                    ],
                                                                    "label": "super().__init__"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 12,
                                                                    "end_token": 13,
                                                                    "children": [],
                                                                    "label": "(\n"
                                                                }
                                                            ],
                                                            "label": "super().__init__(\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 14,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": "id"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "children": [],
                                                                    "label": "\"32a87eab-381e-4dd4-bdb8-4c47151be35a\""
                                                                }
                                                            ],
                                                            "label": "id=\"32a87eab-381e-4dd4-bdb8-4c47151be35a\","
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 19,
                                                            "end_token": 23,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "children": [],
                                                                    "label": "description"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "children": [],
                                                                    "label": "\"Advanced LLM call that takes a list of messages and sends them to the language model.\""
                                                                }
                                                            ],
                                                            "label": "description=\"Advanced LLM call that takes a list of messages and sends them to the language model.\",\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 24,
                                                            "end_token": 31,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "children": [],
                                                                    "label": "categories"
                                                                },
                                                                {
                                                                    "type": "set",
                                                                    "start_token": 26,
                                                                    "end_token": 30,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 27,
                                                                            "end_token": 29,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 27,
                                                                                    "end_token": 27,
                                                                                    "children": [],
                                                                                    "label": "BlockCategory"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 29,
                                                                                    "end_token": 29,
                                                                                    "children": [],
                                                                                    "label": "AI"
                                                                                }
                                                                            ],
                                                                            "label": "BlockCategory.AI"
                                                                        }
                                                                    ],
                                                                    "label": "{BlockCategory.AI}"
                                                                }
                                                            ],
                                                            "label": "categories={BlockCategory.AI},"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 33,
                                                            "end_token": 38,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 33,
                                                                    "end_token": 33,
                                                                    "children": [],
                                                                    "label": "input_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 35,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 35,
                                                                            "end_token": 35,
                                                                            "children": [],
                                                                            "label": "AIConversationBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 37,
                                                                            "end_token": 37,
                                                                            "children": [],
                                                                            "label": "Input"
                                                                        }
                                                                    ],
                                                                    "label": "AIConversationBlock.Input"
                                                                }
                                                            ],
                                                            "label": "input_schema=AIConversationBlock.Input,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 40,
                                                            "end_token": 45,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 40,
                                                                    "end_token": 40,
                                                                    "children": [],
                                                                    "label": "output_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 42,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 42,
                                                                            "end_token": 42,
                                                                            "children": [],
                                                                            "label": "AIConversationBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 44,
                                                                            "end_token": 44,
                                                                            "children": [],
                                                                            "label": "Output"
                                                                        }
                                                                    ],
                                                                    "label": "AIConversationBlock.Output"
                                                                }
                                                            ],
                                                            "label": "output_schema=AIConversationBlock.Output,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 47,
                                                            "end_token": 118,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 47,
                                                                    "end_token": 47,
                                                                    "children": [],
                                                                    "label": "test_input"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 49,
                                                                    "end_token": 117,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 51,
                                                                            "end_token": 104,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 51,
                                                                                    "end_token": 51,
                                                                                    "children": [],
                                                                                    "label": "\"messages\""
                                                                                },
                                                                                {
                                                                                    "type": "list",
                                                                                    "start_token": 53,
                                                                                    "end_token": 103,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 55,
                                                                                            "end_token": 63,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 56,
                                                                                                    "end_token": 58,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 56,
                                                                                                            "end_token": 56,
                                                                                                            "children": [],
                                                                                                            "label": "\"role\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 58,
                                                                                                            "end_token": 58,
                                                                                                            "children": [],
                                                                                                            "label": "\"system\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"role\": \"system\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 60,
                                                                                                    "end_token": 62,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 60,
                                                                                                            "end_token": 60,
                                                                                                            "children": [],
                                                                                                            "label": "\"content\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 62,
                                                                                                            "end_token": 62,
                                                                                                            "children": [],
                                                                                                            "label": "\"You are a helpful assistant.\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"content\": \"You are a helpful assistant.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"role\": \"system\", \"content\": \"You are a helpful assistant.\"}"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 66,
                                                                                            "end_token": 74,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 67,
                                                                                                    "end_token": 69,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 67,
                                                                                                            "end_token": 67,
                                                                                                            "children": [],
                                                                                                            "label": "\"role\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 69,
                                                                                                            "end_token": 69,
                                                                                                            "children": [],
                                                                                                            "label": "\"user\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"role\": \"user\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 71,
                                                                                                    "end_token": 73,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 71,
                                                                                                            "end_token": 71,
                                                                                                            "children": [],
                                                                                                            "label": "\"content\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 73,
                                                                                                            "end_token": 73,
                                                                                                            "children": [],
                                                                                                            "label": "\"Who won the world series in 2020?\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"content\": \"Who won the world series in 2020?\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"}"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 77,
                                                                                            "end_token": 87,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 79,
                                                                                                    "end_token": 81,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 79,
                                                                                                            "end_token": 79,
                                                                                                            "children": [],
                                                                                                            "label": "\"role\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 81,
                                                                                                            "end_token": 81,
                                                                                                            "children": [],
                                                                                                            "label": "\"assistant\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"role\": \"assistant\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 84,
                                                                                                    "end_token": 86,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 84,
                                                                                                            "end_token": 84,
                                                                                                            "children": [],
                                                                                                            "label": "\"content\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 86,
                                                                                                            "end_token": 86,
                                                                                                            "children": [],
                                                                                                            "label": "\"The Los Angeles Dodgers won the World Series in 2020.\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"content\": \"The Los Angeles Dodgers won the World Series in 2020.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\n                        \"role\": \"assistant\",\n                        \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\","
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 92,
                                                                                            "end_token": 100,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 93,
                                                                                                    "end_token": 95,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 93,
                                                                                                            "end_token": 93,
                                                                                                            "children": [],
                                                                                                            "label": "\"role\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 95,
                                                                                                            "end_token": 95,
                                                                                                            "children": [],
                                                                                                            "label": "\"user\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"role\": \"user\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 97,
                                                                                                    "end_token": 99,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 97,
                                                                                                            "end_token": 97,
                                                                                                            "children": [],
                                                                                                            "label": "\"content\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 99,
                                                                                                            "end_token": 99,
                                                                                                            "children": [],
                                                                                                            "label": "\"Where was it played?\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"content\": \"Where was it played?\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"role\": \"user\", \"content\": \"Where was it played?\"}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "[\n                    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n                    {\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"},\n                    {\n                        \"role\": \"assistant\",\n                        \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\",\n                    },\n                    {\"role\": \"user\", \"content\": \"Where was it played?\"},\n                ]"
                                                                                }
                                                                            ],
                                                                            "label": "\"messages\": [\n                    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n                    {\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"},\n                    {\n                        \"role\": \"assistant\",\n                        \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\",\n                    },\n                    {\"role\": \"user\", \"content\": \"Where was it played?\"},\n                ],"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 106,
                                                                            "end_token": 111,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 106,
                                                                                    "end_token": 106,
                                                                                    "children": [],
                                                                                    "label": "\"model\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 108,
                                                                                    "end_token": 110,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 108,
                                                                                            "end_token": 108,
                                                                                            "children": [],
                                                                                            "label": "LlmModel"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 110,
                                                                                            "end_token": 110,
                                                                                            "children": [],
                                                                                            "label": "GPT4_TURBO"
                                                                                        }
                                                                                    ],
                                                                                    "label": "LlmModel.GPT4_TURBO"
                                                                                }
                                                                            ],
                                                                            "label": "\"model\": LlmModel.GPT4_TURBO,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 113,
                                                                            "end_token": 115,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 113,
                                                                                    "end_token": 113,
                                                                                    "children": [],
                                                                                    "label": "\"credentials\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 115,
                                                                                    "end_token": 115,
                                                                                    "children": [],
                                                                                    "label": "TEST_CREDENTIALS_INPUT"
                                                                                }
                                                                            ],
                                                                            "label": "\"credentials\": TEST_CREDENTIALS_INPUT"
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n                    {\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"},\n                    {\n                        \"role\": \"assistant\",\n                        \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\",\n                    },\n                    {\"role\": \"user\", \"content\": \"Where was it played?\"},\n                ],\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n"
                                                                }
                                                            ],
                                                            "label": "test_input={\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n                    {\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"},\n                    {\n                        \"role\": \"assistant\",\n                        \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\",\n                    },\n                    {\"role\": \"user\", \"content\": \"Where was it played?\"},\n                ],\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            }"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 121,
                                                            "end_token": 124,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 121,
                                                                    "end_token": 121,
                                                                    "children": [],
                                                                    "label": "test_credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 123,
                                                                    "end_token": 123,
                                                                    "children": [],
                                                                    "label": "TEST_CREDENTIALS"
                                                                }
                                                            ],
                                                            "label": "test_credentials=TEST_CREDENTIALS,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 126,
                                                            "end_token": 137,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 126,
                                                                    "end_token": 126,
                                                                    "children": [],
                                                                    "label": "test_output"
                                                                },
                                                                {
                                                                    "type": "tuple",
                                                                    "start_token": 128,
                                                                    "end_token": 136,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 130,
                                                                            "end_token": 130,
                                                                            "children": [],
                                                                            "label": "\"response\""
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 133,
                                                                            "end_token": 133,
                                                                            "children": [],
                                                                            "label": "\"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\""
                                                                        }
                                                                    ],
                                                                    "label": "(\n                \"response\",\n                \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\",\n            )"
                                                                }
                                                            ],
                                                            "label": "test_output=(\n                \"response\",\n                \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\",\n            ),"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 139,
                                                            "end_token": 155,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 139,
                                                                    "end_token": 139,
                                                                    "children": [],
                                                                    "label": "test_mock"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 141,
                                                                    "end_token": 154,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 143,
                                                                            "end_token": 153,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 143,
                                                                                    "end_token": 143,
                                                                                    "children": [],
                                                                                    "label": "\"llm_call\""
                                                                                },
                                                                                {
                                                                                    "type": "lambda",
                                                                                    "start_token": 145,
                                                                                    "end_token": 153,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lambda_parameters",
                                                                                            "start_token": 146,
                                                                                            "end_token": 151,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 147,
                                                                                                    "end_token": 147,
                                                                                                    "children": [],
                                                                                                    "label": "args"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 150,
                                                                                                    "end_token": 150,
                                                                                                    "children": [],
                                                                                                    "label": "*"
                                                                                                }
                                                                                            ],
                                                                                            "label": "*args, **kwargs"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 153,
                                                                                            "end_token": 153,
                                                                                            "children": [],
                                                                                            "label": "\"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "lambda *args, **kwargs: \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\""
                                                                                }
                                                                            ],
                                                                            "label": "\"llm_call\": lambda *args, **kwargs: \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\""
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"llm_call\": lambda *args, **kwargs: \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\"\n"
                                                                }
                                                            ],
                                                            "label": "test_mock={\n                \"llm_call\": lambda *args, **kwargs: \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\"\n            }"
                                                        }
                                                    ],
                                                    "label": "\n        super().__init__(\n            id=\"32a87eab-381e-4dd4-bdb8-4c47151be35a\",\n            description=\"Advanced LLM call that takes a list of messages and sends them to the language model.\",\n            categories={BlockCategory.AI},\n            input_schema=AIConversationBlock.Input,\n            output_schema=AIConversationBlock.Output,\n            test_input={\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n                    {\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"},\n                    {\n                        \"role\": \"assistant\",\n                        \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\",\n                    },\n                    {\"role\": \"user\", \"content\": \"Where was it played?\"},\n                ],\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\n                \"response\",\n                \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\",\n            ),\n            test_mock={\n                \"llm_call\": lambda *args, **kwargs: \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\"\n            },\n        )"
                                                }
                                            ],
                                            "label": "def __init__(self):\n        super().__init__(\n            id=\"32a87eab-381e-4dd4-bdb8-4c47151be35a\",\n            description=\"Advanced LLM call that takes a list of messages and sends them to the language model.\",\n            categories={BlockCategory.AI},\n            input_schema=AIConversationBlock.Input,\n            output_schema=AIConversationBlock.Output,\n            test_input={\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n                    {\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"},\n                    {\n                        \"role\": \"assistant\",\n                        \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\",\n                    },\n                    {\"role\": \"user\", \"content\": \"Where was it played?\"},\n                ],\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\n                \"response\",\n                \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\",\n            ),\n            test_mock={\n                \"llm_call\": lambda *args, **kwargs: \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\"\n            },\n        )"
                                        }
                                    ],
                                    "label": "def __init__(self):\n        super().__init__(\n            id=\"32a87eab-381e-4dd4-bdb8-4c47151be35a\",\n            description=\"Advanced LLM call that takes a list of messages and sends them to the language model.\",\n            categories={BlockCategory.AI},\n            input_schema=AIConversationBlock.Input,\n            output_schema=AIConversationBlock.Output,\n            test_input={\n                \"messages\": [\n                    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n                    {\"role\": \"user\", \"content\": \"Who won the world series in 2020?\"},\n                    {\n                        \"role\": \"assistant\",\n                        \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\",\n                    },\n                    {\"role\": \"user\", \"content\": \"Where was it played?\"},\n                ],\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=(\n                \"response\",\n                \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\",\n            ),\n            test_mock={\n                \"llm_call\": lambda *args, **kwargs: \"The 2020 World Series was played at Globe Life Field in Arlington, Texas.\"\n            },\n        )"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "llm_call",
                            "start_line": 861,
                            "end_line": 869,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 59,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 59,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "llm_call"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 19,
                                                    "children": [
                                                        {
                                                            "type": "parameter",
                                                            "start_token": 4,
                                                            "end_token": 4,
                                                            "label": "self"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 7,
                                                            "end_token": 12,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "label": "input_data"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 8,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "dotted_name",
                                                                            "start_token": 9,
                                                                            "end_token": 11,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 9,
                                                                                    "end_token": 9,
                                                                                    "label": "AIStructuredResponseGeneratorBlock"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "label": "Input"
                                                                                }
                                                                            ],
                                                                            "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                        }
                                                                    ],
                                                                    "label": ": AIStructuredResponseGeneratorBlock.Input"
                                                                }
                                                            ],
                                                            "label": "input_data: AIStructuredResponseGeneratorBlock.Input,"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 14,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        }
                                                    ],
                                                    "label": "(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    )"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 21,
                                                    "end_token": 22,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 22,
                                                            "end_token": 22,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "> str"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 23,
                                                    "end_token": 59,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 25,
                                                            "end_token": 29,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 25,
                                                                    "end_token": 25,
                                                                    "label": "block"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 27,
                                                                    "end_token": 29,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 27,
                                                                            "end_token": 27,
                                                                            "label": "AIStructuredResponseGeneratorBlock"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 28,
                                                                            "end_token": 29,
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "AIStructuredResponseGeneratorBlock()"
                                                                }
                                                            ],
                                                            "label": "block = AIStructuredResponseGeneratorBlock()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 31,
                                                            "end_token": 44,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 31,
                                                                    "end_token": 31,
                                                                    "label": "response"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 33,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 33,
                                                                            "end_token": 35,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "label": "block"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 35,
                                                                                    "end_token": 35,
                                                                                    "label": "run_once"
                                                                                }
                                                                            ],
                                                                            "label": "block.run_once"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 36,
                                                                            "end_token": 44,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 37,
                                                                                    "end_token": 37,
                                                                                    "label": "input_data"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 39,
                                                                                    "end_token": 39,
                                                                                    "label": "\"response\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 41,
                                                                                    "end_token": 43,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 41,
                                                                                            "end_token": 41,
                                                                                            "label": "credentials"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 43,
                                                                                            "end_token": 43,
                                                                                            "label": "credentials"
                                                                                        }
                                                                                    ],
                                                                                    "label": "credentials=credentials"
                                                                                }
                                                                            ],
                                                                            "label": "(input_data, \"response\", credentials=credentials)"
                                                                        }
                                                                    ],
                                                                    "label": "block.run_once(input_data, \"response\", credentials=credentials)"
                                                                }
                                                            ],
                                                            "label": "response = block.run_once(input_data, \"response\", credentials=credentials)"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 46,
                                                            "end_token": 53,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 46,
                                                                    "end_token": 48,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 46,
                                                                            "end_token": 46,
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 48,
                                                                            "end_token": 48,
                                                                            "label": "merge_stats"
                                                                        }
                                                                    ],
                                                                    "label": "self.merge_stats"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 49,
                                                                    "end_token": 53,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 50,
                                                                            "end_token": 52,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 50,
                                                                                    "end_token": 50,
                                                                                    "label": "block"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 52,
                                                                                    "end_token": 52,
                                                                                    "label": "execution_stats"
                                                                                }
                                                                            ],
                                                                            "label": "block.execution_stats"
                                                                        }
                                                                    ],
                                                                    "label": "(block.execution_stats)"
                                                                }
                                                            ],
                                                            "label": "self.merge_stats(block.execution_stats)"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 55,
                                                            "end_token": 59,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 56,
                                                                    "end_token": 59,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 56,
                                                                            "end_token": 56,
                                                                            "label": "response"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 58,
                                                                            "end_token": 58,
                                                                            "label": "\"response\""
                                                                        }
                                                                    ],
                                                                    "label": "response[\"response\"]"
                                                                }
                                                            ],
                                                            "label": "return response[\"response\"]"
                                                        }
                                                    ],
                                                    "label": ":\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response[\"response\"]"
                                                }
                                            ],
                                            "label": "def llm_call(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    ) -> str:\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response[\"response\"]"
                                        }
                                    ],
                                    "label": "def llm_call(\n        self,\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    ) -> str:\n        block = AIStructuredResponseGeneratorBlock()\n        response = block.run_once(input_data, \"response\", credentials=credentials)\n        self.merge_stats(block.execution_stats)\n        return response[\"response\"]"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run",
                            "start_line": 871,
                            "end_line": 886,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 92,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 92,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "run"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 7,
                                                                    "end_token": 8,
                                                                    "children": [],
                                                                    "label": ": Input"
                                                                }
                                                            ],
                                                            "label": "self, input_data: Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 9,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 13,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": ": APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": ", *, credentials: APIKeyCredentials"
                                                        },
                                                        {
                                                            "type": "parameters",
                                                            "start_token": 15,
                                                            "end_token": 18,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 18,
                                                                    "end_token": 18,
                                                                    "children": [],
                                                                    "label": "kwargs"
                                                                }
                                                            ],
                                                            "label": ", **kwargs"
                                                        }
                                                    ],
                                                    "label": "(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    )"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 22,
                                                    "end_token": 23,
                                                    "children": [],
                                                    "label": "> BlockOutput"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 24,
                                                    "end_token": 92,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 26,
                                                            "end_token": 85,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 26,
                                                                    "end_token": 26,
                                                                    "children": [],
                                                                    "label": "response"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 28,
                                                                    "end_token": 85,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 28,
                                                                            "end_token": 30,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 28,
                                                                                    "end_token": 28,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 30,
                                                                                    "end_token": 30,
                                                                                    "children": [],
                                                                                    "label": "llm_call"
                                                                                }
                                                                            ],
                                                                            "label": "self.llm_call"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 31,
                                                                            "end_token": 85,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 33,
                                                                                    "end_token": 77,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 33,
                                                                                            "end_token": 35,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 33,
                                                                                                    "end_token": 33,
                                                                                                    "children": [],
                                                                                                    "label": "AIStructuredResponseGeneratorBlock"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 35,
                                                                                                    "end_token": 35,
                                                                                                    "children": [],
                                                                                                    "label": "Input"
                                                                                                }
                                                                                            ],
                                                                                            "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 36,
                                                                                            "end_token": 77,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 38,
                                                                                                    "end_token": 41,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 38,
                                                                                                            "end_token": 38,
                                                                                                            "children": [],
                                                                                                            "label": "prompt"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 40,
                                                                                                            "end_token": 40,
                                                                                                            "children": [],
                                                                                                            "label": "\"\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prompt=\"\","
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 43,
                                                                                                    "end_token": 48,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 43,
                                                                                                            "end_token": 43,
                                                                                                            "children": [],
                                                                                                            "label": "credentials"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 45,
                                                                                                            "end_token": 47,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 45,
                                                                                                                    "end_token": 45,
                                                                                                                    "children": [],
                                                                                                                    "label": "input_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 47,
                                                                                                                    "end_token": 47,
                                                                                                                    "children": [],
                                                                                                                    "label": "credentials"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "input_data.credentials"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "credentials=input_data.credentials,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 50,
                                                                                                    "end_token": 55,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 50,
                                                                                                            "end_token": 50,
                                                                                                            "children": [],
                                                                                                            "label": "model"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 52,
                                                                                                            "end_token": 54,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 52,
                                                                                                                    "end_token": 52,
                                                                                                                    "children": [],
                                                                                                                    "label": "input_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 54,
                                                                                                                    "end_token": 54,
                                                                                                                    "children": [],
                                                                                                                    "label": "model"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "input_data.model"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "model=input_data.model,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 57,
                                                                                                    "end_token": 62,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 57,
                                                                                                            "end_token": 57,
                                                                                                            "children": [],
                                                                                                            "label": "conversation_history"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 59,
                                                                                                            "end_token": 61,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 59,
                                                                                                                    "end_token": 59,
                                                                                                                    "children": [],
                                                                                                                    "label": "input_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 61,
                                                                                                                    "end_token": 61,
                                                                                                                    "children": [],
                                                                                                                    "label": "messages"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "input_data.messages"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "conversation_history=input_data.messages,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 64,
                                                                                                    "end_token": 69,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 64,
                                                                                                            "end_token": 64,
                                                                                                            "children": [],
                                                                                                            "label": "max_tokens"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 66,
                                                                                                            "end_token": 68,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 66,
                                                                                                                    "end_token": 66,
                                                                                                                    "children": [],
                                                                                                                    "label": "input_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 68,
                                                                                                                    "end_token": 68,
                                                                                                                    "children": [],
                                                                                                                    "label": "max_tokens"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "input_data.max_tokens"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "max_tokens=input_data.max_tokens,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 71,
                                                                                                    "end_token": 74,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 71,
                                                                                                            "end_token": 71,
                                                                                                            "children": [],
                                                                                                            "label": "expected_format"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 73,
                                                                                                            "end_token": 74,
                                                                                                            "children": [],
                                                                                                            "label": "{}"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "expected_format={}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                prompt=\"\",\n                credentials=input_data.credentials,\n                model=input_data.model,\n                conversation_history=input_data.messages,\n                max_tokens=input_data.max_tokens,\n                expected_format={},\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "AIStructuredResponseGeneratorBlock.Input(\n                prompt=\"\",\n                credentials=input_data.credentials,\n                model=input_data.model,\n                conversation_history=input_data.messages,\n                max_tokens=input_data.max_tokens,\n                expected_format={},\n            )"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 80,
                                                                                    "end_token": 83,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 80,
                                                                                            "end_token": 80,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 82,
                                                                                            "end_token": 82,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        }
                                                                                    ],
                                                                                    "label": "credentials=credentials,"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=\"\",\n                credentials=input_data.credentials,\n                model=input_data.model,\n                conversation_history=input_data.messages,\n                max_tokens=input_data.max_tokens,\n                expected_format={},\n            ),\n            credentials=credentials,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=\"\",\n                credentials=input_data.credentials,\n                model=input_data.model,\n                conversation_history=input_data.messages,\n                max_tokens=input_data.max_tokens,\n                expected_format={},\n            ),\n            credentials=credentials,\n        )"
                                                                }
                                                            ],
                                                            "label": "response = self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=\"\",\n                credentials=input_data.credentials,\n                model=input_data.model,\n                conversation_history=input_data.messages,\n                max_tokens=input_data.max_tokens,\n                expected_format={},\n            ),\n            credentials=credentials,\n        )"
                                                        },
                                                        {
                                                            "type": "yield",
                                                            "start_token": 88,
                                                            "end_token": 91,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 89,
                                                                    "end_token": 89,
                                                                    "children": [],
                                                                    "label": "\"response\""
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 91,
                                                                    "end_token": 91,
                                                                    "children": [],
                                                                    "label": "response"
                                                                }
                                                            ],
                                                            "label": "yield \"response\", response"
                                                        }
                                                    ],
                                                    "label": ":\n        response = self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=\"\",\n                credentials=input_data.credentials,\n                model=input_data.model,\n                conversation_history=input_data.messages,\n                max_tokens=input_data.max_tokens,\n                expected_format={},\n            ),\n            credentials=credentials,\n        )\n\n        yield \"response\", response\n"
                                                }
                                            ],
                                            "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        response = self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=\"\",\n                credentials=input_data.credentials,\n                model=input_data.model,\n                conversation_history=input_data.messages,\n                max_tokens=input_data.max_tokens,\n                expected_format={},\n            ),\n            credentials=credentials,\n        )\n\n        yield \"response\", response\n"
                                        }
                                    ],
                                    "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        response = self.llm_call(\n            AIStructuredResponseGeneratorBlock.Input(\n                prompt=\"\",\n                credentials=input_data.credentials,\n                model=input_data.model,\n                conversation_history=input_data.messages,\n                max_tokens=input_data.max_tokens,\n                expected_format={},\n            ),\n            credentials=credentials,\n        )\n\n        yield \"response\", response\n"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Input",
                            "start_line": 804,
                            "end_line": 823,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 110,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 110,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "Input"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 110,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 25,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "label": "messages"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 9,
                                                                    "end_token": 12,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "label": "List"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "label": "Message"
                                                                        }
                                                                    ],
                                                                    "label": "List[Message]"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 14,
                                                                    "end_token": 25,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 14,
                                                                            "end_token": 14,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 15,
                                                                            "end_token": 25,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 17,
                                                                                    "end_token": 19,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 17,
                                                                                            "end_token": 17,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 19,
                                                                                            "end_token": 19,
                                                                                            "label": "\"List of messages in the conversation.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"List of messages in the conversation.\""
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 21,
                                                                                    "end_token": 23,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 21,
                                                                                            "end_token": 21,
                                                                                            "label": "min_length"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 23,
                                                                                            "end_token": 23,
                                                                                            "label": "1"
                                                                                        }
                                                                                    ],
                                                                                    "label": "min_length=1"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"List of messages in the conversation.\", min_length=1\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"List of messages in the conversation.\", min_length=1\n        )"
                                                                }
                                                            ],
                                                            "label": "messages: List[Message] = SchemaField(\n            description=\"List of messages in the conversation.\", min_length=1\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 27,
                                                            "end_token": 51,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 27,
                                                                    "end_token": 27,
                                                                    "label": "model"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 29,
                                                                    "end_token": 29,
                                                                    "label": "LlmModel"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 31,
                                                                    "end_token": 51,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 31,
                                                                            "end_token": 31,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 32,
                                                                            "end_token": 51,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 34,
                                                                                    "end_token": 36,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 34,
                                                                                            "end_token": 34,
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 36,
                                                                                            "end_token": 36,
                                                                                            "label": "\"LLM Model\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"LLM Model\""
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 39,
                                                                                    "end_token": 44,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 39,
                                                                                            "end_token": 39,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 41,
                                                                                            "end_token": 43,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 41,
                                                                                                    "end_token": 41,
                                                                                                    "label": "LlmModel"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 43,
                                                                                                    "end_token": 43,
                                                                                                    "label": "GPT4_TURBO"
                                                                                                }
                                                                                            ],
                                                                                            "label": "LlmModel.GPT4_TURBO"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=LlmModel.GPT4_TURBO,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 46,
                                                                                    "end_token": 48,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 46,
                                                                                            "end_token": 46,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 48,
                                                                                            "end_token": 48,
                                                                                            "label": "\"The language model to use for the conversation.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The language model to use for the conversation.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for the conversation.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for the conversation.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for the conversation.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 53,
                                                            "end_token": 59,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 53,
                                                                    "end_token": 53,
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 55,
                                                                    "end_token": 55,
                                                                    "label": "AICredentials"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 57,
                                                                    "end_token": 59,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 57,
                                                                            "end_token": 57,
                                                                            "label": "AICredentialsField"
                                                                        }
                                                                    ],
                                                                    "label": "AICredentialsField()"
                                                                }
                                                            ],
                                                            "label": "credentials: AICredentials = AICredentialsField()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 61,
                                                            "end_token": 85,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 61,
                                                                    "end_token": 61,
                                                                    "label": "max_tokens"
                                                                },
                                                                {
                                                                    "type": "union_type",
                                                                    "start_token": 63,
                                                                    "end_token": 65,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 63,
                                                                            "end_token": 63,
                                                                            "label": "int"
                                                                        },
                                                                        {
                                                                            "type": "none",
                                                                            "start_token": 65,
                                                                            "end_token": 65,
                                                                            "label": "None"
                                                                        }
                                                                    ],
                                                                    "label": "int | None"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 67,
                                                                    "end_token": 85,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 67,
                                                                            "end_token": 67,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 68,
                                                                            "end_token": 85,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 70,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 70,
                                                                                            "end_token": 70,
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "true",
                                                                                            "start_token": 72,
                                                                                            "end_token": 72,
                                                                                            "label": "True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=True"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 75,
                                                                                    "end_token": 77,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 75,
                                                                                            "end_token": 75,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "none",
                                                                                            "start_token": 77,
                                                                                            "end_token": 77,
                                                                                            "label": "None"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=None"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 80,
                                                                                    "end_token": 82,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 80,
                                                                                            "end_token": 80,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 82,
                                                                                            "end_token": 82,
                                                                                            "label": "\"The maximum number of tokens to generate in the chat completion.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The maximum number of tokens to generate in the chat completion.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 87,
                                                            "end_token": 109,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 87,
                                                                    "end_token": 87,
                                                                    "label": "ollama_host"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 89,
                                                                    "end_token": 89,
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 91,
                                                                    "end_token": 109,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 91,
                                                                            "end_token": 91,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 92,
                                                                            "end_token": 109,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 94,
                                                                                    "end_token": 96,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 94,
                                                                                            "end_token": 94,
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "true",
                                                                                            "start_token": 96,
                                                                                            "end_token": 96,
                                                                                            "label": "True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=True"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 99,
                                                                                    "end_token": 101,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 99,
                                                                                            "end_token": 99,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 101,
                                                                                            "end_token": 101,
                                                                                            "label": "\"localhost:11434\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=\"localhost:11434\""
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 104,
                                                                                    "end_token": 106,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 104,
                                                                                            "end_token": 104,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 106,
                                                                                            "end_token": 106,
                                                                                            "label": "\"Ollama host for local  models\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Ollama host for local  models\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                                }
                                                            ],
                                                            "label": "ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                        }
                                                    ],
                                                    "label": "\n        messages: List[Message] = SchemaField(\n            description=\"List of messages in the conversation.\", min_length=1\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for the conversation.\",\n        )\n        credentials: AICredentials = AICredentialsField()\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )\n"
                                                }
                                            ],
                                            "label": "class Input(BlockSchema):\n        messages: List[Message] = SchemaField(\n            description=\"List of messages in the conversation.\", min_length=1\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for the conversation.\",\n        )\n        credentials: AICredentials = AICredentialsField()\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )\n"
                                        }
                                    ],
                                    "label": "class Input(BlockSchema):\n        messages: List[Message] = SchemaField(\n            description=\"List of messages in the conversation.\", min_length=1\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for the conversation.\",\n        )\n        credentials: AICredentials = AICredentialsField()\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )\n"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Output",
                            "start_line": 825,
                            "end_line": 829,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 29,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 29,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "children": [],
                                                    "label": "class"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "Output"
                                                },
                                                {
                                                    "type": "inheritance",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 29,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 18,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "response"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 9,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 18,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 12,
                                                                            "end_token": 18,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 14,
                                                                                    "end_token": 16,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 14,
                                                                                            "end_token": 14,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 16,
                                                                                            "end_token": 16,
                                                                                            "children": [],
                                                                                            "label": "\"The model's response to the conversation.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The model's response to the conversation.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"The model's response to the conversation.\"\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"The model's response to the conversation.\"\n        )"
                                                                }
                                                            ],
                                                            "label": "response: str = SchemaField(\n            description=\"The model's response to the conversation.\"\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 20,
                                                            "end_token": 29,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "children": [],
                                                                    "label": "error"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 22,
                                                                    "end_token": 22,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 24,
                                                                    "end_token": 29,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 24,
                                                                            "end_token": 24,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 25,
                                                                            "end_token": 29,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 26,
                                                                                    "end_token": 28,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 26,
                                                                                            "end_token": 26,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 28,
                                                                                            "end_token": 28,
                                                                                            "children": [],
                                                                                            "label": "\"Error message if the API call failed.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Error message if the API call failed.\""
                                                                                }
                                                                            ],
                                                                            "label": "(description=\"Error message if the API call failed.\")"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(description=\"Error message if the API call failed.\")"
                                                                }
                                                            ],
                                                            "label": "error: str = SchemaField(description=\"Error message if the API call failed.\")"
                                                        }
                                                    ],
                                                    "label": "\n        response: str = SchemaField(\n            description=\"The model's response to the conversation.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")"
                                                }
                                            ],
                                            "label": "class Output(BlockSchema):\n        response: str = SchemaField(\n            description=\"The model's response to the conversation.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")"
                                        }
                                    ],
                                    "label": "class Output(BlockSchema):\n        response: str = SchemaField(\n            description=\"The model's response to the conversation.\"\n        )\n        error: str = SchemaField(description=\"Error message if the API call failed.\")"
                                }
                            ]
                        }
                    ],
                    "label": "class AIConversationBlock(Block):"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AIListGeneratorBlock",
            "start_line": 889,
            "end_line": 1125,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 16,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 6,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "AIListGeneratorBlock"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "Block"
                                        }
                                    ],
                                    "label": "(Block)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 16,
                                    "children": [
                                        {
                                            "type": "decorator",
                                            "start_token": 10,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": "staticmethod"
                                                }
                                            ],
                                            "label": "@staticmethod"
                                        },
                                        {
                                            "type": "decorator",
                                            "start_token": 14,
                                            "end_token": 15,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "staticmethod"
                                                }
                                            ],
                                            "label": "@staticmethod"
                                        }
                                    ],
                                    "label": "\n\n\n\n    @staticmethod\n\n    @staticmethod\n"
                                }
                            ],
                            "label": "class AIListGeneratorBlock(Block):\n"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__init__",
                            "start_line": 936,
                            "end_line": 974,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 190,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 189,
                                            "children": [
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 5,
                                                    "end_token": 189,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 7,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 10,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "label": "super"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "label": "__init__"
                                                                        }
                                                                    ],
                                                                    "label": "super()."
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 8,
                                                                    "end_token": 9,
                                                                    "label": "()"
                                                                }
                                                            ],
                                                            "label": "super().__init__(\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 14,
                                                            "end_token": 96,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "label": "id"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "label": "\"9c0b0450-d199-458b-a731-072189dd6593\""
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "label": "description"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "label": "\"Generate a Python list based on the given prompt using a Large Language Model (LLM).\""
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "label": "categories"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 26,
                                                                    "end_token": 34,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 27,
                                                                            "end_token": 30,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 27,
                                                                                    "end_token": 28,
                                                                                    "label": "BlockCategory."
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 29,
                                                                                    "end_token": 29,
                                                                                    "label": "AI"
                                                                                }
                                                                            ],
                                                                            "label": "BlockCategory.AI,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 31,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 31,
                                                                                    "end_token": 32,
                                                                                    "label": "BlockCategory."
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "label": "TEXT"
                                                                                }
                                                                            ],
                                                                            "label": "BlockCategory.TEXT}"
                                                                        }
                                                                    ],
                                                                    "label": "{BlockCategory.AI, BlockCategory.TEXT}"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 37,
                                                                    "end_token": 37,
                                                                    "label": "input_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 39,
                                                                    "end_token": 41,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 39,
                                                                            "end_token": 39,
                                                                            "label": "AIListGeneratorBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 41,
                                                                            "end_token": 41,
                                                                            "label": "Input"
                                                                        }
                                                                    ],
                                                                    "label": "AIListGeneratorBlock.Input"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 44,
                                                                    "end_token": 44,
                                                                    "label": "output_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 46,
                                                                    "end_token": 48,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 46,
                                                                            "end_token": 46,
                                                                            "label": "AIListGeneratorBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 48,
                                                                            "end_token": 48,
                                                                            "label": "Output"
                                                                        }
                                                                    ],
                                                                    "label": "AIListGeneratorBlock.Output"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 51,
                                                                    "end_token": 51,
                                                                    "label": "test_input"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 53,
                                                                    "end_token": 96,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 55,
                                                                            "end_token": 58,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 56,
                                                                                    "end_token": 56,
                                                                                    "label": ":"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 58,
                                                                                    "end_token": 58,
                                                                                    "label": ","
                                                                                }
                                                                            ],
                                                                            "label": "\"focus\": \"planets\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 60,
                                                                            "end_token": 76,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 61,
                                                                                    "end_token": 61,
                                                                                    "label": ":"
                                                                                },
                                                                                {
                                                                                    "type": "parenthesized_expression",
                                                                                    "start_token": 62,
                                                                                    "end_token": 76,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 64,
                                                                                            "end_token": 74,
                                                                                            "label": "\"Zylora Prime is a glowing jungle world with bioluminescent plants, \"\n                    \"while Kharon-9 is a harsh desert planet with underground cities. \"\n                    \"Vortexia's constant storms power floating cities, and Oceara is a water-covered world home to \"\n                    \"intelligent marine life. On icy Draknos, ancient ruins lie buried beneath its frozen landscape, \"\n                    \"drawing explorers to uncover its mysteries. Each planet showcases the limitless possibilities of \"\n                    \"fictional worlds.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n                    \"Zylora Prime is a glowing jungle world with bioluminescent plants, \"\n                    \"while Kharon-9 is a harsh desert planet with underground cities. \"\n                    \"Vortexia's constant storms power floating cities, and Oceara is a water-covered world home to \"\n                    \"intelligent marine life. On icy Draknos, ancient ruins lie buried beneath its frozen landscape, \"\n                    \"drawing explorers to uncover its mysteries. Each planet showcases the limitless possibilities of \"\n                    \"fictional worlds.\"\n                )"
                                                                                }
                                                                            ],
                                                                            "label": "\"source_data\": (\n                    \"Zylora Prime is a glowing jungle world with bioluminescent plants, \"\n                    \"while Kharon-9 is a harsh desert planet with underground cities. \"\n                    \"Vortexia's constant storms power floating cities, and Oceara is a water-covered world home to \"\n                    \"intelligent marine life. On icy Draknos, ancient ruins lie buried beneath its frozen landscape, \"\n                    \"drawing explorers to uncover its mysteries. Each planet showcases the limitless possibilities of \"\n                    \"fictional worlds.\"\n                )"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 79,
                                                                            "end_token": 84,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 80,
                                                                                    "end_token": 80,
                                                                                    "label": ":"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 81,
                                                                                    "end_token": 83,
                                                                                    "label": "LlmModel.GPT4_TURBO"
                                                                                }
                                                                            ],
                                                                            "label": "\"model\": LlmModel.GPT4_TURBO,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 86,
                                                                            "end_token": 89,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 87,
                                                                                    "end_token": 87,
                                                                                    "label": ":"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 88,
                                                                                    "end_token": 88,
                                                                                    "label": "TEST_CREDENTIALS_INPUT"
                                                                                }
                                                                            ],
                                                                            "label": "\"credentials\": TEST_CREDENTIALS_INPUT,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 91,
                                                                            "end_token": 93,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 92,
                                                                                    "end_token": 92,
                                                                                    "label": ":"
                                                                                },
                                                                                {
                                                                                    "type": "integer",
                                                                                    "start_token": 93,
                                                                                    "end_token": 93,
                                                                                    "label": "3"
                                                                                }
                                                                            ],
                                                                            "label": "\"max_retries\": 3"
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"focus\": \"planets\",\n                \"source_data\": (\n                    \"Zylora Prime is a glowing jungle world with bioluminescent plants, \"\n                    \"while Kharon-9 is a harsh desert planet with underground cities. \"\n                    \"Vortexia's constant storms power floating cities, and Oceara is a water-covered world home to \"\n                    \"intelligent marine life. On icy Draknos, ancient ruins lie buried beneath its frozen landscape, \"\n                    \"drawing explorers to uncover its mysteries. Each planet showcases the limitless possibilities of \"\n                    \"fictional worlds.\"\n                ),\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"max_retries\": 3,\n            }"
                                                                }
                                                            ],
                                                            "label": "id=\"9c0b0450-d199-458b-a731-072189dd6593\",\n            description=\"Generate a Python list based on the given prompt using a Large Language Model (LLM).\",\n            categories={BlockCategory.AI, BlockCategory.TEXT},\n            input_schema=AIListGeneratorBlock.Input,\n            output_schema=AIListGeneratorBlock.Output,\n            test_input={\n                \"focus\": \"planets\",\n                \"source_data\": (\n                    \"Zylora Prime is a glowing jungle world with bioluminescent plants, \"\n                    \"while Kharon-9 is a harsh desert planet with underground cities. \"\n                    \"Vortexia's constant storms power floating cities, and Oceara is a water-covered world home to \"\n                    \"intelligent marine life. On icy Draknos, ancient ruins lie buried beneath its frozen landscape, \"\n                    \"drawing explorers to uncover its mysteries. Each planet showcases the limitless possibilities of \"\n                    \"fictional worlds.\"\n                ),\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"max_retries\": 3,\n            }"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 99,
                                                            "end_token": 102,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 99,
                                                                    "end_token": 99,
                                                                    "label": "test_credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 101,
                                                                    "end_token": 101,
                                                                    "label": "TEST_CREDENTIALS"
                                                                }
                                                            ],
                                                            "label": "test_credentials=TEST_CREDENTIALS,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 104,
                                                            "end_token": 164,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 104,
                                                                    "end_token": 104,
                                                                    "label": "test_output"
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "start_token": 106,
                                                                    "end_token": 164,
                                                                    "children": [
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 108,
                                                                            "end_token": 126,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 110,
                                                                                    "end_token": 110,
                                                                                    "label": "\"generated_list\""
                                                                                },
                                                                                {
                                                                                    "type": "list",
                                                                                    "start_token": 113,
                                                                                    "end_token": 123,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 114,
                                                                                            "end_token": 114,
                                                                                            "label": "\"Zylora Prime\""
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 116,
                                                                                            "end_token": 116,
                                                                                            "label": "\"Kharon-9\""
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 118,
                                                                                            "end_token": 118,
                                                                                            "label": "\"Vortexia\""
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 120,
                                                                                            "end_token": 120,
                                                                                            "label": "\"Oceara\""
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 122,
                                                                                            "end_token": 122,
                                                                                            "label": "\"Draknos\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "[\"Zylora Prime\", \"Kharon-9\", \"Vortexia\", \"Oceara\", \"Draknos\"]"
                                                                                }
                                                                            ],
                                                                            "label": "(\n                    \"generated_list\",\n                    [\"Zylora Prime\", \"Kharon-9\", \"Vortexia\", \"Oceara\", \"Draknos\"],\n                )"
                                                                        },
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 129,
                                                                            "end_token": 133,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 130,
                                                                                    "end_token": 130,
                                                                                    "label": "\"list_item\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 132,
                                                                                    "end_token": 132,
                                                                                    "label": "\"Zylora Prime\""
                                                                                }
                                                                            ],
                                                                            "label": "(\"list_item\", \"Zylora Prime\")"
                                                                        },
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 136,
                                                                            "end_token": 140,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 137,
                                                                                    "end_token": 137,
                                                                                    "label": "\"list_item\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 139,
                                                                                    "end_token": 139,
                                                                                    "label": "\"Kharon-9\""
                                                                                }
                                                                            ],
                                                                            "label": "(\"list_item\", \"Kharon-9\")"
                                                                        },
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 143,
                                                                            "end_token": 147,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 144,
                                                                                    "end_token": 144,
                                                                                    "label": "\"list_item\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 146,
                                                                                    "end_token": 146,
                                                                                    "label": "\"Vortexia\""
                                                                                }
                                                                            ],
                                                                            "label": "(\"list_item\", \"Vortexia\")"
                                                                        },
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 150,
                                                                            "end_token": 154,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 151,
                                                                                    "end_token": 151,
                                                                                    "label": "\"list_item\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 153,
                                                                                    "end_token": 153,
                                                                                    "label": "\"Oceara\""
                                                                                }
                                                                            ],
                                                                            "label": "(\"list_item\", \"Oceara\")"
                                                                        },
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 157,
                                                                            "end_token": 161,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 158,
                                                                                    "end_token": 158,
                                                                                    "label": "\"list_item\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 160,
                                                                                    "end_token": 160,
                                                                                    "label": "\"Draknos\""
                                                                                }
                                                                            ],
                                                                            "label": "(\"list_item\", \"Draknos\")"
                                                                        }
                                                                    ],
                                                                    "label": "[\n                (\n                    \"generated_list\",\n                    [\"Zylora Prime\", \"Kharon-9\", \"Vortexia\", \"Oceara\", \"Draknos\"],\n                ),\n                (\"list_item\", \"Zylora Prime\"),\n                (\"list_item\", \"Kharon-9\"),\n                (\"list_item\", \"Vortexia\"),\n                (\"list_item\", \"Oceara\"),\n                (\"list_item\", \"Draknos\"),\n            ]"
                                                                }
                                                            ],
                                                            "label": "test_output=[\n                (\n                    \"generated_list\",\n                    [\"Zylora Prime\", \"Kharon-9\", \"Vortexia\", \"Oceara\", \"Draknos\"],\n                ),\n                (\"list_item\", \"Zylora Prime\"),\n                (\"list_item\", \"Kharon-9\"),\n                (\"list_item\", \"Vortexia\"),\n                (\"list_item\", \"Oceara\"),\n                (\"list_item\", \"Draknos\"),\n            ]"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 167,
                                                            "end_token": 187,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 167,
                                                                    "end_token": 167,
                                                                    "label": "test_mock"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 169,
                                                                    "end_token": 187,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 171,
                                                                            "end_token": 184,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 172,
                                                                                    "end_token": 172,
                                                                                    "label": ":"
                                                                                },
                                                                                {
                                                                                    "type": "lambda",
                                                                                    "start_token": 173,
                                                                                    "end_token": 183,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lambda_parameters",
                                                                                            "start_token": 173,
                                                                                            "end_token": 175,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 174,
                                                                                                    "end_token": 174,
                                                                                                    "label": "input_data"
                                                                                                }
                                                                                            ],
                                                                                            "label": "lambda input_data,"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 177,
                                                                                            "end_token": 183,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 178,
                                                                                                    "end_token": 183,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 180,
                                                                                                            "end_token": 182,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 181,
                                                                                                                    "end_token": 181,
                                                                                                                    "label": ":"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 182,
                                                                                                                    "end_token": 182,
                                                                                                                    "label": "\"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "{\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n"
                                                                                                }
                                                                                            ],
                                                                                            "label": ": {\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "lambda input_data, credentials: {\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n"
                                                                                }
                                                                            ],
                                                                            "label": "\"llm_call\": lambda input_data, credentials: {\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n                }"
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"llm_call\": lambda input_data, credentials: {\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n                },\n            }"
                                                                }
                                                            ],
                                                            "label": "test_mock={\n                \"llm_call\": lambda input_data, credentials: {\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n                },\n            }"
                                                        }
                                                    ],
                                                    "label": ":\n        super().__init__(\n            id=\"9c0b0450-d199-458b-a731-072189dd6593\",\n            description=\"Generate a Python list based on the given prompt using a Large Language Model (LLM).\",\n            categories={BlockCategory.AI, BlockCategory.TEXT},\n            input_schema=AIListGeneratorBlock.Input,\n            output_schema=AIListGeneratorBlock.Output,\n            test_input={\n                \"focus\": \"planets\",\n                \"source_data\": (\n                    \"Zylora Prime is a glowing jungle world with bioluminescent plants, \"\n                    \"while Kharon-9 is a harsh desert planet with underground cities. \"\n                    \"Vortexia's constant storms power floating cities, and Oceara is a water-covered world home to \"\n                    \"intelligent marine life. On icy Draknos, ancient ruins lie buried beneath its frozen landscape, \"\n                    \"drawing explorers to uncover its mysteries. Each planet showcases the limitless possibilities of \"\n                    \"fictional worlds.\"\n                ),\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"max_retries\": 3,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=[\n                (\n                    \"generated_list\",\n                    [\"Zylora Prime\", \"Kharon-9\", \"Vortexia\", \"Oceara\", \"Draknos\"],\n                ),\n                (\"list_item\", \"Zylora Prime\"),\n                (\"list_item\", \"Kharon-9\"),\n                (\"list_item\", \"Vortexia\"),\n                (\"list_item\", \"Oceara\"),\n                (\"list_item\", \"Draknos\"),\n            ],\n            test_mock={\n                \"llm_call\": lambda input_data, credentials: {\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n                },\n            },\n"
                                                }
                                            ],
                                            "label": "def __init__(self):\n        super().__init__(\n            id=\"9c0b0450-d199-458b-a731-072189dd6593\",\n            description=\"Generate a Python list based on the given prompt using a Large Language Model (LLM).\",\n            categories={BlockCategory.AI, BlockCategory.TEXT},\n            input_schema=AIListGeneratorBlock.Input,\n            output_schema=AIListGeneratorBlock.Output,\n            test_input={\n                \"focus\": \"planets\",\n                \"source_data\": (\n                    \"Zylora Prime is a glowing jungle world with bioluminescent plants, \"\n                    \"while Kharon-9 is a harsh desert planet with underground cities. \"\n                    \"Vortexia's constant storms power floating cities, and Oceara is a water-covered world home to \"\n                    \"intelligent marine life. On icy Draknos, ancient ruins lie buried beneath its frozen landscape, \"\n                    \"drawing explorers to uncover its mysteries. Each planet showcases the limitless possibilities of \"\n                    \"fictional worlds.\"\n                ),\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"max_retries\": 3,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=[\n                (\n                    \"generated_list\",\n                    [\"Zylora Prime\", \"Kharon-9\", \"Vortexia\", \"Oceara\", \"Draknos\"],\n                ),\n                (\"list_item\", \"Zylora Prime\"),\n                (\"list_item\", \"Kharon-9\"),\n                (\"list_item\", \"Vortexia\"),\n                (\"list_item\", \"Oceara\"),\n                (\"list_item\", \"Draknos\"),\n            ],\n            test_mock={\n                \"llm_call\": lambda input_data, credentials: {\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n                },\n            },\n"
                                        }
                                    ],
                                    "label": "def __init__(self):\n        super().__init__(\n            id=\"9c0b0450-d199-458b-a731-072189dd6593\",\n            description=\"Generate a Python list based on the given prompt using a Large Language Model (LLM).\",\n            categories={BlockCategory.AI, BlockCategory.TEXT},\n            input_schema=AIListGeneratorBlock.Input,\n            output_schema=AIListGeneratorBlock.Output,\n            test_input={\n                \"focus\": \"planets\",\n                \"source_data\": (\n                    \"Zylora Prime is a glowing jungle world with bioluminescent plants, \"\n                    \"while Kharon-9 is a harsh desert planet with underground cities. \"\n                    \"Vortexia's constant storms power floating cities, and Oceara is a water-covered world home to \"\n                    \"intelligent marine life. On icy Draknos, ancient ruins lie buried beneath its frozen landscape, \"\n                    \"drawing explorers to uncover its mysteries. Each planet showcases the limitless possibilities of \"\n                    \"fictional worlds.\"\n                ),\n                \"model\": LlmModel.GPT4_TURBO,\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"max_retries\": 3,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=[\n                (\n                    \"generated_list\",\n                    [\"Zylora Prime\", \"Kharon-9\", \"Vortexia\", \"Oceara\", \"Draknos\"],\n                ),\n                (\"list_item\", \"Zylora Prime\"),\n                (\"list_item\", \"Kharon-9\"),\n                (\"list_item\", \"Vortexia\"),\n                (\"list_item\", \"Oceara\"),\n                (\"list_item\", \"Draknos\"),\n            ],\n            test_mock={\n                \"llm_call\": lambda input_data, credentials: {\n                    \"response\": \"['Zylora Prime', 'Kharon-9', 'Vortexia', 'Oceara', 'Draknos']\"\n                },\n            },\n        )"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "llm_call",
                            "start_line": 977,
                            "end_line": 983,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 49,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 49,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "llm_call"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 16,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "input_data"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 6,
                                                                    "end_token": 8,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 6,
                                                                            "end_token": 8,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 6,
                                                                                    "end_token": 6,
                                                                                    "children": [],
                                                                                    "label": "AIStructuredResponseGeneratorBlock"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 8,
                                                                                    "end_token": 8,
                                                                                    "children": [],
                                                                                    "label": "Input"
                                                                                }
                                                                            ],
                                                                            "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                        }
                                                                    ],
                                                                    "label": "AIStructuredResponseGeneratorBlock.Input"
                                                                }
                                                            ],
                                                            "label": "input_data: AIStructuredResponseGeneratorBlock.Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 11,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 13,
                                                                    "end_token": 13,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 13,
                                                                            "end_token": 13,
                                                                            "children": [],
                                                                            "label": "APIKeyCredentials"
                                                                        }
                                                                    ],
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        }
                                                    ],
                                                    "label": "(\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    )"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 19,
                                                    "end_token": 24,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 19,
                                                            "end_token": 19,
                                                            "children": [],
                                                            "label": "dict"
                                                        },
                                                        {
                                                            "type": "tuple",
                                                            "start_token": 20,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 23,
                                                                    "end_token": 23,
                                                                    "children": [],
                                                                    "label": "str"
                                                                }
                                                            ],
                                                            "label": "[str, str]"
                                                        }
                                                    ],
                                                    "label": "dict[str, str]"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 26,
                                                    "end_token": 49,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 27,
                                                            "end_token": 31,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 27,
                                                                    "end_token": 27,
                                                                    "children": [],
                                                                    "label": "llm_block"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 29,
                                                                    "end_token": 31,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 29,
                                                                            "end_token": 29,
                                                                            "children": [],
                                                                            "label": "AIStructuredResponseGeneratorBlock"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 30,
                                                                            "end_token": 31,
                                                                            "children": [],
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "AIStructuredResponseGeneratorBlock()"
                                                                }
                                                            ],
                                                            "label": "llm_block = AIStructuredResponseGeneratorBlock()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 33,
                                                            "end_token": 46,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 33,
                                                                    "end_token": 33,
                                                                    "children": [],
                                                                    "label": "response"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 35,
                                                                    "end_token": 46,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 35,
                                                                            "end_token": 37,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 35,
                                                                                    "end_token": 35,
                                                                                    "children": [],
                                                                                    "label": "llm_block"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 37,
                                                                                    "end_token": 37,
                                                                                    "children": [],
                                                                                    "label": "run_once"
                                                                                }
                                                                            ],
                                                                            "label": "llm_block.run_once"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 38,
                                                                            "end_token": 46,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 39,
                                                                                    "end_token": 39,
                                                                                    "children": [],
                                                                                    "label": "input_data"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 41,
                                                                                    "end_token": 41,
                                                                                    "children": [],
                                                                                    "label": "\"response\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 43,
                                                                                    "end_token": 45,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 43,
                                                                                            "end_token": 43,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 45,
                                                                                            "end_token": 45,
                                                                                            "children": [],
                                                                                            "label": "credentials"
                                                                                        }
                                                                                    ],
                                                                                    "label": "credentials=credentials"
                                                                                }
                                                                            ],
                                                                            "label": "(input_data, \"response\", credentials=credentials)"
                                                                        }
                                                                    ],
                                                                    "label": "llm_block.run_once(input_data, \"response\", credentials=credentials)"
                                                                }
                                                            ],
                                                            "label": "response = llm_block.run_once(input_data, \"response\", credentials=credentials)"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 48,
                                                            "end_token": 49,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 49,
                                                                    "end_token": 49,
                                                                    "children": [],
                                                                    "label": "response"
                                                                }
                                                            ],
                                                            "label": "return response"
                                                        }
                                                    ],
                                                    "label": "\n        llm_block = AIStructuredResponseGeneratorBlock()\n        response = llm_block.run_once(input_data, \"response\", credentials=credentials)\n        return response"
                                                }
                                            ],
                                            "label": "def llm_call(\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    ) -> dict[str, str]:\n        llm_block = AIStructuredResponseGeneratorBlock()\n        response = llm_block.run_once(input_data, \"response\", credentials=credentials)\n        return response"
                                        }
                                    ],
                                    "label": "def llm_call(\n        input_data: AIStructuredResponseGeneratorBlock.Input,\n        credentials: APIKeyCredentials,\n    ) -> dict[str, str]:\n        llm_block = AIStructuredResponseGeneratorBlock()\n        response = llm_block.run_once(input_data, \"response\", credentials=credentials)\n        return response"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "string_to_list",
                            "start_line": 986,
                            "end_line": 1002,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 102,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 102,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "string_to_list"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "string"
                                                        }
                                                    ],
                                                    "label": "(string)"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 7,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "\"\"\"\n        Converts a string representation of a list into an actual Python list object.\n        \"\"\""
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 11,
                                                    "end_token": 102,
                                                    "children": [
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 11,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 17,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 11,
                                                                            "end_token": 13,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": [],
                                                                                    "label": "logger"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "children": [],
                                                                                    "label": "debug"
                                                                                }
                                                                            ],
                                                                            "label": "logger.debug"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 14,
                                                                            "end_token": 17,
                                                                            "children": [
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 15,
                                                                                    "end_token": 16,
                                                                                    "children": [],
                                                                                    "label": "f\"Converting string to list. Input string: {string}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Converting string to list. Input string: {string}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.debug(f\"Converting string to list. Input string: {string}\")"
                                                                }
                                                            ],
                                                            "label": "logger.debug(f\"Converting string to list. Input string: {string}\")"
                                                        },
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 19,
                                                            "end_token": 102,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 20,
                                                                    "end_token": 78,
                                                                    "children": [
                                                                        {
                                                                            "type": "expression_statement",
                                                                            "start_token": 33,
                                                                            "end_token": 40,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 33,
                                                                                    "end_token": 40,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 33,
                                                                                            "end_token": 33,
                                                                                            "children": [],
                                                                                            "label": "python_list"
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 35,
                                                                                            "end_token": 40,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 35,
                                                                                                    "end_token": 37,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 35,
                                                                                                            "end_token": 35,
                                                                                                            "children": [],
                                                                                                            "label": "ast"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 37,
                                                                                                            "end_token": 37,
                                                                                                            "children": [],
                                                                                                            "label": "literal_eval"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "ast.literal_eval"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 38,
                                                                                                    "end_token": 40,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 39,
                                                                                                            "end_token": 39,
                                                                                                            "children": [],
                                                                                                            "label": "string"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(string)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "ast.literal_eval(string)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "python_list = ast.literal_eval(string)"
                                                                                }
                                                                            ],
                                                                            "label": "python_list = ast.literal_eval(string)"
                                                                        },
                                                                        {
                                                                            "type": "if_statement",
                                                                            "start_token": 42,
                                                                            "end_token": 61,
                                                                            "children": [
                                                                                {
                                                                                    "type": "conditional_expression",
                                                                                    "start_token": 42,
                                                                                    "end_token": 48,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 43,
                                                                                            "end_token": 48,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 43,
                                                                                                    "end_token": 43,
                                                                                                    "children": [],
                                                                                                    "label": "isinstance"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 44,
                                                                                                    "end_token": 48,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 45,
                                                                                                            "end_token": 45,
                                                                                                            "children": [],
                                                                                                            "label": "python_list"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 47,
                                                                                                            "end_token": 47,
                                                                                                            "children": [],
                                                                                                            "label": "list"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(python_list, list)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "isinstance(python_list, list)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "if isinstance(python_list, list)"
                                                                                },
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 49,
                                                                                    "end_token": 61,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "expression_statement",
                                                                                            "start_token": 51,
                                                                                            "end_token": 57,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 51,
                                                                                                    "end_token": 57,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 51,
                                                                                                            "end_token": 53,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 51,
                                                                                                                    "end_token": 51,
                                                                                                                    "children": [],
                                                                                                                    "label": "logger"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 53,
                                                                                                                    "end_token": 53,
                                                                                                                    "children": [],
                                                                                                                    "label": "debug"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "logger.debug"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 54,
                                                                                                            "end_token": 57,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "concatenated_string",
                                                                                                                    "start_token": 55,
                                                                                                                    "end_token": 56,
                                                                                                                    "children": [],
                                                                                                                    "label": "f\"Successfully converted string to list: {python_list}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(f\"Successfully converted string to list: {python_list}\")"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "logger.debug(f\"Successfully converted string to list: {python_list}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.debug(f\"Successfully converted string to list: {python_list}\")"
                                                                                        },
                                                                                        {
                                                                                            "type": "return_statement",
                                                                                            "start_token": 59,
                                                                                            "end_token": 60,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 60,
                                                                                                    "end_token": 60,
                                                                                                    "children": [],
                                                                                                    "label": "python_list"
                                                                                                }
                                                                                            ],
                                                                                            "label": "return python_list"
                                                                                        }
                                                                                    ],
                                                                                    "label": ":\n                logger.debug(f\"Successfully converted string to list: {python_list}\")\n                return python_list\n"
                                                                                }
                                                                            ],
                                                                            "label": "if isinstance(python_list, list):\n                logger.debug(f\"Successfully converted string to list: {python_list}\")\n                return python_list\n"
                                                                        },
                                                                        {
                                                                            "type": "else_clause",
                                                                            "start_token": 62,
                                                                            "end_token": 78,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 64,
                                                                                    "end_token": 78,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "expression_statement",
                                                                                            "start_token": 65,
                                                                                            "end_token": 71,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 65,
                                                                                                    "end_token": 71,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 65,
                                                                                                            "end_token": 67,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 65,
                                                                                                                    "end_token": 65,
                                                                                                                    "children": [],
                                                                                                                    "label": "logger"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 67,
                                                                                                                    "end_token": 67,
                                                                                                                    "children": [],
                                                                                                                    "label": "error"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "logger.error"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 68,
                                                                                                            "end_token": 71,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "concatenated_string",
                                                                                                                    "start_token": 69,
                                                                                                                    "end_token": 70,
                                                                                                                    "children": [],
                                                                                                                    "label": "f\"The provided string '{string}' is not a valid list\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(f\"The provided string '{string}' is not a valid list\")"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "logger.error(f\"The provided string '{string}' is not a valid list\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.error(f\"The provided string '{string}' is not a valid list\")"
                                                                                        },
                                                                                        {
                                                                                            "type": "raise_statement",
                                                                                            "start_token": 73,
                                                                                            "end_token": 78,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 74,
                                                                                                    "end_token": 74,
                                                                                                    "children": [],
                                                                                                    "label": "ValueError"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 75,
                                                                                                    "end_token": 78,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "concatenated_string",
                                                                                                            "start_token": 76,
                                                                                                            "end_token": 77,
                                                                                                            "children": [],
                                                                                                            "label": "f\"The provided string '{string}' is not a valid list.\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(f\"The provided string '{string}' is not a valid list.\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "raise ValueError(f\"The provided string '{string}' is not a valid list.\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\n                logger.error(f\"The provided string '{string}' is not a valid list\")\n                raise ValueError(f\"The provided string '{string}' is not a valid list.\")"
                                                                                }
                                                                            ],
                                                                            "label": "else:\n                logger.error(f\"The provided string '{string}' is not a valid list\")\n                raise ValueError(f\"The provided string '{string}' is not a valid list.\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            # Use ast.literal_eval to safely evaluate the string\n            python_list = ast.literal_eval(string)\n            if isinstance(python_list, list):\n                logger.debug(f\"Successfully converted string to list: {python_list}\")\n                return python_list\n            else:\n                logger.error(f\"The provided string '{string}' is not a valid list\")\n                raise ValueError(f\"The provided string '{string}' is not a valid list.\")"
                                                                },
                                                                {
                                                                    "type": "except_clause",
                                                                    "start_token": 80,
                                                                    "end_token": 102,
                                                                    "children": [
                                                                        {
                                                                            "type": "expression_list",
                                                                            "start_token": 81,
                                                                            "end_token": 85,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 82,
                                                                                    "end_token": 82,
                                                                                    "children": [],
                                                                                    "label": "SyntaxError"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 84,
                                                                                    "end_token": 84,
                                                                                    "children": [],
                                                                                    "label": "ValueError"
                                                                                }
                                                                            ],
                                                                            "label": "(SyntaxError, ValueError)"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 87,
                                                                            "end_token": 87,
                                                                            "children": [],
                                                                            "label": "e"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 88,
                                                                            "end_token": 102,
                                                                            "children": [
                                                                                {
                                                                                    "type": "expression_statement",
                                                                                    "start_token": 90,
                                                                                    "end_token": 96,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 90,
                                                                                            "end_token": 96,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 90,
                                                                                                    "end_token": 92,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 90,
                                                                                                            "end_token": 90,
                                                                                                            "children": [],
                                                                                                            "label": "logger"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 92,
                                                                                                            "end_token": 92,
                                                                                                            "children": [],
                                                                                                            "label": "error"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "logger.error"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 93,
                                                                                                    "end_token": 96,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "concatenated_string",
                                                                                                            "start_token": 94,
                                                                                                            "end_token": 95,
                                                                                                            "children": [],
                                                                                                            "label": "f\"Failed to convert string to list: {e}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(f\"Failed to convert string to list: {e}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.error(f\"Failed to convert string to list: {e}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.error(f\"Failed to convert string to list: {e}\")"
                                                                                },
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 98,
                                                                                    "end_token": 102,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 99,
                                                                                            "end_token": 99,
                                                                                            "children": [],
                                                                                            "label": "ValueError"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 100,
                                                                                            "end_token": 102,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 101,
                                                                                                    "end_token": 101,
                                                                                                    "children": [],
                                                                                                    "label": "\"Invalid list format. Could not convert to list.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\"Invalid list format. Could not convert to list.\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise ValueError(\"Invalid list format. Could not convert to list.\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            logger.error(f\"Failed to convert string to list: {e}\")\n            raise ValueError(\"Invalid list format. Could not convert to list.\")"
                                                                        }
                                                                    ],
                                                                    "label": "except (SyntaxError, ValueError) as e:\n            logger.error(f\"Failed to convert string to list: {e}\")\n            raise ValueError(\"Invalid list format. Could not convert to list.\")"
                                                                }
                                                            ],
                                                            "label": "try:\n            # Use ast.literal_eval to safely evaluate the string\n            python_list = ast.literal_eval(string)\n            if isinstance(python_list, list):\n                logger.debug(f\"Successfully converted string to list: {python_list}\")\n                return python_list\n            else:\n                logger.error(f\"The provided string '{string}' is not a valid list\")\n                raise ValueError(f\"The provided string '{string}' is not a valid list.\")\n        except (SyntaxError, ValueError) as e:\n            logger.error(f\"Failed to convert string to list: {e}\")\n            raise ValueError(\"Invalid list format. Could not convert to list.\")"
                                                        }
                                                    ],
                                                    "label": "logger.debug(f\"Converting string to list. Input string: {string}\")\n        try:\n            # Use ast.literal_eval to safely evaluate the string\n            python_list = ast.literal_eval(string)\n            if isinstance(python_list, list):\n                logger.debug(f\"Successfully converted string to list: {python_list}\")\n                return python_list\n            else:\n                logger.error(f\"The provided string '{string}' is not a valid list\")\n                raise ValueError(f\"The provided string '{string}' is not a valid list.\")\n        except (SyntaxError, ValueError) as e:\n            logger.error(f\"Failed to convert string to list: {e}\")\n            raise ValueError(\"Invalid list format. Could not convert to list.\")"
                                                }
                                            ],
                                            "label": "def string_to_list(string):\n        \"\"\"\n        Converts a string representation of a list into an actual Python list object.\n        \"\"\"\n        logger.debug(f\"Converting string to list. Input string: {string}\")\n        try:\n            # Use ast.literal_eval to safely evaluate the string\n            python_list = ast.literal_eval(string)\n            if isinstance(python_list, list):\n                logger.debug(f\"Successfully converted string to list: {python_list}\")\n                return python_list\n            else:\n                logger.error(f\"The provided string '{string}' is not a valid list\")\n                raise ValueError(f\"The provided string '{string}' is not a valid list.\")\n        except (SyntaxError, ValueError) as e:\n            logger.error(f\"Failed to convert string to list: {e}\")\n            raise ValueError(\"Invalid list format. Could not convert to list.\")"
                                        }
                                    ],
                                    "label": "def string_to_list(string):\n        \"\"\"\n        Converts a string representation of a list into an actual Python list object.\n        \"\"\"\n        logger.debug(f\"Converting string to list. Input string: {string}\")\n        try:\n            # Use ast.literal_eval to safely evaluate the string\n            python_list = ast.literal_eval(string)\n            if isinstance(python_list, list):\n                logger.debug(f\"Successfully converted string to list: {python_list}\")\n                return python_list\n            else:\n                logger.error(f\"The provided string '{string}' is not a valid list\")\n                raise ValueError(f\"The provided string '{string}' is not a valid list.\")\n        except (SyntaxError, ValueError) as e:\n            logger.error(f\"Failed to convert string to list: {e}\")\n            raise ValueError(\"Invalid list format. Could not convert to list.\")"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run",
                            "start_line": 1004,
                            "end_line": 1125,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 468,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 384,
                                            "children": [
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 8,
                                                            "label": "self, input_data: Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 12,
                                                            "end_token": 14,
                                                            "label": "credentials: APIKeyCredentials"
                                                        },
                                                        {
                                                            "type": "parameters",
                                                            "start_token": 16,
                                                            "end_token": 18,
                                                            "label": "**kwargs"
                                                        }
                                                    ],
                                                    "label": "(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    )"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 22,
                                                    "end_token": 23,
                                                    "label": "> BlockOutput"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 24,
                                                    "end_token": 384,
                                                    "children": [
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 26,
                                                            "end_token": 32,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 26,
                                                                    "end_token": 32,
                                                                    "label": "logger.debug(f\"Starting AIListGeneratorBlock.run with input data: {input_data}\")"
                                                                }
                                                            ],
                                                            "label": "logger.debug(f\"Starting AIListGeneratorBlock.run with input data: {input_data}\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 41,
                                                            "end_token": 49,
                                                            "label": "api_key_check = credentials.api_key.get_secret_value()"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 51,
                                                            "end_token": 60,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 56,
                                                                    "end_token": 60,
                                                                    "label": "raise ValueError(\"No LLM API key provided.\")"
                                                                }
                                                            ],
                                                            "label": "if not api_key_check:\n            raise ValueError(\"No LLM API key provided.\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 69,
                                                            "end_token": 73,
                                                            "label": "sys_prompt = \"\"\"You are a Python list generator. Your task is to generate a Python list based on the user's prompt. \n            |Respond ONLY with a valid python list. \n            |The list can contain strings, numbers, or nested lists as appropriate. \n            |Do not include any explanations or additional text.\n\n            |Valid Example string formats:\n\n            |Example 1:\n            |```\n            |['1', '2', '3', '4']\n            |```\n\n            |Example 2:\n            |```\n            |[['1', '2'], ['3', '4'], ['5', '6']]\n            |```\n\n            |Example 3:\n            |```\n            |['1', ['2', '3'], ['4', ['5', '6']]]\n            |```\n\n            |Example 4:\n            |```\n            |['a', 'b', 'c']\n            |```\n\n            |Example 5:\n            |```\n            |['1', '2.5', 'string', 'True', ['False', 'None']]\n            |```\n\n            |Do not include any explanations or additional text, just respond with the list in the format specified above.\n            \"\"\""
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 88,
                                                            "end_token": 98,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 95,
                                                                    "end_token": 98,
                                                                    "label": "= f\"Generate a list with the following focus:\\n<focus>\\n\\n{input_data.focus}</focus>\"\n"
                                                                }
                                                            ],
                                                            "label": "if input_data.focus:\n            prompt = f\"Generate a list with the following focus:\\n<focus>\\n\\n{input_data.focus}</focus>\"\n"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 110,
                                                            "end_token": 119,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 117,
                                                                    "end_token": 119,
                                                                    "label": "= \"Extract the main focus of the source data to a list.\\ni.e if the source data is a news website, the focus would be the news stories rather than the social links in the footer.\"\n"
                                                                }
                                                            ],
                                                            "label": "if input_data.source_data:\n                prompt = \"Extract the main focus of the source data to a list.\\ni.e if the source data is a news website, the focus would be the news stories rather than the social links in the footer.\"\n"
                                                        },
                                                        {
                                                            "type": "else_clause",
                                                            "start_token": 120,
                                                            "end_token": 139,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 136,
                                                                    "end_token": 139,
                                                                    "label": "prompt = \"Generate a random list.\"\n"
                                                                }
                                                            ],
                                                            "label": "else:\n                # No focus or source data provided, generat a random list\n                prompt = \"Generate a random list.\"\n"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 155,
                                                            "end_token": 166,
                                                            "children": [
                                                                {
                                                                    "type": "augmented_assignment",
                                                                    "start_token": 161,
                                                                    "end_token": 166,
                                                                    "label": "prompt += f\"\\n\\nUse the following source data to generate the list from:\\n\\n<source_data>\\n\\n{input_data.source_data}</source_data>\\n\\nDo not invent fictional data that is not present in the source data.\"\n"
                                                                }
                                                            ],
                                                            "label": "if input_data.source_data:\n            prompt += f\"\\n\\nUse the following source data to generate the list from:\\n\\n<source_data>\\n\\n{input_data.source_data}</source_data>\\n\\nDo not invent fictional data that is not present in the source data.\"\n"
                                                        },
                                                        {
                                                            "type": "else_clause",
                                                            "start_token": 178,
                                                            "end_token": 185,
                                                            "children": [
                                                                {
                                                                    "type": "augmented_assignment",
                                                                    "start_token": 182,
                                                                    "end_token": 185,
                                                                    "label": "+= \"\\n\\nInvent the data to generate the list from.\"\n"
                                                                }
                                                            ],
                                                            "label": "else:\n            prompt += \"\\n\\nInvent the data to generate the list from.\"\n"
                                                        },
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 187,
                                                            "end_token": 383,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 198,
                                                                    "end_token": 383,
                                                                    "children": [
                                                                        {
                                                                            "type": "try_statement",
                                                                            "start_token": 198,
                                                                            "end_token": 384,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 200,
                                                                                    "end_token": 382,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "expression_statement",
                                                                                            "start_token": 201,
                                                                                            "end_token": 206,
                                                                                            "label": "logger.debug(\"Calling LLM\")"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 208,
                                                                                            "end_token": 268,
                                                                                            "label": "llm_response = self.llm_call(\n                    AIStructuredResponseGeneratorBlock.Input(\n                        sys_prompt=sys_prompt,\n                        prompt=prompt,\n                        credentials=input_data.credentials,\n                        model=input_data.model,\n                        expected_format={},  # Do not use structured response\n                        ollama_host=input_data.ollama_host,\n                    ),\n                    credentials=credentials"
                                                                                        },
                                                                                        {
                                                                                            "type": "expression_statement",
                                                                                            "start_token": 274,
                                                                                            "end_token": 280,
                                                                                            "label": "logger.debug(f\"LLM response: {llm_response}\")"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 288,
                                                                                            "end_token": 293,
                                                                                            "label": "response_string = llm_response[\"response\"]"
                                                                                        },
                                                                                        {
                                                                                            "type": "expression_statement",
                                                                                            "start_token": 295,
                                                                                            "end_token": 301,
                                                                                            "label": "logger.debug(f\"Response string: {response_string}\")"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 320,
                                                                                            "end_token": 327,
                                                                                            "label": "parsed_list = self.string_to_list(response_string)"
                                                                                        },
                                                                                        {
                                                                                            "type": "expression_statement",
                                                                                            "start_token": 329,
                                                                                            "end_token": 335,
                                                                                            "label": "logger.debug(f\"Parsed list: {parsed_list}\")"
                                                                                        },
                                                                                        {
                                                                                            "type": "expression_statement",
                                                                                            "start_token": 351,
                                                                                            "end_token": 356,
                                                                                            "label": "logger.debug(\"Successfully generated a valid Python list\")"
                                                                                        },
                                                                                        {
                                                                                            "type": "yield",
                                                                                            "start_token": 358,
                                                                                            "end_token": 361,
                                                                                            "label": "yield \"generated_list\", parsed_list"
                                                                                        },
                                                                                        {
                                                                                            "type": "for_statement",
                                                                                            "start_token": 372,
                                                                                            "end_token": 382,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "yield",
                                                                                                    "start_token": 378,
                                                                                                    "end_token": 381,
                                                                                                    "label": "yield \"list_item\", item"
                                                                                                }
                                                                                            ],
                                                                                            "label": "for item in parsed_list:\n                    yield \"list_item\", item\n"
                                                                                        },
                                                                                        {
                                                                                            "type": "return_statement",
                                                                                            "start_token": 383,
                                                                                            "end_token": 384,
                                                                                            "label": "return\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\n                logger.debug(\"Calling LLM\")\n                llm_response = self.llm_call(\n                    AIStructuredResponseGeneratorBlock.Input(\n                        sys_prompt=sys_prompt,\n                        prompt=prompt,\n                        credentials=input_data.credentials,\n                        model=input_data.model,\n                        expected_format={},  # Do not use structured response\n                        ollama_host=input_data.ollama_host,\n                    ),\n                    credentials=credentials,\n                )\n\n                logger.debug(f\"LLM response: {llm_response}\")\n\n                # Extract Response string\n                response_string = llm_response[\"response\"]\n                logger.debug(f\"Response string: {response_string}\")\n\n                # Convert the string to a Python list\n                logger.debug(\"Converting string to Python list\")\n                parsed_list = self.string_to_list(response_string)\n                logger.debug(f\"Parsed list: {parsed_list}\")\n\n                # If we reach here, we have a valid Python list\n                logger.debug(\"Successfully generated a valid Python list\")\n                yield \"generated_list\", parsed_list\n\n                # Yield each item in the list\n                for item in parsed_list:\n                    yield \"list_item\", item\n"
                                                                                },
                                                                                {
                                                                                    "type": "except_clause",
                                                                                    "start_token": 386,
                                                                                    "end_token": 428,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 391,
                                                                                            "end_token": 428,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "expression_statement",
                                                                                                    "start_token": 392,
                                                                                                    "end_token": 398,
                                                                                                    "label": "logger.error(f\"Error in attempt {attempt + 1}: {str(e)}\")"
                                                                                                },
                                                                                                {
                                                                                                    "type": "if_statement",
                                                                                                    "start_token": 400,
                                                                                                    "end_token": 428,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "expression_statement",
                                                                                                            "start_token": 411,
                                                                                                            "end_token": 419,
                                                                                                            "label": "logger.error(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts\"\n                    )"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "raise_statement",
                                                                                                            "start_token": 421,
                                                                                                            "end_token": 428,
                                                                                                            "label": "raise RuntimeError(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts. Last error: {str(e)}\"\n                    )"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "if attempt == input_data.max_retries - 1:\n                    logger.error(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts\"\n                    )\n                    raise RuntimeError(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts. Last error: {str(e)}\"\n                    )"
                                                                                                },
                                                                                                {
                                                                                                    "type": "else_clause",
                                                                                                    "start_token": 430,
                                                                                                    "end_token": 452,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "block",
                                                                                                            "start_token": 432,
                                                                                                            "end_token": 453,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "expression_statement",
                                                                                                                    "start_token": 439,
                                                                                                                    "end_token": 444,
                                                                                                                    "label": "logger.debug(\"Preparing retry prompt\")"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "assignment",
                                                                                                                    "start_token": 446,
                                                                                                                    "end_token": 451,
                                                                                                                    "label": "prompt = f\"\"\"\n                    The previous attempt failed due to `{e}`\n                    Generate a valid Python list based on the original prompt.\n                    Remember to respond ONLY with a valid Python list as per the format specified earlier.\n                    Original prompt: \n                    ```{prompt}```\n                    \n                    Respond only with the list in the format specified with no commentary or apologies.\n                    \"\"\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "expression_statement",
                                                                                                                    "start_token": 454,
                                                                                                                    "end_token": 459,
                                                                                                                    "label": ".debug(f\"Retry prompt: {prompt}\")"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\n                    # Add a retry prompt\n                    logger.debug(\"Preparing retry prompt\")\n                    prompt = f\"\"\"\n                    The previous attempt failed due to `{e}`\n                    Generate a valid Python list based on the original prompt.\n                    Remember to respond ONLY with a valid Python list as per the format specified earlier.\n                    Original prompt: \n                    ```{prompt}```\n                    \n                    Respond only with the list in the format specified with no commentary or apologies.\n                    \"\"\"\n                    logger"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "else:\n                    # Add a retry prompt\n                    logger.debug(\"Preparing retry prompt\")\n                    prompt = f\"\"\"\n                    The previous attempt failed due to `{e}`\n                    Generate a valid Python list based on the original prompt.\n                    Remember to respond ONLY with a valid Python list as per the format specified earlier.\n                    Original prompt: \n                    ```{prompt}```\n                    \n                    Respond only with the list in the format specified with no commentary or apologies.\n                    \"\"\"\n"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n                logger.error(f\"Error in attempt {attempt + 1}: {str(e)}\")\n                if attempt == input_data.max_retries - 1:\n                    logger.error(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts\"\n                    )\n                    raise RuntimeError(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts. Last error: {str(e)}\"\n                    )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "except Exception as e:\n                logger.error(f\"Error in attempt {attempt + 1}: {str(e)}\")\n                if attempt == input_data.max_retries - 1:\n                    logger.error(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts\"\n                    )\n                    raise RuntimeError(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts. Last error: {str(e)}\"\n                    )"
                                                                                }
                                                                            ],
                                                                            "label": "try:\n                logger.debug(\"Calling LLM\")\n                llm_response = self.llm_call(\n                    AIStructuredResponseGeneratorBlock.Input(\n                        sys_prompt=sys_prompt,\n                        prompt=prompt,\n                        credentials=input_data.credentials,\n                        model=input_data.model,\n                        expected_format={},  # Do not use structured response\n                        ollama_host=input_data.ollama_host,\n                    ),\n                    credentials=credentials,\n                )\n\n                logger.debug(f\"LLM response: {llm_response}\")\n\n                # Extract Response string\n                response_string = llm_response[\"response\"]\n                logger.debug(f\"Response string: {response_string}\")\n\n                # Convert the string to a Python list\n                logger.debug(\"Converting string to Python list\")\n                parsed_list = self.string_to_list(response_string)\n                logger.debug(f\"Parsed list: {parsed_list}\")\n\n                # If we reach here, we have a valid Python list\n                logger.debug(\"Successfully generated a valid Python list\")\n                yield \"generated_list\", parsed_list\n\n                # Yield each item in the list\n                for item in parsed_list:\n                    yield \"list_item\", item\n                return\n"
                                                                        }
                                                                    ],
                                                                    "label": "try:\n                logger.debug(\"Calling LLM\")\n                llm_response = self.llm_call(\n                    AIStructuredResponseGeneratorBlock.Input(\n                        sys_prompt=sys_prompt,\n                        prompt=prompt,\n                        credentials=input_data.credentials,\n                        model=input_data.model,\n                        expected_format={},  # Do not use structured response\n                        ollama_host=input_data.ollama_host,\n                    ),\n                    credentials=credentials,\n                )\n\n                logger.debug(f\"LLM response: {llm_response}\")\n\n                # Extract Response string\n                response_string = llm_response[\"response\"]\n                logger.debug(f\"Response string: {response_string}\")\n\n                # Convert the string to a Python list\n                logger.debug(\"Converting string to Python list\")\n                parsed_list = self.string_to_list(response_string)\n                logger.debug(f\"Parsed list: {parsed_list}\")\n\n                # If we reach here, we have a valid Python list\n                logger.debug(\"Successfully generated a valid Python list\")\n                yield \"generated_list\", parsed_list\n\n                # Yield each item in the list\n                for item in parsed_list:\n                    yield \"list_item\", item\n                return"
                                                                }
                                                            ],
                                                            "label": "for attempt in range(input_data.max_retries):\n            try:\n                logger.debug(\"Calling LLM\")\n                llm_response = self.llm_call(\n                    AIStructuredResponseGeneratorBlock.Input(\n                        sys_prompt=sys_prompt,\n                        prompt=prompt,\n                        credentials=input_data.credentials,\n                        model=input_data.model,\n                        expected_format={},  # Do not use structured response\n                        ollama_host=input_data.ollama_host,\n                    ),\n                    credentials=credentials,\n                )\n\n                logger.debug(f\"LLM response: {llm_response}\")\n\n                # Extract Response string\n                response_string = llm_response[\"response\"]\n                logger.debug(f\"Response string: {response_string}\")\n\n                # Convert the string to a Python list\n                logger.debug(\"Converting string to Python list\")\n                parsed_list = self.string_to_list(response_string)\n                logger.debug(f\"Parsed list: {parsed_list}\")\n\n                # If we reach here, we have a valid Python list\n                logger.debug(\"Successfully generated a valid Python list\")\n                yield \"generated_list\", parsed_list\n\n                # Yield each item in the list\n                for item in parsed_list:\n                    yield \"list_item\", item\n                return"
                                                        }
                                                    ],
                                                    "label": ":\n        logger.debug(f\"Starting AIListGeneratorBlock.run with input data: {input_data}\")\n\n        # Check for API key\n        api_key_check = credentials.api_key.get_secret_value()\n        if not api_key_check:\n            raise ValueError(\"No LLM API key provided.\")\n\n        # Prepare the system prompt\n        sys_prompt = \"\"\"You are a Python list generator. Your task is to generate a Python list based on the user's prompt. \n            |Respond ONLY with a valid python list. \n            |The list can contain strings, numbers, or nested lists as appropriate. \n            |Do not include any explanations or additional text.\n\n            |Valid Example string formats:\n\n            |Example 1:\n            |```\n            |['1', '2', '3', '4']\n            |```\n\n            |Example 2:\n            |```\n            |[['1', '2'], ['3', '4'], ['5', '6']]\n            |```\n\n            |Example 3:\n            |```\n            |['1', ['2', '3'], ['4', ['5', '6']]]\n            |```\n\n            |Example 4:\n            |```\n            |['a', 'b', 'c']\n            |```\n\n            |Example 5:\n            |```\n            |['1', '2.5', 'string', 'True', ['False', 'None']]\n            |```\n\n            |Do not include any explanations or additional text, just respond with the list in the format specified above.\n            \"\"\"\n        # If a focus is provided, add it to the prompt\n        if input_data.focus:\n            prompt = f\"Generate a list with the following focus:\\n<focus>\\n\\n{input_data.focus}</focus>\"\n        else:\n            # If there's source data\n            if input_data.source_data:\n                prompt = \"Extract the main focus of the source data to a list.\\ni.e if the source data is a news website, the focus would be the news stories rather than the social links in the footer.\"\n            else:\n                # No focus or source data provided, generat a random list\n                prompt = \"Generate a random list.\"\n\n        # If the source data is provided, add it to the prompt\n        if input_data.source_data:\n            prompt += f\"\\n\\nUse the following source data to generate the list from:\\n\\n<source_data>\\n\\n{input_data.source_data}</source_data>\\n\\nDo not invent fictional data that is not present in the source data.\"\n        # Else, tell the LLM to synthesize the data\n        else:\n            prompt += \"\\n\\nInvent the data to generate the list from.\"\n\n        for attempt in range(input_data.max_retries):\n            try:\n                logger.debug(\"Calling LLM\")\n                llm_response = self.llm_call(\n                    AIStructuredResponseGeneratorBlock.Input(\n                        sys_prompt=sys_prompt,\n                        prompt=prompt,\n                        credentials=input_data.credentials,\n                        model=input_data.model,\n                        expected_format={},  # Do not use structured response\n                        ollama_host=input_data.ollama_host,\n                    ),\n                    credentials=credentials,\n                )\n\n                logger.debug(f\"LLM response: {llm_response}\")\n\n                # Extract Response string\n                response_string = llm_response[\"response\"]\n                logger.debug(f\"Response string: {response_string}\")\n\n                # Convert the string to a Python list\n                logger.debug(\"Converting string to Python list\")\n                parsed_list = self.string_to_list(response_string)\n                logger.debug(f\"Parsed list: {parsed_list}\")\n\n                # If we reach here, we have a valid Python list\n                logger.debug(\"Successfully generated a valid Python list\")\n                yield \"generated_list\", parsed_list\n\n                # Yield each item in the list\n                for item in parsed_list:\n                    yield \"list_item\", item\n                return\n"
                                                }
                                            ],
                                            "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        logger.debug(f\"Starting AIListGeneratorBlock.run with input data: {input_data}\")\n\n        # Check for API key\n        api_key_check = credentials.api_key.get_secret_value()\n        if not api_key_check:\n            raise ValueError(\"No LLM API key provided.\")\n\n        # Prepare the system prompt\n        sys_prompt = \"\"\"You are a Python list generator. Your task is to generate a Python list based on the user's prompt. \n            |Respond ONLY with a valid python list. \n            |The list can contain strings, numbers, or nested lists as appropriate. \n            |Do not include any explanations or additional text.\n\n            |Valid Example string formats:\n\n            |Example 1:\n            |```\n            |['1', '2', '3', '4']\n            |```\n\n            |Example 2:\n            |```\n            |[['1', '2'], ['3', '4'], ['5', '6']]\n            |```\n\n            |Example 3:\n            |```\n            |['1', ['2', '3'], ['4', ['5', '6']]]\n            |```\n\n            |Example 4:\n            |```\n            |['a', 'b', 'c']\n            |```\n\n            |Example 5:\n            |```\n            |['1', '2.5', 'string', 'True', ['False', 'None']]\n            |```\n\n            |Do not include any explanations or additional text, just respond with the list in the format specified above.\n            \"\"\"\n        # If a focus is provided, add it to the prompt\n        if input_data.focus:\n            prompt = f\"Generate a list with the following focus:\\n<focus>\\n\\n{input_data.focus}</focus>\"\n        else:\n            # If there's source data\n            if input_data.source_data:\n                prompt = \"Extract the main focus of the source data to a list.\\ni.e if the source data is a news website, the focus would be the news stories rather than the social links in the footer.\"\n            else:\n                # No focus or source data provided, generat a random list\n                prompt = \"Generate a random list.\"\n\n        # If the source data is provided, add it to the prompt\n        if input_data.source_data:\n            prompt += f\"\\n\\nUse the following source data to generate the list from:\\n\\n<source_data>\\n\\n{input_data.source_data}</source_data>\\n\\nDo not invent fictional data that is not present in the source data.\"\n        # Else, tell the LLM to synthesize the data\n        else:\n            prompt += \"\\n\\nInvent the data to generate the list from.\"\n\n        for attempt in range(input_data.max_retries):\n            try:\n                logger.debug(\"Calling LLM\")\n                llm_response = self.llm_call(\n                    AIStructuredResponseGeneratorBlock.Input(\n                        sys_prompt=sys_prompt,\n                        prompt=prompt,\n                        credentials=input_data.credentials,\n                        model=input_data.model,\n                        expected_format={},  # Do not use structured response\n                        ollama_host=input_data.ollama_host,\n                    ),\n                    credentials=credentials,\n                )\n\n                logger.debug(f\"LLM response: {llm_response}\")\n\n                # Extract Response string\n                response_string = llm_response[\"response\"]\n                logger.debug(f\"Response string: {response_string}\")\n\n                # Convert the string to a Python list\n                logger.debug(\"Converting string to Python list\")\n                parsed_list = self.string_to_list(response_string)\n                logger.debug(f\"Parsed list: {parsed_list}\")\n\n                # If we reach here, we have a valid Python list\n                logger.debug(\"Successfully generated a valid Python list\")\n                yield \"generated_list\", parsed_list\n\n                # Yield each item in the list\n                for item in parsed_list:\n                    yield \"list_item\", item\n                return\n"
                                        },
                                        {
                                            "type": "expression_statement",
                                            "start_token": 462,
                                            "end_token": 467,
                                            "label": "logger.debug(\"AIListGeneratorBlock.run completed\")"
                                        }
                                    ],
                                    "label": "def run(\n        self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs\n    ) -> BlockOutput:\n        logger.debug(f\"Starting AIListGeneratorBlock.run with input data: {input_data}\")\n\n        # Check for API key\n        api_key_check = credentials.api_key.get_secret_value()\n        if not api_key_check:\n            raise ValueError(\"No LLM API key provided.\")\n\n        # Prepare the system prompt\n        sys_prompt = \"\"\"You are a Python list generator. Your task is to generate a Python list based on the user's prompt. \n            |Respond ONLY with a valid python list. \n            |The list can contain strings, numbers, or nested lists as appropriate. \n            |Do not include any explanations or additional text.\n\n            |Valid Example string formats:\n\n            |Example 1:\n            |```\n            |['1', '2', '3', '4']\n            |```\n\n            |Example 2:\n            |```\n            |[['1', '2'], ['3', '4'], ['5', '6']]\n            |```\n\n            |Example 3:\n            |```\n            |['1', ['2', '3'], ['4', ['5', '6']]]\n            |```\n\n            |Example 4:\n            |```\n            |['a', 'b', 'c']\n            |```\n\n            |Example 5:\n            |```\n            |['1', '2.5', 'string', 'True', ['False', 'None']]\n            |```\n\n            |Do not include any explanations or additional text, just respond with the list in the format specified above.\n            \"\"\"\n        # If a focus is provided, add it to the prompt\n        if input_data.focus:\n            prompt = f\"Generate a list with the following focus:\\n<focus>\\n\\n{input_data.focus}</focus>\"\n        else:\n            # If there's source data\n            if input_data.source_data:\n                prompt = \"Extract the main focus of the source data to a list.\\ni.e if the source data is a news website, the focus would be the news stories rather than the social links in the footer.\"\n            else:\n                # No focus or source data provided, generat a random list\n                prompt = \"Generate a random list.\"\n\n        # If the source data is provided, add it to the prompt\n        if input_data.source_data:\n            prompt += f\"\\n\\nUse the following source data to generate the list from:\\n\\n<source_data>\\n\\n{input_data.source_data}</source_data>\\n\\nDo not invent fictional data that is not present in the source data.\"\n        # Else, tell the LLM to synthesize the data\n        else:\n            prompt += \"\\n\\nInvent the data to generate the list from.\"\n\n        for attempt in range(input_data.max_retries):\n            try:\n                logger.debug(\"Calling LLM\")\n                llm_response = self.llm_call(\n                    AIStructuredResponseGeneratorBlock.Input(\n                        sys_prompt=sys_prompt,\n                        prompt=prompt,\n                        credentials=input_data.credentials,\n                        model=input_data.model,\n                        expected_format={},  # Do not use structured response\n                        ollama_host=input_data.ollama_host,\n                    ),\n                    credentials=credentials,\n                )\n\n                logger.debug(f\"LLM response: {llm_response}\")\n\n                # Extract Response string\n                response_string = llm_response[\"response\"]\n                logger.debug(f\"Response string: {response_string}\")\n\n                # Convert the string to a Python list\n                logger.debug(\"Converting string to Python list\")\n                parsed_list = self.string_to_list(response_string)\n                logger.debug(f\"Parsed list: {parsed_list}\")\n\n                # If we reach here, we have a valid Python list\n                logger.debug(\"Successfully generated a valid Python list\")\n                yield \"generated_list\", parsed_list\n\n                # Yield each item in the list\n                for item in parsed_list:\n                    yield \"list_item\", item\n                return\n\n            except Exception as e:\n                logger.error(f\"Error in attempt {attempt + 1}: {str(e)}\")\n                if attempt == input_data.max_retries - 1:\n                    logger.error(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts\"\n                    )\n                    raise RuntimeError(\n                        f\"Failed to generate a valid Python list after {input_data.max_retries} attempts. Last error: {str(e)}\"\n                    )\n                else:\n                    # Add a retry prompt\n                    logger.debug(\"Preparing retry prompt\")\n                    prompt = f\"\"\"\n                    The previous attempt failed due to `{e}`\n                    Generate a valid Python list based on the original prompt.\n                    Remember to respond ONLY with a valid Python list as per the format specified earlier.\n                    Original prompt: \n                    ```{prompt}```\n                    \n                    Respond only with the list in the format specified with no commentary or apologies.\n                    \"\"\"\n                    logger.debug(f\"Retry prompt: {prompt}\")\n\n        logger.debug(\"AIListGeneratorBlock.run completed\")\n"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Input",
                            "start_line": 890,
                            "end_line": 925,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 185,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 185,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "Input"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "children": [],
                                                    "label": "BlockSchema"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 5,
                                                    "end_token": 185,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 36,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": "focus: str"
                                                                },
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "None"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 13,
                                                                    "end_token": 36,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 13,
                                                                            "end_token": 13,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 14,
                                                                            "end_token": 36,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 16,
                                                                                    "end_token": 18,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 16,
                                                                                            "end_token": 16,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 18,
                                                                                            "end_token": 18,
                                                                                            "children": [],
                                                                                            "label": "\"The focus of the list to generate.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The focus of the list to generate.\""
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 21,
                                                                                    "end_token": 23,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 21,
                                                                                            "end_token": 21,
                                                                                            "children": [],
                                                                                            "label": "placeholder"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 23,
                                                                                            "end_token": 23,
                                                                                            "children": [],
                                                                                            "label": "\"The top 5 most interesting news stories in the data.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "placeholder=\"The top 5 most interesting news stories in the data.\""
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 26,
                                                                                    "end_token": 28,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 26,
                                                                                            "end_token": 26,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "none",
                                                                                            "start_token": 28,
                                                                                            "end_token": 28,
                                                                                            "children": [],
                                                                                            "label": "None"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=None"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 31,
                                                                                    "end_token": 33,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 31,
                                                                                            "end_token": 31,
                                                                                            "children": [],
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "false",
                                                                                            "start_token": 33,
                                                                                            "end_token": 33,
                                                                                            "children": [],
                                                                                            "label": "False"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=False"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"The focus of the list to generate.\",\n            placeholder=\"The top 5 most interesting news stories in the data.\",\n            default=None,\n            advanced=False,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"The focus of the list to generate.\",\n            placeholder=\"The top 5 most interesting news stories in the data.\",\n            default=None,\n            advanced=False,\n        )"
                                                                }
                                                            ],
                                                            "label": "focus: str | None = SchemaField(\n            description=\"The focus of the list to generate.\",\n            placeholder=\"The top 5 most interesting news stories in the data.\",\n            default=None,\n            advanced=False,\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 38,
                                                            "end_token": 67,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 38,
                                                                    "end_token": 40,
                                                                    "children": [],
                                                                    "label": "source_data: str"
                                                                },
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 42,
                                                                    "end_token": 42,
                                                                    "children": [],
                                                                    "label": "None"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 44,
                                                                    "end_token": 67,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 44,
                                                                            "end_token": 44,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 45,
                                                                            "end_token": 67,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 47,
                                                                                    "end_token": 49,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 47,
                                                                                            "end_token": 47,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 49,
                                                                                            "end_token": 49,
                                                                                            "children": [],
                                                                                            "label": "\"The data to generate the list from.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The data to generate the list from.\""
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 52,
                                                                                    "end_token": 54,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 52,
                                                                                            "end_token": 52,
                                                                                            "children": [],
                                                                                            "label": "placeholder"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 54,
                                                                                            "end_token": 54,
                                                                                            "children": [],
                                                                                            "label": "\"News Today: Humans land on Mars: Today humans landed on mars. -- AI wins Nobel Prize: AI wins Nobel Prize for solving world hunger. -- New AI Model: A new AI model has been released.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "placeholder=\"News Today: Humans land on Mars: Today humans landed on mars. -- AI wins Nobel Prize: AI wins Nobel Prize for solving world hunger. -- New AI Model: A new AI model has been released.\""
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 57,
                                                                                    "end_token": 59,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 57,
                                                                                            "end_token": 57,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "none",
                                                                                            "start_token": 59,
                                                                                            "end_token": 59,
                                                                                            "children": [],
                                                                                            "label": "None"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=None"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 62,
                                                                                    "end_token": 64,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 62,
                                                                                            "end_token": 62,
                                                                                            "children": [],
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "false",
                                                                                            "start_token": 64,
                                                                                            "end_token": 64,
                                                                                            "children": [],
                                                                                            "label": "False"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=False"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"The data to generate the list from.\",\n            placeholder=\"News Today: Humans land on Mars: Today humans landed on mars. -- AI wins Nobel Prize: AI wins Nobel Prize for solving world hunger. -- New AI Model: A new AI model has been released.\",\n            default=None,\n            advanced=False,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"The data to generate the list from.\",\n            placeholder=\"News Today: Humans land on Mars: Today humans landed on mars. -- AI wins Nobel Prize: AI wins Nobel Prize for solving world hunger. -- New AI Model: A new AI model has been released.\",\n            default=None,\n            advanced=False,\n        )"
                                                                }
                                                            ],
                                                            "label": "source_data: str | None = SchemaField(\n            description=\"The data to generate the list from.\",\n            placeholder=\"News Today: Humans land on Mars: Today humans landed on mars. -- AI wins Nobel Prize: AI wins Nobel Prize for solving world hunger. -- New AI Model: A new AI model has been released.\",\n            default=None,\n            advanced=False,\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 69,
                                                            "end_token": 98,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 69,
                                                                    "end_token": 71,
                                                                    "children": [],
                                                                    "label": "model: LlmModel"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 73,
                                                                    "end_token": 98,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 73,
                                                                            "end_token": 73,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 74,
                                                                            "end_token": 98,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 76,
                                                                                    "end_token": 78,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 76,
                                                                                            "end_token": 76,
                                                                                            "children": [],
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 78,
                                                                                            "end_token": 78,
                                                                                            "children": [],
                                                                                            "label": "\"LLM Model\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"LLM Model\""
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 81,
                                                                                    "end_token": 83,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 81,
                                                                                            "end_token": 81,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 83,
                                                                                            "end_token": 85,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 83,
                                                                                                    "end_token": 84,
                                                                                                    "children": [],
                                                                                                    "label": "LlmModel."
                                                                                                }
                                                                                            ],
                                                                                            "label": "LlmModel.GPT4_TURBO"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=LlmModel"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 88,
                                                                                    "end_token": 90,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 88,
                                                                                            "end_token": 88,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 90,
                                                                                            "end_token": 90,
                                                                                            "children": [],
                                                                                            "label": "\"The language model to use for generating the list.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The language model to use for generating the list.\""
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 93,
                                                                                    "end_token": 95,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 93,
                                                                                            "end_token": 93,
                                                                                            "children": [],
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "true",
                                                                                            "start_token": 95,
                                                                                            "end_token": 95,
                                                                                            "children": [],
                                                                                            "label": "True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=True"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for generating the list.\",\n            advanced=True,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for generating the list.\",\n            advanced=True,\n        )"
                                                                }
                                                            ],
                                                            "label": "model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for generating the list.\",\n            advanced=True,\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 100,
                                                            "end_token": 106,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 100,
                                                                    "end_token": 102,
                                                                    "children": [],
                                                                    "label": "credentials: AICredentials"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 104,
                                                                    "end_token": 106,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 104,
                                                                            "end_token": 104,
                                                                            "children": [],
                                                                            "label": "AICredentialsField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 105,
                                                                            "end_token": 106,
                                                                            "children": [],
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "AICredentialsField()"
                                                                }
                                                            ],
                                                            "label": "credentials: AICredentials = AICredentialsField()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 108,
                                                            "end_token": 135,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 108,
                                                                    "end_token": 110,
                                                                    "children": [],
                                                                    "label": "max_retries: int"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 112,
                                                                    "end_token": 135,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 112,
                                                                            "end_token": 112,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 113,
                                                                            "end_token": 135,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 115,
                                                                                    "end_token": 117,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 115,
                                                                                            "end_token": 115,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 117,
                                                                                            "end_token": 117,
                                                                                            "children": [],
                                                                                            "label": "3"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=3"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 120,
                                                                                    "end_token": 122,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 120,
                                                                                            "end_token": 120,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 122,
                                                                                            "end_token": 122,
                                                                                            "children": [],
                                                                                            "label": "\"Maximum number of retries for generating a valid list.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Maximum number of retries for generating a valid list.\""
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 125,
                                                                                    "end_token": 127,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 125,
                                                                                            "end_token": 125,
                                                                                            "children": [],
                                                                                            "label": "ge"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 127,
                                                                                            "end_token": 127,
                                                                                            "children": [],
                                                                                            "label": "1"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ge=1"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 130,
                                                                                    "end_token": 132,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 130,
                                                                                            "end_token": 130,
                                                                                            "children": [],
                                                                                            "label": "le"
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "start_token": 132,
                                                                                            "end_token": 132,
                                                                                            "children": [],
                                                                                            "label": "5"
                                                                                        }
                                                                                    ],
                                                                                    "label": "le=5"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            default=3,\n            description=\"Maximum number of retries for generating a valid list.\",\n            ge=1,\n            le=5,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            default=3,\n            description=\"Maximum number of retries for generating a valid list.\",\n            ge=1,\n            le=5,\n        )"
                                                                }
                                                            ],
                                                            "label": "max_retries: int = SchemaField(\n            default=3,\n            description=\"Maximum number of retries for generating a valid list.\",\n            ge=1,\n            le=5,\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 137,
                                                            "end_token": 161,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 137,
                                                                    "end_token": 139,
                                                                    "children": [],
                                                                    "label": "max_tokens: int"
                                                                },
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 141,
                                                                    "end_token": 141,
                                                                    "children": [],
                                                                    "label": "None"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 143,
                                                                    "end_token": 161,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 143,
                                                                            "end_token": 143,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 144,
                                                                            "end_token": 161,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 146,
                                                                                    "end_token": 148,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 146,
                                                                                            "end_token": 146,
                                                                                            "children": [],
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "true",
                                                                                            "start_token": 148,
                                                                                            "end_token": 148,
                                                                                            "children": [],
                                                                                            "label": "True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=True"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 151,
                                                                                    "end_token": 153,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 151,
                                                                                            "end_token": 151,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "none",
                                                                                            "start_token": 153,
                                                                                            "end_token": 153,
                                                                                            "children": [],
                                                                                            "label": "None"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=None"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 156,
                                                                                    "end_token": 158,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 156,
                                                                                            "end_token": 156,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 158,
                                                                                            "end_token": 158,
                                                                                            "children": [],
                                                                                            "label": "\"The maximum number of tokens to generate in the chat completion.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The maximum number of tokens to generate in the chat completion.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 163,
                                                            "end_token": 185,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 163,
                                                                    "end_token": 165,
                                                                    "children": [],
                                                                    "label": "ollama_host: str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 167,
                                                                    "end_token": 185,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 167,
                                                                            "end_token": 167,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 168,
                                                                            "end_token": 185,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 170,
                                                                                    "end_token": 172,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 170,
                                                                                            "end_token": 170,
                                                                                            "children": [],
                                                                                            "label": "advanced"
                                                                                        },
                                                                                        {
                                                                                            "type": "true",
                                                                                            "start_token": 172,
                                                                                            "end_token": 172,
                                                                                            "children": [],
                                                                                            "label": "True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "advanced=True"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 175,
                                                                                    "end_token": 177,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 175,
                                                                                            "end_token": 175,
                                                                                            "children": [],
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 177,
                                                                                            "end_token": 177,
                                                                                            "children": [],
                                                                                            "label": "\"localhost:11434\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=\"localhost:11434\""
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 180,
                                                                                    "end_token": 182,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 180,
                                                                                            "end_token": 180,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 182,
                                                                                            "end_token": 182,
                                                                                            "children": [],
                                                                                            "label": "\"Ollama host for local  models\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Ollama host for local  models\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                                }
                                                            ],
                                                            "label": "ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                        }
                                                    ],
                                                    "label": ":\n        focus: str | None = SchemaField(\n            description=\"The focus of the list to generate.\",\n            placeholder=\"The top 5 most interesting news stories in the data.\",\n            default=None,\n            advanced=False,\n        )\n        source_data: str | None = SchemaField(\n            description=\"The data to generate the list from.\",\n            placeholder=\"News Today: Humans land on Mars: Today humans landed on mars. -- AI wins Nobel Prize: AI wins Nobel Prize for solving world hunger. -- New AI Model: A new AI model has been released.\",\n            default=None,\n            advanced=False,\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for generating the list.\",\n            advanced=True,\n        )\n        credentials: AICredentials = AICredentialsField()\n        max_retries: int = SchemaField(\n            default=3,\n            description=\"Maximum number of retries for generating a valid list.\",\n            ge=1,\n            le=5,\n        )\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                                }
                                            ],
                                            "label": "class Input(BlockSchema):\n        focus: str | None = SchemaField(\n            description=\"The focus of the list to generate.\",\n            placeholder=\"The top 5 most interesting news stories in the data.\",\n            default=None,\n            advanced=False,\n        )\n        source_data: str | None = SchemaField(\n            description=\"The data to generate the list from.\",\n            placeholder=\"News Today: Humans land on Mars: Today humans landed on mars. -- AI wins Nobel Prize: AI wins Nobel Prize for solving world hunger. -- New AI Model: A new AI model has been released.\",\n            default=None,\n            advanced=False,\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for generating the list.\",\n            advanced=True,\n        )\n        credentials: AICredentials = AICredentialsField()\n        max_retries: int = SchemaField(\n            default=3,\n            description=\"Maximum number of retries for generating a valid list.\",\n            ge=1,\n            le=5,\n        )\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                        }
                                    ],
                                    "label": "class Input(BlockSchema):\n        focus: str | None = SchemaField(\n            description=\"The focus of the list to generate.\",\n            placeholder=\"The top 5 most interesting news stories in the data.\",\n            default=None,\n            advanced=False,\n        )\n        source_data: str | None = SchemaField(\n            description=\"The data to generate the list from.\",\n            placeholder=\"News Today: Humans land on Mars: Today humans landed on mars. -- AI wins Nobel Prize: AI wins Nobel Prize for solving world hunger. -- New AI Model: A new AI model has been released.\",\n            default=None,\n            advanced=False,\n        )\n        model: LlmModel = SchemaField(\n            title=\"LLM Model\",\n            default=LlmModel.GPT4_TURBO,\n            description=\"The language model to use for generating the list.\",\n            advanced=True,\n        )\n        credentials: AICredentials = AICredentialsField()\n        max_retries: int = SchemaField(\n            default=3,\n            description=\"Maximum number of retries for generating a valid list.\",\n            ge=1,\n            le=5,\n        )\n        max_tokens: int | None = SchemaField(\n            advanced=True,\n            default=None,\n            description=\"The maximum number of tokens to generate in the chat completion.\",\n        )\n        ollama_host: str = SchemaField(\n            advanced=True,\n            default=\"localhost:11434\",\n            description=\"Ollama host for local  models\",\n        )"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Output",
                            "start_line": 927,
                            "end_line": 934,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 46,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 46,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "Output"
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 46,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 19,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "generated_list"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 9,
                                                                    "end_token": 12,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "children": [],
                                                                            "label": "List"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "List[str]"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 14,
                                                                    "end_token": 19,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 14,
                                                                            "end_token": 14,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 15,
                                                                            "end_token": 19,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 16,
                                                                                    "end_token": 18,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 16,
                                                                                            "end_token": 16,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 18,
                                                                                            "end_token": 18,
                                                                                            "children": [],
                                                                                            "label": "\"The generated list.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The generated list.\""
                                                                                }
                                                                            ],
                                                                            "label": "(description=\"The generated list.\")"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(description=\"The generated list.\")"
                                                                }
                                                            ],
                                                            "label": "generated_list: List[str] = SchemaField(description=\"The generated list.\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 21,
                                                            "end_token": 33,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "children": [],
                                                                    "label": "list_item"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 23,
                                                                    "end_token": 23,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 25,
                                                                    "end_token": 33,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 25,
                                                                            "end_token": 25,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 26,
                                                                            "end_token": 33,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 28,
                                                                                    "end_token": 30,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 28,
                                                                                            "end_token": 28,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 30,
                                                                                            "end_token": 30,
                                                                                            "children": [],
                                                                                            "label": "\"Each individual item in the list.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Each individual item in the list.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"Each individual item in the list.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"Each individual item in the list.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "list_item: str = SchemaField(\n            description=\"Each individual item in the list.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 35,
                                                            "end_token": 46,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 35,
                                                                    "end_token": 35,
                                                                    "children": [],
                                                                    "label": "error"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 37,
                                                                    "end_token": 37,
                                                                    "children": [],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 39,
                                                                    "end_token": 46,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 39,
                                                                            "end_token": 39,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 40,
                                                                            "end_token": 46,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 42,
                                                                                    "end_token": 44,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 42,
                                                                                            "end_token": 42,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 44,
                                                                                            "end_token": 44,
                                                                                            "children": [],
                                                                                            "label": "\"Error message if the list generation failed.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Error message if the list generation failed.\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"Error message if the list generation failed.\"\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"Error message if the list generation failed.\"\n        )"
                                                                }
                                                            ],
                                                            "label": "error: str = SchemaField(\n            description=\"Error message if the list generation failed.\"\n        )"
                                                        }
                                                    ],
                                                    "label": "\n        generated_list: List[str] = SchemaField(description=\"The generated list.\")\n        list_item: str = SchemaField(\n            description=\"Each individual item in the list.\",\n        )\n        error: str = SchemaField(\n            description=\"Error message if the list generation failed.\"\n        )"
                                                }
                                            ],
                                            "label": "class Output(BlockSchema):\n        generated_list: List[str] = SchemaField(description=\"The generated list.\")\n        list_item: str = SchemaField(\n            description=\"Each individual item in the list.\",\n        )\n        error: str = SchemaField(\n            description=\"Error message if the list generation failed.\"\n        )"
                                        }
                                    ],
                                    "label": "class Output(BlockSchema):\n        generated_list: List[str] = SchemaField(description=\"The generated list.\")\n        list_item: str = SchemaField(\n            description=\"Each individual item in the list.\",\n        )\n        error: str = SchemaField(\n            description=\"Error message if the list generation failed.\"\n        )"
                                }
                            ]
                        }
                    ],
                    "label": "class AIListGeneratorBlock(Block):\n\n\n\n    @staticmethod\n\n    @staticmethod\n"
                }
            ]
        }
    ],
    "label": "import ast\nimport logging\nfrom enum import Enum, EnumMeta\nfrom json import JSONDecodeError\nfrom types import MappingProxyType\nfrom typing import TYPE_CHECKING, Any, List, Literal, NamedTuple\n\nfrom pydantic import SecretStr\n\nfrom backend.integrations.providers import ProviderName\n\nif TYPE_CHECKING:\n    from enum import _EnumMemberT\n\nimport anthropic\nimport ollama\nimport openai\nfrom groq import Groq\n\nfrom backend.data.block import Block, BlockCategory, BlockOutput, BlockSchema\nfrom backend.data.model import (\n    APIKeyCredentials,\n    CredentialsField,\n    CredentialsMetaInput,\n    SchemaField,\n)\nfrom backend.util import json\nfrom backend.util.settings import BehaveAs, Settings\n\nlogger = logging.getLogger(__name__)\n\nLLMProviderName = Literal[\n    ProviderName.ANTHROPIC,\n    ProviderName.GROQ,\n    ProviderName.OLLAMA,\n    ProviderName.OPENAI,\n    ProviderName.OPEN_ROUTER,\n]\nAICredentials = CredentialsMetaInput[LLMProviderName, Literal[\"api_key\"]]\n\nTEST_CREDENTIALS = APIKeyCredentials(\n    id=\"ed55ac19-356e-4243-a6cb-bc599e9b716f\",\n    provider=\"openai\",\n    api_key=SecretStr(\"mock-openai-api-key\"),\n    title=\"Mock OpenAI API key\",\n    expires_at=None,\n)\nTEST_CREDENTIALS_INPUT = {\n    \"provider\": TEST_CREDENTIALS.provider,\n    \"id\": TEST_CREDENTIALS.id,\n    \"type\": TEST_CREDENTIALS.type,\n    \"title\": TEST_CREDENTIALS.title,\n}\n\n\n\n\n\n\n\n\n}\n\nfor model in LlmModel:\n    if model not in MODEL_METADATA:\n        raise ValueError(f\"Missing MODEL_METADATA metadata for model: {model}\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
}