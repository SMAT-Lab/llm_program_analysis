{
    "type": "module",
    "start_token": 0,
    "end_token": 99,
    "children": [
        {
            "type": "import_statement",
            "start_token": 0,
            "end_token": 1,
            "children": [],
            "label": "import logging"
        },
        {
            "type": "import_statement",
            "start_token": 3,
            "end_token": 4,
            "children": [],
            "label": "import uuid"
        },
        {
            "type": "import_from_statement",
            "start_token": 6,
            "end_token": 11,
            "children": [],
            "label": "from datetime import datetime, timezone"
        },
        {
            "type": "import_from_statement",
            "start_token": 13,
            "end_token": 18,
            "children": [],
            "label": "from typing import List, Optional"
        },
        {
            "type": "import_from_statement",
            "start_token": 21,
            "end_token": 28,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 22,
                    "end_token": 26,
                    "children": [],
                    "label": "autogpt_libs.api_key.key_manager"
                }
            ],
            "label": "from autogpt_libs.api_key.key_manager import APIKeyManager"
        },
        {
            "type": "import_from_statement",
            "start_token": 30,
            "end_token": 37,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 31,
                    "end_token": 33,
                    "children": [],
                    "label": "prisma.enums"
                }
            ],
            "label": "from prisma.enums import APIKeyPermission, APIKeyStatus"
        },
        {
            "type": "import_from_statement",
            "start_token": 39,
            "end_token": 44,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 40,
                    "end_token": 42,
                    "children": [],
                    "label": "prisma.errors"
                }
            ],
            "label": "from prisma.errors import PrismaError"
        },
        {
            "type": "import_from_statement",
            "start_token": 46,
            "end_token": 53,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 47,
                    "end_token": 49,
                    "children": [],
                    "label": "prisma.models"
                },
                {
                    "type": "aliased_import",
                    "start_token": 51,
                    "end_token": 53,
                    "children": [],
                    "label": "APIKey as PrismaAPIKey"
                }
            ],
            "label": "from prisma.models import APIKey as PrismaAPIKey"
        },
        {
            "type": "import_from_statement",
            "start_token": 55,
            "end_token": 74,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 56,
                    "end_token": 58,
                    "children": [],
                    "label": "prisma.types"
                },
                {
                    "type": "block",
                    "start_token": 60,
                    "end_token": 74,
                    "children": [],
                    "label": "(\n    APIKeyCreateInput,\n    APIKeyUpdateInput,\n    APIKeyWhereInput,\n    APIKeyWhereUniqueInput,\n)"
                }
            ],
            "label": "from prisma.types import (\n    APIKeyCreateInput,\n    APIKeyUpdateInput,\n    APIKeyWhereInput,\n    APIKeyWhereUniqueInput,\n)"
        },
        {
            "type": "import_statement",
            "start_token": 76,
            "end_token": 79,
            "children": [],
            "label": "from pydantic import BaseModel"
        },
        {
            "type": "import_from_statement",
            "start_token": 82,
            "end_token": 89,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 83,
                    "end_token": 87,
                    "children": [],
                    "label": "backend.data.db"
                }
            ],
            "label": "from backend.data.db import BaseDbModel"
        },
        {
            "type": "assignment",
            "start_token": 92,
            "end_token": 99,
            "children": [
                {
                    "type": "attribute",
                    "start_token": 94,
                    "end_token": 96,
                    "children": [],
                    "label": "logging.getLogger"
                },
                {
                    "type": "argument_list",
                    "start_token": 97,
                    "end_token": 98,
                    "children": [],
                    "label": "(__name__"
                }
            ],
            "label": "logger = logging.getLogger(__name__)"
        },
        {
            "type": "function_placeholder",
            "name": "generate_api_key",
            "start_line": 117,
            "end_line": 151,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 204,
                    "children": [
                        {
                            "type": "decorated_definition",
                            "start_token": 0,
                            "end_token": 162,
                            "children": [
                                {
                                    "type": "function_definition",
                                    "start_token": 0,
                                    "end_token": 162,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 2,
                                            "end_token": 2,
                                            "children": [],
                                            "label": "generate_api_key"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 3,
                                            "end_token": 33,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 5,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "name: str"
                                                },
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 10,
                                                    "end_token": 12,
                                                    "children": [],
                                                    "label": "user_id: str"
                                                },
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 15,
                                                    "end_token": 20,
                                                    "children": [],
                                                    "label": "permissions: List[APIKeyPermission]"
                                                },
                                                {
                                                    "type": "typed_default_parameter",
                                                    "start_token": 23,
                                                    "end_token": 30,
                                                    "children": [],
                                                    "label": "description: Optional[str] = None"
                                                }
                                            ],
                                            "label": "(\n    name: str,\n    user_id: str,\n    permissions: List[APIKeyPermission],\n    description: Optional[str] = None,\n)"
                                        },
                                        {
                                            "type": "union_type",
                                            "start_token": 35,
                                            "end_token": 41,
                                            "children": [],
                                            "label": "> tuple[APIKeyWithoutHash, str]"
                                        },
                                        {
                                            "type": "string",
                                            "start_token": 44,
                                            "end_token": 46,
                                            "children": [],
                                            "label": "\"\"\"\n    Generate a new API key and store it in the database.\n    Returns the API key object (without hash) and the plain text key.\n    \"\"\""
                                        },
                                        {
                                            "type": "block",
                                            "start_token": 47,
                                            "end_token": 162,
                                            "children": [
                                                {
                                                    "type": "try_statement",
                                                    "start_token": 48,
                                                    "end_token": 162,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 50,
                                                            "end_token": 162,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 51,
                                                                    "end_token": 55,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 51,
                                                                            "end_token": 51,
                                                                            "children": [],
                                                                            "label": "api_manager"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 53,
                                                                            "end_token": 55,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 53,
                                                                                    "end_token": 53,
                                                                                    "children": [],
                                                                                    "label": "APIKeyManager"
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyManager()"
                                                                        }
                                                                    ],
                                                                    "label": "api_manager = APIKeyManager()"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 57,
                                                                    "end_token": 63,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 57,
                                                                            "end_token": 57,
                                                                            "children": [],
                                                                            "label": "key"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 59,
                                                                            "end_token": 63,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 59,
                                                                                    "end_token": 61,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 59,
                                                                                            "end_token": 59,
                                                                                            "children": [],
                                                                                            "label": "api_manager"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 61,
                                                                                            "end_token": 61,
                                                                                            "children": [],
                                                                                            "label": "generate_api_key"
                                                                                        }
                                                                                    ],
                                                                                    "label": "api_manager.generate_api_key"
                                                                                }
                                                                            ],
                                                                            "label": "api_manager.generate_api_key()"
                                                                        }
                                                                    ],
                                                                    "label": "key = api_manager.generate_api_key()"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 66,
                                                                    "end_token": 154,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 66,
                                                                            "end_token": 66,
                                                                            "children": [],
                                                                            "label": "api_key"
                                                                        },
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 68,
                                                                            "end_token": 154,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 69,
                                                                                    "end_token": 154,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 69,
                                                                                            "end_token": 75,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 69,
                                                                                                    "end_token": 71,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 69,
                                                                                                            "end_token": 69,
                                                                                                            "children": [],
                                                                                                            "label": "PrismaAPIKey"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 71,
                                                                                                            "end_token": 71,
                                                                                                            "children": [],
                                                                                                            "label": "prisma"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "PrismaAPIKey.prisma"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 75,
                                                                                                    "end_token": 75,
                                                                                                    "children": [],
                                                                                                    "label": "create"
                                                                                                }
                                                                                            ],
                                                                                            "label": "PrismaAPIKey.prisma().create"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 76,
                                                                                            "end_token": 142,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 78,
                                                                                                    "end_token": 140,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 78,
                                                                                                            "end_token": 78,
                                                                                                            "children": [],
                                                                                                            "label": "data"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 80,
                                                                                                            "end_token": 142,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 80,
                                                                                                                    "end_token": 81,
                                                                                                                    "children": [],
                                                                                                                    "label": "APIKeyCreateInput("
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 82,
                                                                                                                    "end_token": 142,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "keyword_argument",
                                                                                                                            "start_token": 83,
                                                                                                                            "end_token": 137,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 83,
                                                                                                                                    "end_token": 83,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "id"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "call",
                                                                                                                                    "start_token": 85,
                                                                                                                                    "end_token": 92,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "attribute",
                                                                                                                                            "start_token": 85,
                                                                                                                                            "end_token": 89,
                                                                                                                                            "children": [
                                                                                                                                                {
                                                                                                                                                    "type": "identifier",
                                                                                                                                                    "start_token": 87,
                                                                                                                                                    "end_token": 87,
                                                                                                                                                    "children": [],
                                                                                                                                                    "label": "uuid"
                                                                                                                                                },
                                                                                                                                                {
                                                                                                                                                    "type": "identifier",
                                                                                                                                                    "start_token": 89,
                                                                                                                                                    "end_token": 89,
                                                                                                                                                    "children": [],
                                                                                                                                                    "label": "uuid4"
                                                                                                                                                }
                                                                                                                                            ],
                                                                                                                                            "label": "str(uuid.uuid4"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "str(uuid.uuid4())"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "keyword_argument",
                                                                                                                            "start_token": 95,
                                                                                                                            "end_token": 139,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 95,
                                                                                                                                    "end_token": 95,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "name"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 97,
                                                                                                                                    "end_token": 97,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "name"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "keyword_argument",
                                                                                                                            "start_token": 100,
                                                                                                                            "end_token": 105,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 100,
                                                                                                                                    "end_token": 100,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "prefix"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 102,
                                                                                                                                    "end_token": 104,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 102,
                                                                                                                                            "end_token": 102,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "key"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 104,
                                                                                                                                            "end_token": 104,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "prefix"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "key.prefix"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "prefix=key.prefix,"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "keyword_argument",
                                                                                                                            "start_token": 107,
                                                                                                                            "end_token": 112,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 107,
                                                                                                                                    "end_token": 107,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "postfix"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 109,
                                                                                                                                    "end_token": 111,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 109,
                                                                                                                                            "end_token": 109,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "key"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 111,
                                                                                                                                            "end_token": 111,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "postfix"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "key.postfix"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "postfix=key.postfix,"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "keyword_argument",
                                                                                                                            "start_token": 114,
                                                                                                                            "end_token": 119,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 114,
                                                                                                                                    "end_token": 114,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "key"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 116,
                                                                                                                                    "end_token": 118,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 116,
                                                                                                                                            "end_token": 116,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "key"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 118,
                                                                                                                                            "end_token": 118,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "hash"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "key.hash"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "key=key.hash,"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "keyword_argument",
                                                                                                                            "start_token": 121,
                                                                                                                            "end_token": 130,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 121,
                                                                                                                                    "end_token": 121,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "permissions"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "list",
                                                                                                                                    "start_token": 123,
                                                                                                                                    "end_token": 129,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "for_in_clause",
                                                                                                                                            "start_token": 124,
                                                                                                                                            "end_token": 129,
                                                                                                                                            "children": [
                                                                                                                                                {
                                                                                                                                                    "type": "identifier",
                                                                                                                                                    "start_token": 124,
                                                                                                                                                    "end_token": 124,
                                                                                                                                                    "children": [],
                                                                                                                                                    "label": "p"
                                                                                                                                                },
                                                                                                                                                {
                                                                                                                                                    "type": "identifier",
                                                                                                                                                    "start_token": 126,
                                                                                                                                                    "end_token": 128,
                                                                                                                                                    "children": [],
                                                                                                                                                    "label": "p in permissions"
                                                                                                                                                }
                                                                                                                                            ],
                                                                                                                                            "label": "p for p in permissions]"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "[p for p in permissions]"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "permissions=[p for p in permissions],"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "keyword_argument",
                                                                                                                            "start_token": 132,
                                                                                                                            "end_token": 139,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 132,
                                                                                                                                    "end_token": 132,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "description"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 134,
                                                                                                                                    "end_token": 134,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "description"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "description=description,\n                userId=user_id"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "keyword_argument",
                                                                                                                            "start_token": 137,
                                                                                                                            "end_token": 141,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 137,
                                                                                                                                    "end_token": 137,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "userId"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 139,
                                                                                                                                    "end_token": 139,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "user_id"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "userId=user_id,\n"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)"
                                                                                }
                                                                            ],
                                                                            "label": "await PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)"
                                                                        }
                                                                    ],
                                                                    "label": "api_key = await PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 147,
                                                                    "end_token": 154,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 147,
                                                                            "end_token": 147,
                                                                            "children": [],
                                                                            "label": "api_key_without_hash"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 149,
                                                                            "end_token": 154,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 149,
                                                                                    "end_token": 151,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 149,
                                                                                            "end_token": 149,
                                                                                            "children": [],
                                                                                            "label": "APIKeyWithoutHash"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 151,
                                                                                            "end_token": 151,
                                                                                            "children": [],
                                                                                            "label": "from_db"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyWithoutHash.from_db"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 152,
                                                                                    "end_token": 154,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 152,
                                                                                            "end_token": 152,
                                                                                            "children": [],
                                                                                            "label": "("
                                                                                        }
                                                                                    ],
                                                                                    "label": "(api_key)"
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyWithoutHash.from_db(api_key)"
                                                                        }
                                                                    ],
                                                                    "label": "api_key_without_hash = APIKeyWithoutHash.from_db(api_key)"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 156,
                                                                    "end_token": 161,
                                                                    "children": [
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 157,
                                                                            "end_token": 161,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 157,
                                                                                    "end_token": 157,
                                                                                    "children": [],
                                                                                    "label": "api_key_without_hash"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 159,
                                                                                    "end_token": 161,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 159,
                                                                                            "end_token": 159,
                                                                                            "children": [],
                                                                                            "label": "key"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 161,
                                                                                            "end_token": 161,
                                                                                            "children": [],
                                                                                            "label": "raw"
                                                                                        }
                                                                                    ],
                                                                                    "label": "key.raw"
                                                                                }
                                                                            ],
                                                                            "label": "api_key_without_hash, key.raw"
                                                                        }
                                                                    ],
                                                                    "label": "return api_key_without_hash, key.raw"
                                                                }
                                                            ],
                                                            "label": "\n        api_manager = APIKeyManager()\n        key = api_manager.generate_api_key()\n\n        api_key = await PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)\n        return api_key_without_hash, key.raw\n"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 163,
                                                            "end_token": 183,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 164,
                                                                    "end_token": 164,
                                                                    "children": [],
                                                                    "label": "PrismaError"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 168,
                                                                    "end_token": 183,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 169,
                                                                            "end_token": 175,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 169,
                                                                                    "end_token": 171,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 169,
                                                                                            "end_token": 169,
                                                                                            "children": [],
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 171,
                                                                                            "end_token": 171,
                                                                                            "children": [],
                                                                                            "label": "error"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.error"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 173,
                                                                                    "end_token": 175,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 173,
                                                                                            "end_token": 173,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 173,
                                                                                                    "end_token": 173,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f"
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Database error while generating API key: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error(f\"Database error while generating API key: {str(e)}\")"
                                                                        },
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 177,
                                                                            "end_token": 182,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 178,
                                                                                    "end_token": 182,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 178,
                                                                                            "end_token": 178,
                                                                                            "children": [],
                                                                                            "label": "APIKeyError"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 179,
                                                                                            "end_token": 182,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "concatenated_string",
                                                                                                    "start_token": 179,
                                                                                                    "end_token": 179,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 179,
                                                                                                            "end_token": 179,
                                                                                                            "children": [],
                                                                                                            "label": "("
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "("
                                                                                                }
                                                                                            ],
                                                                                            "label": "(f\"Failed to generate API key: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyError(f\"Failed to generate API key: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "raise APIKeyError(f\"Failed to generate API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "\n        logger.error(f\"Database error while generating API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to generate API key: {str(e)}\")\n"
                                                                }
                                                            ],
                                                            "label": "except PrismaError as e:\n        logger.error(f\"Database error while generating API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to generate API key: {str(e)}\")\n"
                                                        },
                                                        {
                                                            "type": "except_clause",
                                                            "start_token": 184,
                                                            "end_token": 203,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 185,
                                                                    "end_token": 185,
                                                                    "children": [],
                                                                    "label": "Exception"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 189,
                                                                    "end_token": 203,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 190,
                                                                            "end_token": 196,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 190,
                                                                                    "end_token": 192,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 190,
                                                                                            "end_token": 190,
                                                                                            "children": [],
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 192,
                                                                                            "end_token": 192,
                                                                                            "children": [],
                                                                                            "label": "error"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.error"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 194,
                                                                                    "end_token": 196,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 194,
                                                                                            "end_token": 194,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 194,
                                                                                                    "end_token": 194,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f"
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Unexpected error while generating API key: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error(f\"Unexpected error while generating API key: {str(e)}\")"
                                                                        },
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 198,
                                                                            "end_token": 202,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 199,
                                                                                    "end_token": 202,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 199,
                                                                                            "end_token": 199,
                                                                                            "children": [],
                                                                                            "label": "APIKeyError"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 200,
                                                                                            "end_token": 202,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "concatenated_string",
                                                                                                    "start_token": 200,
                                                                                                    "end_token": 200,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 200,
                                                                                                            "end_token": 200,
                                                                                                            "children": [],
                                                                                                            "label": "("
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "("
                                                                                                }
                                                                                            ],
                                                                                            "label": "(f\"Failed to generate API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyError(f\"Failed to generate API key: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "raise APIKeyError(f\"Failed to generate API key: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "\n        logger.error(f\"Unexpected error while generating API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to generate API key: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "except Exception as e:\n        logger.error(f\"Unexpected error while generating API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to generate API key: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "try:\n        api_manager = APIKeyManager()\n        key = api_manager.generate_api_key()\n\n        api_key = await PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)\n        return api_key_without_hash, key.raw\n"
                                                }
                                            ],
                                            "label": "\n    try:\n        api_manager = APIKeyManager()\n        key = api_manager.generate_api_key()\n\n        api_key = await PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)\n        return api_key_without_hash, key.raw\n"
                                        }
                                    ],
                                    "label": "async def generate_api_key(\n    name: str,\n    user_id: str,\n    permissions: List[APIKeyPermission],\n    description: Optional[str] = None,\n) -> tuple[APIKeyWithoutHash, str]:\n    \"\"\"\n    Generate a new API key and store it in the database.\n    Returns the API key object (without hash) and the plain text key.\n    \"\"\"\n    try:\n        api_manager = APIKeyManager()\n        key = api_manager.generate_api_key()\n\n        api_key = await PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)\n        return api_key_without_hash, key.raw\n"
                                }
                            ],
                            "label": "async def generate_api_key(\n    name: str,\n    user_id: str,\n    permissions: List[APIKeyPermission],\n    description: Optional[str] = None,\n) -> tuple[APIKeyWithoutHash, str]:\n    \"\"\"\n    Generate a new API key and store it in the database.\n    Returns the API key object (without hash) and the plain text key.\n    \"\"\"\n    try:\n        api_manager = APIKeyManager()\n        key = api_manager.generate_api_key()\n\n        api_key = await PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)\n        return api_key_without_hash, key.raw\n"
                        }
                    ],
                    "label": "async def generate_api_key(\n    name: str,\n    user_id: str,\n    permissions: List[APIKeyPermission],\n    description: Optional[str] = None,\n) -> tuple[APIKeyWithoutHash, str]:\n    \"\"\"\n    Generate a new API key and store it in the database.\n    Returns the API key object (without hash) and the plain text key.\n    \"\"\"\n    try:\n        api_manager = APIKeyManager()\n        key = api_manager.generate_api_key()\n\n        api_key = await PrismaAPIKey.prisma().create(\n            data=APIKeyCreateInput(\n                id=str(uuid.uuid4()),\n                name=name,\n                prefix=key.prefix,\n                postfix=key.postfix,\n                key=key.hash,\n                permissions=[p for p in permissions],\n                description=description,\n                userId=user_id,\n            )\n        )\n\n        api_key_without_hash = APIKeyWithoutHash.from_db(api_key)\n        return api_key_without_hash, key.raw\n    except PrismaError as e:\n        logger.error(f\"Database error while generating API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to generate API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while generating API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to generate API key: {str(e)}\")\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "validate_api_key",
            "start_line": 154,
            "end_line": 182,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 168,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 168,
                            "children": [
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 7,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "label": "plain_text_key: str"
                                        }
                                    ],
                                    "label": "(plain_text_key: str)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 9,
                                    "end_token": 13,
                                    "children": [
                                        {
                                            "type": "generic_type",
                                            "start_token": 10,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "label": "Optional"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 12,
                                                    "end_token": 12,
                                                    "label": "APIKey"
                                                }
                                            ],
                                            "label": "Optional[APIKey]"
                                        }
                                    ],
                                    "label": "> Optional[APIKey]"
                                },
                                {
                                    "type": "string",
                                    "start_token": 16,
                                    "end_token": 18,
                                    "children": [
                                        {
                                            "type": "string_content",
                                            "start_token": 17,
                                            "end_token": 17,
                                            "label": "\"\n    Validate an API key and return the API key object if valid.\n    \""
                                        }
                                    ],
                                    "label": "\"\"\"\n    Validate an API key and return the API key object if valid.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 19,
                                    "end_token": 168,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 20,
                                            "end_token": 168,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 23,
                                                    "end_token": 139,
                                                    "children": [
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 23,
                                                            "end_token": 44,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 24,
                                                                    "end_token": 32,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 25,
                                                                            "end_token": 32,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 25,
                                                                                    "end_token": 27,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 25,
                                                                                            "end_token": 25,
                                                                                            "label": "plain_text_key"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 27,
                                                                                            "end_token": 27,
                                                                                            "label": "startswith"
                                                                                        }
                                                                                    ],
                                                                                    "label": "plain_text_key.startswith"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 28,
                                                                                    "end_token": 32,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 29,
                                                                                            "end_token": 31,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 29,
                                                                                                    "end_token": 29,
                                                                                                    "label": "APIKeyManager"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 31,
                                                                                                    "end_token": 31,
                                                                                                    "label": "PREFIX"
                                                                                                }
                                                                                            ],
                                                                                            "label": "APIKeyManager.PREFIX"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(APIKeyManager.PREFIX)"
                                                                                }
                                                                            ],
                                                                            "label": "plain_text_key.startswith(APIKeyManager.PREFIX)"
                                                                        }
                                                                    ],
                                                                    "label": "not plain_text_key.startswith(APIKeyManager.PREFIX)"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 33,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "expression_statement",
                                                                            "start_token": 35,
                                                                            "end_token": 40,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 35,
                                                                                    "end_token": 40,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 35,
                                                                                            "end_token": 37,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 35,
                                                                                                    "end_token": 35,
                                                                                                    "label": "logger"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 37,
                                                                                                    "end_token": 37,
                                                                                                    "label": "warning"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.warning"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 38,
                                                                                            "end_token": 40,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 39,
                                                                                                    "end_token": 39,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "start_token": 39,
                                                                                                            "end_token": 39,
                                                                                                            "label": "\"Invalid API key format\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"Invalid API key format\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\"Invalid API key format\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.warning(\"Invalid API key format\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.warning(\"Invalid API key format\")"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 42,
                                                                            "end_token": 43,
                                                                            "children": [
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 43,
                                                                                    "end_token": 43,
                                                                                    "label": "None"
                                                                                }
                                                                            ],
                                                                            "label": "return None"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            logger.warning(\"Invalid API key format\")\n            return None\n"
                                                                }
                                                            ],
                                                            "label": "if not plain_text_key.startswith(APIKeyManager.PREFIX):\n            logger.warning(\"Invalid API key format\")\n            return None\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 46,
                                                            "end_token": 54,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 46,
                                                                    "end_token": 46,
                                                                    "label": "prefix"
                                                                },
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 48,
                                                                    "end_token": 54,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 48,
                                                                            "end_token": 48,
                                                                            "label": "plain_text_key"
                                                                        },
                                                                        {
                                                                            "type": "slice",
                                                                            "start_token": 49,
                                                                            "end_token": 54,
                                                                            "children": [
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 50,
                                                                                    "end_token": 50,
                                                                                    "label": ":"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 51,
                                                                                    "end_token": 53,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 51,
                                                                                            "end_token": 51,
                                                                                            "label": "APIKeyManager"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 53,
                                                                                            "end_token": 53,
                                                                                            "label": "PREFIX_LENGTH"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyManager.PREFIX_LENGTH"
                                                                                }
                                                                            ],
                                                                            "label": "[: APIKeyManager.PREFIX_LENGTH]"
                                                                        }
                                                                    ],
                                                                    "label": "plain_text_key[: APIKeyManager.PREFIX_LENGTH]"
                                                                }
                                                            ],
                                                            "label": "prefix = plain_text_key[: APIKeyManager.PREFIX_LENGTH]"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 56,
                                                            "end_token": 60,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 56,
                                                                    "end_token": 56,
                                                                    "label": "api_manager"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 58,
                                                                    "end_token": 60,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 58,
                                                                            "end_token": 58,
                                                                            "label": "APIKeyManager"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 59,
                                                                            "end_token": 60,
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "APIKeyManager()"
                                                                }
                                                            ],
                                                            "label": "api_manager = APIKeyManager()"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 63,
                                                            "end_token": 92,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 63,
                                                                    "end_token": 63,
                                                                    "label": "api_key"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 65,
                                                                    "end_token": 92,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 66,
                                                                            "end_token": 92,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 66,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 66,
                                                                                            "end_token": 68,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 66,
                                                                                                    "end_token": 66,
                                                                                                    "label": "PrismaAPIKey"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 68,
                                                                                                    "end_token": 68,
                                                                                                    "label": "prisma"
                                                                                                }
                                                                                            ],
                                                                                            "label": "PrismaAPIKey.prisma"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 72,
                                                                                            "end_token": 72,
                                                                                            "label": "find_first"
                                                                                        }
                                                                                    ],
                                                                                    "label": "PrismaAPIKey.prisma().find_first"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 73,
                                                                                    "end_token": 92,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 75,
                                                                                            "end_token": 90,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 75,
                                                                                                    "end_token": 75,
                                                                                                    "label": "where"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 78,
                                                                                                    "end_token": 90,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 78,
                                                                                                            "end_token": 78,
                                                                                                            "label": "("
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 79,
                                                                                                            "end_token": 90,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 80,
                                                                                                                    "end_token": 82,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 80,
                                                                                                                            "end_token": 80,
                                                                                                                            "label": "="
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 82,
                                                                                                                            "end_token": 82,
                                                                                                                            "label": ","
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "=prefix,"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 83,
                                                                                                                    "end_token": 89,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 83,
                                                                                                                            "end_token": 83,
                                                                                                                            "label": "status"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "parenthesized_expression",
                                                                                                                            "start_token": 85,
                                                                                                                            "end_token": 89,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 86,
                                                                                                                                    "end_token": 88,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 86,
                                                                                                                                            "end_token": 86,
                                                                                                                                            "label": "APIKeyStatus"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 88,
                                                                                                                                            "end_token": 88,
                                                                                                                                            "label": "ACTIVE"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "APIKeyStatus.ACTIVE"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "(APIKeyStatus.ACTIVE)"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "status=(APIKeyStatus.ACTIVE)"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "prefix=prefix, status=(APIKeyStatus.ACTIVE))"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(prefix=prefix, status=(APIKeyStatus.ACTIVE))"
                                                                                                }
                                                                                            ],
                                                                                            "label": "where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )"
                                                                }
                                                            ],
                                                            "label": "api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 95,
                                                            "end_token": 110,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 96,
                                                                    "end_token": 97,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 97,
                                                                            "end_token": 97,
                                                                            "label": "api_key"
                                                                        }
                                                                    ],
                                                                    "label": "not api_key"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 98,
                                                                    "end_token": 110,
                                                                    "children": [
                                                                        {
                                                                            "type": "expression_statement",
                                                                            "start_token": 100,
                                                                            "end_token": 106,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 100,
                                                                                    "end_token": 106,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 100,
                                                                                            "end_token": 102,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 100,
                                                                                                    "end_token": 100,
                                                                                                    "label": "logger"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 102,
                                                                                                    "end_token": 102,
                                                                                                    "label": "warning"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.warning"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 103,
                                                                                            "end_token": 106,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "fstring",
                                                                                                    "start_token": 104,
                                                                                                    "end_token": 105,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "start_token": 105,
                                                                                                            "end_token": 105,
                                                                                                            "label": "\"No active API key found with prefix {prefix}\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "interpolation",
                                                                                                            "start_token": 105,
                                                                                                            "end_token": 105,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 105,
                                                                                                                    "end_token": 105,
                                                                                                                    "label": "\"No active API key found with prefix {prefix}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"No active API key found with prefix {prefix}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "f\"No active API key found with prefix {prefix}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(f\"No active API key found with prefix {prefix}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.warning(f\"No active API key found with prefix {prefix}\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.warning(f\"No active API key found with prefix {prefix}\")"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 108,
                                                                            "end_token": 109,
                                                                            "children": [
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 109,
                                                                                    "end_token": 109,
                                                                                    "label": "None"
                                                                                }
                                                                            ],
                                                                            "label": "return None"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            logger.warning(f\"No active API key found with prefix {prefix}\")\n            return None\n"
                                                                }
                                                            ],
                                                            "label": "if not api_key:\n            logger.warning(f\"No active API key found with prefix {prefix}\")\n            return None\n"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 112,
                                                            "end_token": 123,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 112,
                                                                    "end_token": 112,
                                                                    "label": "is_valid"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 114,
                                                                    "end_token": 123,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 114,
                                                                            "end_token": 116,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 114,
                                                                                    "end_token": 114,
                                                                                    "label": "api_manager"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 116,
                                                                                    "end_token": 116,
                                                                                    "label": "verify_api_key"
                                                                                }
                                                                            ],
                                                                            "label": "api_manager.verify_api_key"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 117,
                                                                            "end_token": 123,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 118,
                                                                                    "end_token": 118,
                                                                                    "label": "plain_text_key"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 120,
                                                                                    "end_token": 122,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 120,
                                                                                            "end_token": 120,
                                                                                            "label": "api_key"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 122,
                                                                                            "end_token": 122,
                                                                                            "label": "key"
                                                                                        }
                                                                                    ],
                                                                                    "label": "api_key.key"
                                                                                }
                                                                            ],
                                                                            "label": "(plain_text_key, api_key.key)"
                                                                        }
                                                                    ],
                                                                    "label": "api_manager.verify_api_key(plain_text_key, api_key.key)"
                                                                }
                                                            ],
                                                            "label": "is_valid = api_manager.verify_api_key(plain_text_key, api_key.key)"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 125,
                                                            "end_token": 139,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 126,
                                                                    "end_token": 127,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 127,
                                                                            "end_token": 127,
                                                                            "label": "is_valid"
                                                                        }
                                                                    ],
                                                                    "label": "not is_valid"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 128,
                                                                    "end_token": 139,
                                                                    "children": [
                                                                        {
                                                                            "type": "expression_statement",
                                                                            "start_token": 130,
                                                                            "end_token": 135,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 130,
                                                                                    "end_token": 135,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 130,
                                                                                            "end_token": 132,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 130,
                                                                                                    "end_token": 130,
                                                                                                    "label": "logger"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 132,
                                                                                                    "end_token": 132,
                                                                                                    "label": "warning"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.warning"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 133,
                                                                                            "end_token": 135,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 134,
                                                                                                    "end_token": 134,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "start_token": 134,
                                                                                                            "end_token": 134,
                                                                                                            "label": "\"API key verification failed\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"API key verification failed\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\"API key verification failed\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.warning(\"API key verification failed\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.warning(\"API key verification failed\")"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 137,
                                                                            "end_token": 138,
                                                                            "children": [
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 138,
                                                                                    "end_token": 138,
                                                                                    "label": "None"
                                                                                }
                                                                            ],
                                                                            "label": "return None"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            logger.warning(\"API key verification failed\")\n            return None\n"
                                                                }
                                                            ],
                                                            "label": "if not is_valid:\n            logger.warning(\"API key verification failed\")\n            return None\n"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 141,
                                                            "end_token": 147,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 142,
                                                                    "end_token": 147,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 142,
                                                                            "end_token": 144,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 142,
                                                                                    "end_token": 142,
                                                                                    "label": "APIKey"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 144,
                                                                                    "end_token": 144,
                                                                                    "label": "from_db"
                                                                                }
                                                                            ],
                                                                            "label": "APIKey.from_db"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 145,
                                                                            "end_token": 147,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 146,
                                                                                    "end_token": 146,
                                                                                    "label": "api_key"
                                                                                }
                                                                            ],
                                                                            "label": "(api_key)"
                                                                        }
                                                                    ],
                                                                    "label": "APIKey.from_db(api_key)"
                                                                }
                                                            ],
                                                            "label": "return APIKey.from_db(api_key)"
                                                        }
                                                    ],
                                                    "label": "if not plain_text_key.startswith(APIKeyManager.PREFIX):\n            logger.warning(\"Invalid API key format\")\n            return None\n\n        prefix = plain_text_key[: APIKeyManager.PREFIX_LENGTH]\n        api_manager = APIKeyManager()\n\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )\n\n        if not api_key:\n            logger.warning(f\"No active API key found with prefix {prefix}\")\n            return None\n\n        is_valid = api_manager.verify_api_key(plain_text_key, api_key.key)\n        if not is_valid:\n            logger.warning(\"API key verification failed\")\n            return None\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 149,
                                                    "end_token": 168,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 151,
                                                            "end_token": 151,
                                                            "label": "as"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 153,
                                                            "end_token": 168,
                                                            "children": [
                                                                {
                                                                    "type": "expression_statement",
                                                                    "start_token": 155,
                                                                    "end_token": 161,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 155,
                                                                            "end_token": 161,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 155,
                                                                                    "end_token": 157,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 155,
                                                                                            "end_token": 155,
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 157,
                                                                                            "end_token": 157,
                                                                                            "label": "error"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.error"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 158,
                                                                                    "end_token": 161,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "fstring",
                                                                                            "start_token": 159,
                                                                                            "end_token": 160,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 160,
                                                                                                    "end_token": 160,
                                                                                                    "label": "\"Error validating API key: {str(e)}\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 160,
                                                                                                    "end_token": 160,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 153,
                                                                                                            "end_token": 153,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 153,
                                                                                                                    "end_token": 153,
                                                                                                                    "label": ":"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": ":"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"Error validating API key: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Error validating API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Error validating API key: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error(f\"Error validating API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Error validating API key: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 163,
                                                                    "end_token": 168,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 164,
                                                                            "end_token": 168,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 164,
                                                                                    "end_token": 164,
                                                                                    "label": "APIKeyValidationError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 165,
                                                                                    "end_token": 167,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "fstring",
                                                                                            "start_token": 166,
                                                                                            "end_token": 167,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 167,
                                                                                                    "end_token": 167,
                                                                                                    "label": "\"Failed to validate API key: {str(e)}\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 167,
                                                                                                    "end_token": 167,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 161,
                                                                                                            "end_token": 161,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 161,
                                                                                                                    "end_token": 161,
                                                                                                                    "label": ")"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": ")"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"Failed to validate API key: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Failed to validate API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Failed to validate API key: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyValidationError(f\"Failed to validate API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyValidationError(f\"Failed to validate API key: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        logger.error(f\"Error validating API key: {str(e)}\")\n        raise APIKeyValidationError(f\"Failed to validate API key: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        logger.error(f\"Error validating API key: {str(e)}\")\n        raise APIKeyValidationError(f\"Failed to validate API key: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        if not plain_text_key.startswith(APIKeyManager.PREFIX):\n            logger.warning(\"Invalid API key format\")\n            return None\n\n        prefix = plain_text_key[: APIKeyManager.PREFIX_LENGTH]\n        api_manager = APIKeyManager()\n\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )\n\n        if not api_key:\n            logger.warning(f\"No active API key found with prefix {prefix}\")\n            return None\n\n        is_valid = api_manager.verify_api_key(plain_text_key, api_key.key)\n        if not is_valid:\n            logger.warning(\"API key verification failed\")\n            return None\n\n        return APIKey.from_db(api_key)\n    except Exception as e:\n        logger.error(f\"Error validating API key: {str(e)}\")\n        raise APIKeyValidationError(f\"Failed to validate API key: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n    try:\n        if not plain_text_key.startswith(APIKeyManager.PREFIX):\n            logger.warning(\"Invalid API key format\")\n            return None\n\n        prefix = plain_text_key[: APIKeyManager.PREFIX_LENGTH]\n        api_manager = APIKeyManager()\n\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )\n\n        if not api_key:\n            logger.warning(f\"No active API key found with prefix {prefix}\")\n            return None\n\n        is_valid = api_manager.verify_api_key(plain_text_key, api_key.key)\n        if not is_valid:\n            logger.warning(\"API key verification failed\")\n            return None\n\n        return APIKey.from_db(api_key)\n    except Exception as e:\n        logger.error(f\"Error validating API key: {str(e)}\")\n        raise APIKeyValidationError(f\"Failed to validate API key: {str(e)}\")"
                                }
                            ],
                            "label": "async def validate_api_key(plain_text_key: str) -> Optional[APIKey]:\n    \"\"\"\n    Validate an API key and return the API key object if valid.\n    \"\"\"\n    try:\n        if not plain_text_key.startswith(APIKeyManager.PREFIX):\n            logger.warning(\"Invalid API key format\")\n            return None\n\n        prefix = plain_text_key[: APIKeyManager.PREFIX_LENGTH]\n        api_manager = APIKeyManager()\n\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )\n\n        if not api_key:\n            logger.warning(f\"No active API key found with prefix {prefix}\")\n            return None\n\n        is_valid = api_manager.verify_api_key(plain_text_key, api_key.key)\n        if not is_valid:\n            logger.warning(\"API key verification failed\")\n            return None\n\n        return APIKey.from_db(api_key)\n    except Exception as e:\n        logger.error(f\"Error validating API key: {str(e)}\")\n        raise APIKeyValidationError(f\"Failed to validate API key: {str(e)}\")"
                        }
                    ],
                    "label": "async def validate_api_key(plain_text_key: str) -> Optional[APIKey]:\n    \"\"\"\n    Validate an API key and return the API key object if valid.\n    \"\"\"\n    try:\n        if not plain_text_key.startswith(APIKeyManager.PREFIX):\n            logger.warning(\"Invalid API key format\")\n            return None\n\n        prefix = plain_text_key[: APIKeyManager.PREFIX_LENGTH]\n        api_manager = APIKeyManager()\n\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(prefix=prefix, status=(APIKeyStatus.ACTIVE))\n        )\n\n        if not api_key:\n            logger.warning(f\"No active API key found with prefix {prefix}\")\n            return None\n\n        is_valid = api_manager.verify_api_key(plain_text_key, api_key.key)\n        if not is_valid:\n            logger.warning(\"API key verification failed\")\n            return None\n\n        return APIKey.from_db(api_key)\n    except Exception as e:\n        logger.error(f\"Error validating API key: {str(e)}\")\n        raise APIKeyValidationError(f\"Failed to validate API key: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "revoke_api_key",
            "start_line": 185,
            "end_line": 215,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 198,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 198,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "revoke_api_key"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "children": [],
                                                    "label": "key_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 6,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "key_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 8,
                                            "end_token": 10,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 8,
                                                    "end_token": 8,
                                                    "children": [],
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 9,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "user_id: str"
                                        }
                                    ],
                                    "label": "(key_id: str, user_id: str)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 13,
                                    "end_token": 17,
                                    "children": [
                                        {
                                            "type": "generic_type",
                                            "start_token": 14,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "children": [],
                                                    "label": "Optional"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 15,
                                                    "end_token": 17,
                                                    "children": [],
                                                    "label": "[APIKeyWithoutHash]"
                                                }
                                            ],
                                            "label": "Optional[APIKeyWithoutHash]"
                                        }
                                    ],
                                    "label": "> Optional[APIKeyWithoutHash]"
                                },
                                {
                                    "type": "block",
                                    "start_token": 18,
                                    "end_token": 198,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 20,
                                            "end_token": 198,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 22,
                                                    "end_token": 142,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 23,
                                                            "end_token": 41,
                                                            "children": [
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 25,
                                                                    "end_token": 41,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 24,
                                                                            "end_token": 41,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 24,
                                                                                    "end_token": 32,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 26,
                                                                                            "end_token": 30,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 26,
                                                                                                    "end_token": 26,
                                                                                                    "children": [],
                                                                                                    "label": "PrismaAPIKey"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 28,
                                                                                                    "end_token": 30,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 28,
                                                                                                            "end_token": 28,
                                                                                                            "children": [],
                                                                                                            "label": "prisma"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prisma()"
                                                                                                }
                                                                                            ],
                                                                                            "label": "PrismaAPIKey.prisma()"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 31,
                                                                                            "end_token": 32,
                                                                                            "children": [],
                                                                                            "label": ".find_unique"
                                                                                        }
                                                                                    ],
                                                                                    "label": "= await PrismaAPIKey.prisma().find_unique"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 33,
                                                                                    "end_token": 41,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 36,
                                                                                            "end_token": 40,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 37,
                                                                                                    "end_token": 39,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 37,
                                                                                                            "end_token": 37,
                                                                                                            "children": [],
                                                                                                            "label": "\"id\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 39,
                                                                                                            "end_token": 39,
                                                                                                            "children": [],
                                                                                                            "label": "key_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"id\": key_id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"id\": key_id}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(where={\"id\": key_id})"
                                                                                }
                                                                            ],
                                                                            "label": "= await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})"
                                                                        }
                                                                    ],
                                                                    "label": "await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})"
                                                                }
                                                            ],
                                                            "label": "api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 44,
                                                            "end_token": 54,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 45,
                                                                    "end_token": 46,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 46,
                                                                            "end_token": 46,
                                                                            "children": [],
                                                                            "label": "api_key"
                                                                        }
                                                                    ],
                                                                    "label": "not api_key"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 47,
                                                                    "end_token": 54,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 49,
                                                                            "end_token": 54,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 50,
                                                                                    "end_token": 54,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 50,
                                                                                            "end_token": 50,
                                                                                            "children": [],
                                                                                            "label": "APIKeyNotFoundError"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 51,
                                                                                            "end_token": 53,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "concatenated_string",
                                                                                                    "start_token": 52,
                                                                                                    "end_token": 53,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 52,
                                                                                                            "end_token": 52,
                                                                                                            "children": [],
                                                                                                            "label": "f"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "f\"API key with id {key_id} not found\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(f\"API key with id {key_id} not found\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyNotFoundError(f\"API key with id {key_id} not found\")"
                                                                                }
                                                                            ],
                                                                            "label": "raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")"
                                                                }
                                                            ],
                                                            "label": "if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 57,
                                                            "end_token": 72,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 58,
                                                                    "end_token": 63,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 58,
                                                                            "end_token": 60,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 58,
                                                                                    "end_token": 58,
                                                                                    "children": [],
                                                                                    "label": "api_key"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 59,
                                                                                    "end_token": 60,
                                                                                    "children": [],
                                                                                    "label": ".userId"
                                                                                }
                                                                            ],
                                                                            "label": "api_key.userId"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 63,
                                                                            "end_token": 63,
                                                                            "children": [],
                                                                            "label": "user_id"
                                                                        }
                                                                    ],
                                                                    "label": "api_key.userId != user_id"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 64,
                                                                    "end_token": 72,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 66,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 67,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 67,
                                                                                            "end_token": 67,
                                                                                            "children": [],
                                                                                            "label": "APIKeyPermissionError"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 68,
                                                                                            "end_token": 71,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 70,
                                                                                                    "end_token": 70,
                                                                                                    "children": [],
                                                                                                    "label": "\"You do not have permission to revoke this API key.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                \"You do not have permission to revoke this API key.\"\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )"
                                                                                }
                                                                            ],
                                                                            "label": "raise APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            raise APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )"
                                                                }
                                                            ],
                                                            "label": "if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 75,
                                                            "end_token": 83,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 75,
                                                                    "end_token": 75,
                                                                    "children": [],
                                                                    "label": "where_clause"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 76,
                                                                    "end_token": 78,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 76,
                                                                            "end_token": 77,
                                                                            "children": [],
                                                                            "label": ": APIKeyWhereUniqueInput"
                                                                        }
                                                                    ],
                                                                    "label": ": APIKeyWhereUniqueInput ="
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 79,
                                                                    "end_token": 83,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 80,
                                                                            "end_token": 82,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 80,
                                                                                    "end_token": 80,
                                                                                    "children": [],
                                                                                    "label": "\"id\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 82,
                                                                                    "end_token": 82,
                                                                                    "children": [],
                                                                                    "label": "key_id"
                                                                                }
                                                                            ],
                                                                            "label": "\"id\": key_id"
                                                                        }
                                                                    ],
                                                                    "label": "{\"id\": key_id}"
                                                                }
                                                            ],
                                                            "label": "where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 85,
                                                            "end_token": 127,
                                                            "children": [
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 87,
                                                                    "end_token": 127,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 88,
                                                                            "end_token": 127,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 88,
                                                                                    "end_token": 94,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 88,
                                                                                            "end_token": 92,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 88,
                                                                                                    "end_token": 88,
                                                                                                    "children": [],
                                                                                                    "label": "PrismaAPIKey"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 90,
                                                                                                    "end_token": 92,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 90,
                                                                                                            "end_token": 90,
                                                                                                            "children": [],
                                                                                                            "label": "prisma"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prisma()"
                                                                                                }
                                                                                            ],
                                                                                            "label": "PrismaAPIKey.prisma()"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 93,
                                                                                            "end_token": 94,
                                                                                            "children": [],
                                                                                            "label": ".update"
                                                                                        }
                                                                                    ],
                                                                                    "label": "PrismaAPIKey.prisma().update"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 95,
                                                                                    "end_token": 127,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 97,
                                                                                            "end_token": 99,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 97,
                                                                                                    "end_token": 97,
                                                                                                    "children": [],
                                                                                                    "label": "where"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 99,
                                                                                                    "end_token": 99,
                                                                                                    "children": [],
                                                                                                    "label": "where_clause"
                                                                                                }
                                                                                            ],
                                                                                            "label": "where=where_clause"
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 102,
                                                                                            "end_token": 124,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 102,
                                                                                                    "end_token": 102,
                                                                                                    "children": [],
                                                                                                    "label": "data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 104,
                                                                                                    "end_token": 124,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 104,
                                                                                                            "end_token": 104,
                                                                                                            "children": [],
                                                                                                            "label": "APIKeyUpdateInput"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 107,
                                                                                                            "end_token": 111,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 107,
                                                                                                                    "end_token": 107,
                                                                                                                    "children": [],
                                                                                                                    "label": "status"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 109,
                                                                                                                    "end_token": 111,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 109,
                                                                                                                            "end_token": 109,
                                                                                                                            "children": [],
                                                                                                                            "label": "APIKeyStatus"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 110,
                                                                                                                            "end_token": 111,
                                                                                                                            "children": [],
                                                                                                                            "label": ".REVOKED"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "APIKeyStatus.REVOKED"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "status=APIKeyStatus.REVOKED"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 113,
                                                                                                            "end_token": 122,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 113,
                                                                                                                    "end_token": 113,
                                                                                                                    "children": [],
                                                                                                                    "label": "revokedAt"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "call",
                                                                                                                    "start_token": 115,
                                                                                                                    "end_token": 122,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 115,
                                                                                                                            "end_token": 121,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 115,
                                                                                                                                    "end_token": 117,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 115,
                                                                                                                                            "end_token": 115,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "datetime"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 117,
                                                                                                                                            "end_token": 117,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "now"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "datetime.now"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 120,
                                                                                                                                    "end_token": 121,
                                                                                                                                    "children": [],
                                                                                                                                    "label": ".utc"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "datetime.now(timezone.utc"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "datetime.now(timezone.utc)"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "revokedAt=datetime.now(timezone.utc)"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            )"
                                                                                                }
                                                                                            ],
                                                                                            "label": "data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )"
                                                                }
                                                            ],
                                                            "label": "updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 130,
                                                            "end_token": 140,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 131,
                                                                    "end_token": 131,
                                                                    "children": [],
                                                                    "label": "updated_api_key"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 132,
                                                                    "end_token": 140,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 134,
                                                                            "end_token": 140,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 135,
                                                                                    "end_token": 140,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 135,
                                                                                            "end_token": 137,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 135,
                                                                                                    "end_token": 135,
                                                                                                    "children": [],
                                                                                                    "label": "APIKeyWithoutHash"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 137,
                                                                                                    "end_token": 137,
                                                                                                    "children": [],
                                                                                                    "label": "from_db"
                                                                                                }
                                                                                            ],
                                                                                            "label": "APIKeyWithoutHash.from_db"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 138,
                                                                                            "end_token": 139,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 139,
                                                                                                    "end_token": 139,
                                                                                                    "children": [],
                                                                                                    "label": "updated_api_key"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(updated_api_key"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyWithoutHash.from_db(updated_api_key)"
                                                                                }
                                                                            ],
                                                                            "label": "return APIKeyWithoutHash.from_db(updated_api_key)"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            return APIKeyWithoutHash.from_db(updated_api_key)"
                                                                }
                                                            ],
                                                            "label": "if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 142,
                                                            "end_token": 143,
                                                            "children": [
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 143,
                                                                    "end_token": 143,
                                                                    "children": [],
                                                                    "label": "None"
                                                                }
                                                            ],
                                                            "label": "return None"
                                                        }
                                                    ],
                                                    "label": "\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 145,
                                                    "end_token": 157,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 146,
                                                            "end_token": 152,
                                                            "children": [
                                                                {
                                                                    "type": "exception",
                                                                    "start_token": 146,
                                                                    "end_token": 150,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 146,
                                                                            "end_token": 148,
                                                                            "children": [],
                                                                            "label": "(APIKeyNotFoundError,"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 149,
                                                                            "end_token": 150,
                                                                            "children": [],
                                                                            "label": "APIKeyPermissionError)"
                                                                        }
                                                                    ],
                                                                    "label": "(APIKeyNotFoundError, APIKeyPermissionError)"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 152,
                                                                    "end_token": 152,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "(APIKeyNotFoundError, APIKeyPermissionError) as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 153,
                                                            "end_token": 157,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 155,
                                                                    "end_token": 156,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 156,
                                                                            "end_token": 156,
                                                                            "children": [],
                                                                            "label": "e"
                                                                        }
                                                                    ],
                                                                    "label": "raise e"
                                                                }
                                                            ],
                                                            "label": ":\n        raise e\n"
                                                        }
                                                    ],
                                                    "label": "except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 158,
                                                    "end_token": 177,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 158,
                                                            "end_token": 162,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 158,
                                                                    "end_token": 159,
                                                                    "children": [],
                                                                    "label": "except PrismaError"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 161,
                                                                    "end_token": 161,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "except PrismaError as e:"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 163,
                                                            "end_token": 177,
                                                            "children": [
                                                                {
                                                                    "type": "expression_statement",
                                                                    "start_token": 164,
                                                                    "end_token": 170,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 164,
                                                                            "end_token": 170,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 164,
                                                                                    "end_token": 166,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 164,
                                                                                            "end_token": 164,
                                                                                            "children": [],
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 165,
                                                                                            "end_token": 166,
                                                                                            "children": [],
                                                                                            "label": ".error"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.error"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 167,
                                                                                    "end_token": 170,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 168,
                                                                                            "end_token": 169,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 168,
                                                                                                    "end_token": 168,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Database error while revoking API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Database error while revoking API key: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error(f\"Database error while revoking API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Database error while revoking API key: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 172,
                                                                    "end_token": 176,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 173,
                                                                            "end_token": 176,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 173,
                                                                                    "end_token": 173,
                                                                                    "children": [],
                                                                                    "label": "APIKeyError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 174,
                                                                                    "end_token": 176,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 175,
                                                                                            "end_token": 175,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 175,
                                                                                                    "end_token": 175,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Failed to revoke API key: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyError(f\"Failed to revoke API key: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyError(f\"Failed to revoke API key: {str(e)}\""
                                                                }
                                                            ],
                                                            "label": "\n        logger.error(f\"Database error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except PrismaError as e:\n        logger.error(f\"Database error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 179,
                                                    "end_token": 198,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 179,
                                                            "end_token": 183,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 179,
                                                                    "end_token": 180,
                                                                    "children": [],
                                                                    "label": "except Exception"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 182,
                                                                    "end_token": 182,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "except Exception as e:"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 184,
                                                            "end_token": 198,
                                                            "children": [
                                                                {
                                                                    "type": "expression_statement",
                                                                    "start_token": 185,
                                                                    "end_token": 191,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 185,
                                                                            "end_token": 191,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 185,
                                                                                    "end_token": 187,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 185,
                                                                                            "end_token": 185,
                                                                                            "children": [],
                                                                                            "label": "logger"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 186,
                                                                                            "end_token": 187,
                                                                                            "children": [],
                                                                                            "label": ".error"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.error"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 188,
                                                                                    "end_token": 190,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 189,
                                                                                            "end_token": 190,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 189,
                                                                                                    "end_token": 189,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Unexpected error while revoking API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Unexpected error while revoking API key: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "logger.error(f\"Unexpected error while revoking API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Unexpected error while revoking API key: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 193,
                                                                    "end_token": 197,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 194,
                                                                            "end_token": 197,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 194,
                                                                                    "end_token": 194,
                                                                                    "children": [],
                                                                                    "label": "APIKeyError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 195,
                                                                                    "end_token": 197,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 196,
                                                                                            "end_token": 196,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 196,
                                                                                                    "end_token": 196,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                }
                                                                                            ],
                                                                                            "label": "f"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Failed to revoke API key: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyError(f\"Failed to revoke API key: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyError(f\"Failed to revoke API key: {str(e)}\""
                                                                }
                                                            ],
                                                            "label": "\n        logger.error(f\"Unexpected error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        logger.error(f\"Unexpected error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")"
                                        }
                                    ],
                                    "label": ":\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")"
                                }
                            ],
                            "label": "async def revoke_api_key(key_id: str, user_id: str) -> Optional[APIKeyWithoutHash]:\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")"
                        }
                    ],
                    "label": "async def revoke_api_key(key_id: str, user_id: str) -> Optional[APIKeyWithoutHash]:\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to revoke this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(\n                status=APIKeyStatus.REVOKED, revokedAt=datetime.now(timezone.utc)\n            ),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while revoking API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to revoke API key: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "list_user_api_keys",
            "start_line": 218,
            "end_line": 232,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 111,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 111,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "def list_user_api_keys"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 7,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "children": [],
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 6,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "user_id: str"
                                        }
                                    ],
                                    "label": "(user_id: str)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 9,
                                    "end_token": 13,
                                    "children": [
                                        {
                                            "type": "generic_type",
                                            "start_token": 10,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "List"
                                                },
                                                {
                                                    "type": "type_parameter",
                                                    "start_token": 12,
                                                    "end_token": 12,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 12,
                                                            "end_token": 12,
                                                            "children": [],
                                                            "label": "APIKeyWithoutHash"
                                                        }
                                                    ],
                                                    "label": "APIKeyWithoutHash"
                                                }
                                            ],
                                            "label": "List[APIKeyWithoutHash]"
                                        }
                                    ],
                                    "label": "> List[APIKeyWithoutHash]"
                                },
                                {
                                    "type": "block",
                                    "start_token": 15,
                                    "end_token": 111,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 16,
                                            "end_token": 111,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 18,
                                                    "end_token": 70,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 19,
                                                            "end_token": 27,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "children": [],
                                                                    "label": "where_clause"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [],
                                                                            "label": ":"
                                                                        }
                                                                    ],
                                                                    "label": "APIKeyWhereInput"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 23,
                                                                    "end_token": 27,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 24,
                                                                            "end_token": 26,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 24,
                                                                                    "end_token": 24,
                                                                                    "children": [],
                                                                                    "label": "\"userId\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 26,
                                                                                    "end_token": 26,
                                                                                    "children": [],
                                                                                    "label": "user_id"
                                                                                }
                                                                            ],
                                                                            "label": "\"userId\": user_id"
                                                                        }
                                                                    ],
                                                                    "label": "{\"userId\": user_id}"
                                                                }
                                                            ],
                                                            "label": "where_clause: APIKeyWhereInput = {\"userId\": user_id}"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 30,
                                                            "end_token": 54,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 30,
                                                                    "end_token": 30,
                                                                    "children": [],
                                                                    "label": "api_keys"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 32,
                                                                    "end_token": 54,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 33,
                                                                            "end_token": 54,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 33,
                                                                                    "end_token": 39,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 33,
                                                                                            "end_token": 35,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 33,
                                                                                                    "end_token": 33,
                                                                                                    "children": [],
                                                                                                    "label": "PrismaAPIKey"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 35,
                                                                                                    "end_token": 35,
                                                                                                    "children": [],
                                                                                                    "label": "prisma"
                                                                                                }
                                                                                            ],
                                                                                            "label": "PrismaAPIKey.prisma"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 39,
                                                                                            "end_token": 39,
                                                                                            "children": [],
                                                                                            "label": "find_many"
                                                                                        }
                                                                                    ],
                                                                                    "label": "PrismaAPIKey.prisma().find_many"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 40,
                                                                                    "end_token": 54,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 42,
                                                                                            "end_token": 44,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "children": [],
                                                                                                    "label": "where"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 44,
                                                                                                    "end_token": 44,
                                                                                                    "children": [],
                                                                                                    "label": "where_clause"
                                                                                                }
                                                                                            ],
                                                                                            "label": "where=where_clause"
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 46,
                                                                                            "end_token": 52,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 46,
                                                                                                    "end_token": 46,
                                                                                                    "children": [],
                                                                                                    "label": "order"
                                                                                                },
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 48,
                                                                                                    "end_token": 52,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 49,
                                                                                                            "end_token": 51,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 49,
                                                                                                                    "end_token": 49,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"createdAt\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 51,
                                                                                                                    "end_token": 51,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"desc\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"createdAt\": \"desc\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "{\"createdAt\": \"desc\"}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "order={\"createdAt\": \"desc\"}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "PrismaAPIKey.prisma().find_many(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "await PrismaAPIKey.prisma().find_many(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )"
                                                                }
                                                            ],
                                                            "label": "api_keys = await PrismaAPIKey.prisma().find_many(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 57,
                                                            "end_token": 69,
                                                            "children": [
                                                                {
                                                                    "type": "list_comprehension",
                                                                    "start_token": 58,
                                                                    "end_token": 69,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 59,
                                                                            "end_token": 64,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 59,
                                                                                    "end_token": 61,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 59,
                                                                                            "end_token": 59,
                                                                                            "children": [],
                                                                                            "label": "APIKeyWithoutHash"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 61,
                                                                                            "end_token": 61,
                                                                                            "children": [],
                                                                                            "label": "from_db"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyWithoutHash.from_db"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 62,
                                                                                    "end_token": 64,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 63,
                                                                                            "end_token": 63,
                                                                                            "children": [],
                                                                                            "label": "key"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(key)"
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyWithoutHash.from_db(key)"
                                                                        },
                                                                        {
                                                                            "type": "for_in_clause",
                                                                            "start_token": 65,
                                                                            "end_token": 68,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 66,
                                                                                    "end_token": 66,
                                                                                    "children": [],
                                                                                    "label": "key"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 68,
                                                                                    "end_token": 68,
                                                                                    "children": [],
                                                                                    "label": "api_keys"
                                                                                }
                                                                            ],
                                                                            "label": "for key in api_keys"
                                                                        }
                                                                    ],
                                                                    "label": "[APIKeyWithoutHash.from_db(key) for key in api_keys]"
                                                                }
                                                            ],
                                                            "label": "return [APIKeyWithoutHash.from_db(key) for key in api_keys]"
                                                        }
                                                    ],
                                                    "label": "\n        where_clause: APIKeyWhereInput = {\"userId\": user_id}\n\n        api_keys = await PrismaAPIKey.prisma().find_many(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )\n\n        return [APIKeyWithoutHash.from_db(key) for key in api_keys]\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 71,
                                                    "end_token": 90,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 72,
                                                            "end_token": 74,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 72,
                                                                    "end_token": 72,
                                                                    "children": [],
                                                                    "label": "PrismaError"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 74,
                                                                    "end_token": 74,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "PrismaError as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 75,
                                                            "end_token": 90,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 77,
                                                                    "end_token": 83,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 77,
                                                                            "end_token": 79,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 77,
                                                                                    "end_token": 77,
                                                                                    "children": [],
                                                                                    "label": "logger"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 79,
                                                                                    "end_token": 79,
                                                                                    "children": [],
                                                                                    "label": "error"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 80,
                                                                            "end_token": 82,
                                                                            "children": [
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 81,
                                                                                    "end_token": 82,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "start_token": 81,
                                                                                            "end_token": 81,
                                                                                            "children": [],
                                                                                            "label": "f"
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 82,
                                                                                            "end_token": 82,
                                                                                            "children": [],
                                                                                            "label": "\"Database error while listing API keys: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Database error while listing API keys: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Database error while listing API keys: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Database error while listing API keys: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 85,
                                                                    "end_token": 90,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 86,
                                                                            "end_token": 90,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 86,
                                                                                    "end_token": 86,
                                                                                    "children": [],
                                                                                    "label": "APIKeyError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 87,
                                                                                    "end_token": 89,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 88,
                                                                                            "end_token": 89,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_start",
                                                                                                    "start_token": 88,
                                                                                                    "end_token": 88,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                },
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 89,
                                                                                                    "end_token": 89,
                                                                                                    "children": [],
                                                                                                    "label": "\"Failed to list API keys: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Failed to list API keys: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Failed to list API keys: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        logger.error(f\"Database error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except PrismaError as e:\n        logger.error(f\"Database error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 92,
                                                    "end_token": 111,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 93,
                                                            "end_token": 95,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 93,
                                                                    "end_token": 93,
                                                                    "children": [],
                                                                    "label": "Exception"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 95,
                                                                    "end_token": 95,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "Exception as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 96,
                                                            "end_token": 111,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 98,
                                                                    "end_token": 104,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 98,
                                                                            "end_token": 100,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 98,
                                                                                    "end_token": 98,
                                                                                    "children": [],
                                                                                    "label": "logger"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 100,
                                                                                    "end_token": 100,
                                                                                    "children": [],
                                                                                    "label": "error"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 101,
                                                                            "end_token": 103,
                                                                            "children": [
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 102,
                                                                                    "end_token": 103,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "start_token": 102,
                                                                                            "end_token": 102,
                                                                                            "children": [],
                                                                                            "label": "f"
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 103,
                                                                                            "end_token": 103,
                                                                                            "children": [],
                                                                                            "label": "\"Unexpected error while listing API keys: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Unexpected error while listing API keys: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Unexpected error while listing API keys: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Unexpected error while listing API keys: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 106,
                                                                    "end_token": 111,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 107,
                                                                            "end_token": 111,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 107,
                                                                                    "end_token": 107,
                                                                                    "children": [],
                                                                                    "label": "APIKeyError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 108,
                                                                                    "end_token": 110,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "concatenated_string",
                                                                                            "start_token": 109,
                                                                                            "end_token": 110,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_start",
                                                                                                    "start_token": 109,
                                                                                                    "end_token": 109,
                                                                                                    "children": [],
                                                                                                    "label": "f"
                                                                                                },
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 110,
                                                                                                    "end_token": 110,
                                                                                                    "children": [],
                                                                                                    "label": "\"Failed to list API keys: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Failed to list API keys: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Failed to list API keys: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        logger.error(f\"Unexpected error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        logger.error(f\"Unexpected error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        where_clause: APIKeyWhereInput = {\"userId\": user_id}\n\n        api_keys = await PrismaAPIKey.prisma().find_many(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )\n\n        return [APIKeyWithoutHash.from_db(key) for key in api_keys]\n    except PrismaError as e:\n        logger.error(f\"Database error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n    try:\n        where_clause: APIKeyWhereInput = {\"userId\": user_id}\n\n        api_keys = await PrismaAPIKey.prisma().find_many(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )\n\n        return [APIKeyWithoutHash.from_db(key) for key in api_keys]\n    except PrismaError as e:\n        logger.error(f\"Database error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                                }
                            ],
                            "label": "async def list_user_api_keys(user_id: str) -> List[APIKeyWithoutHash]:\n    try:\n        where_clause: APIKeyWhereInput = {\"userId\": user_id}\n\n        api_keys = await PrismaAPIKey.prisma().find_many(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )\n\n        return [APIKeyWithoutHash.from_db(key) for key in api_keys]\n    except PrismaError as e:\n        logger.error(f\"Database error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                        }
                    ],
                    "label": "async def list_user_api_keys(user_id: str) -> List[APIKeyWithoutHash]:\n    try:\n        where_clause: APIKeyWhereInput = {\"userId\": user_id}\n\n        api_keys = await PrismaAPIKey.prisma().find_many(\n            where=where_clause, order={\"createdAt\": \"desc\"}\n        )\n\n        return [APIKeyWithoutHash.from_db(key) for key in api_keys]\n    except PrismaError as e:\n        logger.error(f\"Database error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while listing API keys: {str(e)}\")\n        raise APIKeyError(f\"Failed to list API keys: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "suspend_api_key",
            "start_line": 235,
            "end_line": 263,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 185,
                    "children": [
                        {
                            "type": "decorated_definition",
                            "start_token": 0,
                            "end_token": 131,
                            "children": [
                                {
                                    "type": "function_definition",
                                    "start_token": 0,
                                    "end_token": 131,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 0,
                                            "end_token": 0,
                                            "label": "async"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 1,
                                            "end_token": 1,
                                            "label": "def"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 2,
                                            "end_token": 2,
                                            "label": "suspend_api_key"
                                        },
                                        {
                                            "type": "parameters",
                                            "start_token": 3,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 4,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 4,
                                                            "end_token": 4,
                                                            "label": "key_id"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 6,
                                                            "end_token": 6,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "key_id: str"
                                                },
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 8,
                                                    "end_token": 10,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 8,
                                                            "end_token": 8,
                                                            "label": "user_id"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 10,
                                                            "end_token": 10,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "user_id: str"
                                                }
                                            ],
                                            "label": "(key_id: str, user_id: str)"
                                        },
                                        {
                                            "type": "union_type",
                                            "start_token": 12,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 14,
                                                    "end_token": 17,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 14,
                                                            "end_token": 14,
                                                            "label": "Optional"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 16,
                                                            "end_token": 16,
                                                            "label": "APIKeyWithoutHash"
                                                        }
                                                    ],
                                                    "label": "Optional[APIKeyWithoutHash]"
                                                }
                                            ],
                                            "label": "-> Optional[APIKeyWithoutHash]"
                                        },
                                        {
                                            "type": "block",
                                            "start_token": 18,
                                            "end_token": 131,
                                            "children": [
                                                {
                                                    "type": "try_statement",
                                                    "start_token": 20,
                                                    "end_token": 144,
                                                    "children": [
                                                        {
                                                            "type": "block",
                                                            "start_token": 22,
                                                            "end_token": 130,
                                                            "children": [
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 23,
                                                                    "end_token": 41,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 23,
                                                                            "end_token": 23,
                                                                            "label": "api_key"
                                                                        },
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 25,
                                                                            "end_token": 41,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 25,
                                                                                    "end_token": 41,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 25,
                                                                                            "end_token": 32,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 25,
                                                                                                    "end_token": 30,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 25,
                                                                                                            "end_token": 28,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 25,
                                                                                                                    "end_token": 25,
                                                                                                                    "label": "await"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 27,
                                                                                                                    "end_token": 28,
                                                                                                                    "label": ".prisma"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "await PrismaAPIKey.prisma"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "await PrismaAPIKey.prisma()"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 31,
                                                                                                    "end_token": 31,
                                                                                                    "label": "."
                                                                                                }
                                                                                            ],
                                                                                            "label": "await PrismaAPIKey.prisma().find_unique"
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 34,
                                                                                            "end_token": 40,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 36,
                                                                                                    "end_token": 40,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 37,
                                                                                                            "end_token": 39,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 37,
                                                                                                                    "end_token": 37,
                                                                                                                    "label": "\"id\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 39,
                                                                                                                    "end_token": 39,
                                                                                                                    "label": "key_id"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"id\": key_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "{\"id\": key_id}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "where={\"id\": key_id}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})"
                                                                                }
                                                                            ],
                                                                            "label": "await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})"
                                                                        }
                                                                    ],
                                                                    "label": "api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})"
                                                                },
                                                                {
                                                                    "type": "if_statement",
                                                                    "start_token": 44,
                                                                    "end_token": 54,
                                                                    "children": [
                                                                        {
                                                                            "type": "not_operator",
                                                                            "start_token": 45,
                                                                            "end_token": 46,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 46,
                                                                                    "end_token": 46,
                                                                                    "label": "api_key"
                                                                                }
                                                                            ],
                                                                            "label": "not api_key"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 47,
                                                                            "end_token": 54,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 49,
                                                                                    "end_token": 54,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 50,
                                                                                            "end_token": 50,
                                                                                            "label": "APIKeyNotFoundError"
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 51,
                                                                                            "end_token": 54,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "interpolation",
                                                                                                    "start_token": 52,
                                                                                                    "end_token": 53,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 53,
                                                                                                            "end_token": 53,
                                                                                                            "label": "\"API key with id {key_id} not found\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "f\"API key with id {key_id} not found\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(f\"API key with id {key_id} not found\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")"
                                                                        }
                                                                    ],
                                                                    "label": "if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")"
                                                                },
                                                                {
                                                                    "type": "if_statement",
                                                                    "start_token": 57,
                                                                    "end_token": 72,
                                                                    "children": [
                                                                        {
                                                                            "type": "comparison_operator",
                                                                            "start_token": 58,
                                                                            "end_token": 63,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 58,
                                                                                    "end_token": 60,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 58,
                                                                                            "end_token": 58,
                                                                                            "label": "api_key"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 60,
                                                                                            "end_token": 60,
                                                                                            "label": "userId"
                                                                                        }
                                                                                    ],
                                                                                    "label": "api_key.userId"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 63,
                                                                                    "end_token": 63,
                                                                                    "label": "user_id"
                                                                                }
                                                                            ],
                                                                            "label": "api_key.userId != user_id"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 64,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 66,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 67,
                                                                                            "end_token": 67,
                                                                                            "label": "APIKeyPermissionError"
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 68,
                                                                                            "end_token": 72,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 70,
                                                                                                    "end_token": 70,
                                                                                                    "label": "\"You do not have permission to suspend this API key.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                \"You do not have permission to suspend this API key.\"\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )"
                                                                        }
                                                                    ],
                                                                    "label": "if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 75,
                                                                    "end_token": 83,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 75,
                                                                            "end_token": 75,
                                                                            "label": "where_clause"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 77,
                                                                            "end_token": 77,
                                                                            "label": "APIKeyWhereUniqueInput"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 79,
                                                                            "end_token": 83,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 80,
                                                                                    "end_token": 82,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 80,
                                                                                            "end_token": 80,
                                                                                            "label": "\"id\""
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 82,
                                                                                            "end_token": 82,
                                                                                            "label": "key_id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"id\": key_id"
                                                                                }
                                                                            ],
                                                                            "label": "{\"id\": key_id}"
                                                                        }
                                                                    ],
                                                                    "label": "where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}"
                                                                },
                                                                {
                                                                    "type": "assignment",
                                                                    "start_token": 85,
                                                                    "end_token": 114,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 85,
                                                                            "end_token": 85,
                                                                            "label": "updated_api_key"
                                                                        },
                                                                        {
                                                                            "type": "await",
                                                                            "start_token": 87,
                                                                            "end_token": 114,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 87,
                                                                                    "end_token": 114,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 87,
                                                                                            "end_token": 94,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 87,
                                                                                                    "end_token": 92,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 87,
                                                                                                            "end_token": 90,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 87,
                                                                                                                    "end_token": 87,
                                                                                                                    "label": "await"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 89,
                                                                                                                    "end_token": 89,
                                                                                                                    "label": "."
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "await PrismaAPIKey.prisma"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "await PrismaAPIKey.prisma()"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 93,
                                                                                                    "end_token": 93,
                                                                                                    "label": "."
                                                                                                }
                                                                                            ],
                                                                                            "label": "await PrismaAPIKey.prisma().update"
                                                                                        },
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 96,
                                                                                            "end_token": 113,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 98,
                                                                                                    "end_token": 98,
                                                                                                    "label": "="
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 100,
                                                                                                    "end_token": 100,
                                                                                                    "label": ","
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 104,
                                                                                                    "end_token": 111,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "typed_parameter",
                                                                                                            "start_token": 106,
                                                                                                            "end_token": 110,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 108,
                                                                                                                    "end_token": 110,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 109,
                                                                                                                            "end_token": 109,
                                                                                                                            "label": "."
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 110,
                                                                                                                            "end_token": 110,
                                                                                                                            "label": "SUSPENDED"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "APIKeyStatus.SUSPENDED"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "status=APIKeyStatus.SUSPENDED"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )"
                                                                                }
                                                                            ],
                                                                            "label": "await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )"
                                                                },
                                                                {
                                                                    "type": "if_statement",
                                                                    "start_token": 117,
                                                                    "end_token": 128,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 118,
                                                                            "end_token": 118,
                                                                            "label": "updated_api_key"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 120,
                                                                            "end_token": 127,
                                                                            "children": [
                                                                                {
                                                                                    "type": "return_statement",
                                                                                    "start_token": 121,
                                                                                    "end_token": 127,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 122,
                                                                                            "end_token": 127,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 122,
                                                                                                    "end_token": 124,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 122,
                                                                                                            "end_token": 122,
                                                                                                            "label": "APIKeyWithoutHash"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 124,
                                                                                                            "end_token": 124,
                                                                                                            "label": "from_db"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "APIKeyWithoutHash.from_db"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 126,
                                                                                                    "end_token": 126,
                                                                                                    "label": "updated_api_key"
                                                                                                }
                                                                                            ],
                                                                                            "label": "APIKeyWithoutHash.from_db(updated_api_key)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "return APIKeyWithoutHash.from_db(updated_api_key)"
                                                                                }
                                                                            ],
                                                                            "label": "\n            return APIKeyWithoutHash.from_db(updated_api_key)"
                                                                        }
                                                                    ],
                                                                    "label": "if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 129,
                                                                    "end_token": 130,
                                                                    "children": [
                                                                        {
                                                                            "type": "none",
                                                                            "start_token": 130,
                                                                            "end_token": 130,
                                                                            "label": "None"
                                                                        }
                                                                    ],
                                                                    "label": "return None"
                                                                }
                                                            ],
                                                            "label": "\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None"
                                                        }
                                                    ],
                                                    "label": "try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 132,
                                                    "end_token": 144,
                                                    "children": [
                                                        {
                                                            "type": "tuple",
                                                            "start_token": 133,
                                                            "end_token": 137,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 134,
                                                                    "end_token": 134,
                                                                    "label": "APIKeyNotFoundError"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 136,
                                                                    "end_token": 136,
                                                                    "label": "APIKeyPermissionError"
                                                                }
                                                            ],
                                                            "label": "(APIKeyNotFoundError, APIKeyPermissionError)"
                                                        },
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 138,
                                                            "end_token": 139,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 139,
                                                                    "end_token": 139,
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 140,
                                                            "end_token": 144,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 142,
                                                                    "end_token": 144,
                                                                    "children": [
                                                                        {
                                                                            "type": "as_pattern_target",
                                                                            "start_token": 143,
                                                                            "end_token": 143,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 143,
                                                                                    "end_token": 143,
                                                                                    "label": "e"
                                                                                }
                                                                            ],
                                                                            "label": "e"
                                                                        }
                                                                    ],
                                                                    "label": "raise e\n"
                                                                }
                                                            ],
                                                            "label": ":\n        raise e\n"
                                                        }
                                                    ],
                                                    "label": "except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n"
                                                }
                                            ],
                                            "label": ":\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n"
                                        }
                                    ],
                                    "label": "async def suspend_api_key(key_id: str, user_id: str) -> Optional[APIKeyWithoutHash]:\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n"
                                }
                            ],
                            "label": "async def suspend_api_key(key_id: str, user_id: str) -> Optional[APIKeyWithoutHash]:\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n"
                        },
                        {
                            "type": "except_clause",
                            "start_token": 145,
                            "end_token": 185,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 146,
                                    "end_token": 146,
                                    "label": "PrismaError"
                                },
                                {
                                    "type": "as_pattern",
                                    "start_token": 148,
                                    "end_token": 149,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 149,
                                            "end_token": 149,
                                            "label": ":"
                                        }
                                    ],
                                    "label": "e:"
                                },
                                {
                                    "type": "block",
                                    "start_token": 150,
                                    "end_token": 185,
                                    "children": [
                                        {
                                            "type": "call",
                                            "start_token": 151,
                                            "end_token": 157,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 151,
                                                    "end_token": 154,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 151,
                                                            "end_token": 151,
                                                            "label": "logger"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 153,
                                                            "end_token": 153,
                                                            "label": "error"
                                                        }
                                                    ],
                                                    "label": "logger.error("
                                                },
                                                {
                                                    "type": "interpolation",
                                                    "start_token": 155,
                                                    "end_token": 156,
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "start_token": 156,
                                                            "end_token": 156,
                                                            "label": "\"Database error while suspending API key: {str(e)}\""
                                                        }
                                                    ],
                                                    "label": "f\"Database error while suspending API key: {str(e)}\""
                                                }
                                            ],
                                            "label": "logger.error(f\"Database error while suspending API key: {str(e)}\")"
                                        },
                                        {
                                            "type": "raise_statement",
                                            "start_token": 159,
                                            "end_token": 164,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 160,
                                                    "end_token": 160,
                                                    "label": "APIKeyError"
                                                },
                                                {
                                                    "type": "interpolation",
                                                    "start_token": 162,
                                                    "end_token": 163,
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "start_token": 163,
                                                            "end_token": 163,
                                                            "label": "\"Failed to suspend API key: {str(e)}\""
                                                        }
                                                    ],
                                                    "label": "f\"Failed to suspend API key: {str(e)}\""
                                                }
                                            ],
                                            "label": "raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n        logger.error(f\"Database error while suspending API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while suspending API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")"
                                }
                            ],
                            "label": "except PrismaError as e:\n        logger.error(f\"Database error while suspending API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while suspending API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")"
                        },
                        {
                            "type": "except_clause",
                            "start_token": 166,
                            "end_token": 185,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 167,
                                    "end_token": 167,
                                    "label": "Exception"
                                },
                                {
                                    "type": "as_pattern",
                                    "start_token": 169,
                                    "end_token": 170,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 170,
                                            "end_token": 170,
                                            "label": ":"
                                        }
                                    ],
                                    "label": "e:"
                                },
                                {
                                    "type": "block",
                                    "start_token": 171,
                                    "end_token": 185,
                                    "children": [
                                        {
                                            "type": "call",
                                            "start_token": 172,
                                            "end_token": 178,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 172,
                                                    "end_token": 175,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 172,
                                                            "end_token": 172,
                                                            "label": "logger"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 174,
                                                            "end_token": 174,
                                                            "label": "error"
                                                        }
                                                    ],
                                                    "label": "logger.error("
                                                },
                                                {
                                                    "type": "interpolation",
                                                    "start_token": 176,
                                                    "end_token": 177,
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "start_token": 177,
                                                            "end_token": 177,
                                                            "label": "\"Unexpected error while suspending API key: {str(e)}\""
                                                        }
                                                    ],
                                                    "label": "f\"Unexpected error while suspending API key: {str(e)}\""
                                                }
                                            ],
                                            "label": "logger.error(f\"Unexpected error while suspending API key: {str(e)}\")"
                                        },
                                        {
                                            "type": "raise_statement",
                                            "start_token": 180,
                                            "end_token": 185,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 181,
                                                    "end_token": 181,
                                                    "label": "APIKeyError"
                                                },
                                                {
                                                    "type": "interpolation",
                                                    "start_token": 183,
                                                    "end_token": 184,
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "start_token": 184,
                                                            "end_token": 184,
                                                            "label": "\"Failed to suspend API key: {str(e)}\""
                                                        }
                                                    ],
                                                    "label": "f\"Failed to suspend API key: {str(e)}\""
                                                }
                                            ],
                                            "label": "raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n        logger.error(f\"Unexpected error while suspending API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")"
                                }
                            ],
                            "label": "except Exception as e:\n        logger.error(f\"Unexpected error while suspending API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")"
                        }
                    ],
                    "label": "async def suspend_api_key(key_id: str, user_id: str) -> Optional[APIKeyWithoutHash]:\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if not api_key:\n            raise APIKeyNotFoundError(f\"API key with id {key_id} not found\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to suspend this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(status=APIKeyStatus.SUSPENDED),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while suspending API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while suspending API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to suspend API key: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "has_permission",
            "start_line": 266,
            "end_line": 271,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 42,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 42,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "has_permission"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 10,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 3,
                                            "end_token": 5,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "children": [],
                                                    "label": "api_key"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "APIKey"
                                                }
                                            ],
                                            "label": "api_key: APIKey"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "required_permission"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "APIKeyPermission"
                                                }
                                            ],
                                            "label": "required_permission: APIKeyPermission"
                                        }
                                    ],
                                    "label": "(api_key: APIKey, required_permission: APIKeyPermission)"
                                },
                                {
                                    "type": "type",
                                    "start_token": 13,
                                    "end_token": 13,
                                    "children": [],
                                    "label": "bool"
                                },
                                {
                                    "type": "block",
                                    "start_token": 15,
                                    "end_token": 42,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 16,
                                            "end_token": 41,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 18,
                                                    "end_token": 25,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 19,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "boolean_operator",
                                                                    "start_token": 20,
                                                                    "end_token": 24,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [],
                                                                            "label": "required_permission"
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 22,
                                                                            "end_token": 24,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 22,
                                                                                    "end_token": 22,
                                                                                    "children": [],
                                                                                    "label": "api_key"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 24,
                                                                                    "end_token": 24,
                                                                                    "children": [],
                                                                                    "label": "permissions"
                                                                                }
                                                                            ],
                                                                            "label": "api_key.permissions"
                                                                        }
                                                                    ],
                                                                    "label": "required_permission in api_key.permissions"
                                                                }
                                                            ],
                                                            "label": "return required_permission in api_key.permissions"
                                                        }
                                                    ],
                                                    "label": "\n        return required_permission in api_key.permissions\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 26,
                                                    "end_token": 41,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 27,
                                                            "end_token": 27,
                                                            "children": [],
                                                            "label": "Exception"
                                                        },
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 28,
                                                            "end_token": 29,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 29,
                                                                    "end_token": 29,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 31,
                                                            "end_token": 41,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 32,
                                                                    "end_token": 38,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 32,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 32,
                                                                                    "end_token": 32,
                                                                                    "children": [],
                                                                                    "label": "logger"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 34,
                                                                                    "end_token": 34,
                                                                                    "children": [],
                                                                                    "label": "error"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 35,
                                                                            "end_token": 37,
                                                                            "children": [
                                                                                {
                                                                                    "type": "formatted_string",
                                                                                    "start_token": 36,
                                                                                    "end_token": 37,
                                                                                    "children": [],
                                                                                    "label": "f\"Error checking API key permissions: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Error checking API key permissions: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Error checking API key permissions: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 40,
                                                                    "end_token": 41,
                                                                    "children": [
                                                                        {
                                                                            "type": "false",
                                                                            "start_token": 41,
                                                                            "end_token": 41,
                                                                            "children": [],
                                                                            "label": "False"
                                                                        }
                                                                    ],
                                                                    "label": "return False"
                                                                }
                                                            ],
                                                            "label": "\n        logger.error(f\"Error checking API key permissions: {str(e)}\")\n        return False"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        logger.error(f\"Error checking API key permissions: {str(e)}\")\n        return False"
                                                }
                                            ],
                                            "label": "try:\n        return required_permission in api_key.permissions\n    except Exception as e:\n        logger.error(f\"Error checking API key permissions: {str(e)}\")\n        return False"
                                        }
                                    ],
                                    "label": "\n    try:\n        return required_permission in api_key.permissions\n    except Exception as e:\n        logger.error(f\"Error checking API key permissions: {str(e)}\")\n        return False\n"
                                }
                            ],
                            "label": "def has_permission(api_key: APIKey, required_permission: APIKeyPermission) -> bool:\n    try:\n        return required_permission in api_key.permissions\n    except Exception as e:\n        logger.error(f\"Error checking API key permissions: {str(e)}\")\n        return False\n"
                        }
                    ],
                    "label": "def has_permission(api_key: APIKey, required_permission: APIKeyPermission) -> bool:\n    try:\n        return required_permission in api_key.permissions\n    except Exception as e:\n        logger.error(f\"Error checking API key permissions: {str(e)}\")\n        return False\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_api_key_by_id",
            "start_line": 274,
            "end_line": 289,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 108,
                    "children": [
                        {
                            "type": "async",
                            "start_token": 0,
                            "end_token": 0,
                            "children": [],
                            "label": "async"
                        },
                        {
                            "type": "function_definition",
                            "start_token": 1,
                            "end_token": 109,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "get_api_key_by_id"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "children": [],
                                                    "label": "key_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 6,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "key_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 8,
                                            "end_token": 10,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 8,
                                                    "end_token": 8,
                                                    "children": [],
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "user_id: str"
                                        }
                                    ],
                                    "label": "(key_id: str, user_id: str)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 13,
                                    "end_token": 17,
                                    "children": [
                                        {
                                            "type": "generic_type",
                                            "start_token": 14,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "type",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "children": [],
                                                    "label": "Optional"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 16,
                                                    "end_token": 16,
                                                    "children": [],
                                                    "label": "APIKeyWithoutHash"
                                                }
                                            ],
                                            "label": "Optional[APIKeyWithoutHash]"
                                        }
                                    ],
                                    "label": "> Optional[APIKeyWithoutHash]"
                                },
                                {
                                    "type": "block",
                                    "start_token": 19,
                                    "end_token": 109,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 20,
                                            "end_token": 108,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 22,
                                                    "end_token": 66,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 23,
                                                            "end_token": 46,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 23,
                                                                    "end_token": 23,
                                                                    "children": [],
                                                                    "label": "api_key"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 25,
                                                                    "end_token": 46,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 26,
                                                                            "end_token": 46,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 26,
                                                                                    "end_token": 28,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 26,
                                                                                            "end_token": 26,
                                                                                            "children": [],
                                                                                            "label": "PrismaAPIKey"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 28,
                                                                                            "end_token": 28,
                                                                                            "children": [],
                                                                                            "label": "prisma"
                                                                                        }
                                                                                    ],
                                                                                    "label": "PrismaAPIKey.prisma"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 31,
                                                                                    "end_token": 46,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 32,
                                                                                            "end_token": 32,
                                                                                            "children": [],
                                                                                            "label": "find_first"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 33,
                                                                                            "end_token": 46,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 35,
                                                                                                    "end_token": 45,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 35,
                                                                                                            "end_token": 35,
                                                                                                            "children": [],
                                                                                                            "label": "where"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 37,
                                                                                                            "end_token": 45,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 37,
                                                                                                                    "end_token": 37,
                                                                                                                    "children": [],
                                                                                                                    "label": "APIKeyWhereInput"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 38,
                                                                                                                    "end_token": 45,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "assignment",
                                                                                                                            "start_token": 39,
                                                                                                                            "end_token": 41,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 39,
                                                                                                                                    "end_token": 39,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "id"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 41,
                                                                                                                                    "end_token": 41,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "key_id"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "id=key_id"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "assignment",
                                                                                                                            "start_token": 43,
                                                                                                                            "end_token": 45,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 43,
                                                                                                                                    "end_token": 43,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "userId"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 45,
                                                                                                                                    "end_token": 45,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "user_id"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "userId=user_id"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "(id=key_id, userId=user_id"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "APIKeyWhereInput(id=key_id, userId=user_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "where=APIKeyWhereInput(id=key_id, userId=user_id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)"
                                                                                        }
                                                                                    ],
                                                                                    "label": ".find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)"
                                                                                }
                                                                            ],
                                                                            "label": "PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)"
                                                                        }
                                                                    ],
                                                                    "label": "await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)"
                                                                }
                                                            ],
                                                            "label": "api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 51,
                                                            "end_token": 57,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 52,
                                                                    "end_token": 53,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 53,
                                                                            "end_token": 53,
                                                                            "children": [],
                                                                            "label": "api_key"
                                                                        }
                                                                    ],
                                                                    "label": "not api_key"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 54,
                                                                    "end_token": 57,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 56,
                                                                            "end_token": 57,
                                                                            "children": [
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 57,
                                                                                    "end_token": 57,
                                                                                    "children": [],
                                                                                    "label": "None"
                                                                                }
                                                                            ],
                                                                            "label": "return None"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            return None"
                                                                }
                                                            ],
                                                            "label": "if not api_key:\n            return None"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 60,
                                                            "end_token": 66,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 61,
                                                                    "end_token": 66,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 61,
                                                                            "end_token": 63,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 61,
                                                                                    "end_token": 61,
                                                                                    "children": [],
                                                                                    "label": "APIKeyWithoutHash"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 63,
                                                                                    "end_token": 63,
                                                                                    "children": [],
                                                                                    "label": "from_db"
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyWithoutHash.from_db"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 64,
                                                                            "end_token": 66,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 65,
                                                                                    "end_token": 65,
                                                                                    "children": [],
                                                                                    "label": "api_key"
                                                                                }
                                                                            ],
                                                                            "label": "(api_key)"
                                                                        }
                                                                    ],
                                                                    "label": "APIKeyWithoutHash.from_db(api_key)"
                                                                }
                                                            ],
                                                            "label": "return APIKeyWithoutHash.from_db(api_key)"
                                                        }
                                                    ],
                                                    "label": "\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)\n        )\n\n        if not api_key:\n            return None\n\n        return APIKeyWithoutHash.from_db(api_key)"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 68,
                                                    "end_token": 88,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 69,
                                                            "end_token": 71,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 69,
                                                                    "end_token": 69,
                                                                    "children": [],
                                                                    "label": "PrismaError"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 71,
                                                                    "end_token": 71,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "PrismaError as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 72,
                                                            "end_token": 88,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 74,
                                                                    "end_token": 80,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 74,
                                                                            "end_token": 76,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 74,
                                                                                    "end_token": 74,
                                                                                    "children": [],
                                                                                    "label": "logger"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 76,
                                                                                    "end_token": 76,
                                                                                    "children": [],
                                                                                    "label": "error"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 77,
                                                                            "end_token": 80,
                                                                            "children": [
                                                                                {
                                                                                    "type": "interpolation",
                                                                                    "start_token": 78,
                                                                                    "end_token": 79,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 79,
                                                                                            "end_token": 79,
                                                                                            "children": [],
                                                                                            "label": "\"Database error while getting API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Database error while getting API key: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Database error while getting API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Database error while getting API key: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 82,
                                                                    "end_token": 87,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 83,
                                                                            "end_token": 87,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 83,
                                                                                    "end_token": 83,
                                                                                    "children": [],
                                                                                    "label": "APIKeyError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 84,
                                                                                    "end_token": 87,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "interpolation",
                                                                                            "start_token": 85,
                                                                                            "end_token": 86,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 86,
                                                                                                    "end_token": 86,
                                                                                                    "children": [],
                                                                                                    "label": "\"Failed to get API key: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Failed to get API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Failed to get API key: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyError(f\"Failed to get API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyError(f\"Failed to get API key: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        logger.error(f\"Database error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")\n"
                                                        }
                                                    ],
                                                    "label": "except PrismaError as e:\n        logger.error(f\"Database error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 89,
                                                    "end_token": 108,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 90,
                                                            "end_token": 92,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 90,
                                                                    "end_token": 90,
                                                                    "children": [],
                                                                    "label": "Exception"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 92,
                                                                    "end_token": 92,
                                                                    "children": [],
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "Exception as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 93,
                                                            "end_token": 108,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 95,
                                                                    "end_token": 101,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 95,
                                                                            "end_token": 97,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 95,
                                                                                    "end_token": 95,
                                                                                    "children": [],
                                                                                    "label": "logger"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 97,
                                                                                    "end_token": 97,
                                                                                    "children": [],
                                                                                    "label": "error"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 98,
                                                                            "end_token": 101,
                                                                            "children": [
                                                                                {
                                                                                    "type": "interpolation",
                                                                                    "start_token": 99,
                                                                                    "end_token": 100,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 100,
                                                                                            "end_token": 100,
                                                                                            "children": [],
                                                                                            "label": "\"Unexpected error while getting API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"Unexpected error while getting API key: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Unexpected error while getting API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Unexpected error while getting API key: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 103,
                                                                    "end_token": 108,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 104,
                                                                            "end_token": 108,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 104,
                                                                                    "end_token": 104,
                                                                                    "children": [],
                                                                                    "label": "APIKeyError"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 105,
                                                                                    "end_token": 108,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "interpolation",
                                                                                            "start_token": 106,
                                                                                            "end_token": 107,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 107,
                                                                                                    "end_token": 107,
                                                                                                    "children": [],
                                                                                                    "label": "\"Failed to get API key: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "f\"Failed to get API key: {str(e)}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "(f\"Failed to get API key: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyError(f\"Failed to get API key: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyError(f\"Failed to get API key: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        logger.error(f\"Unexpected error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        logger.error(f\"Unexpected error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)\n        )\n\n        if not api_key:\n            return None\n\n        return APIKeyWithoutHash.from_db(api_key)\n    except PrismaError as e:\n        logger.error(f\"Database error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")"
                                        }
                                    ],
                                    "label": "\n    try:\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)\n        )\n\n        if not api_key:\n            return None\n\n        return APIKeyWithoutHash.from_db(api_key)\n    except PrismaError as e:\n        logger.error(f\"Database error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")\n"
                                }
                            ],
                            "label": "def get_api_key_by_id(key_id: str, user_id: str) -> Optional[APIKeyWithoutHash]:\n    try:\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)\n        )\n\n        if not api_key:\n            return None\n\n        return APIKeyWithoutHash.from_db(api_key)\n    except PrismaError as e:\n        logger.error(f\"Database error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")\n"
                        }
                    ],
                    "label": "async def get_api_key_by_id(key_id: str, user_id: str) -> Optional[APIKeyWithoutHash]:\n    try:\n        api_key = await PrismaAPIKey.prisma().find_first(\n            where=APIKeyWhereInput(id=key_id, userId=user_id)\n        )\n\n        if not api_key:\n            return None\n\n        return APIKeyWithoutHash.from_db(api_key)\n    except PrismaError as e:\n        logger.error(f\"Database error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while getting API key: {str(e)}\")\n        raise APIKeyError(f\"Failed to get API key: {str(e)}\")"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "update_api_key_permissions",
            "start_line": 292,
            "end_line": 325,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 196,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 196,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "def"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 7,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "key_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "key_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 10,
                                                    "end_token": 11,
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "user_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 13,
                                            "end_token": 18,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "label": "permissions"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 14,
                                                    "end_token": 18,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 15,
                                                            "end_token": 15,
                                                            "label": "List"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 17,
                                                            "end_token": 17,
                                                            "label": "APIKeyPermission"
                                                        }
                                                    ],
                                                    "label": ": List[APIKeyPermission]"
                                                }
                                            ],
                                            "label": "permissions: List[APIKeyPermission]"
                                        }
                                    ],
                                    "label": "(\n    key_id: str, user_id: str, permissions: List[APIKeyPermission]\n)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 22,
                                    "end_token": 26,
                                    "children": [
                                        {
                                            "type": "type",
                                            "start_token": 23,
                                            "end_token": 26,
                                            "label": "Optional[APIKeyWithoutHash]"
                                        }
                                    ],
                                    "label": "> Optional[APIKeyWithoutHash]"
                                },
                                {
                                    "type": "string",
                                    "start_token": 29,
                                    "end_token": 31,
                                    "label": "\"\"\"\n    Update the permissions of an API key.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 33,
                                    "end_token": 196,
                                    "children": [
                                        {
                                            "type": "try_statement",
                                            "start_token": 33,
                                            "end_token": 195,
                                            "children": [
                                                {
                                                    "type": "block",
                                                    "start_token": 34,
                                                    "end_token": 141,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 36,
                                                            "end_token": 43,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 36,
                                                                    "end_token": 36,
                                                                    "label": "api_key"
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 38,
                                                                    "end_token": 43,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 38,
                                                                            "end_token": 43,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 39,
                                                                                    "end_token": 41,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 39,
                                                                                            "end_token": 39,
                                                                                            "label": "PrismaAPIKey"
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 42,
                                                                                            "end_token": 43,
                                                                                            "label": "()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "PrismaAPIKey.prisma"
                                                                                }
                                                                            ],
                                                                            "label": "await PrismaAPIKey.prisma()"
                                                                        }
                                                                    ],
                                                                    "label": "await PrismaAPIKey.prisma()"
                                                                }
                                                            ],
                                                            "label": "api_key = await PrismaAPIKey.prisma()"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 44,
                                                            "end_token": 54,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 45,
                                                                    "end_token": 45,
                                                                    "label": "find_unique"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 46,
                                                                    "end_token": 54,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 47,
                                                                            "end_token": 53,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 50,
                                                                                    "end_token": 50,
                                                                                    "label": "\"id\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 52,
                                                                                    "end_token": 52,
                                                                                    "label": "key_id"
                                                                                }
                                                                            ],
                                                                            "label": "where={\"id\": key_id}"
                                                                        }
                                                                    ],
                                                                    "label": "(where={\"id\": key_id})"
                                                                }
                                                            ],
                                                            "label": ".find_unique(where={\"id\": key_id})"
                                                        },
                                                        {
                                                            "type": "conditional_expression",
                                                            "start_token": 56,
                                                            "end_token": 68,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 58,
                                                                    "end_token": 60,
                                                                    "label": "api_key is None"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 61,
                                                                    "end_token": 67,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 63,
                                                                            "end_token": 67,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 64,
                                                                                    "end_token": 67,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 66,
                                                                                            "end_token": 66,
                                                                                            "label": "\"No such API key found.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyNotFoundError(\"No such API key found.\")"
                                                                                }
                                                                            ],
                                                                            "label": "raise APIKeyNotFoundError(\"No such API key found.\")"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            raise APIKeyNotFoundError(\"No such API key found.\")"
                                                                }
                                                            ],
                                                            "label": "\n        if api_key is None:\n            raise APIKeyNotFoundError(\"No such API key found.\")\n"
                                                        },
                                                        {
                                                            "type": "conditional_expression",
                                                            "start_token": 70,
                                                            "end_token": 85,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 71,
                                                                    "end_token": 76,
                                                                    "label": "api_key.userId != user_id"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 77,
                                                                    "end_token": 85,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 79,
                                                                            "end_token": 85,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 80,
                                                                                    "end_token": 84,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 83,
                                                                                            "end_token": 83,
                                                                                            "label": "\"You do not have permission to update this API key.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n"
                                                                                }
                                                                            ],
                                                                            "label": "raise APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n            )"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            raise APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n            )"
                                                                }
                                                            ],
                                                            "label": "if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n            )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 88,
                                                            "end_token": 96,
                                                            "children": [
                                                                {
                                                                    "type": "typed_parameter",
                                                                    "start_token": 88,
                                                                    "end_token": 90,
                                                                    "label": "where_clause: APIKeyWhereUniqueInput"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 92,
                                                                    "end_token": 96,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 93,
                                                                            "end_token": 95,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 93,
                                                                                    "end_token": 93,
                                                                                    "label": "\"id\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 95,
                                                                                    "end_token": 95,
                                                                                    "label": "key_id"
                                                                                }
                                                                            ],
                                                                            "label": "\"id\": key_id"
                                                                        }
                                                                    ],
                                                                    "label": "{\"id\": key_id}"
                                                                }
                                                            ],
                                                            "label": "where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}"
                                                        },
                                                        {
                                                            "type": "statement",
                                                            "start_token": 98,
                                                            "end_token": 138,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 99,
                                                                    "end_token": 99,
                                                                    "label": "="
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 100,
                                                                    "end_token": 105,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 100,
                                                                            "end_token": 105,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 101,
                                                                                    "end_token": 103,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 101,
                                                                                            "end_token": 101,
                                                                                            "label": "PrismaAPIKey"
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 104,
                                                                                            "end_token": 105,
                                                                                            "label": "()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "PrismaAPIKey.prisma"
                                                                                }
                                                                            ],
                                                                            "label": "await PrismaAPIKey.prisma()"
                                                                        }
                                                                    ],
                                                                    "label": "await PrismaAPIKey.prisma()"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 110,
                                                                    "end_token": 124,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 110,
                                                                            "end_token": 112,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 110,
                                                                                    "end_token": 110,
                                                                                    "label": "where"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 111,
                                                                                    "end_token": 111,
                                                                                    "label": "="
                                                                                }
                                                                            ],
                                                                            "label": "where=where_clause"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 115,
                                                                            "end_token": 122,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 115,
                                                                                    "end_token": 115,
                                                                                    "label": "data"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 116,
                                                                                    "end_token": 122,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 119,
                                                                                            "end_token": 121,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 119,
                                                                                                    "end_token": 119,
                                                                                                    "label": "permissions"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 121,
                                                                                                    "end_token": 121,
                                                                                                    "label": "permissions"
                                                                                                }
                                                                                            ],
                                                                                            "label": "permissions=permissions"
                                                                                        }
                                                                                    ],
                                                                                    "label": "=APIKeyUpdateInput(permissions=permissions)"
                                                                                }
                                                                            ],
                                                                            "label": "data=APIKeyUpdateInput(permissions=permissions)"
                                                                        }
                                                                    ],
                                                                    "label": "where=where_clause,\n            data=APIKeyUpdateInput(permissions=permissions),\n"
                                                                }
                                                            ],
                                                            "label": "updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(permissions=permissions),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)"
                                                        },
                                                        {
                                                            "type": "conditional_expression",
                                                            "start_token": 128,
                                                            "end_token": 139,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 130,
                                                                    "end_token": 138,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 132,
                                                                            "end_token": 138,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 133,
                                                                                    "end_token": 138,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 133,
                                                                                            "end_token": 135,
                                                                                            "label": "APIKeyWithoutHash.from_db"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 137,
                                                                                            "end_token": 137,
                                                                                            "label": "updated_api_key"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyWithoutHash.from_db(updated_api_key)"
                                                                                }
                                                                            ],
                                                                            "label": "return APIKeyWithoutHash.from_db(updated_api_key)"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            return APIKeyWithoutHash.from_db(updated_api_key)"
                                                                }
                                                            ],
                                                            "label": "if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 140,
                                                            "end_token": 141,
                                                            "children": [
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 141,
                                                                    "end_token": 141,
                                                                    "label": "None"
                                                                }
                                                            ],
                                                            "label": "return None"
                                                        }
                                                    ],
                                                    "label": ":\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if api_key is None:\n            raise APIKeyNotFoundError(\"No such API key found.\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(permissions=permissions),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 143,
                                                    "end_token": 155,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 149,
                                                            "end_token": 150,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 149,
                                                                    "end_token": 149,
                                                                    "label": "as"
                                                                }
                                                            ],
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 151,
                                                            "end_token": 155,
                                                            "children": [
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 153,
                                                                    "end_token": 155,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 154,
                                                                            "end_token": 154,
                                                                            "label": "e"
                                                                        }
                                                                    ],
                                                                    "label": "raise e\n"
                                                                }
                                                            ],
                                                            "label": ":\n        raise e\n"
                                                        }
                                                    ],
                                                    "label": "except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 156,
                                                    "end_token": 176,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 158,
                                                            "end_token": 159,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 159,
                                                                    "end_token": 159,
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 160,
                                                            "end_token": 175,
                                                            "children": [
                                                                {
                                                                    "type": "expression_statement",
                                                                    "start_token": 162,
                                                                    "end_token": 168,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 162,
                                                                            "end_token": 168,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 162,
                                                                                    "end_token": 164,
                                                                                    "label": "logger.error"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 166,
                                                                                    "end_token": 166,
                                                                                    "label": "f"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error(f\"Database error while updating API key permissions: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Database error while updating API key permissions: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 170,
                                                                    "end_token": 175,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 171,
                                                                            "end_token": 175,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 174,
                                                                                    "end_token": 174,
                                                                                    "label": "\"Failed to update API key permissions: {str(e)}\""
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyError(f\"Failed to update API key permissions: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": ":\n        logger.error(f\"Database error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "except PrismaError as e:\n        logger.error(f\"Database error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")\n"
                                                },
                                                {
                                                    "type": "except_clause",
                                                    "start_token": 177,
                                                    "end_token": 196,
                                                    "children": [
                                                        {
                                                            "type": "as_pattern",
                                                            "start_token": 179,
                                                            "end_token": 180,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 180,
                                                                    "end_token": 180,
                                                                    "label": "e"
                                                                }
                                                            ],
                                                            "label": "as e"
                                                        },
                                                        {
                                                            "type": "block",
                                                            "start_token": 181,
                                                            "end_token": 195,
                                                            "children": [
                                                                {
                                                                    "type": "expression_statement",
                                                                    "start_token": 183,
                                                                    "end_token": 189,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 183,
                                                                            "end_token": 189,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 183,
                                                                                    "end_token": 185,
                                                                                    "label": "logger.error"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 187,
                                                                                    "end_token": 187,
                                                                                    "label": "f"
                                                                                }
                                                                            ],
                                                                            "label": "logger.error(f\"Unexpected error while updating API key permissions: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "logger.error(f\"Unexpected error while updating API key permissions: {str(e)}\")"
                                                                },
                                                                {
                                                                    "type": "raise_statement",
                                                                    "start_token": 191,
                                                                    "end_token": 195,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 192,
                                                                            "end_token": 195,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 194,
                                                                                    "end_token": 194,
                                                                                    "label": "f"
                                                                                }
                                                                            ],
                                                                            "label": "APIKeyError(f\"Failed to update API key permissions: {str(e)}\""
                                                                        }
                                                                    ],
                                                                    "label": "raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\""
                                                                }
                                                            ],
                                                            "label": ":\n        logger.error(f\"Unexpected error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\""
                                                        }
                                                    ],
                                                    "label": "except Exception as e:\n        logger.error(f\"Unexpected error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")"
                                                }
                                            ],
                                            "label": "try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if api_key is None:\n            raise APIKeyNotFoundError(\"No such API key found.\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(permissions=permissions),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\""
                                        }
                                    ],
                                    "label": "try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if api_key is None:\n            raise APIKeyNotFoundError(\"No such API key found.\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(permissions=permissions),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")"
                                }
                            ],
                            "label": "async def update_api_key_permissions(\n    key_id: str, user_id: str, permissions: List[APIKeyPermission]\n) -> Optional[APIKeyWithoutHash]:\n    \"\"\"\n    Update the permissions of an API key.\n    \"\"\"\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if api_key is None:\n            raise APIKeyNotFoundError(\"No such API key found.\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(permissions=permissions),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")"
                        }
                    ],
                    "label": "async def update_api_key_permissions(\n    key_id: str, user_id: str, permissions: List[APIKeyPermission]\n) -> Optional[APIKeyWithoutHash]:\n    \"\"\"\n    Update the permissions of an API key.\n    \"\"\"\n    try:\n        api_key = await PrismaAPIKey.prisma().find_unique(where={\"id\": key_id})\n\n        if api_key is None:\n            raise APIKeyNotFoundError(\"No such API key found.\")\n\n        if api_key.userId != user_id:\n            raise APIKeyPermissionError(\n                \"You do not have permission to update this API key.\"\n            )\n\n        where_clause: APIKeyWhereUniqueInput = {\"id\": key_id}\n        updated_api_key = await PrismaAPIKey.prisma().update(\n            where=where_clause,\n            data=APIKeyUpdateInput(permissions=permissions),\n        )\n\n        if updated_api_key:\n            return APIKeyWithoutHash.from_db(updated_api_key)\n        return None\n    except (APIKeyNotFoundError, APIKeyPermissionError) as e:\n        raise e\n    except PrismaError as e:\n        logger.error(f\"Database error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")\n    except Exception as e:\n        logger.error(f\"Unexpected error while updating API key permissions: {str(e)}\")\n        raise APIKeyError(f\"Failed to update API key permissions: {str(e)}\")"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "APIKeyError",
            "start_line": 24,
            "end_line": 27,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 13,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "APIKeyError"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "Exception"
                                        }
                                    ],
                                    "label": "(Exception)"
                                },
                                {
                                    "type": "string",
                                    "start_token": 7,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "string_start",
                                            "start_token": 7,
                                            "end_token": 7,
                                            "children": [],
                                            "label": "\"\""
                                        },
                                        {
                                            "type": "string_content",
                                            "start_token": 8,
                                            "end_token": 8,
                                            "children": [],
                                            "label": "\"Base exception for API key operations\""
                                        },
                                        {
                                            "type": "string_end",
                                            "start_token": 9,
                                            "end_token": 9,
                                            "children": [],
                                            "label": "\"\""
                                        }
                                    ],
                                    "label": "\"\"\"Base exception for API key operations\"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 11,
                                    "end_token": 12,
                                    "children": [
                                        {
                                            "type": "pass_statement",
                                            "start_token": 12,
                                            "end_token": 12,
                                            "children": [],
                                            "label": "pass"
                                        }
                                    ],
                                    "label": "\n    pass"
                                }
                            ],
                            "label": "class APIKeyError(Exception):\n    \"\"\"Base exception for API key operations\"\"\"\n\n    pass"
                        }
                    ],
                    "label": "class APIKeyError(Exception):\n    \"\"\"Base exception for API key operations\"\"\"\n\n    pass\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "APIKeyNotFoundError",
            "start_line": 30,
            "end_line": 33,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 13,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "APIKeyNotFoundError"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "APIKeyError"
                                        }
                                    ],
                                    "label": "(APIKeyError)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 5,
                                    "end_token": 12,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "string_content",
                                                    "start_token": 8,
                                                    "end_token": 8,
                                                    "label": "\"Raised when an API key is not found\""
                                                }
                                            ],
                                            "label": "\"\"\"Raised when an API key is not found\"\"\""
                                        },
                                        {
                                            "type": "pass_statement",
                                            "start_token": 12,
                                            "end_token": 12,
                                            "label": "pass"
                                        }
                                    ],
                                    "label": ":\n    \"\"\"Raised when an API key is not found\"\"\"\n\n    pass"
                                }
                            ],
                            "label": "class APIKeyNotFoundError(APIKeyError):\n    \"\"\"Raised when an API key is not found\"\"\"\n\n    pass"
                        }
                    ],
                    "label": "class APIKeyNotFoundError(APIKeyError):\n    \"\"\"Raised when an API key is not found\"\"\"\n\n    pass\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "APIKeyPermissionError",
            "start_line": 36,
            "end_line": 39,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 13,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "APIKeyPermissionError"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "APIKeyError"
                                        }
                                    ],
                                    "label": "(APIKeyError)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 5,
                                    "end_token": 12,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "string_content",
                                                    "start_token": 8,
                                                    "end_token": 8,
                                                    "children": [],
                                                    "label": "\"Raised when there are permission issues with API key operations\""
                                                }
                                            ],
                                            "label": "\"\"\"Raised when there are permission issues with API key operations\"\"\""
                                        },
                                        {
                                            "type": "pass_statement",
                                            "start_token": 12,
                                            "end_token": 12,
                                            "children": [],
                                            "label": "pass"
                                        }
                                    ],
                                    "label": ":\n    \"\"\"Raised when there are permission issues with API key operations\"\"\"\n\n    pass"
                                }
                            ],
                            "label": "class APIKeyPermissionError(APIKeyError):\n    \"\"\"Raised when there are permission issues with API key operations\"\"\"\n\n    pass"
                        }
                    ],
                    "label": "class APIKeyPermissionError(APIKeyError):\n    \"\"\"Raised when there are permission issues with API key operations\"\"\"\n\n    pass\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "APIKeyValidationError",
            "start_line": 42,
            "end_line": 45,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 13,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "APIKeyValidationError"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "APIKeyError"
                                        }
                                    ],
                                    "label": "(APIKeyError)"
                                },
                                {
                                    "type": "string",
                                    "start_token": 7,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "string_start",
                                            "start_token": 7,
                                            "end_token": 7,
                                            "label": "\"\""
                                        },
                                        {
                                            "type": "string_content",
                                            "start_token": 8,
                                            "end_token": 8,
                                            "label": "\"Raised when API key validation fails\""
                                        },
                                        {
                                            "type": "string_end",
                                            "start_token": 9,
                                            "end_token": 9,
                                            "label": "\"\""
                                        }
                                    ],
                                    "label": "\"\"\"Raised when API key validation fails\"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 11,
                                    "end_token": 12,
                                    "children": [
                                        {
                                            "type": "pass_statement",
                                            "start_token": 12,
                                            "end_token": 12,
                                            "label": "pass"
                                        }
                                    ],
                                    "label": "\n    pass"
                                }
                            ],
                            "label": "class APIKeyValidationError(APIKeyError):\n    \"\"\"Raised when API key validation fails\"\"\"\n\n    pass"
                        }
                    ],
                    "label": "class APIKeyValidationError(APIKeyError):\n    \"\"\"Raised when API key validation fails\"\"\"\n\n    pass\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "APIKey",
            "start_line": 48,
            "end_line": 80,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 76,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 72,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "APIKey"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "BaseDbModel"
                                        }
                                    ],
                                    "label": "(BaseDbModel)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 72,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "name"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "name: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 11,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": "prefix"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "prefix: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 15,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "key"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "key: str"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 19,
                                            "end_token": 25,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 19,
                                                    "end_token": 21,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 19,
                                                            "end_token": 19,
                                                            "children": [],
                                                            "label": "status"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 21,
                                                            "end_token": 21,
                                                            "children": [],
                                                            "label": "APIKeyStatus"
                                                        }
                                                    ],
                                                    "label": "status: APIKeyStatus"
                                                },
                                                {
                                                    "type": "attribute",
                                                    "start_token": 23,
                                                    "end_token": 25,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 23,
                                                            "end_token": 23,
                                                            "children": [],
                                                            "label": "APIKeyStatus"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 25,
                                                            "end_token": 25,
                                                            "children": [],
                                                            "label": "ACTIVE"
                                                        }
                                                    ],
                                                    "label": "APIKeyStatus.ACTIVE"
                                                }
                                            ],
                                            "label": "status: APIKeyStatus = APIKeyStatus.ACTIVE"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 27,
                                            "end_token": 32,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "children": [],
                                                    "label": "permissions"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 29,
                                                    "end_token": 32,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 29,
                                                            "end_token": 29,
                                                            "children": [],
                                                            "label": "List"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 31,
                                                            "end_token": 31,
                                                            "children": [],
                                                            "label": "APIKeyPermission"
                                                        }
                                                    ],
                                                    "label": "List[APIKeyPermission]"
                                                }
                                            ],
                                            "label": "permissions: List[APIKeyPermission]"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 34,
                                            "end_token": 36,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 34,
                                                    "end_token": 34,
                                                    "children": [],
                                                    "label": "postfix"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 36,
                                                    "end_token": 36,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "postfix: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 38,
                                            "end_token": 40,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 38,
                                                    "end_token": 38,
                                                    "children": [],
                                                    "label": "created_at"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 40,
                                                    "end_token": 40,
                                                    "children": [],
                                                    "label": "datetime"
                                                }
                                            ],
                                            "label": "created_at: datetime"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 42,
                                            "end_token": 49,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 42,
                                                    "end_token": 47,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 42,
                                                            "end_token": 42,
                                                            "children": [],
                                                            "label": "last_used_at"
                                                        },
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 44,
                                                            "end_token": 47,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 44,
                                                                    "end_token": 44,
                                                                    "children": [],
                                                                    "label": "Optional"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 46,
                                                                    "end_token": 46,
                                                                    "children": [],
                                                                    "label": "datetime"
                                                                }
                                                            ],
                                                            "label": "Optional[datetime]"
                                                        }
                                                    ],
                                                    "label": "last_used_at: Optional[datetime]"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 49,
                                                    "end_token": 49,
                                                    "children": [],
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "last_used_at: Optional[datetime] = None"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 51,
                                            "end_token": 58,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 51,
                                                    "end_token": 56,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 51,
                                                            "end_token": 51,
                                                            "children": [],
                                                            "label": "revoked_at"
                                                        },
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 53,
                                                            "end_token": 56,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 53,
                                                                    "end_token": 53,
                                                                    "children": [],
                                                                    "label": "Optional"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 55,
                                                                    "end_token": 55,
                                                                    "children": [],
                                                                    "label": "datetime"
                                                                }
                                                            ],
                                                            "label": "Optional[datetime]"
                                                        }
                                                    ],
                                                    "label": "revoked_at: Optional[datetime]"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 58,
                                                    "end_token": 58,
                                                    "children": [],
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "revoked_at: Optional[datetime] = None"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 60,
                                            "end_token": 67,
                                            "children": [
                                                {
                                                    "type": "typed_parameter",
                                                    "start_token": 60,
                                                    "end_token": 65,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 60,
                                                            "end_token": 60,
                                                            "children": [],
                                                            "label": "description"
                                                        },
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 62,
                                                            "end_token": 65,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 62,
                                                                    "end_token": 62,
                                                                    "children": [],
                                                                    "label": "Optional"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 64,
                                                                    "end_token": 64,
                                                                    "children": [],
                                                                    "label": "str"
                                                                }
                                                            ],
                                                            "label": "Optional[str]"
                                                        }
                                                    ],
                                                    "label": "description: Optional[str]"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 67,
                                                    "end_token": 67,
                                                    "children": [],
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "description: Optional[str] = None"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 69,
                                            "end_token": 71,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 69,
                                                    "end_token": 69,
                                                    "children": [],
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 71,
                                                    "end_token": 71,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "user_id: str"
                                        }
                                    ],
                                    "label": "\n    name: str\n    prefix: str\n    key: str\n    status: APIKeyStatus = APIKeyStatus.ACTIVE\n    permissions: List[APIKeyPermission]\n    postfix: str\n    created_at: datetime\n    last_used_at: Optional[datetime] = None\n    revoked_at: Optional[datetime] = None\n    description: Optional[str] = None\n    user_id: str\n"
                                }
                            ],
                            "label": "class APIKey(BaseDbModel):\n    name: str\n    prefix: str\n    key: str\n    status: APIKeyStatus = APIKeyStatus.ACTIVE\n    permissions: List[APIKeyPermission]\n    postfix: str\n    created_at: datetime\n    last_used_at: Optional[datetime] = None\n    revoked_at: Optional[datetime] = None\n    description: Optional[str] = None\n    user_id: str\n"
                        },
                        {
                            "type": "decorator",
                            "start_token": 74,
                            "end_token": 75,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 75,
                                    "end_token": 75,
                                    "children": [],
                                    "label": "staticmethod"
                                }
                            ],
                            "label": "@staticmethod"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "from_db",
                            "start_line": 62,
                            "end_line": 80,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 133,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 133,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "from_db"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 5,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "children": [],
                                                                    "label": "api_key"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "PrismaAPIKey"
                                                                }
                                                            ],
                                                            "label": "api_key: PrismaAPIKey"
                                                        }
                                                    ],
                                                    "label": "(api_key: PrismaAPIKey)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 7,
                                                    "end_token": 133,
                                                    "children": [
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 9,
                                                            "end_token": 133,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 11,
                                                                    "end_token": 112,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 12,
                                                                            "end_token": 112,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 13,
                                                                                    "end_token": 112,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 13,
                                                                                            "end_token": 13,
                                                                                            "children": [],
                                                                                            "label": "APIKey"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 14,
                                                                                            "end_token": 112,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 16,
                                                                                                    "end_token": 21,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 16,
                                                                                                            "end_token": 16,
                                                                                                            "children": [],
                                                                                                            "label": "id"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 18,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 18,
                                                                                                                    "end_token": 18,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [],
                                                                                                                    "label": "id"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "id=api_key.id,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 23,
                                                                                                    "end_token": 28,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 23,
                                                                                                            "end_token": 23,
                                                                                                            "children": [],
                                                                                                            "label": "name"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 25,
                                                                                                            "end_token": 27,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 25,
                                                                                                                    "end_token": 25,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 27,
                                                                                                                    "end_token": 27,
                                                                                                                    "children": [],
                                                                                                                    "label": "name"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.name"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "name=api_key.name,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 30,
                                                                                                    "end_token": 35,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 30,
                                                                                                            "end_token": 30,
                                                                                                            "children": [],
                                                                                                            "label": "prefix"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 32,
                                                                                                            "end_token": 34,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 32,
                                                                                                                    "end_token": 32,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 34,
                                                                                                                    "end_token": 34,
                                                                                                                    "children": [],
                                                                                                                    "label": "prefix"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.prefix"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prefix=api_key.prefix,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 37,
                                                                                                    "end_token": 42,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 37,
                                                                                                            "end_token": 37,
                                                                                                            "children": [],
                                                                                                            "label": "postfix"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 39,
                                                                                                            "end_token": 41,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 39,
                                                                                                                    "end_token": 39,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 41,
                                                                                                                    "end_token": 41,
                                                                                                                    "children": [],
                                                                                                                    "label": "postfix"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.postfix"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "postfix=api_key.postfix,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 44,
                                                                                                    "end_token": 49,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 44,
                                                                                                            "end_token": 44,
                                                                                                            "children": [],
                                                                                                            "label": "key"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 46,
                                                                                                            "end_token": 48,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 46,
                                                                                                                    "end_token": 46,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 48,
                                                                                                                    "end_token": 48,
                                                                                                                    "children": [],
                                                                                                                    "label": "key"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.key"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "key=api_key.key,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 51,
                                                                                                    "end_token": 59,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 51,
                                                                                                            "end_token": 51,
                                                                                                            "children": [],
                                                                                                            "label": "status"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 53,
                                                                                                            "end_token": 58,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 53,
                                                                                                                    "end_token": 53,
                                                                                                                    "children": [],
                                                                                                                    "label": "APIKeyStatus"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 54,
                                                                                                                    "end_token": 58,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 55,
                                                                                                                            "end_token": 57,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 55,
                                                                                                                                    "end_token": 55,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "api_key"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 57,
                                                                                                                                    "end_token": 57,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "status"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "api_key.status"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "(api_key.status)"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "APIKeyStatus(api_key.status)"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "status=APIKeyStatus(api_key.status),"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 61,
                                                                                                    "end_token": 74,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 61,
                                                                                                            "end_token": 61,
                                                                                                            "children": [],
                                                                                                            "label": "permissions"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "list_comprehension",
                                                                                                            "start_token": 63,
                                                                                                            "end_token": 74,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "call",
                                                                                                                    "start_token": 64,
                                                                                                                    "end_token": 67,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 64,
                                                                                                                            "end_token": 64,
                                                                                                                            "children": [],
                                                                                                                            "label": "APIKeyPermission"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "argument_list",
                                                                                                                            "start_token": 65,
                                                                                                                            "end_token": 67,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 66,
                                                                                                                                    "end_token": 66,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "p"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "(p)"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "APIKeyPermission(p)"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "for_in_clause",
                                                                                                                    "start_token": 68,
                                                                                                                    "end_token": 73,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 69,
                                                                                                                            "end_token": 69,
                                                                                                                            "children": [],
                                                                                                                            "label": "p"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 71,
                                                                                                                            "end_token": 73,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 71,
                                                                                                                                    "end_token": 71,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "api_key"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 73,
                                                                                                                                    "end_token": 73,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "permissions"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "api_key.permissions"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "for p in api_key.permissions"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "[APIKeyPermission(p) for p in api_key.permissions]"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "permissions=[APIKeyPermission(p) for p in api_key.permissions]"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 77,
                                                                                                    "end_token": 81,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 77,
                                                                                                            "end_token": 77,
                                                                                                            "children": [],
                                                                                                            "label": "created_at"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 79,
                                                                                                            "end_token": 81,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 79,
                                                                                                                    "end_token": 79,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 81,
                                                                                                                    "end_token": 81,
                                                                                                                    "children": [],
                                                                                                                    "label": "createdAt"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.createdAt"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "created_at=api_key.createdAt"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 84,
                                                                                                    "end_token": 88,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 84,
                                                                                                            "end_token": 84,
                                                                                                            "children": [],
                                                                                                            "label": "last_used_at"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 86,
                                                                                                            "end_token": 88,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 86,
                                                                                                                    "end_token": 86,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 88,
                                                                                                                    "end_token": 88,
                                                                                                                    "children": [],
                                                                                                                    "label": "lastUsedAt"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.lastUsedAt"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "last_used_at=api_key.lastUsedAt"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 91,
                                                                                                    "end_token": 95,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 91,
                                                                                                            "end_token": 91,
                                                                                                            "children": [],
                                                                                                            "label": "revoked_at"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 93,
                                                                                                            "end_token": 95,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 93,
                                                                                                                    "end_token": 93,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 95,
                                                                                                                    "end_token": 95,
                                                                                                                    "children": [],
                                                                                                                    "label": "revokedAt"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.revokedAt"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "revoked_at=api_key.revokedAt"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 98,
                                                                                                    "end_token": 102,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 98,
                                                                                                            "end_token": 98,
                                                                                                            "children": [],
                                                                                                            "label": "description"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 100,
                                                                                                            "end_token": 102,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 100,
                                                                                                                    "end_token": 100,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 102,
                                                                                                                    "end_token": 102,
                                                                                                                    "children": [],
                                                                                                                    "label": "description"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.description"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "description=api_key.description"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 105,
                                                                                                    "end_token": 109,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 105,
                                                                                                            "end_token": 105,
                                                                                                            "children": [],
                                                                                                            "label": "user_id"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 107,
                                                                                                            "end_token": 109,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 107,
                                                                                                                    "end_token": 107,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 109,
                                                                                                                    "end_token": 109,
                                                                                                                    "children": [],
                                                                                                                    "label": "userId"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.userId"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "user_id=api_key.userId"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                key=api_key.key,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKey(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                key=api_key.key,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )"
                                                                                }
                                                                            ],
                                                                            "label": "return APIKey(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                key=api_key.key,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )"
                                                                        }
                                                                    ],
                                                                    "label": "\n            return APIKey(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                key=api_key.key,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )"
                                                                },
                                                                {
                                                                    "type": "except_clause",
                                                                    "start_token": 114,
                                                                    "end_token": 133,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 115,
                                                                            "end_token": 115,
                                                                            "children": [],
                                                                            "label": "Exception"
                                                                        },
                                                                        {
                                                                            "type": "as_pattern",
                                                                            "start_token": 116,
                                                                            "end_token": 117,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 117,
                                                                                    "end_token": 117,
                                                                                    "children": [],
                                                                                    "label": "e"
                                                                                }
                                                                            ],
                                                                            "label": "as e"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 118,
                                                                            "end_token": 133,
                                                                            "children": [
                                                                                {
                                                                                    "type": "expression_statement",
                                                                                    "start_token": 120,
                                                                                    "end_token": 126,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 120,
                                                                                            "end_token": 126,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 120,
                                                                                                    "end_token": 122,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 120,
                                                                                                            "end_token": 120,
                                                                                                            "children": [],
                                                                                                            "label": "logger"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 122,
                                                                                                            "end_token": 122,
                                                                                                            "children": [],
                                                                                                            "label": "error"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "logger.error"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 123,
                                                                                                    "end_token": 126,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "formatted_string",
                                                                                                            "start_token": 124,
                                                                                                            "end_token": 125,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string_content",
                                                                                                                    "start_token": 125,
                                                                                                                    "end_token": 125,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"Error creating APIKey from db: {str(e)}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "f\"Error creating APIKey from db: {str(e)}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(f\"Error creating APIKey from db: {str(e)}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.error(f\"Error creating APIKey from db: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.error(f\"Error creating APIKey from db: {str(e)}\")"
                                                                                },
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 128,
                                                                                    "end_token": 133,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 129,
                                                                                            "end_token": 133,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 129,
                                                                                                    "end_token": 129,
                                                                                                    "children": [],
                                                                                                    "label": "APIKeyError"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 130,
                                                                                                    "end_token": 133,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "formatted_string",
                                                                                                            "start_token": 131,
                                                                                                            "end_token": 132,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string_content",
                                                                                                                    "start_token": 132,
                                                                                                                    "end_token": 132,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"Failed to create API key object: {str(e)}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "f\"Failed to create API key object: {str(e)}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(f\"Failed to create API key object: {str(e)}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            logger.error(f\"Error creating APIKey from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "except Exception as e:\n            logger.error(f\"Error creating APIKey from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "try:\n            return APIKey(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                key=api_key.key,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )\n        except Exception as e:\n            logger.error(f\"Error creating APIKey from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": ":\n        try:\n            return APIKey(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                key=api_key.key,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )\n        except Exception as e:\n            logger.error(f\"Error creating APIKey from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                }
                                            ],
                                            "label": "def from_db(api_key: PrismaAPIKey):\n        try:\n            return APIKey(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                key=api_key.key,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )\n        except Exception as e:\n            logger.error(f\"Error creating APIKey from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                        }
                                    ],
                                    "label": "def from_db(api_key: PrismaAPIKey):\n        try:\n            return APIKey(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                key=api_key.key,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )\n        except Exception as e:\n            logger.error(f\"Error creating APIKey from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                }
                            ]
                        }
                    ],
                    "label": "class APIKey(BaseDbModel):\n    name: str\n    prefix: str\n    key: str\n    status: APIKeyStatus = APIKeyStatus.ACTIVE\n    permissions: List[APIKeyPermission]\n    postfix: str\n    created_at: datetime\n    last_used_at: Optional[datetime] = None\n    revoked_at: Optional[datetime] = None\n    description: Optional[str] = None\n    user_id: str\n\n    @staticmethod\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "APIKeyWithoutHash",
            "start_line": 83,
            "end_line": 114,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 66,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 62,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "APIKeyWithoutHash"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "BaseModel"
                                        }
                                    ],
                                    "label": "(BaseModel)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 62,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "id"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 11,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": "name"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "name: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 15,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "prefix"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "prefix: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 19,
                                            "end_token": 21,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "children": [],
                                                    "label": "postfix"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 21,
                                                    "end_token": 21,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "postfix: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 23,
                                            "end_token": 25,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "children": [],
                                                    "label": "status"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "children": [],
                                                    "label": "APIKeyStatus"
                                                }
                                            ],
                                            "label": "status: APIKeyStatus"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 27,
                                            "end_token": 32,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "children": [],
                                                    "label": "permissions"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 29,
                                                    "end_token": 32,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 29,
                                                            "end_token": 29,
                                                            "children": [],
                                                            "label": "List"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 31,
                                                            "end_token": 31,
                                                            "children": [],
                                                            "label": "APIKeyPermission"
                                                        }
                                                    ],
                                                    "label": "List[APIKeyPermission]"
                                                }
                                            ],
                                            "label": "permissions: List[APIKeyPermission]"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 34,
                                            "end_token": 36,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 34,
                                                    "end_token": 34,
                                                    "children": [],
                                                    "label": "created_at"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 36,
                                                    "end_token": 36,
                                                    "children": [],
                                                    "label": "datetime"
                                                }
                                            ],
                                            "label": "created_at: datetime"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 38,
                                            "end_token": 43,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 38,
                                                    "end_token": 38,
                                                    "children": [],
                                                    "label": "last_used_at"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 40,
                                                    "end_token": 43,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 40,
                                                            "end_token": 40,
                                                            "children": [],
                                                            "label": "Optional"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 42,
                                                            "end_token": 42,
                                                            "children": [],
                                                            "label": "datetime"
                                                        }
                                                    ],
                                                    "label": "Optional[datetime]"
                                                }
                                            ],
                                            "label": "last_used_at: Optional[datetime]"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 45,
                                            "end_token": 50,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 45,
                                                    "end_token": 45,
                                                    "children": [],
                                                    "label": "revoked_at"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 47,
                                                    "end_token": 50,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 47,
                                                            "end_token": 47,
                                                            "children": [],
                                                            "label": "Optional"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 49,
                                                            "end_token": 49,
                                                            "children": [],
                                                            "label": "datetime"
                                                        }
                                                    ],
                                                    "label": "Optional[datetime]"
                                                }
                                            ],
                                            "label": "revoked_at: Optional[datetime]"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 52,
                                            "end_token": 57,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 52,
                                                    "end_token": 52,
                                                    "children": [],
                                                    "label": "description"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 54,
                                                    "end_token": 57,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 54,
                                                            "end_token": 54,
                                                            "children": [],
                                                            "label": "Optional"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 56,
                                                            "end_token": 56,
                                                            "children": [],
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "Optional[str]"
                                                }
                                            ],
                                            "label": "description: Optional[str]"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 59,
                                            "end_token": 61,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 59,
                                                    "end_token": 59,
                                                    "children": [],
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 61,
                                                    "end_token": 61,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "user_id: str"
                                        }
                                    ],
                                    "label": "\n    id: str\n    name: str\n    prefix: str\n    postfix: str\n    status: APIKeyStatus\n    permissions: List[APIKeyPermission]\n    created_at: datetime\n    last_used_at: Optional[datetime]\n    revoked_at: Optional[datetime]\n    description: Optional[str]\n    user_id: str\n"
                                }
                            ],
                            "label": "class APIKeyWithoutHash(BaseModel):\n    id: str\n    name: str\n    prefix: str\n    postfix: str\n    status: APIKeyStatus\n    permissions: List[APIKeyPermission]\n    created_at: datetime\n    last_used_at: Optional[datetime]\n    revoked_at: Optional[datetime]\n    description: Optional[str]\n    user_id: str\n"
                        },
                        {
                            "type": "decorator",
                            "start_token": 64,
                            "end_token": 65,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 65,
                                    "end_token": 65,
                                    "children": [],
                                    "label": "staticmethod"
                                }
                            ],
                            "label": "@staticmethod"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "from_db",
                            "start_line": 97,
                            "end_line": 114,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 126,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 126,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "from_db"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 5,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "children": [],
                                                                    "label": "api_key"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "PrismaAPIKey"
                                                                }
                                                            ],
                                                            "label": "api_key: PrismaAPIKey"
                                                        }
                                                    ],
                                                    "label": "(api_key: PrismaAPIKey)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 7,
                                                    "end_token": 126,
                                                    "children": [
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 9,
                                                            "end_token": 126,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 10,
                                                                    "end_token": 105,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 12,
                                                                            "end_token": 105,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 13,
                                                                                    "end_token": 105,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 13,
                                                                                            "end_token": 13,
                                                                                            "children": [],
                                                                                            "label": "APIKeyWithoutHash"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 14,
                                                                                            "end_token": 105,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 16,
                                                                                                    "end_token": 21,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 16,
                                                                                                            "end_token": 16,
                                                                                                            "children": [],
                                                                                                            "label": "id"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 18,
                                                                                                            "end_token": 20,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 18,
                                                                                                                    "end_token": 18,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 20,
                                                                                                                    "end_token": 20,
                                                                                                                    "children": [],
                                                                                                                    "label": "id"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "id=api_key.id,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 23,
                                                                                                    "end_token": 28,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 23,
                                                                                                            "end_token": 23,
                                                                                                            "children": [],
                                                                                                            "label": "name"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 25,
                                                                                                            "end_token": 27,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 25,
                                                                                                                    "end_token": 25,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 27,
                                                                                                                    "end_token": 27,
                                                                                                                    "children": [],
                                                                                                                    "label": "name"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.name"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "name=api_key.name,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 30,
                                                                                                    "end_token": 35,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 30,
                                                                                                            "end_token": 30,
                                                                                                            "children": [],
                                                                                                            "label": "prefix"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 32,
                                                                                                            "end_token": 34,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 32,
                                                                                                                    "end_token": 32,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 34,
                                                                                                                    "end_token": 34,
                                                                                                                    "children": [],
                                                                                                                    "label": "prefix"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.prefix"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "prefix=api_key.prefix,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 37,
                                                                                                    "end_token": 42,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 37,
                                                                                                            "end_token": 37,
                                                                                                            "children": [],
                                                                                                            "label": "postfix"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 39,
                                                                                                            "end_token": 41,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 39,
                                                                                                                    "end_token": 39,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 41,
                                                                                                                    "end_token": 41,
                                                                                                                    "children": [],
                                                                                                                    "label": "postfix"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.postfix"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "postfix=api_key.postfix,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 44,
                                                                                                    "end_token": 52,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 44,
                                                                                                            "end_token": 44,
                                                                                                            "children": [],
                                                                                                            "label": "status"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 46,
                                                                                                            "end_token": 51,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 46,
                                                                                                                    "end_token": 46,
                                                                                                                    "children": [],
                                                                                                                    "label": "APIKeyStatus"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 47,
                                                                                                                    "end_token": 51,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 48,
                                                                                                                            "end_token": 50,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 48,
                                                                                                                                    "end_token": 48,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "api_key"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 50,
                                                                                                                                    "end_token": 50,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "status"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "api_key.status"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "(api_key.status)"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "APIKeyStatus(api_key.status)"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "status=APIKeyStatus(api_key.status),"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 54,
                                                                                                    "end_token": 67,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 54,
                                                                                                            "end_token": 54,
                                                                                                            "children": [],
                                                                                                            "label": "permissions"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "list_comprehension",
                                                                                                            "start_token": 56,
                                                                                                            "end_token": 67,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "call",
                                                                                                                    "start_token": 57,
                                                                                                                    "end_token": 60,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 57,
                                                                                                                            "end_token": 57,
                                                                                                                            "children": [],
                                                                                                                            "label": "APIKeyPermission"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "argument_list",
                                                                                                                            "start_token": 58,
                                                                                                                            "end_token": 60,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 59,
                                                                                                                                    "end_token": 59,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "p"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "(p)"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "APIKeyPermission(p)"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "for_in_clause",
                                                                                                                    "start_token": 61,
                                                                                                                    "end_token": 67,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 62,
                                                                                                                            "end_token": 62,
                                                                                                                            "children": [],
                                                                                                                            "label": "p"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 64,
                                                                                                                            "end_token": 66,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 64,
                                                                                                                                    "end_token": 64,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "api_key"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 66,
                                                                                                                                    "end_token": 66,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "permissions"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "api_key.permissions"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "for p in api_key.permissions]"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "[APIKeyPermission(p) for p in api_key.permissions]"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "permissions=[APIKeyPermission(p) for p in api_key.permissions]"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 70,
                                                                                                    "end_token": 75,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 70,
                                                                                                            "end_token": 70,
                                                                                                            "children": [],
                                                                                                            "label": "created_at"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 72,
                                                                                                            "end_token": 74,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 72,
                                                                                                                    "end_token": 72,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 74,
                                                                                                                    "end_token": 74,
                                                                                                                    "children": [],
                                                                                                                    "label": "createdAt"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.createdAt"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "created_at=api_key.createdAt,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 77,
                                                                                                    "end_token": 82,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 77,
                                                                                                            "end_token": 77,
                                                                                                            "children": [],
                                                                                                            "label": "last_used_at"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 79,
                                                                                                            "end_token": 81,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 79,
                                                                                                                    "end_token": 79,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 81,
                                                                                                                    "end_token": 81,
                                                                                                                    "children": [],
                                                                                                                    "label": "lastUsedAt"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.lastUsedAt"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "last_used_at=api_key.lastUsedAt,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 84,
                                                                                                    "end_token": 89,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 84,
                                                                                                            "end_token": 84,
                                                                                                            "children": [],
                                                                                                            "label": "revoked_at"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 86,
                                                                                                            "end_token": 88,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 86,
                                                                                                                    "end_token": 86,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 88,
                                                                                                                    "end_token": 88,
                                                                                                                    "children": [],
                                                                                                                    "label": "revokedAt"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.revokedAt"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "revoked_at=api_key.revokedAt,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 91,
                                                                                                    "end_token": 96,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 91,
                                                                                                            "end_token": 91,
                                                                                                            "children": [],
                                                                                                            "label": "description"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 93,
                                                                                                            "end_token": 95,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 93,
                                                                                                                    "end_token": 93,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 95,
                                                                                                                    "end_token": 95,
                                                                                                                    "children": [],
                                                                                                                    "label": "description"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.description"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "description=api_key.description,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 98,
                                                                                                    "end_token": 103,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 98,
                                                                                                            "end_token": 98,
                                                                                                            "children": [],
                                                                                                            "label": "user_id"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 100,
                                                                                                            "end_token": 102,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 100,
                                                                                                                    "end_token": 100,
                                                                                                                    "children": [],
                                                                                                                    "label": "api_key"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 102,
                                                                                                                    "end_token": 102,
                                                                                                                    "children": [],
                                                                                                                    "label": "userId"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "api_key.userId"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "user_id=api_key.userId,"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "APIKeyWithoutHash(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )"
                                                                                }
                                                                            ],
                                                                            "label": "return APIKeyWithoutHash(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            return APIKeyWithoutHash(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )"
                                                                },
                                                                {
                                                                    "type": "except_clause",
                                                                    "start_token": 107,
                                                                    "end_token": 126,
                                                                    "children": [
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 111,
                                                                            "end_token": 126,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 113,
                                                                                    "end_token": 119,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 113,
                                                                                            "end_token": 115,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 113,
                                                                                                    "end_token": 113,
                                                                                                    "children": [],
                                                                                                    "label": "logger"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 115,
                                                                                                    "end_token": 115,
                                                                                                    "children": [],
                                                                                                    "label": "error"
                                                                                                }
                                                                                            ],
                                                                                            "label": "logger.error"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 116,
                                                                                            "end_token": 119,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 117,
                                                                                                    "end_token": 118,
                                                                                                    "children": [],
                                                                                                    "label": "f\"Error creating APIKeyWithoutHash from db: {str(e)}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "(f\"Error creating APIKeyWithoutHash from db: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "logger.error(f\"Error creating APIKeyWithoutHash from db: {str(e)}\")"
                                                                                },
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 121,
                                                                                    "end_token": 126,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 122,
                                                                                            "end_token": 126,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 122,
                                                                                                    "end_token": 122,
                                                                                                    "children": [],
                                                                                                    "label": "APIKeyError"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 123,
                                                                                                    "end_token": 126,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 124,
                                                                                                            "end_token": 125,
                                                                                                            "children": [],
                                                                                                            "label": "f\"Failed to create API key object: {str(e)}\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(f\"Failed to create API key object: {str(e)}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            logger.error(f\"Error creating APIKeyWithoutHash from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "except Exception as e:\n            logger.error(f\"Error creating APIKeyWithoutHash from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                                }
                                                            ],
                                                            "label": "try:\n            return APIKeyWithoutHash(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )\n        except Exception as e:\n            logger.error(f\"Error creating APIKeyWithoutHash from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": ":\n        try:\n            return APIKeyWithoutHash(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )\n        except Exception as e:\n            logger.error(f\"Error creating APIKeyWithoutHash from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                                }
                                            ],
                                            "label": "def from_db(api_key: PrismaAPIKey):\n        try:\n            return APIKeyWithoutHash(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )\n        except Exception as e:\n            logger.error(f\"Error creating APIKeyWithoutHash from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                        }
                                    ],
                                    "label": "def from_db(api_key: PrismaAPIKey):\n        try:\n            return APIKeyWithoutHash(\n                id=api_key.id,\n                name=api_key.name,\n                prefix=api_key.prefix,\n                postfix=api_key.postfix,\n                status=APIKeyStatus(api_key.status),\n                permissions=[APIKeyPermission(p) for p in api_key.permissions],\n                created_at=api_key.createdAt,\n                last_used_at=api_key.lastUsedAt,\n                revoked_at=api_key.revokedAt,\n                description=api_key.description,\n                user_id=api_key.userId,\n            )\n        except Exception as e:\n            logger.error(f\"Error creating APIKeyWithoutHash from db: {str(e)}\")\n            raise APIKeyError(f\"Failed to create API key object: {str(e)}\")"
                                }
                            ]
                        }
                    ],
                    "label": "class APIKeyWithoutHash(BaseModel):\n    id: str\n    name: str\n    prefix: str\n    postfix: str\n    status: APIKeyStatus\n    permissions: List[APIKeyPermission]\n    created_at: datetime\n    last_used_at: Optional[datetime]\n    revoked_at: Optional[datetime]\n    description: Optional[str]\n    user_id: str\n\n    @staticmethod\n"
                }
            ]
        }
    ],
    "label": "import logging\nimport uuid\nfrom datetime import datetime, timezone\nfrom typing import List, Optional\n\nfrom autogpt_libs.api_key.key_manager import APIKeyManager\nfrom prisma.enums import APIKeyPermission, APIKeyStatus\nfrom prisma.errors import PrismaError\nfrom prisma.models import APIKey as PrismaAPIKey\nfrom prisma.types import (\n    APIKeyCreateInput,\n    APIKeyUpdateInput,\n    APIKeyWhereInput,\n    APIKeyWhereUniqueInput,\n)\nfrom pydantic import BaseModel\n\nfrom backend.data.db import BaseDbModel\n\nlogger = logging.getLogger(__name__)"
}