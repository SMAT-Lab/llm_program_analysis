{
    "type": "module",
    "start_token": 0,
    "end_token": 377,
    "children": [
        {
            "type": "import_from_statement",
            "start_token": 0,
            "end_token": 3,
            "children": [],
            "label": "from enum import Enum"
        },
        {
            "type": "import_from_statement",
            "start_token": 5,
            "end_token": 8,
            "children": [],
            "label": "from typing import Literal"
        },
        {
            "type": "import_statement",
            "start_token": 11,
            "end_token": 12,
            "children": [],
            "label": "import replicate"
        },
        {
            "type": "import_from_statement",
            "start_token": 14,
            "end_token": 17,
            "children": [],
            "label": "from pydantic import SecretStr"
        },
        {
            "type": "import_from_statement",
            "start_token": 19,
            "end_token": 24,
            "children": [],
            "label": "from replicate.helpers import FileOutput"
        },
        {
            "type": "import_from_statement",
            "start_token": 27,
            "end_token": 38,
            "children": [],
            "label": "from backend.data.block import Block, BlockCategory, BlockSchema"
        },
        {
            "type": "import_from_statement",
            "start_token": 40,
            "end_token": 61,
            "children": [],
            "label": "from backend.data.model import (\n    APIKeyCredentials,\n    CredentialsField,\n    CredentialsMetaInput,\n    SchemaField,\n)"
        },
        {
            "type": "import_from_statement",
            "start_token": 63,
            "end_token": 70,
            "children": [],
            "label": "from backend.integrations.providers import ProviderName"
        },
        {
            "type": "assignment",
            "start_token": 86,
            "end_token": 125,
            "children": [
                {
                    "type": "dictionary",
                    "start_token": 88,
                    "end_token": 125,
                    "children": [
                        {
                            "type": "pair",
                            "start_token": 90,
                            "end_token": 95,
                            "children": [],
                            "label": "ImageSize.SQUARE: \"1:1\","
                        },
                        {
                            "type": "pair",
                            "start_token": 97,
                            "end_token": 102,
                            "children": [],
                            "label": "ImageSize.LANDSCAPE: \"4:3\","
                        },
                        {
                            "type": "pair",
                            "start_token": 104,
                            "end_token": 109,
                            "children": [],
                            "label": "ImageSize.PORTRAIT: \"3:4\","
                        },
                        {
                            "type": "pair",
                            "start_token": 111,
                            "end_token": 116,
                            "children": [],
                            "label": "ImageSize.WIDE: \"16:9\","
                        },
                        {
                            "type": "pair",
                            "start_token": 118,
                            "end_token": 123,
                            "children": [],
                            "label": "ImageSize.TALL: \"9:16\","
                        }
                    ],
                    "label": "{\n    ImageSize.SQUARE: \"1:1\",\n    ImageSize.LANDSCAPE: \"4:3\",\n    ImageSize.PORTRAIT: \"3:4\",\n    ImageSize.WIDE: \"16:9\",\n    ImageSize.TALL: \"9:16\",\n}"
                }
            ],
            "label": "SIZE_TO_SD_RATIO = {\n    ImageSize.SQUARE: \"1:1\",\n    ImageSize.LANDSCAPE: \"4:3\",\n    ImageSize.PORTRAIT: \"3:4\",\n    ImageSize.WIDE: \"16:9\",\n    ImageSize.TALL: \"9:16\",\n}"
        },
        {
            "type": "assignment",
            "start_token": 128,
            "end_token": 167,
            "children": [
                {
                    "type": "dictionary",
                    "start_token": 130,
                    "end_token": 167,
                    "children": [
                        {
                            "type": "pair",
                            "start_token": 132,
                            "end_token": 137,
                            "children": [],
                            "label": "ImageSize.SQUARE: \"1:1\","
                        },
                        {
                            "type": "pair",
                            "start_token": 139,
                            "end_token": 144,
                            "children": [],
                            "label": "ImageSize.LANDSCAPE: \"4:3\","
                        },
                        {
                            "type": "pair",
                            "start_token": 146,
                            "end_token": 151,
                            "children": [],
                            "label": "ImageSize.PORTRAIT: \"3:4\","
                        },
                        {
                            "type": "pair",
                            "start_token": 153,
                            "end_token": 158,
                            "children": [],
                            "label": "ImageSize.WIDE: \"16:9\","
                        },
                        {
                            "type": "pair",
                            "start_token": 160,
                            "end_token": 165,
                            "children": [],
                            "label": "ImageSize.TALL: \"9:16\","
                        }
                    ],
                    "label": "{\n    ImageSize.SQUARE: \"1:1\",\n    ImageSize.LANDSCAPE: \"4:3\",\n    ImageSize.PORTRAIT: \"3:4\",\n    ImageSize.WIDE: \"16:9\",\n    ImageSize.TALL: \"9:16\",\n}"
                }
            ],
            "label": "SIZE_TO_FLUX_RATIO = {\n    ImageSize.SQUARE: \"1:1\",\n    ImageSize.LANDSCAPE: \"4:3\",\n    ImageSize.PORTRAIT: \"3:4\",\n    ImageSize.WIDE: \"16:9\",\n    ImageSize.TALL: \"9:16\",\n}"
        },
        {
            "type": "assignment",
            "start_token": 170,
            "end_token": 249,
            "children": [
                {
                    "type": "dictionary",
                    "start_token": 172,
                    "end_token": 249,
                    "children": [
                        {
                            "type": "pair",
                            "start_token": 174,
                            "end_token": 182,
                            "children": [],
                            "label": "ImageSize.SQUARE: (1024, 1024)"
                        },
                        {
                            "type": "pair",
                            "start_token": 185,
                            "end_token": 193,
                            "children": [],
                            "label": "ImageSize.LANDSCAPE: (1365, 1024)"
                        },
                        {
                            "type": "pair",
                            "start_token": 196,
                            "end_token": 204,
                            "children": [],
                            "label": "ImageSize.PORTRAIT: (1024, 1365)"
                        },
                        {
                            "type": "pair",
                            "start_token": 207,
                            "end_token": 215,
                            "children": [],
                            "label": "ImageSize.WIDE: (1440, 810)"
                        },
                        {
                            "type": "pair",
                            "start_token": 228,
                            "end_token": 236,
                            "children": [],
                            "label": "ImageSize.TALL: (810, 1440)"
                        }
                    ],
                    "label": "{\n    ImageSize.SQUARE: (1024, 1024),\n    ImageSize.LANDSCAPE: (1365, 1024),\n    ImageSize.PORTRAIT: (1024, 1365),\n    ImageSize.WIDE: (1440, 810),  # Adjusted to maintain 16:9 within 1440 limit\n    ImageSize.TALL: (810, 1440),  # Adjusted to maintain 9:16 within 1440 limit\n}"
                }
            ],
            "label": "SIZE_TO_FLUX_DIMENSIONS = {\n    ImageSize.SQUARE: (1024, 1024),\n    ImageSize.LANDSCAPE: (1365, 1024),\n    ImageSize.PORTRAIT: (1024, 1365),\n    ImageSize.WIDE: (1440, 810),  # Adjusted to maintain 16:9 within 1440 limit\n    ImageSize.TALL: (810, 1440),  # Adjusted to maintain 9:16 within 1440 limit\n}"
        },
        {
            "type": "assignment",
            "start_token": 252,
            "end_token": 291,
            "children": [
                {
                    "type": "dictionary",
                    "start_token": 254,
                    "end_token": 291,
                    "children": [
                        {
                            "type": "pair",
                            "start_token": 256,
                            "end_token": 260,
                            "children": [],
                            "label": "ImageSize.SQUARE: \"1024x1024\""
                        },
                        {
                            "type": "pair",
                            "start_token": 263,
                            "end_token": 267,
                            "children": [],
                            "label": "ImageSize.LANDSCAPE: \"1365x1024\""
                        },
                        {
                            "type": "pair",
                            "start_token": 270,
                            "end_token": 274,
                            "children": [],
                            "label": "ImageSize.PORTRAIT: \"1024x1365\""
                        },
                        {
                            "type": "pair",
                            "start_token": 277,
                            "end_token": 281,
                            "children": [],
                            "label": "ImageSize.WIDE: \"1536x1024\""
                        },
                        {
                            "type": "pair",
                            "start_token": 284,
                            "end_token": 288,
                            "children": [],
                            "label": "ImageSize.TALL: \"1024x1536\""
                        }
                    ],
                    "label": "{\n    ImageSize.SQUARE: \"1024x1024\",\n    ImageSize.LANDSCAPE: \"1365x1024\",\n    ImageSize.PORTRAIT: \"1024x1365\",\n    ImageSize.WIDE: \"1536x1024\",\n    ImageSize.TALL: \"1024x1536\",\n}"
                }
            ],
            "label": "SIZE_TO_RECRAFT_DIMENSIONS = {\n    ImageSize.SQUARE: \"1024x1024\",\n    ImageSize.LANDSCAPE: \"1365x1024\",\n    ImageSize.PORTRAIT: \"1024x1365\",\n    ImageSize.WIDE: \"1536x1024\",\n    ImageSize.TALL: \"1024x1536\",\n}"
        },
        {
            "type": "assignment",
            "start_token": 308,
            "end_token": 341,
            "children": [
                {
                    "type": "call",
                    "start_token": 310,
                    "end_token": 341,
                    "children": [
                        {
                            "type": "argument_list",
                            "start_token": 311,
                            "end_token": 341,
                            "children": [
                                {
                                    "type": "keyword_argument",
                                    "start_token": 313,
                                    "end_token": 316,
                                    "children": [],
                                    "label": "id=\"01234567-89ab-cdef-0123-456789abcdef\","
                                },
                                {
                                    "type": "keyword_argument",
                                    "start_token": 318,
                                    "end_token": 321,
                                    "children": [],
                                    "label": "provider=\"replicate\","
                                },
                                {
                                    "type": "keyword_argument",
                                    "start_token": 323,
                                    "end_token": 328,
                                    "children": [
                                        {
                                            "type": "call",
                                            "start_token": 325,
                                            "end_token": 328,
                                            "children": [],
                                            "label": "SecretStr(\"mock-replicate-api-key\")"
                                        }
                                    ],
                                    "label": "api_key=SecretStr(\"mock-replicate-api-key\")"
                                },
                                {
                                    "type": "keyword_argument",
                                    "start_token": 331,
                                    "end_token": 334,
                                    "children": [],
                                    "label": "title=\"Mock Replicate API key\","
                                },
                                {
                                    "type": "keyword_argument",
                                    "start_token": 336,
                                    "end_token": 338,
                                    "children": [],
                                    "label": "expires_at=None"
                                }
                            ],
                            "label": "(\n    id=\"01234567-89ab-cdef-0123-456789abcdef\",\n    provider=\"replicate\",\n    api_key=SecretStr(\"mock-replicate-api-key\"),\n    title=\"Mock Replicate API key\",\n    expires_at=None,\n)"
                        }
                    ],
                    "label": "APIKeyCredentials(\n    id=\"01234567-89ab-cdef-0123-456789abcdef\",\n    provider=\"replicate\",\n    api_key=SecretStr(\"mock-replicate-api-key\"),\n    title=\"Mock Replicate API key\",\n    expires_at=None,\n)"
                }
            ],
            "label": "TEST_CREDENTIALS = APIKeyCredentials(\n    id=\"01234567-89ab-cdef-0123-456789abcdef\",\n    provider=\"replicate\",\n    api_key=SecretStr(\"mock-replicate-api-key\"),\n    title=\"Mock Replicate API key\",\n    expires_at=None,\n)"
        },
        {
            "type": "assignment",
            "start_token": 344,
            "end_token": 376,
            "children": [
                {
                    "type": "dictionary",
                    "start_token": 346,
                    "end_token": 376,
                    "children": [
                        {
                            "type": "pair",
                            "start_token": 348,
                            "end_token": 353,
                            "children": [],
                            "label": "\"provider\": TEST_CREDENTIALS.provider,"
                        },
                        {
                            "type": "pair",
                            "start_token": 355,
                            "end_token": 360,
                            "children": [],
                            "label": "\"id\": TEST_CREDENTIALS.id,"
                        },
                        {
                            "type": "pair",
                            "start_token": 362,
                            "end_token": 366,
                            "children": [],
                            "label": "\"type\": TEST_CREDENTIALS.type"
                        },
                        {
                            "type": "pair",
                            "start_token": 369,
                            "end_token": 373,
                            "children": [],
                            "label": "\"title\": TEST_CREDENTIALS.title"
                        }
                    ],
                    "label": "{\n    \"provider\": TEST_CREDENTIALS.provider,\n    \"id\": TEST_CREDENTIALS.id,\n    \"type\": TEST_CREDENTIALS.type,\n    \"title\": TEST_CREDENTIALS.title,\n}"
                }
            ],
            "label": "TEST_CREDENTIALS_INPUT = {\n    \"provider\": TEST_CREDENTIALS.provider,\n    \"id\": TEST_CREDENTIALS.id,\n    \"type\": TEST_CREDENTIALS.type,\n    \"title\": TEST_CREDENTIALS.title,\n}"
        },
        {
            "type": "class_placeholder",
            "name": "ImageSize",
            "start_line": 18,
            "end_line": 27,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 66,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 66,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "ImageSize"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "str"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 5,
                                            "end_token": 5,
                                            "children": [],
                                            "label": "Enum"
                                        }
                                    ],
                                    "label": "(str, Enum)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 8,
                                    "end_token": 66,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "children": [],
                                            "label": "\"\"\"\n    Semantic sizes that map reliably across all models\n    \"\"\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 14,
                                            "end_token": 26,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "children": [],
                                                    "label": "SQUARE"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 16,
                                                    "end_token": 16,
                                                    "children": [],
                                                    "label": "\"square\""
                                                },
                                                {
                                                    "type": "comment",
                                                    "start_token": 17,
                                                    "end_token": 25,
                                                    "children": [],
                                                    "label": "# For profile pictures, icons, etc."
                                                }
                                            ],
                                            "label": "SQUARE = \"square\"  # For profile pictures, icons, etc.\n"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 27,
                                            "end_token": 36,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "children": [],
                                                    "label": "LANDSCAPE"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 29,
                                                    "end_token": 29,
                                                    "children": [],
                                                    "label": "\"landscape\""
                                                },
                                                {
                                                    "type": "comment",
                                                    "start_token": 30,
                                                    "end_token": 35,
                                                    "children": [],
                                                    "label": "# For traditional photos, scenes"
                                                }
                                            ],
                                            "label": "LANDSCAPE = \"landscape\"  # For traditional photos, scenes\n"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 37,
                                            "end_token": 46,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "children": [],
                                                    "label": "PORTRAIT"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 39,
                                                    "end_token": 39,
                                                    "children": [],
                                                    "label": "\"portrait\""
                                                },
                                                {
                                                    "type": "comment",
                                                    "start_token": 40,
                                                    "end_token": 45,
                                                    "children": [],
                                                    "label": "# For vertical photos, portraits"
                                                }
                                            ],
                                            "label": "PORTRAIT = \"portrait\"  # For vertical photos, portraits\n"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 47,
                                            "end_token": 56,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 47,
                                                    "end_token": 47,
                                                    "children": [],
                                                    "label": "WIDE"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 49,
                                                    "end_token": 49,
                                                    "children": [],
                                                    "label": "\"wide\""
                                                },
                                                {
                                                    "type": "comment",
                                                    "start_token": 50,
                                                    "end_token": 55,
                                                    "children": [],
                                                    "label": "# For cinematic, desktop wallpapers"
                                                }
                                            ],
                                            "label": "WIDE = \"wide\"  # For cinematic, desktop wallpapers\n"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 57,
                                            "end_token": 66,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 57,
                                                    "end_token": 57,
                                                    "children": [],
                                                    "label": "TALL"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 59,
                                                    "end_token": 59,
                                                    "children": [],
                                                    "label": "\"tall\""
                                                },
                                                {
                                                    "type": "comment",
                                                    "start_token": 60,
                                                    "end_token": 65,
                                                    "children": [],
                                                    "label": "# For mobile wallpapers, stories"
                                                }
                                            ],
                                            "label": "TALL = \"tall\"  # For mobile wallpapers, stories\n"
                                        }
                                    ],
                                    "label": "\n    \"\"\"\n    Semantic sizes that map reliably across all models\n    \"\"\"\n\n    SQUARE = \"square\"  # For profile pictures, icons, etc.\n    LANDSCAPE = \"landscape\"  # For traditional photos, scenes\n    PORTRAIT = \"portrait\"  # For vertical photos, portraits\n    WIDE = \"wide\"  # For cinematic, desktop wallpapers\n    TALL = \"tall\"  # For mobile wallpapers, stories\n"
                                }
                            ],
                            "label": "class ImageSize(str, Enum):\n    \"\"\"\n    Semantic sizes that map reliably across all models\n    \"\"\"\n\n    SQUARE = \"square\"  # For profile pictures, icons, etc.\n    LANDSCAPE = \"landscape\"  # For traditional photos, scenes\n    PORTRAIT = \"portrait\"  # For vertical photos, portraits\n    WIDE = \"wide\"  # For cinematic, desktop wallpapers\n    TALL = \"tall\"  # For mobile wallpapers, stories\n"
                        }
                    ],
                    "label": "class ImageSize(str, Enum):\n    \"\"\"\n    Semantic sizes that map reliably across all models\n    \"\"\"\n\n    SQUARE = \"square\"  # For profile pictures, icons, etc.\n    LANDSCAPE = \"landscape\"  # For traditional photos, scenes\n    PORTRAIT = \"portrait\"  # For vertical photos, portraits\n    WIDE = \"wide\"  # For cinematic, desktop wallpapers\n    TALL = \"tall\"  # For mobile wallpapers, stories\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "ImageStyle",
            "start_line": 64,
            "end_line": 89,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 98,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 98,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "ImageStyle"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "str"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 5,
                                            "end_token": 5,
                                            "label": "Enum"
                                        }
                                    ],
                                    "label": "(str, Enum)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 7,
                                    "end_token": 98,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "label": "\"\"\"\n    Complete set of supported styles\n    \"\"\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 14,
                                            "end_token": 16,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "label": "ANY"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 16,
                                                    "end_token": 16,
                                                    "label": "\"any\""
                                                }
                                            ],
                                            "label": "ANY = \"any\""
                                        },
                                        {
                                            "type": "comment",
                                            "start_token": 18,
                                            "end_token": 21,
                                            "label": "# Realistic image styles"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 23,
                                            "end_token": 25,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "label": "REALISTIC"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "label": "\"realistic_image\""
                                                }
                                            ],
                                            "label": "REALISTIC = \"realistic_image\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 27,
                                            "end_token": 29,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "label": "REALISTIC_BW"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 29,
                                                    "end_token": 29,
                                                    "label": "\"realistic_image/b_and_w\""
                                                }
                                            ],
                                            "label": "REALISTIC_BW = \"realistic_image/b_and_w\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 31,
                                            "end_token": 33,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 31,
                                                    "end_token": 31,
                                                    "label": "REALISTIC_HDR"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 33,
                                                    "end_token": 33,
                                                    "label": "\"realistic_image/hdr\""
                                                }
                                            ],
                                            "label": "REALISTIC_HDR = \"realistic_image/hdr\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 35,
                                            "end_token": 37,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 35,
                                                    "end_token": 35,
                                                    "label": "REALISTIC_NATURAL"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "label": "\"realistic_image/natural_light\""
                                                }
                                            ],
                                            "label": "REALISTIC_NATURAL = \"realistic_image/natural_light\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 39,
                                            "end_token": 41,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 39,
                                                    "end_token": 39,
                                                    "label": "REALISTIC_STUDIO"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 41,
                                                    "end_token": 41,
                                                    "label": "\"realistic_image/studio_portrait\""
                                                }
                                            ],
                                            "label": "REALISTIC_STUDIO = \"realistic_image/studio_portrait\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 43,
                                            "end_token": 45,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 43,
                                                    "end_token": 43,
                                                    "label": "REALISTIC_ENTERPRISE"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 45,
                                                    "end_token": 45,
                                                    "label": "\"realistic_image/enterprise\""
                                                }
                                            ],
                                            "label": "REALISTIC_ENTERPRISE = \"realistic_image/enterprise\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 47,
                                            "end_token": 49,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 47,
                                                    "end_token": 47,
                                                    "label": "REALISTIC_HARD_FLASH"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 49,
                                                    "end_token": 49,
                                                    "label": "\"realistic_image/hard_flash\""
                                                }
                                            ],
                                            "label": "REALISTIC_HARD_FLASH = \"realistic_image/hard_flash\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 51,
                                            "end_token": 53,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 51,
                                                    "end_token": 51,
                                                    "label": "REALISTIC_MOTION_BLUR"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 53,
                                                    "end_token": 53,
                                                    "label": "\"realistic_image/motion_blur\""
                                                }
                                            ],
                                            "label": "REALISTIC_MOTION_BLUR = \"realistic_image/motion_blur\""
                                        },
                                        {
                                            "type": "comment",
                                            "start_token": 55,
                                            "end_token": 58,
                                            "label": "# Digital illustration styles"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 60,
                                            "end_token": 62,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 60,
                                                    "end_token": 60,
                                                    "label": "DIGITAL_ART"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 62,
                                                    "end_token": 62,
                                                    "label": "\"digital_illustration\""
                                                }
                                            ],
                                            "label": "DIGITAL_ART = \"digital_illustration\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 64,
                                            "end_token": 66,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 64,
                                                    "end_token": 64,
                                                    "label": "PIXEL_ART"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 66,
                                                    "end_token": 66,
                                                    "label": "\"digital_illustration/pixel_art\""
                                                }
                                            ],
                                            "label": "PIXEL_ART = \"digital_illustration/pixel_art\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 68,
                                            "end_token": 70,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 68,
                                                    "end_token": 68,
                                                    "label": "HAND_DRAWN"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 70,
                                                    "end_token": 70,
                                                    "label": "\"digital_illustration/hand_drawn\""
                                                }
                                            ],
                                            "label": "HAND_DRAWN = \"digital_illustration/hand_drawn\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 72,
                                            "end_token": 74,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 72,
                                                    "end_token": 72,
                                                    "label": "GRAIN"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 74,
                                                    "end_token": 74,
                                                    "label": "\"digital_illustration/grain\""
                                                }
                                            ],
                                            "label": "GRAIN = \"digital_illustration/grain\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 76,
                                            "end_token": 78,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 76,
                                                    "end_token": 76,
                                                    "label": "SKETCH"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 78,
                                                    "end_token": 78,
                                                    "label": "\"digital_illustration/infantile_sketch\""
                                                }
                                            ],
                                            "label": "SKETCH = \"digital_illustration/infantile_sketch\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 80,
                                            "end_token": 82,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 80,
                                                    "end_token": 80,
                                                    "label": "POSTER"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 82,
                                                    "end_token": 82,
                                                    "label": "\"digital_illustration/2d_art_poster\""
                                                }
                                            ],
                                            "label": "POSTER = \"digital_illustration/2d_art_poster\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 84,
                                            "end_token": 86,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 84,
                                                    "end_token": 84,
                                                    "label": "POSTER_2"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 86,
                                                    "end_token": 86,
                                                    "label": "\"digital_illustration/2d_art_poster_2\""
                                                }
                                            ],
                                            "label": "POSTER_2 = \"digital_illustration/2d_art_poster_2\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 88,
                                            "end_token": 90,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 88,
                                                    "end_token": 88,
                                                    "label": "HANDMADE_3D"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 90,
                                                    "end_token": 90,
                                                    "label": "\"digital_illustration/handmade_3d\""
                                                }
                                            ],
                                            "label": "HANDMADE_3D = \"digital_illustration/handmade_3d\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 92,
                                            "end_token": 94,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 92,
                                                    "end_token": 92,
                                                    "label": "HAND_DRAWN_OUTLINE"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 94,
                                                    "end_token": 94,
                                                    "label": "\"digital_illustration/hand_drawn_outline\""
                                                }
                                            ],
                                            "label": "HAND_DRAWN_OUTLINE = \"digital_illustration/hand_drawn_outline\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 96,
                                            "end_token": 98,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 96,
                                                    "end_token": 96,
                                                    "label": "ENGRAVING_COLOR"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 98,
                                                    "end_token": 98,
                                                    "label": "\"digital_illustration/engraving_color\""
                                                }
                                            ],
                                            "label": "ENGRAVING_COLOR = \"digital_illustration/engraving_color\""
                                        }
                                    ],
                                    "label": ":\n    \"\"\"\n    Complete set of supported styles\n    \"\"\"\n\n    ANY = \"any\"\n    # Realistic image styles\n    REALISTIC = \"realistic_image\"\n    REALISTIC_BW = \"realistic_image/b_and_w\"\n    REALISTIC_HDR = \"realistic_image/hdr\"\n    REALISTIC_NATURAL = \"realistic_image/natural_light\"\n    REALISTIC_STUDIO = \"realistic_image/studio_portrait\"\n    REALISTIC_ENTERPRISE = \"realistic_image/enterprise\"\n    REALISTIC_HARD_FLASH = \"realistic_image/hard_flash\"\n    REALISTIC_MOTION_BLUR = \"realistic_image/motion_blur\"\n    # Digital illustration styles\n    DIGITAL_ART = \"digital_illustration\"\n    PIXEL_ART = \"digital_illustration/pixel_art\"\n    HAND_DRAWN = \"digital_illustration/hand_drawn\"\n    GRAIN = \"digital_illustration/grain\"\n    SKETCH = \"digital_illustration/infantile_sketch\"\n    POSTER = \"digital_illustration/2d_art_poster\"\n    POSTER_2 = \"digital_illustration/2d_art_poster_2\"\n    HANDMADE_3D = \"digital_illustration/handmade_3d\"\n    HAND_DRAWN_OUTLINE = \"digital_illustration/hand_drawn_outline\"\n    ENGRAVING_COLOR = \"digital_illustration/engraving_color\""
                                }
                            ],
                            "label": "class ImageStyle(str, Enum):\n    \"\"\"\n    Complete set of supported styles\n    \"\"\"\n\n    ANY = \"any\"\n    # Realistic image styles\n    REALISTIC = \"realistic_image\"\n    REALISTIC_BW = \"realistic_image/b_and_w\"\n    REALISTIC_HDR = \"realistic_image/hdr\"\n    REALISTIC_NATURAL = \"realistic_image/natural_light\"\n    REALISTIC_STUDIO = \"realistic_image/studio_portrait\"\n    REALISTIC_ENTERPRISE = \"realistic_image/enterprise\"\n    REALISTIC_HARD_FLASH = \"realistic_image/hard_flash\"\n    REALISTIC_MOTION_BLUR = \"realistic_image/motion_blur\"\n    # Digital illustration styles\n    DIGITAL_ART = \"digital_illustration\"\n    PIXEL_ART = \"digital_illustration/pixel_art\"\n    HAND_DRAWN = \"digital_illustration/hand_drawn\"\n    GRAIN = \"digital_illustration/grain\"\n    SKETCH = \"digital_illustration/infantile_sketch\"\n    POSTER = \"digital_illustration/2d_art_poster\"\n    POSTER_2 = \"digital_illustration/2d_art_poster_2\"\n    HANDMADE_3D = \"digital_illustration/handmade_3d\"\n    HAND_DRAWN_OUTLINE = \"digital_illustration/hand_drawn_outline\"\n    ENGRAVING_COLOR = \"digital_illustration/engraving_color\""
                        }
                    ],
                    "label": "class ImageStyle(str, Enum):\n    \"\"\"\n    Complete set of supported styles\n    \"\"\"\n\n    ANY = \"any\"\n    # Realistic image styles\n    REALISTIC = \"realistic_image\"\n    REALISTIC_BW = \"realistic_image/b_and_w\"\n    REALISTIC_HDR = \"realistic_image/hdr\"\n    REALISTIC_NATURAL = \"realistic_image/natural_light\"\n    REALISTIC_STUDIO = \"realistic_image/studio_portrait\"\n    REALISTIC_ENTERPRISE = \"realistic_image/enterprise\"\n    REALISTIC_HARD_FLASH = \"realistic_image/hard_flash\"\n    REALISTIC_MOTION_BLUR = \"realistic_image/motion_blur\"\n    # Digital illustration styles\n    DIGITAL_ART = \"digital_illustration\"\n    PIXEL_ART = \"digital_illustration/pixel_art\"\n    HAND_DRAWN = \"digital_illustration/hand_drawn\"\n    GRAIN = \"digital_illustration/grain\"\n    SKETCH = \"digital_illustration/infantile_sketch\"\n    POSTER = \"digital_illustration/2d_art_poster\"\n    POSTER_2 = \"digital_illustration/2d_art_poster_2\"\n    HANDMADE_3D = \"digital_illustration/handmade_3d\"\n    HAND_DRAWN_OUTLINE = \"digital_illustration/hand_drawn_outline\"\n    ENGRAVING_COLOR = \"digital_illustration/engraving_color\""
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "ImageGenModel",
            "start_line": 92,
            "end_line": 100,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 29,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 29,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "ImageGenModel"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "str"
                                        },
                                        {
                                            "type": "identifier",
                                            "start_token": 5,
                                            "end_token": 5,
                                            "children": [],
                                            "label": "Enum"
                                        }
                                    ],
                                    "label": "(str, Enum)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 7,
                                    "end_token": 29,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "string_content",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "\"\n    Available model providers\n    \""
                                                }
                                            ],
                                            "label": "\"\"\"\n    Available model providers\n    \"\"\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 14,
                                            "end_token": 16,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 14,
                                                    "end_token": 14,
                                                    "children": [],
                                                    "label": "FLUX"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 16,
                                                    "end_token": 16,
                                                    "children": [
                                                        {
                                                            "type": "string_content",
                                                            "start_token": 16,
                                                            "end_token": 16,
                                                            "children": [],
                                                            "label": "\"Flux 1.1 Pro\""
                                                        }
                                                    ],
                                                    "label": "\"Flux 1.1 Pro\""
                                                }
                                            ],
                                            "label": "FLUX = \"Flux 1.1 Pro\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 18,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 18,
                                                    "end_token": 18,
                                                    "children": [],
                                                    "label": "FLUX_ULTRA"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "string_content",
                                                            "start_token": 20,
                                                            "end_token": 20,
                                                            "children": [],
                                                            "label": "\"Flux 1.1 Pro Ultra\""
                                                        }
                                                    ],
                                                    "label": "\"Flux 1.1 Pro Ultra\""
                                                }
                                            ],
                                            "label": "FLUX_ULTRA = \"Flux 1.1 Pro Ultra\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 22,
                                            "end_token": 24,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 22,
                                                    "end_token": 22,
                                                    "children": [],
                                                    "label": "RECRAFT"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 24,
                                                    "end_token": 24,
                                                    "children": [
                                                        {
                                                            "type": "string_content",
                                                            "start_token": 24,
                                                            "end_token": 24,
                                                            "children": [],
                                                            "label": "\"Recraft v3\""
                                                        }
                                                    ],
                                                    "label": "\"Recraft v3\""
                                                }
                                            ],
                                            "label": "RECRAFT = \"Recraft v3\""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 26,
                                            "end_token": 28,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 26,
                                                    "end_token": 26,
                                                    "children": [],
                                                    "label": "SD3_5"
                                                },
                                                {
                                                    "type": "string",
                                                    "start_token": 28,
                                                    "end_token": 28,
                                                    "children": [
                                                        {
                                                            "type": "string_content",
                                                            "start_token": 28,
                                                            "end_token": 28,
                                                            "children": [],
                                                            "label": "\"Stable Diffusion 3.5 Medium\""
                                                        }
                                                    ],
                                                    "label": "\"Stable Diffusion 3.5 Medium\""
                                                }
                                            ],
                                            "label": "SD3_5 = \"Stable Diffusion 3.5 Medium\""
                                        }
                                    ],
                                    "label": ":\n    \"\"\"\n    Available model providers\n    \"\"\"\n\n    FLUX = \"Flux 1.1 Pro\"\n    FLUX_ULTRA = \"Flux 1.1 Pro Ultra\"\n    RECRAFT = \"Recraft v3\"\n    SD3_5 = \"Stable Diffusion 3.5 Medium\"\n"
                                }
                            ],
                            "label": "class ImageGenModel(str, Enum):\n    \"\"\"\n    Available model providers\n    \"\"\"\n\n    FLUX = \"Flux 1.1 Pro\"\n    FLUX_ULTRA = \"Flux 1.1 Pro Ultra\"\n    RECRAFT = \"Recraft v3\"\n    SD3_5 = \"Stable Diffusion 3.5 Medium\"\n"
                        }
                    ],
                    "label": "class ImageGenModel(str, Enum):\n    \"\"\"\n    Available model providers\n    \"\"\"\n\n    FLUX = \"Flux 1.1 Pro\"\n    FLUX_ULTRA = \"Flux 1.1 Pro Ultra\"\n    RECRAFT = \"Recraft v3\"\n    SD3_5 = \"Stable Diffusion 3.5 Medium\"\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AIImageGeneratorBlock",
            "start_line": 103,
            "end_line": 308,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 5,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 5,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "AIImageGeneratorBlock"
                                },
                                {
                                    "type": "parenthesized_expression",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "Block"
                                        }
                                    ],
                                    "label": "(Block)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 5,
                                    "end_token": 5,
                                    "children": [],
                                    "label": ":"
                                }
                            ],
                            "label": "class AIImageGeneratorBlock(Block):"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__init__",
                            "start_line": 142,
                            "end_line": 166,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 128,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 127,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "__init__"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 126,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 7,
                                                            "end_token": 12,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 11,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "super"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "__init__"
                                                                        }
                                                                    ],
                                                                    "label": "super().__init__"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 8,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": "()"
                                                                }
                                                            ],
                                                            "label": "super().__init__("
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 14,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [],
                                                                    "label": "id"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "children": [],
                                                                    "label": "\"ed1ae7a0-b770-4089-b520-1f0005fad19a\""
                                                                }
                                                            ],
                                                            "label": "id=\"ed1ae7a0-b770-4089-b520-1f0005fad19a\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 19,
                                                            "end_token": 21,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 19,
                                                                    "end_token": 19,
                                                                    "children": [],
                                                                    "label": "description"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 21,
                                                                    "end_token": 21,
                                                                    "children": [],
                                                                    "label": "\"Generate images using various AI models through a unified interface\""
                                                                }
                                                            ],
                                                            "label": "description=\"Generate images using various AI models through a unified interface\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 24,
                                                            "end_token": 30,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "children": [],
                                                                    "label": "categories"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 26,
                                                                    "end_token": 30,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 27,
                                                                            "end_token": 29,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 27,
                                                                                    "end_token": 27,
                                                                                    "children": [],
                                                                                    "label": "BlockCategory"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 29,
                                                                                    "end_token": 29,
                                                                                    "children": [],
                                                                                    "label": "AI"
                                                                                }
                                                                            ],
                                                                            "label": "BlockCategory.AI"
                                                                        }
                                                                    ],
                                                                    "label": "{BlockCategory.AI}"
                                                                }
                                                            ],
                                                            "label": "categories={BlockCategory.AI}"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 33,
                                                            "end_token": 38,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 33,
                                                                    "end_token": 33,
                                                                    "children": [],
                                                                    "label": "input_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 35,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 35,
                                                                            "end_token": 35,
                                                                            "children": [],
                                                                            "label": "AIImageGeneratorBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 37,
                                                                            "end_token": 37,
                                                                            "children": [],
                                                                            "label": "Input"
                                                                        }
                                                                    ],
                                                                    "label": "AIImageGeneratorBlock.Input"
                                                                }
                                                            ],
                                                            "label": "input_schema=AIImageGeneratorBlock.Input,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 40,
                                                            "end_token": 45,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 40,
                                                                    "end_token": 40,
                                                                    "children": [],
                                                                    "label": "output_schema"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 42,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 42,
                                                                            "end_token": 42,
                                                                            "children": [],
                                                                            "label": "AIImageGeneratorBlock"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 44,
                                                                            "end_token": 44,
                                                                            "children": [],
                                                                            "label": "Output"
                                                                        }
                                                                    ],
                                                                    "label": "AIImageGeneratorBlock.Output"
                                                                }
                                                            ],
                                                            "label": "output_schema=AIImageGeneratorBlock.Output,"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 47,
                                                            "end_token": 82,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 47,
                                                                    "end_token": 47,
                                                                    "children": [],
                                                                    "label": "test_input"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 49,
                                                                    "end_token": 82,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 51,
                                                                            "end_token": 54,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 51,
                                                                                    "end_token": 51,
                                                                                    "children": [],
                                                                                    "label": "\"credentials\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 53,
                                                                                    "end_token": 53,
                                                                                    "children": [],
                                                                                    "label": "TEST_CREDENTIALS_INPUT"
                                                                                }
                                                                            ],
                                                                            "label": "\"credentials\": TEST_CREDENTIALS_INPUT,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 56,
                                                                            "end_token": 59,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 56,
                                                                                    "end_token": 56,
                                                                                    "children": [],
                                                                                    "label": "\"prompt\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 58,
                                                                                    "end_token": 58,
                                                                                    "children": [],
                                                                                    "label": "\"An octopus using a laptop in a snowy forest with 'AutoGPT' clearly visible on the screen\""
                                                                                }
                                                                            ],
                                                                            "label": "\"prompt\": \"An octopus using a laptop in a snowy forest with 'AutoGPT' clearly visible on the screen\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 61,
                                                                            "end_token": 66,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 61,
                                                                                    "end_token": 61,
                                                                                    "children": [],
                                                                                    "label": "\"model\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 63,
                                                                                    "end_token": 65,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 63,
                                                                                            "end_token": 63,
                                                                                            "children": [],
                                                                                            "label": "ImageGenModel"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 65,
                                                                                            "end_token": 65,
                                                                                            "children": [],
                                                                                            "label": "RECRAFT"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageGenModel.RECRAFT"
                                                                                }
                                                                            ],
                                                                            "label": "\"model\": ImageGenModel.RECRAFT,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 68,
                                                                            "end_token": 73,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 68,
                                                                                    "end_token": 68,
                                                                                    "children": [],
                                                                                    "label": "\"size\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 70,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 70,
                                                                                            "end_token": 70,
                                                                                            "children": [],
                                                                                            "label": "ImageSize"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 72,
                                                                                            "end_token": 72,
                                                                                            "children": [],
                                                                                            "label": "SQUARE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageSize.SQUARE"
                                                                                }
                                                                            ],
                                                                            "label": "\"size\": ImageSize.SQUARE,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 75,
                                                                            "end_token": 80,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 75,
                                                                                    "end_token": 75,
                                                                                    "children": [],
                                                                                    "label": "\"style\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 77,
                                                                                    "end_token": 79,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 77,
                                                                                            "end_token": 77,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 79,
                                                                                            "end_token": 79,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC"
                                                                                }
                                                                            ],
                                                                            "label": "\"style\": ImageStyle.REALISTIC,"
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"prompt\": \"An octopus using a laptop in a snowy forest with 'AutoGPT' clearly visible on the screen\",\n                \"model\": ImageGenModel.RECRAFT,\n                \"size\": ImageSize.SQUARE,\n                \"style\": ImageStyle.REALISTIC,\n            }"
                                                                }
                                                            ],
                                                            "label": "test_input={\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"prompt\": \"An octopus using a laptop in a snowy forest with 'AutoGPT' clearly visible on the screen\",\n                \"model\": ImageGenModel.RECRAFT,\n                \"size\": ImageSize.SQUARE,\n                \"style\": ImageStyle.REALISTIC,\n            }"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 85,
                                                            "end_token": 87,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 85,
                                                                    "end_token": 85,
                                                                    "children": [],
                                                                    "label": "test_credentials"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 87,
                                                                    "end_token": 87,
                                                                    "children": [],
                                                                    "label": "TEST_CREDENTIALS"
                                                                }
                                                            ],
                                                            "label": "test_credentials=TEST_CREDENTIALS"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 90,
                                                            "end_token": 105,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 90,
                                                                    "end_token": 90,
                                                                    "children": [],
                                                                    "label": "test_output"
                                                                },
                                                                {
                                                                    "type": "list",
                                                                    "start_token": 92,
                                                                    "end_token": 105,
                                                                    "children": [
                                                                        {
                                                                            "type": "tuple",
                                                                            "start_token": 94,
                                                                            "end_token": 102,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 96,
                                                                                    "end_token": 96,
                                                                                    "children": [],
                                                                                    "label": "\"image_url\""
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 99,
                                                                                    "end_token": 99,
                                                                                    "children": [],
                                                                                    "label": "\"https://replicate.delivery/generated-image.webp\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n                    \"image_url\",\n                    \"https://replicate.delivery/generated-image.webp\",\n                )"
                                                                        }
                                                                    ],
                                                                    "label": "[\n                (\n                    \"image_url\",\n                    \"https://replicate.delivery/generated-image.webp\",\n                ),\n            ]"
                                                                }
                                                            ],
                                                            "label": "test_output=[\n                (\n                    \"image_url\",\n                    \"https://replicate.delivery/generated-image.webp\",\n                ),\n            ]"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 108,
                                                            "end_token": 124,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 108,
                                                                    "end_token": 108,
                                                                    "children": [],
                                                                    "label": "test_mock"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 110,
                                                                    "end_token": 124,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 112,
                                                                            "end_token": 122,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 112,
                                                                                    "end_token": 112,
                                                                                    "children": [],
                                                                                    "label": "\"_run_client\""
                                                                                },
                                                                                {
                                                                                    "type": "lambda",
                                                                                    "start_token": 114,
                                                                                    "end_token": 122,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "lambda_parameters",
                                                                                            "start_token": 115,
                                                                                            "end_token": 120,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "list_splat_pattern",
                                                                                                    "start_token": 115,
                                                                                                    "end_token": 116,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 116,
                                                                                                            "end_token": 116,
                                                                                                            "children": [],
                                                                                                            "label": "args"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "*args"
                                                                                                },
                                                                                                {
                                                                                                    "type": "dictionary_splat_pattern",
                                                                                                    "start_token": 118,
                                                                                                    "end_token": 120,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 120,
                                                                                                            "end_token": 120,
                                                                                                            "children": [],
                                                                                                            "label": "kwargs"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "**kwargs"
                                                                                                }
                                                                                            ],
                                                                                            "label": "*args, **kwargs"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 122,
                                                                                            "end_token": 122,
                                                                                            "children": [],
                                                                                            "label": "\"https://replicate.delivery/generated-image.webp\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "lambda *args, **kwargs: \"https://replicate.delivery/generated-image.webp\""
                                                                                }
                                                                            ],
                                                                            "label": "\"_run_client\": lambda *args, **kwargs: \"https://replicate.delivery/generated-image.webp\""
                                                                        }
                                                                    ],
                                                                    "label": "{\n                \"_run_client\": lambda *args, **kwargs: \"https://replicate.delivery/generated-image.webp\"\n            }"
                                                                }
                                                            ],
                                                            "label": "test_mock={\n                \"_run_client\": lambda *args, **kwargs: \"https://replicate.delivery/generated-image.webp\"\n            }"
                                                        }
                                                    ],
                                                    "label": "\n        super().__init__(\n            id=\"ed1ae7a0-b770-4089-b520-1f0005fad19a\",\n            description=\"Generate images using various AI models through a unified interface\",\n            categories={BlockCategory.AI},\n            input_schema=AIImageGeneratorBlock.Input,\n            output_schema=AIImageGeneratorBlock.Output,\n            test_input={\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"prompt\": \"An octopus using a laptop in a snowy forest with 'AutoGPT' clearly visible on the screen\",\n                \"model\": ImageGenModel.RECRAFT,\n                \"size\": ImageSize.SQUARE,\n                \"style\": ImageStyle.REALISTIC,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=[\n                (\n                    \"image_url\",\n                    \"https://replicate.delivery/generated-image.webp\",\n                ),\n            ],\n            test_mock={\n                \"_run_client\": lambda *args, **kwargs: \"https://replicate.delivery/generated-image.webp\"\n            },\n"
                                                }
                                            ],
                                            "label": "def __init__(self):\n        super().__init__(\n            id=\"ed1ae7a0-b770-4089-b520-1f0005fad19a\",\n            description=\"Generate images using various AI models through a unified interface\",\n            categories={BlockCategory.AI},\n            input_schema=AIImageGeneratorBlock.Input,\n            output_schema=AIImageGeneratorBlock.Output,\n            test_input={\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"prompt\": \"An octopus using a laptop in a snowy forest with 'AutoGPT' clearly visible on the screen\",\n                \"model\": ImageGenModel.RECRAFT,\n                \"size\": ImageSize.SQUARE,\n                \"style\": ImageStyle.REALISTIC,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=[\n                (\n                    \"image_url\",\n                    \"https://replicate.delivery/generated-image.webp\",\n                ),\n            ],\n            test_mock={\n                \"_run_client\": lambda *args, **kwargs: \"https://replicate.delivery/generated-image.webp\"\n            },\n        )"
                                        }
                                    ],
                                    "label": "def __init__(self):\n        super().__init__(\n            id=\"ed1ae7a0-b770-4089-b520-1f0005fad19a\",\n            description=\"Generate images using various AI models through a unified interface\",\n            categories={BlockCategory.AI},\n            input_schema=AIImageGeneratorBlock.Input,\n            output_schema=AIImageGeneratorBlock.Output,\n            test_input={\n                \"credentials\": TEST_CREDENTIALS_INPUT,\n                \"prompt\": \"An octopus using a laptop in a snowy forest with 'AutoGPT' clearly visible on the screen\",\n                \"model\": ImageGenModel.RECRAFT,\n                \"size\": ImageSize.SQUARE,\n                \"style\": ImageStyle.REALISTIC,\n            },\n            test_credentials=TEST_CREDENTIALS,\n            test_output=[\n                (\n                    \"image_url\",\n                    \"https://replicate.delivery/generated-image.webp\",\n                ),\n            ],\n            test_mock={\n                \"_run_client\": lambda *args, **kwargs: \"https://replicate.delivery/generated-image.webp\"\n            },\n        )\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "_run_client",
                            "start_line": 168,
                            "end_line": 196,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 188,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 162,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "_run_client"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 18,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 4,
                                                            "end_token": 4,
                                                            "children": [],
                                                            "label": "self"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 6,
                                                            "end_token": 8,
                                                            "children": [],
                                                            "label": "credentials: APIKeyCredentials"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 10,
                                                            "end_token": 12,
                                                            "children": [],
                                                            "label": "model_name: str"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 14,
                                                            "end_token": 16,
                                                            "children": [],
                                                            "label": "input_params: dict"
                                                        }
                                                    ],
                                                    "label": "(\n        self, credentials: APIKeyCredentials, model_name: str, input_params: dict\n    )"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 19,
                                                    "end_token": 162,
                                                    "children": [
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 21,
                                                            "end_token": 162,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 23,
                                                                    "end_token": 159,
                                                                    "children": [
                                                                        {
                                                                            "type": "comment",
                                                                            "start_token": 24,
                                                                            "end_token": 27,
                                                                            "children": [],
                                                                            "label": "# Initialize Replicate client"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 29,
                                                                            "end_token": 44,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dotted_name",
                                                                                    "start_token": 31,
                                                                                    "end_token": 33,
                                                                                    "children": [],
                                                                                    "label": "replicate.Client"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 34,
                                                                                    "end_token": 44,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "keyword_argument",
                                                                                            "start_token": 35,
                                                                                            "end_token": 43,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 37,
                                                                                                    "end_token": 39,
                                                                                                    "children": [],
                                                                                                    "label": "credentials.api_key"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 40,
                                                                                                    "end_token": 43,
                                                                                                    "children": [],
                                                                                                    "label": ".get_secret_value()"
                                                                                                }
                                                                                            ],
                                                                                            "label": "api_token=credentials.api_key.get_secret_value()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(api_token=credentials.api_key.get_secret_value())"
                                                                                }
                                                                            ],
                                                                            "label": "client = replicate.Client(api_token=credentials.api_key.get_secret_value())"
                                                                        },
                                                                        {
                                                                            "type": "comment",
                                                                            "start_token": 47,
                                                                            "end_token": 54,
                                                                            "children": [],
                                                                            "label": "# Run the model with input parameters\n"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 55,
                                                                            "end_token": 70,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 57,
                                                                                    "end_token": 70,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dotted_name",
                                                                                            "start_token": 58,
                                                                                            "end_token": 59,
                                                                                            "children": [],
                                                                                            "label": ".run"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 60,
                                                                                            "end_token": 70,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 63,
                                                                                                    "end_token": 65,
                                                                                                    "children": [],
                                                                                                    "label": "input=input_params"
                                                                                                },
                                                                                                {
                                                                                                    "type": "keyword_argument",
                                                                                                    "start_token": 67,
                                                                                                    "end_token": 69,
                                                                                                    "children": [],
                                                                                                    "label": "wait=False"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(model_name, input=input_params, wait=False)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "client.run(model_name, input=input_params, wait=False)"
                                                                                }
                                                                            ],
                                                                            "label": "output = client.run(model_name, input=input_params, wait=False)"
                                                                        },
                                                                        {
                                                                            "type": "comment",
                                                                            "start_token": 73,
                                                                            "end_token": 76,
                                                                            "children": [],
                                                                            "label": "# Process output\n"
                                                                        },
                                                                        {
                                                                            "type": "if_statement",
                                                                            "start_token": 77,
                                                                            "end_token": 157,
                                                                            "children": [
                                                                                {
                                                                                    "type": "boolean_operator",
                                                                                    "start_token": 78,
                                                                                    "end_token": 91,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 78,
                                                                                            "end_token": 83,
                                                                                            "children": [],
                                                                                            "label": "isinstance(output, list)"
                                                                                        },
                                                                                        {
                                                                                            "type": "comparison_operator",
                                                                                            "start_token": 85,
                                                                                            "end_token": 90,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 86,
                                                                                                    "end_token": 88,
                                                                                                    "children": [],
                                                                                                    "label": "(output)"
                                                                                                },
                                                                                                {
                                                                                                    "type": "integer",
                                                                                                    "start_token": 90,
                                                                                                    "end_token": 90,
                                                                                                    "children": [],
                                                                                                    "label": "0"
                                                                                                }
                                                                                            ],
                                                                                            "label": "len(output) > 0"
                                                                                        }
                                                                                    ],
                                                                                    "label": "isinstance(output, list) and len(output) > 0:"
                                                                                },
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 92,
                                                                                    "end_token": 123,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "if_statement",
                                                                                            "start_token": 93,
                                                                                            "end_token": 113,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 94,
                                                                                                    "end_token": 102,
                                                                                                    "children": [],
                                                                                                    "label": "isinstance(output[0], FileOutput)"
                                                                                                },
                                                                                                {
                                                                                                    "type": "block",
                                                                                                    "start_token": 103,
                                                                                                    "end_token": 113,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "assignment",
                                                                                                            "start_token": 105,
                                                                                                            "end_token": 112,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "subscript",
                                                                                                                    "start_token": 107,
                                                                                                                    "end_token": 110,
                                                                                                                    "children": [],
                                                                                                                    "label": "output[0]"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 111,
                                                                                                                    "end_token": 112,
                                                                                                                    "children": [],
                                                                                                                    "label": ".url"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "result_url = output[0].url"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": ":\n                    result_url = output[0].url\n"
                                                                                                }
                                                                                            ],
                                                                                            "label": "if isinstance(output[0], FileOutput):\n                    result_url = output[0].url\n"
                                                                                        },
                                                                                        {
                                                                                            "type": "else_clause",
                                                                                            "start_token": 114,
                                                                                            "end_token": 123,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 117,
                                                                                                    "end_token": 122,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "subscript",
                                                                                                            "start_token": 119,
                                                                                                            "end_token": 121,
                                                                                                            "children": [],
                                                                                                            "label": "output[0"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "result_url = output[0]"
                                                                                                }
                                                                                            ],
                                                                                            "label": "else:\n                    result_url = output[0]\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\n                if isinstance(output[0], FileOutput):\n                    result_url = output[0].url\n                else:\n                    result_url = output[0]\n"
                                                                                },
                                                                                {
                                                                                    "type": "elif_clause",
                                                                                    "start_token": 124,
                                                                                    "end_token": 138,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 126,
                                                                                            "end_token": 130,
                                                                                            "children": [],
                                                                                            "label": "(output, FileOutput)"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 131,
                                                                                            "end_token": 138,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 133,
                                                                                                    "end_token": 137,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 135,
                                                                                                            "end_token": 137,
                                                                                                            "children": [],
                                                                                                            "label": "output.url"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "result_url = output.url"
                                                                                                }
                                                                                            ],
                                                                                            "label": ":\n                result_url = output.url\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "elif isinstance(output, FileOutput):\n                result_url = output.url\n"
                                                                                },
                                                                                {
                                                                                    "type": "elif_clause",
                                                                                    "start_token": 139,
                                                                                    "end_token": 151,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 141,
                                                                                            "end_token": 145,
                                                                                            "children": [],
                                                                                            "label": "(output, str)"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 146,
                                                                                            "end_token": 151,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 148,
                                                                                                    "end_token": 150,
                                                                                                    "children": [],
                                                                                                    "label": "result_url = output"
                                                                                                }
                                                                                            ],
                                                                                            "label": ":\n                result_url = output\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "elif isinstance(output, str):\n                result_url = output\n"
                                                                                },
                                                                                {
                                                                                    "type": "else_clause",
                                                                                    "start_token": 152,
                                                                                    "end_token": 157,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 155,
                                                                                            "end_token": 157,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "none",
                                                                                                    "start_token": 157,
                                                                                                    "end_token": 157,
                                                                                                    "children": [],
                                                                                                    "label": "None"
                                                                                                }
                                                                                            ],
                                                                                            "label": "result_url = None"
                                                                                        }
                                                                                    ],
                                                                                    "label": "else:\n                result_url = None"
                                                                                }
                                                                            ],
                                                                            "label": "if isinstance(output, list) and len(output) > 0:\n                if isinstance(output[0], FileOutput):\n                    result_url = output[0].url\n                else:\n                    result_url = output[0]\n            elif isinstance(output, FileOutput):\n                result_url = output.url\n            elif isinstance(output, str):\n                result_url = output\n            else:\n                result_url = None"
                                                                        },
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 160,
                                                                            "end_token": 161,
                                                                            "children": [],
                                                                            "label": "return result_url"
                                                                        }
                                                                    ],
                                                                    "label": "\n            # Initialize Replicate client\n            client = replicate.Client(api_token=credentials.api_key.get_secret_value())\n\n            # Run the model with input parameters\n            output = client.run(model_name, input=input_params, wait=False)\n\n            # Process output\n            if isinstance(output, list) and len(output) > 0:\n                if isinstance(output[0], FileOutput):\n                    result_url = output[0].url\n                else:\n                    result_url = output[0]\n            elif isinstance(output, FileOutput):\n                result_url = output.url\n            elif isinstance(output, str):\n                result_url = output\n            else:\n                result_url = None\n\n"
                                                                },
                                                                {
                                                                    "type": "except_clause",
                                                                    "start_token": 164,
                                                                    "end_token": 175,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 166,
                                                                            "end_token": 166,
                                                                            "children": [],
                                                                            "label": "as"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 168,
                                                                            "end_token": 175,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 170,
                                                                                    "end_token": 175,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 171,
                                                                                            "end_token": 175,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 173,
                                                                                                    "end_token": 174,
                                                                                                    "children": [],
                                                                                                    "label": "f\"Error during model execution: {e}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "TypeError(f\"Error during model execution: {e}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise TypeError(f\"Error during model execution: {e}\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise TypeError(f\"Error during model execution: {e}\")"
                                                                        }
                                                                    ],
                                                                    "label": "except TypeError as e:\n            raise TypeError(f\"Error during model execution: {e}\")"
                                                                },
                                                                {
                                                                    "type": "except_clause",
                                                                    "start_token": 177,
                                                                    "end_token": 188,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 179,
                                                                            "end_token": 179,
                                                                            "children": [],
                                                                            "label": "as"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 181,
                                                                            "end_token": 188,
                                                                            "children": [
                                                                                {
                                                                                    "type": "raise_statement",
                                                                                    "start_token": 183,
                                                                                    "end_token": 188,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 184,
                                                                                            "end_token": 188,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 186,
                                                                                                    "end_token": 187,
                                                                                                    "children": [],
                                                                                                    "label": "f\"Unexpected error during model execution: {e}\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "RuntimeError(f\"Unexpected error during model execution: {e}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": "raise RuntimeError(f\"Unexpected error during model execution: {e}\")"
                                                                                }
                                                                            ],
                                                                            "label": ":\n            raise RuntimeError(f\"Unexpected error during model execution: {e}\")"
                                                                        }
                                                                    ],
                                                                    "label": "except Exception as e:\n            raise RuntimeError(f\"Unexpected error during model execution: {e}\")"
                                                                }
                                                            ],
                                                            "label": "try:\n            # Initialize Replicate client\n            client = replicate.Client(api_token=credentials.api_key.get_secret_value())\n\n            # Run the model with input parameters\n            output = client.run(model_name, input=input_params, wait=False)\n\n            # Process output\n            if isinstance(output, list) and len(output) > 0:\n                if isinstance(output[0], FileOutput):\n                    result_url = output[0].url\n                else:\n                    result_url = output[0]\n            elif isinstance(output, FileOutput):\n                result_url = output.url\n            elif isinstance(output, str):\n                result_url = output\n            else:\n                result_url = None\n\n            return result_url\n"
                                                        }
                                                    ],
                                                    "label": ":\n        try:\n            # Initialize Replicate client\n            client = replicate.Client(api_token=credentials.api_key.get_secret_value())\n\n            # Run the model with input parameters\n            output = client.run(model_name, input=input_params, wait=False)\n\n            # Process output\n            if isinstance(output, list) and len(output) > 0:\n                if isinstance(output[0], FileOutput):\n                    result_url = output[0].url\n                else:\n                    result_url = output[0]\n            elif isinstance(output, FileOutput):\n                result_url = output.url\n            elif isinstance(output, str):\n                result_url = output\n            else:\n                result_url = None\n\n            return result_url\n"
                                                }
                                            ],
                                            "label": "def _run_client(\n        self, credentials: APIKeyCredentials, model_name: str, input_params: dict\n    ):\n        try:\n            # Initialize Replicate client\n            client = replicate.Client(api_token=credentials.api_key.get_secret_value())\n\n            # Run the model with input parameters\n            output = client.run(model_name, input=input_params, wait=False)\n\n            # Process output\n            if isinstance(output, list) and len(output) > 0:\n                if isinstance(output[0], FileOutput):\n                    result_url = output[0].url\n                else:\n                    result_url = output[0]\n            elif isinstance(output, FileOutput):\n                result_url = output.url\n            elif isinstance(output, str):\n                result_url = output\n            else:\n                result_url = None\n\n            return result_url\n"
                                        }
                                    ],
                                    "label": "def _run_client(\n        self, credentials: APIKeyCredentials, model_name: str, input_params: dict\n    ):\n        try:\n            # Initialize Replicate client\n            client = replicate.Client(api_token=credentials.api_key.get_secret_value())\n\n            # Run the model with input parameters\n            output = client.run(model_name, input=input_params, wait=False)\n\n            # Process output\n            if isinstance(output, list) and len(output) > 0:\n                if isinstance(output[0], FileOutput):\n                    result_url = output[0].url\n                else:\n                    result_url = output[0]\n            elif isinstance(output, FileOutput):\n                result_url = output.url\n            elif isinstance(output, str):\n                result_url = output\n            else:\n                result_url = None\n\n            return result_url\n\n        except TypeError as e:\n            raise TypeError(f\"Error during model execution: {e}\")\n        except Exception as e:\n            raise RuntimeError(f\"Unexpected error during model execution: {e}\")"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "generate_image",
                            "start_line": 198,
                            "end_line": 266,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 416,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 416,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "generate_image"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 12,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "children": [],
                                                                    "label": "Input"
                                                                }
                                                            ],
                                                            "label": "self, input_data: Input,"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 9,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 9,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        }
                                                    ],
                                                    "label": "(self, input_data: Input, credentials: APIKeyCredentials)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 14,
                                                    "end_token": 416,
                                                    "children": [
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 15,
                                                            "end_token": 416,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 17,
                                                                    "end_token": 403,
                                                                    "children": [
                                                                        {
                                                                            "type": "comment",
                                                                            "start_token": 18,
                                                                            "end_token": 30,
                                                                            "children": [],
                                                                            "label": "# Handle style-based prompt modification for models without native style support"
                                                                        },
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 32,
                                                                            "end_token": 36,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 32,
                                                                                    "end_token": 32,
                                                                                    "children": [],
                                                                                    "label": "modified_prompt"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 34,
                                                                                    "end_token": 36,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 34,
                                                                                            "end_token": 34,
                                                                                            "children": [],
                                                                                            "label": "input_data"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 36,
                                                                                            "end_token": 36,
                                                                                            "children": [],
                                                                                            "label": "prompt"
                                                                                        }
                                                                                    ],
                                                                                    "label": "input_data.prompt"
                                                                                }
                                                                            ],
                                                                            "label": "modified_prompt = input_data.prompt"
                                                                        },
                                                                        {
                                                                            "type": "if_statement",
                                                                            "start_token": 38,
                                                                            "end_token": 343,
                                                                            "children": [
                                                                                {
                                                                                    "type": "comparison_operator",
                                                                                    "start_token": 38,
                                                                                    "end_token": 48,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 39,
                                                                                            "end_token": 41,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 39,
                                                                                                    "end_token": 39,
                                                                                                    "children": [],
                                                                                                    "label": "input_data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 41,
                                                                                                    "end_token": 41,
                                                                                                    "children": [],
                                                                                                    "label": "model"
                                                                                                }
                                                                                            ],
                                                                                            "label": "input_data.model"
                                                                                        },
                                                                                        {
                                                                                            "type": "list",
                                                                                            "start_token": 44,
                                                                                            "end_token": 48,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 45,
                                                                                                    "end_token": 47,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 45,
                                                                                                            "end_token": 45,
                                                                                                            "children": [],
                                                                                                            "label": "ImageGenModel"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 47,
                                                                                                            "end_token": 47,
                                                                                                            "children": [],
                                                                                                            "label": "RECRAFT"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "ImageGenModel.RECRAFT"
                                                                                                }
                                                                                            ],
                                                                                            "label": "[ImageGenModel.RECRAFT]"
                                                                                        }
                                                                                    ],
                                                                                    "label": "if input_data.model not in [ImageGenModel.RECRAFT]"
                                                                                },
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 50,
                                                                                    "end_token": 70,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 51,
                                                                                            "end_token": 60,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 51,
                                                                                                    "end_token": 51,
                                                                                                    "children": [],
                                                                                                    "label": "style_prefix"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 53,
                                                                                                    "end_token": 60,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 53,
                                                                                                            "end_token": 55,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 53,
                                                                                                                    "end_token": 53,
                                                                                                                    "children": [],
                                                                                                                    "label": "self"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 55,
                                                                                                                    "end_token": 55,
                                                                                                                    "children": [],
                                                                                                                    "label": "_style_to_prompt_prefix"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "self._style_to_prompt_prefix"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 56,
                                                                                                            "end_token": 60,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 57,
                                                                                                                    "end_token": 59,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 57,
                                                                                                                            "end_token": 57,
                                                                                                                            "children": [],
                                                                                                                            "label": "input_data"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 59,
                                                                                                                            "end_token": 59,
                                                                                                                            "children": [],
                                                                                                                            "label": "style"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "input_data.style"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(input_data.style)"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "self._style_to_prompt_prefix(input_data.style)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "style_prefix = self._style_to_prompt_prefix(input_data.style)"
                                                                                        },
                                                                                        {
                                                                                            "type": "assignment",
                                                                                            "start_token": 62,
                                                                                            "end_token": 69,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 62,
                                                                                                    "end_token": 62,
                                                                                                    "children": [],
                                                                                                    "label": "modified_prompt"
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 64,
                                                                                                    "end_token": 69,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "concatenated_string",
                                                                                                            "start_token": 65,
                                                                                                            "end_token": 65,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "interpolation",
                                                                                                                    "start_token": 65,
                                                                                                                    "end_token": 65,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 65,
                                                                                                                            "end_token": 65,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"{style_prefix} {modified_prompt}\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"{style_prefix} {modified_prompt}\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "string_content",
                                                                                                                    "start_token": 65,
                                                                                                                    "end_token": 65,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"{style_prefix} {modified_prompt}\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"{style_prefix} {modified_prompt}\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 66,
                                                                                                            "end_token": 67,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 66,
                                                                                                                    "end_token": 66,
                                                                                                                    "children": [],
                                                                                                                    "label": "."
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 67,
                                                                                                                    "end_token": 67,
                                                                                                                    "children": [],
                                                                                                                    "label": "strip"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": ".strip"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 68,
                                                                                                            "end_token": 69,
                                                                                                            "children": [],
                                                                                                            "label": "()"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "f\"{style_prefix} {modified_prompt}\".strip()"
                                                                                                }
                                                                                            ],
                                                                                            "label": "modified_prompt = f\"{style_prefix} {modified_prompt}\".strip()"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\n                style_prefix = self._style_to_prompt_prefix(input_data.style)\n                modified_prompt = f\"{style_prefix} {modified_prompt}\".strip()\n"
                                                                                },
                                                                                {
                                                                                    "type": "elif_clause",
                                                                                    "start_token": 72,
                                                                                    "end_token": 157,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "comparison_operator",
                                                                                            "start_token": 72,
                                                                                            "end_token": 81,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 73,
                                                                                                    "end_token": 75,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 73,
                                                                                                            "end_token": 73,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 75,
                                                                                                            "end_token": 75,
                                                                                                            "children": [],
                                                                                                            "label": "model"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_data.model"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 78,
                                                                                                    "end_token": 80,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 78,
                                                                                                            "end_token": 78,
                                                                                                            "children": [],
                                                                                                            "label": "ImageGenModel"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 80,
                                                                                                            "end_token": 80,
                                                                                                            "children": [],
                                                                                                            "label": "SD3_5"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "ImageGenModel.SD3_5"
                                                                                                }
                                                                                            ],
                                                                                            "label": "if input_data.model == ImageGenModel.SD3_5:"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 82,
                                                                                            "end_token": 157,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "comment",
                                                                                                    "start_token": 83,
                                                                                                    "end_token": 93,
                                                                                                    "children": [],
                                                                                                    "label": "# Use Stable Diffusion 3.5 with aspect ratio\n"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 94,
                                                                                                    "end_token": 135,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 94,
                                                                                                            "end_token": 94,
                                                                                                            "children": [],
                                                                                                            "label": "input_params"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 96,
                                                                                                            "end_token": 135,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 98,
                                                                                                                    "end_token": 101,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 98,
                                                                                                                            "end_token": 98,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"prompt\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 100,
                                                                                                                            "end_token": 100,
                                                                                                                            "children": [],
                                                                                                                            "label": "modified_prompt"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"prompt\": modified_prompt,"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 103,
                                                                                                                    "end_token": 111,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 103,
                                                                                                                            "end_token": 103,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"aspect_ratio\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "subscript",
                                                                                                                            "start_token": 105,
                                                                                                                            "end_token": 111,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 105,
                                                                                                                                    "end_token": 105,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "SIZE_TO_SD_RATIO"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 107,
                                                                                                                                    "end_token": 109,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 107,
                                                                                                                                            "end_token": 107,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "input_data"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 109,
                                                                                                                                            "end_token": 109,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "size"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "input_data.size"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "SIZE_TO_SD_RATIO[input_data.size],"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 113,
                                                                                                                    "end_token": 115,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 113,
                                                                                                                            "end_token": 113,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"output_format\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 115,
                                                                                                                            "end_token": 115,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"webp\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"output_format\": \"webp\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 118,
                                                                                                                    "end_token": 120,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 118,
                                                                                                                            "end_token": 118,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"output_quality\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "integer",
                                                                                                                            "start_token": 120,
                                                                                                                            "end_token": 120,
                                                                                                                            "children": [],
                                                                                                                            "label": "90"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"output_quality\": 90"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 123,
                                                                                                                    "end_token": 125,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 123,
                                                                                                                            "end_token": 123,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"steps\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "integer",
                                                                                                                            "start_token": 125,
                                                                                                                            "end_token": 125,
                                                                                                                            "children": [],
                                                                                                                            "label": "40"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"steps\": 40"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 128,
                                                                                                                    "end_token": 133,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 128,
                                                                                                                            "end_token": 128,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"cfg_scale\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "float",
                                                                                                                            "start_token": 130,
                                                                                                                            "end_token": 132,
                                                                                                                            "children": [],
                                                                                                                            "label": "7.0"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"cfg_scale\": 7.0,"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "{\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 137,
                                                                                                    "end_token": 153,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 137,
                                                                                                            "end_token": 137,
                                                                                                            "children": [],
                                                                                                            "label": "output"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 139,
                                                                                                            "end_token": 153,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 139,
                                                                                                                    "end_token": 141,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 139,
                                                                                                                            "end_token": 139,
                                                                                                                            "children": [],
                                                                                                                            "label": "self"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 141,
                                                                                                                            "end_token": 141,
                                                                                                                            "children": [],
                                                                                                                            "label": "_run_client"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "self._run_client"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 142,
                                                                                                                    "end_token": 153,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 144,
                                                                                                                            "end_token": 144,
                                                                                                                            "children": [],
                                                                                                                            "label": "credentials"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 147,
                                                                                                                            "end_token": 147,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"stability-ai/stable-diffusion-3.5-medium\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 150,
                                                                                                                            "end_token": 150,
                                                                                                                            "children": [],
                                                                                                                            "label": "input_params"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )"
                                                                                                },
                                                                                                {
                                                                                                    "type": "return_statement",
                                                                                                    "start_token": 155,
                                                                                                    "end_token": 156,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 156,
                                                                                                            "end_token": 156,
                                                                                                            "children": [],
                                                                                                            "label": "output"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "return output"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n                # Use Stable Diffusion 3.5 with aspect ratio\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }\n                output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )\n                return output\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "if input_data.model == ImageGenModel.SD3_5:\n                # Use Stable Diffusion 3.5 with aspect ratio\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }\n                output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )\n                return output\n"
                                                                                },
                                                                                {
                                                                                    "type": "elif_clause",
                                                                                    "start_token": 159,
                                                                                    "end_token": 258,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "comparison_operator",
                                                                                            "start_token": 159,
                                                                                            "end_token": 168,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 160,
                                                                                                    "end_token": 162,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 160,
                                                                                                            "end_token": 160,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 162,
                                                                                                            "end_token": 162,
                                                                                                            "children": [],
                                                                                                            "label": "model"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_data.model"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 165,
                                                                                                    "end_token": 167,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 165,
                                                                                                            "end_token": 165,
                                                                                                            "children": [],
                                                                                                            "label": "ImageGenModel"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 167,
                                                                                                            "end_token": 167,
                                                                                                            "children": [],
                                                                                                            "label": "FLUX"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "ImageGenModel.FLUX"
                                                                                                }
                                                                                            ],
                                                                                            "label": "elif input_data.model == ImageGenModel.FLUX:"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 169,
                                                                                            "end_token": 258,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "comment",
                                                                                                    "start_token": 170,
                                                                                                    "end_token": 181,
                                                                                                    "children": [],
                                                                                                    "label": "# Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 183,
                                                                                                    "end_token": 192,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "tuple",
                                                                                                            "start_token": 183,
                                                                                                            "end_token": 185,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 183,
                                                                                                                    "end_token": 183,
                                                                                                                    "children": [],
                                                                                                                    "label": "width"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 185,
                                                                                                                    "end_token": 185,
                                                                                                                    "children": [],
                                                                                                                    "label": "height"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "width, height"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "subscript",
                                                                                                            "start_token": 187,
                                                                                                            "end_token": 192,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 187,
                                                                                                                    "end_token": 187,
                                                                                                                    "children": [],
                                                                                                                    "label": "SIZE_TO_FLUX_DIMENSIONS"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 189,
                                                                                                                    "end_token": 191,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 189,
                                                                                                                            "end_token": 189,
                                                                                                                            "children": [],
                                                                                                                            "label": "input_data"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 191,
                                                                                                                            "end_token": 191,
                                                                                                                            "children": [],
                                                                                                                            "label": "size"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "input_data.size"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "SIZE_TO_FLUX_DIMENSIONS[input_data.size]"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 194,
                                                                                                    "end_token": 240,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 194,
                                                                                                            "end_token": 194,
                                                                                                            "children": [],
                                                                                                            "label": "input_params"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 196,
                                                                                                            "end_token": 240,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 198,
                                                                                                                    "end_token": 201,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 198,
                                                                                                                            "end_token": 198,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"prompt\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 200,
                                                                                                                            "end_token": 200,
                                                                                                                            "children": [],
                                                                                                                            "label": "modified_prompt"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"prompt\": modified_prompt,"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 203,
                                                                                                                    "end_token": 205,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 203,
                                                                                                                            "end_token": 203,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"width\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 205,
                                                                                                                            "end_token": 205,
                                                                                                                            "children": [],
                                                                                                                            "label": "width"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"width\": width"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 208,
                                                                                                                    "end_token": 210,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 208,
                                                                                                                            "end_token": 208,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"height\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 210,
                                                                                                                            "end_token": 210,
                                                                                                                            "children": [],
                                                                                                                            "label": "height"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"height\": height"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 213,
                                                                                                                    "end_token": 221,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 213,
                                                                                                                            "end_token": 213,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"aspect_ratio\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "subscript",
                                                                                                                            "start_token": 215,
                                                                                                                            "end_token": 221,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 215,
                                                                                                                                    "end_token": 215,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "SIZE_TO_FLUX_RATIO"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 217,
                                                                                                                                    "end_token": 219,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 217,
                                                                                                                                            "end_token": 217,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "input_data"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 219,
                                                                                                                                            "end_token": 219,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "size"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "input_data.size"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "SIZE_TO_FLUX_RATIO[input_data.size],"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 223,
                                                                                                                    "end_token": 225,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 223,
                                                                                                                            "end_token": 223,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"output_format\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 225,
                                                                                                                            "end_token": 225,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"jpg\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"output_format\": \"jpg\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 235,
                                                                                                                    "end_token": 237,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 235,
                                                                                                                            "end_token": 235,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"output_quality\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "integer",
                                                                                                                            "start_token": 237,
                                                                                                                            "end_token": 237,
                                                                                                                            "children": [],
                                                                                                                            "label": "90"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"output_quality\": 90"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "{\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 242,
                                                                                                    "end_token": 254,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 242,
                                                                                                            "end_token": 242,
                                                                                                            "children": [],
                                                                                                            "label": "output"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 244,
                                                                                                            "end_token": 254,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 244,
                                                                                                                    "end_token": 246,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 244,
                                                                                                                            "end_token": 244,
                                                                                                                            "children": [],
                                                                                                                            "label": "self"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 246,
                                                                                                                            "end_token": 246,
                                                                                                                            "children": [],
                                                                                                                            "label": "_run_client"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "self._run_client"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 247,
                                                                                                                    "end_token": 254,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 249,
                                                                                                                            "end_token": 249,
                                                                                                                            "children": [],
                                                                                                                            "label": "credentials"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 251,
                                                                                                                            "end_token": 251,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"black-forest-labs/flux-1.1-pro\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 253,
                                                                                                                            "end_token": 253,
                                                                                                                            "children": [],
                                                                                                                            "label": "input_params"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n"
                                                                                                },
                                                                                                {
                                                                                                    "type": "return_statement",
                                                                                                    "start_token": 257,
                                                                                                    "end_token": 258,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 258,
                                                                                                            "end_token": 258,
                                                                                                            "children": [],
                                                                                                            "label": "output"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "return output"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n                # Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n                )\n                return output"
                                                                                        }
                                                                                    ],
                                                                                    "label": "elif input_data.model == ImageGenModel.FLUX:\n                # Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n                )\n                return output"
                                                                                },
                                                                                {
                                                                                    "type": "elif_clause",
                                                                                    "start_token": 261,
                                                                                    "end_token": 340,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "comparison_operator",
                                                                                            "start_token": 261,
                                                                                            "end_token": 270,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 262,
                                                                                                    "end_token": 264,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 262,
                                                                                                            "end_token": 262,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 264,
                                                                                                            "end_token": 264,
                                                                                                            "children": [],
                                                                                                            "label": "model"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_data.model"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 267,
                                                                                                    "end_token": 269,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 267,
                                                                                                            "end_token": 267,
                                                                                                            "children": [],
                                                                                                            "label": "ImageGenModel"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 269,
                                                                                                            "end_token": 269,
                                                                                                            "children": [],
                                                                                                            "label": "FLUX_ULTRA"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "ImageGenModel.FLUX_ULTRA"
                                                                                                }
                                                                                            ],
                                                                                            "label": "elif input_data.model == ImageGenModel.FLUX_ULTRA:"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 271,
                                                                                            "end_token": 340,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 272,
                                                                                                    "end_token": 281,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "tuple",
                                                                                                            "start_token": 272,
                                                                                                            "end_token": 274,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 272,
                                                                                                                    "end_token": 272,
                                                                                                                    "children": [],
                                                                                                                    "label": "width"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 274,
                                                                                                                    "end_token": 274,
                                                                                                                    "children": [],
                                                                                                                    "label": "height"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "width, height"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "subscript",
                                                                                                            "start_token": 276,
                                                                                                            "end_token": 281,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 276,
                                                                                                                    "end_token": 276,
                                                                                                                    "children": [],
                                                                                                                    "label": "SIZE_TO_FLUX_DIMENSIONS"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 278,
                                                                                                                    "end_token": 280,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 278,
                                                                                                                            "end_token": 278,
                                                                                                                            "children": [],
                                                                                                                            "label": "input_data"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 280,
                                                                                                                            "end_token": 280,
                                                                                                                            "children": [],
                                                                                                                            "label": "size"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "input_data.size"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "SIZE_TO_FLUX_DIMENSIONS[input_data.size]"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 283,
                                                                                                    "end_token": 322,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 283,
                                                                                                            "end_token": 283,
                                                                                                            "children": [],
                                                                                                            "label": "input_params"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 285,
                                                                                                            "end_token": 322,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 287,
                                                                                                                    "end_token": 290,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 287,
                                                                                                                            "end_token": 287,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"prompt\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 289,
                                                                                                                            "end_token": 289,
                                                                                                                            "children": [],
                                                                                                                            "label": "modified_prompt"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"prompt\": modified_prompt,"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 292,
                                                                                                                    "end_token": 294,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 292,
                                                                                                                            "end_token": 292,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"width\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 294,
                                                                                                                            "end_token": 294,
                                                                                                                            "children": [],
                                                                                                                            "label": "width"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"width\": width"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 297,
                                                                                                                    "end_token": 299,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 297,
                                                                                                                            "end_token": 297,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"height\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 299,
                                                                                                                            "end_token": 299,
                                                                                                                            "children": [],
                                                                                                                            "label": "height"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"height\": height"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 302,
                                                                                                                    "end_token": 310,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 302,
                                                                                                                            "end_token": 302,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"aspect_ratio\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "subscript",
                                                                                                                            "start_token": 304,
                                                                                                                            "end_token": 310,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 304,
                                                                                                                                    "end_token": 304,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "SIZE_TO_FLUX_RATIO"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 306,
                                                                                                                                    "end_token": 308,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 306,
                                                                                                                                            "end_token": 306,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "input_data"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 308,
                                                                                                                                            "end_token": 308,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "size"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "input_data.size"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "SIZE_TO_FLUX_RATIO[input_data.size],"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 312,
                                                                                                                    "end_token": 314,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 312,
                                                                                                                            "end_token": 312,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"output_format\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 314,
                                                                                                                            "end_token": 314,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"jpg\""
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"output_format\": \"jpg\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 317,
                                                                                                                    "end_token": 319,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 317,
                                                                                                                            "end_token": 317,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"output_quality\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "integer",
                                                                                                                            "start_token": 319,
                                                                                                                            "end_token": 319,
                                                                                                                            "children": [],
                                                                                                                            "label": "90"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"output_quality\": 90"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "{\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 324,
                                                                                                    "end_token": 336,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 324,
                                                                                                            "end_token": 324,
                                                                                                            "children": [],
                                                                                                            "label": "output"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 326,
                                                                                                            "end_token": 336,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 326,
                                                                                                                    "end_token": 328,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 326,
                                                                                                                            "end_token": 326,
                                                                                                                            "children": [],
                                                                                                                            "label": "self"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 328,
                                                                                                                            "end_token": 328,
                                                                                                                            "children": [],
                                                                                                                            "label": "_run_client"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "self._run_client"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 329,
                                                                                                                    "end_token": 336,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 331,
                                                                                                                            "end_token": 331,
                                                                                                                            "children": [],
                                                                                                                            "label": "credentials"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 333,
                                                                                                                            "end_token": 333,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"black-forest-labs/flux-1.1-pro-ultra\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 335,
                                                                                                                            "end_token": 335,
                                                                                                                            "children": [],
                                                                                                                            "label": "input_params"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n"
                                                                                                },
                                                                                                {
                                                                                                    "type": "return_statement",
                                                                                                    "start_token": 339,
                                                                                                    "end_token": 340,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 340,
                                                                                                            "end_token": 340,
                                                                                                            "children": [],
                                                                                                            "label": "output"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "return output"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n                )\n                return output"
                                                                                        }
                                                                                    ],
                                                                                    "label": "elif input_data.model == ImageGenModel.FLUX_ULTRA:\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n                )\n                return output"
                                                                                },
                                                                                {
                                                                                    "type": "elif_clause",
                                                                                    "start_token": 343,
                                                                                    "end_token": 402,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "comparison_operator",
                                                                                            "start_token": 343,
                                                                                            "end_token": 352,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 344,
                                                                                                    "end_token": 346,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 344,
                                                                                                            "end_token": 344,
                                                                                                            "children": [],
                                                                                                            "label": "input_data"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 346,
                                                                                                            "end_token": 346,
                                                                                                            "children": [],
                                                                                                            "label": "model"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_data.model"
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 349,
                                                                                                    "end_token": 351,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 349,
                                                                                                            "end_token": 349,
                                                                                                            "children": [],
                                                                                                            "label": "ImageGenModel"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 351,
                                                                                                            "end_token": 351,
                                                                                                            "children": [],
                                                                                                            "label": "RECRAFT"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "ImageGenModel.RECRAFT"
                                                                                                }
                                                                                            ],
                                                                                            "label": "elif input_data.model == ImageGenModel.RECRAFT:"
                                                                                        },
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 353,
                                                                                            "end_token": 402,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 354,
                                                                                                    "end_token": 384,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 354,
                                                                                                            "end_token": 354,
                                                                                                            "children": [],
                                                                                                            "label": "input_params"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 356,
                                                                                                            "end_token": 384,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 358,
                                                                                                                    "end_token": 360,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 358,
                                                                                                                            "end_token": 358,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"prompt\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 360,
                                                                                                                            "end_token": 362,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 360,
                                                                                                                                    "end_token": 360,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "input_data"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 362,
                                                                                                                                    "end_token": 362,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "prompt"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "input_data.prompt"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"prompt\": input_data"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 365,
                                                                                                                    "end_token": 372,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 365,
                                                                                                                            "end_token": 365,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"size\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "subscript",
                                                                                                                            "start_token": 367,
                                                                                                                            "end_token": 372,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 367,
                                                                                                                                    "end_token": 367,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "SIZE_TO_RECRAFT_DIMENSIONS"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 369,
                                                                                                                                    "end_token": 371,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 369,
                                                                                                                                            "end_token": 369,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "input_data"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 371,
                                                                                                                                            "end_token": 371,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "size"
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": "input_data.size"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "SIZE_TO_RECRAFT_DIMENSIONS[input_data.size]"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size]"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 375,
                                                                                                                    "end_token": 381,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 375,
                                                                                                                            "end_token": 375,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"style\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "attribute",
                                                                                                                            "start_token": 377,
                                                                                                                            "end_token": 380,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 377,
                                                                                                                                    "end_token": 377,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "input_data"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "start_token": 380,
                                                                                                                                    "end_token": 380,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "."
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": "input_data.style."
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"style\": input_data.style.value"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "{\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "input_params = {\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }"
                                                                                                },
                                                                                                {
                                                                                                    "type": "assignment",
                                                                                                    "start_token": 386,
                                                                                                    "end_token": 398,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 386,
                                                                                                            "end_token": 386,
                                                                                                            "children": [],
                                                                                                            "label": "output"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "call",
                                                                                                            "start_token": 388,
                                                                                                            "end_token": 398,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "attribute",
                                                                                                                    "start_token": 388,
                                                                                                                    "end_token": 390,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 388,
                                                                                                                            "end_token": 388,
                                                                                                                            "children": [],
                                                                                                                            "label": "self"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 390,
                                                                                                                            "end_token": 390,
                                                                                                                            "children": [],
                                                                                                                            "label": "_run_client"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "self._run_client"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "argument_list",
                                                                                                                    "start_token": 391,
                                                                                                                    "end_token": 398,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 393,
                                                                                                                            "end_token": 393,
                                                                                                                            "children": [],
                                                                                                                            "label": "credentials"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string",
                                                                                                                            "start_token": 395,
                                                                                                                            "end_token": 395,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"recraft-ai/recraft-v3\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 397,
                                                                                                                            "end_token": 397,
                                                                                                                            "children": [],
                                                                                                                            "label": "input_params"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "output = self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n"
                                                                                                },
                                                                                                {
                                                                                                    "type": "return_statement",
                                                                                                    "start_token": 401,
                                                                                                    "end_token": 402,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 402,
                                                                                                            "end_token": 402,
                                                                                                            "children": [],
                                                                                                            "label": "output"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "return output"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n                input_params = {\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }\n                output = self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n                )\n                return output"
                                                                                        }
                                                                                    ],
                                                                                    "label": "elif input_data.model == ImageGenModel.RECRAFT:\n                input_params = {\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }\n                output = self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n                )\n                return output"
                                                                                }
                                                                            ],
                                                                            "label": "if input_data.model not in [ImageGenModel.RECRAFT]:\n                style_prefix = self._style_to_prompt_prefix(input_data.style)\n                modified_prompt = f\"{style_prefix} {modified_prompt}\".strip()\n\n            if input_data.model == ImageGenModel.SD3_5:\n                # Use Stable Diffusion 3.5 with aspect ratio\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }\n                output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX:\n                # Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX_ULTRA:\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n                )\n                return output\n\n            elif"
                                                                        },
                                                                        {
                                                                            "type": "except_clause",
                                                                            "start_token": 405,
                                                                            "end_token": 416,
                                                                            "children": [
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 409,
                                                                                    "end_token": 416,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "raise_statement",
                                                                                            "start_token": 411,
                                                                                            "end_token": 416,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 413,
                                                                                                    "end_token": 416,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "concatenated_string",
                                                                                                            "start_token": 414,
                                                                                                            "end_token": 414,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string_content",
                                                                                                                    "start_token": 414,
                                                                                                                    "end_token": 414,
                                                                                                                    "children": [],
                                                                                                                    "label": "f"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "interpolation",
                                                                                                                    "start_token": 414,
                                                                                                                    "end_token": 414,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 414,
                                                                                                                            "end_token": 414,
                                                                                                                            "children": [],
                                                                                                                            "label": "f"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "f"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "f"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(f\"Failed to generate image: {str(e)}\")"
                                                                                                }
                                                                                            ],
                                                                                            "label": "raise RuntimeError(f\"Failed to generate image: {str(e)}\")"
                                                                                        }
                                                                                    ],
                                                                                    "label": ":\n            raise RuntimeError(f\"Failed to generate image: {str(e)}\")"
                                                                                }
                                                                            ],
                                                                            "label": "except Exception as e:\n            raise RuntimeError(f\"Failed to generate image: {str(e)}\")"
                                                                        }
                                                                    ],
                                                                    "label": "\n            # Handle style-based prompt modification for models without native style support\n            modified_prompt = input_data.prompt\n            if input_data.model not in [ImageGenModel.RECRAFT]:\n                style_prefix = self._style_to_prompt_prefix(input_data.style)\n                modified_prompt = f\"{style_prefix} {modified_prompt}\".strip()\n\n            if input_data.model == ImageGenModel.SD3_5:\n                # Use Stable Diffusion 3.5 with aspect ratio\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }\n                output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX:\n                # Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX_ULTRA:\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.RECRAFT:\n                input_params = {\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }\n                output = self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n                )\n                return output\n"
                                                                }
                                                            ],
                                                            "label": "try:\n            # Handle style-based prompt modification for models without native style support\n            modified_prompt = input_data.prompt\n            if input_data.model not in [ImageGenModel.RECRAFT]:\n                style_prefix = self._style_to_prompt_prefix(input_data.style)\n                modified_prompt = f\"{style_prefix} {modified_prompt}\".strip()\n\n            if input_data.model == ImageGenModel.SD3_5:\n                # Use Stable Diffusion 3.5 with aspect ratio\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }\n                output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX:\n                # Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX_ULTRA:\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.RECRAFT:\n                input_params = {\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }\n                output = self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n                )\n                return output\n\n        except Exception as e:\n            raise RuntimeError(f\"Failed to generate image: {str(e)}\")"
                                                        }
                                                    ],
                                                    "label": "\n        try:\n            # Handle style-based prompt modification for models without native style support\n            modified_prompt = input_data.prompt\n            if input_data.model not in [ImageGenModel.RECRAFT]:\n                style_prefix = self._style_to_prompt_prefix(input_data.style)\n                modified_prompt = f\"{style_prefix} {modified_prompt}\".strip()\n\n            if input_data.model == ImageGenModel.SD3_5:\n                # Use Stable Diffusion 3.5 with aspect ratio\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }\n                output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX:\n                # Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX_ULTRA:\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.RECRAFT:\n                input_params = {\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }\n                output = self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n                )\n                return output\n\n        except Exception as e:\n            raise RuntimeError(f\"Failed to generate image: {str(e)}\")"
                                                }
                                            ],
                                            "label": "def generate_image(self, input_data: Input, credentials: APIKeyCredentials):\n        try:\n            # Handle style-based prompt modification for models without native style support\n            modified_prompt = input_data.prompt\n            if input_data.model not in [ImageGenModel.RECRAFT]:\n                style_prefix = self._style_to_prompt_prefix(input_data.style)\n                modified_prompt = f\"{style_prefix} {modified_prompt}\".strip()\n\n            if input_data.model == ImageGenModel.SD3_5:\n                # Use Stable Diffusion 3.5 with aspect ratio\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }\n                output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX:\n                # Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX_ULTRA:\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.RECRAFT:\n                input_params = {\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }\n                output = self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n                )\n                return output\n\n        except Exception as e:\n            raise RuntimeError(f\"Failed to generate image: {str(e)}\")"
                                        }
                                    ],
                                    "label": "def generate_image(self, input_data: Input, credentials: APIKeyCredentials):\n        try:\n            # Handle style-based prompt modification for models without native style support\n            modified_prompt = input_data.prompt\n            if input_data.model not in [ImageGenModel.RECRAFT]:\n                style_prefix = self._style_to_prompt_prefix(input_data.style)\n                modified_prompt = f\"{style_prefix} {modified_prompt}\".strip()\n\n            if input_data.model == ImageGenModel.SD3_5:\n                # Use Stable Diffusion 3.5 with aspect ratio\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"aspect_ratio\": SIZE_TO_SD_RATIO[input_data.size],\n                    \"output_format\": \"webp\",\n                    \"output_quality\": 90,\n                    \"steps\": 40,\n                    \"cfg_scale\": 7.0,\n                }\n                output = self._run_client(\n                    credentials,\n                    \"stability-ai/stable-diffusion-3.5-medium\",\n                    input_params,\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX:\n                # Use Flux-specific dimensions with 'jpg' format to avoid ReplicateError\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",  # Set to jpg for Flux models\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.FLUX_ULTRA:\n                width, height = SIZE_TO_FLUX_DIMENSIONS[input_data.size]\n                input_params = {\n                    \"prompt\": modified_prompt,\n                    \"width\": width,\n                    \"height\": height,\n                    \"aspect_ratio\": SIZE_TO_FLUX_RATIO[input_data.size],\n                    \"output_format\": \"jpg\",\n                    \"output_quality\": 90,\n                }\n                output = self._run_client(\n                    credentials, \"black-forest-labs/flux-1.1-pro-ultra\", input_params\n                )\n                return output\n\n            elif input_data.model == ImageGenModel.RECRAFT:\n                input_params = {\n                    \"prompt\": input_data.prompt,\n                    \"size\": SIZE_TO_RECRAFT_DIMENSIONS[input_data.size],\n                    \"style\": input_data.style.value,\n                }\n                output = self._run_client(\n                    credentials, \"recraft-ai/recraft-v3\", input_params\n                )\n                return output\n\n        except Exception as e:\n            raise RuntimeError(f\"Failed to generate image: {str(e)}\")"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "_style_to_prompt_prefix",
                            "start_line": 268,
                            "end_line": 297,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 181,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 181,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "_style_to_prompt_prefix"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 8,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 4,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "children": [],
                                                                    "label": "self"
                                                                }
                                                            ],
                                                            "label": "self,"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 5,
                                                            "end_token": 7,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "style"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 6,
                                                                    "end_token": 7,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "ImageStyle"
                                                                        }
                                                                    ],
                                                                    "label": ": ImageStyle"
                                                                }
                                                            ],
                                                            "label": "style: ImageStyle"
                                                        }
                                                    ],
                                                    "label": "(self, style: ImageStyle)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 10,
                                                    "end_token": 11,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 11,
                                                            "end_token": 11,
                                                            "children": [],
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "> str"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 13,
                                                    "end_token": 181,
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "start_token": 14,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "string_content",
                                                                    "start_token": 15,
                                                                    "end_token": 15,
                                                                    "children": [],
                                                                    "label": "\"\n        Convert a style enum to a prompt prefix for models without native style support.\n        \""
                                                                }
                                                            ],
                                                            "label": "\"\"\"\n        Convert a style enum to a prompt prefix for models without native style support.\n        \"\"\""
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 18,
                                                            "end_token": 28,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 19,
                                                                    "end_token": 24,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 19,
                                                                            "end_token": 19,
                                                                            "children": [],
                                                                            "label": "style"
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 22,
                                                                            "end_token": 24,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 22,
                                                                                    "end_token": 22,
                                                                                    "children": [],
                                                                                    "label": "ImageStyle"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 24,
                                                                                    "end_token": 24,
                                                                                    "children": [],
                                                                                    "label": "ANY"
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.ANY"
                                                                        }
                                                                    ],
                                                                    "label": "style == ImageStyle.ANY"
                                                                },
                                                                {
                                                                    "type": "return_statement",
                                                                    "start_token": 27,
                                                                    "end_token": 28,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 28,
                                                                            "end_token": 28,
                                                                            "children": [],
                                                                            "label": "\"\""
                                                                        }
                                                                    ],
                                                                    "label": "return \"\""
                                                                }
                                                            ],
                                                            "label": "if style == ImageStyle.ANY:\n            return \"\""
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 31,
                                                            "end_token": 161,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 31,
                                                                    "end_token": 31,
                                                                    "children": [],
                                                                    "label": "style_map"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 33,
                                                                    "end_token": 161,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 35,
                                                                            "end_token": 40,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 35,
                                                                                    "end_token": 37,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 35,
                                                                                            "end_token": 35,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 37,
                                                                                            "end_token": 37,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 39,
                                                                                    "end_token": 39,
                                                                                    "children": [],
                                                                                    "label": "\"photorealistic\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.REALISTIC: \"photorealistic\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 42,
                                                                            "end_token": 47,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 42,
                                                                                    "end_token": 44,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 42,
                                                                                            "end_token": 42,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 44,
                                                                                            "end_token": 44,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC_BW"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC_BW"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 46,
                                                                                    "end_token": 46,
                                                                                    "children": [],
                                                                                    "label": "\"black and white photograph\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.REALISTIC_BW: \"black and white photograph\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 49,
                                                                            "end_token": 54,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 49,
                                                                                    "end_token": 51,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 49,
                                                                                            "end_token": 49,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 51,
                                                                                            "end_token": 51,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC_HDR"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC_HDR"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 53,
                                                                                    "end_token": 53,
                                                                                    "children": [],
                                                                                    "label": "\"HDR photograph\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.REALISTIC_HDR: \"HDR photograph\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 56,
                                                                            "end_token": 61,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 56,
                                                                                    "end_token": 58,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 56,
                                                                                            "end_token": 56,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 58,
                                                                                            "end_token": 58,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC_NATURAL"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC_NATURAL"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 60,
                                                                                    "end_token": 60,
                                                                                    "children": [],
                                                                                    "label": "\"natural light photograph\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.REALISTIC_NATURAL: \"natural light photograph\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 63,
                                                                            "end_token": 68,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 63,
                                                                                    "end_token": 65,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 63,
                                                                                            "end_token": 63,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 65,
                                                                                            "end_token": 65,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC_STUDIO"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC_STUDIO"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 67,
                                                                                    "end_token": 67,
                                                                                    "children": [],
                                                                                    "label": "\"studio portrait photograph\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.REALISTIC_STUDIO: \"studio portrait photograph\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 70,
                                                                            "end_token": 75,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 70,
                                                                                    "end_token": 72,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 70,
                                                                                            "end_token": 70,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 72,
                                                                                            "end_token": 72,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC_ENTERPRISE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC_ENTERPRISE"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 74,
                                                                                    "end_token": 74,
                                                                                    "children": [],
                                                                                    "label": "\"enterprise photograph\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.REALISTIC_ENTERPRISE: \"enterprise photograph\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 77,
                                                                            "end_token": 82,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 77,
                                                                                    "end_token": 79,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 77,
                                                                                            "end_token": 77,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 79,
                                                                                            "end_token": 79,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC_HARD_FLASH"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC_HARD_FLASH"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 81,
                                                                                    "end_token": 81,
                                                                                    "children": [],
                                                                                    "label": "\"hard flash photograph\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.REALISTIC_HARD_FLASH: \"hard flash photograph\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 84,
                                                                            "end_token": 89,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 84,
                                                                                    "end_token": 86,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 84,
                                                                                            "end_token": 84,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 86,
                                                                                            "end_token": 86,
                                                                                            "children": [],
                                                                                            "label": "REALISTIC_MOTION_BLUR"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.REALISTIC_MOTION_BLUR"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 88,
                                                                                    "end_token": 88,
                                                                                    "children": [],
                                                                                    "label": "\"motion blur photograph\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.REALISTIC_MOTION_BLUR: \"motion blur photograph\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 91,
                                                                            "end_token": 96,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 91,
                                                                                    "end_token": 93,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 91,
                                                                                            "end_token": 91,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 93,
                                                                                            "end_token": 93,
                                                                                            "children": [],
                                                                                            "label": "DIGITAL_ART"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.DIGITAL_ART"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 95,
                                                                                    "end_token": 95,
                                                                                    "children": [],
                                                                                    "label": "\"digital art\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.DIGITAL_ART: \"digital art\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 98,
                                                                            "end_token": 103,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 98,
                                                                                    "end_token": 100,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 98,
                                                                                            "end_token": 98,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 100,
                                                                                            "end_token": 100,
                                                                                            "children": [],
                                                                                            "label": "PIXEL_ART"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.PIXEL_ART"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 102,
                                                                                    "end_token": 102,
                                                                                    "children": [],
                                                                                    "label": "\"pixel art\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.PIXEL_ART: \"pixel art\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 105,
                                                                            "end_token": 110,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 105,
                                                                                    "end_token": 107,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 105,
                                                                                            "end_token": 105,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 107,
                                                                                            "end_token": 107,
                                                                                            "children": [],
                                                                                            "label": "HAND_DRAWN"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.HAND_DRAWN"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 109,
                                                                                    "end_token": 109,
                                                                                    "children": [],
                                                                                    "label": "\"hand drawn illustration\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.HAND_DRAWN: \"hand drawn illustration\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 112,
                                                                            "end_token": 117,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 112,
                                                                                    "end_token": 114,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 112,
                                                                                            "end_token": 112,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 114,
                                                                                            "end_token": 114,
                                                                                            "children": [],
                                                                                            "label": "GRAIN"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.GRAIN"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 116,
                                                                                    "end_token": 116,
                                                                                    "children": [],
                                                                                    "label": "\"grainy digital illustration\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.GRAIN: \"grainy digital illustration\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 119,
                                                                            "end_token": 124,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 119,
                                                                                    "end_token": 121,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 119,
                                                                                            "end_token": 119,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 121,
                                                                                            "end_token": 121,
                                                                                            "children": [],
                                                                                            "label": "SKETCH"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.SKETCH"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 123,
                                                                                    "end_token": 123,
                                                                                    "children": [],
                                                                                    "label": "\"sketchy illustration\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.SKETCH: \"sketchy illustration\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 126,
                                                                            "end_token": 131,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 126,
                                                                                    "end_token": 128,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 126,
                                                                                            "end_token": 126,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 128,
                                                                                            "end_token": 128,
                                                                                            "children": [],
                                                                                            "label": "POSTER"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.POSTER"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 130,
                                                                                    "end_token": 130,
                                                                                    "children": [],
                                                                                    "label": "\"2D art poster\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.POSTER: \"2D art poster\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 133,
                                                                            "end_token": 138,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 133,
                                                                                    "end_token": 135,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 133,
                                                                                            "end_token": 133,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 135,
                                                                                            "end_token": 135,
                                                                                            "children": [],
                                                                                            "label": "POSTER_2"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.POSTER_2"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 137,
                                                                                    "end_token": 137,
                                                                                    "children": [],
                                                                                    "label": "\"alternate 2D art poster\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.POSTER_2: \"alternate 2D art poster\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 140,
                                                                            "end_token": 145,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 140,
                                                                                    "end_token": 142,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 140,
                                                                                            "end_token": 140,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 142,
                                                                                            "end_token": 142,
                                                                                            "children": [],
                                                                                            "label": "HANDMADE_3D"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.HANDMADE_3D"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 144,
                                                                                    "end_token": 144,
                                                                                    "children": [],
                                                                                    "label": "\"handmade 3D illustration\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.HANDMADE_3D: \"handmade 3D illustration\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 147,
                                                                            "end_token": 152,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 147,
                                                                                    "end_token": 149,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 147,
                                                                                            "end_token": 147,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 149,
                                                                                            "end_token": 149,
                                                                                            "children": [],
                                                                                            "label": "HAND_DRAWN_OUTLINE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.HAND_DRAWN_OUTLINE"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 151,
                                                                                    "end_token": 151,
                                                                                    "children": [],
                                                                                    "label": "\"hand drawn outline illustration\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.HAND_DRAWN_OUTLINE: \"hand drawn outline illustration\","
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 154,
                                                                            "end_token": 159,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 154,
                                                                                    "end_token": 156,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 154,
                                                                                            "end_token": 154,
                                                                                            "children": [],
                                                                                            "label": "ImageStyle"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 156,
                                                                                            "end_token": 156,
                                                                                            "children": [],
                                                                                            "label": "ENGRAVING_COLOR"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ImageStyle.ENGRAVING_COLOR"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 158,
                                                                                    "end_token": 158,
                                                                                    "children": [],
                                                                                    "label": "\"color engraving illustration\""
                                                                                }
                                                                            ],
                                                                            "label": "ImageStyle.ENGRAVING_COLOR: \"color engraving illustration\","
                                                                        }
                                                                    ],
                                                                    "label": "{\n            ImageStyle.REALISTIC: \"photorealistic\",\n            ImageStyle.REALISTIC_BW: \"black and white photograph\",\n            ImageStyle.REALISTIC_HDR: \"HDR photograph\",\n            ImageStyle.REALISTIC_NATURAL: \"natural light photograph\",\n            ImageStyle.REALISTIC_STUDIO: \"studio portrait photograph\",\n            ImageStyle.REALISTIC_ENTERPRISE: \"enterprise photograph\",\n            ImageStyle.REALISTIC_HARD_FLASH: \"hard flash photograph\",\n            ImageStyle.REALISTIC_MOTION_BLUR: \"motion blur photograph\",\n            ImageStyle.DIGITAL_ART: \"digital art\",\n            ImageStyle.PIXEL_ART: \"pixel art\",\n            ImageStyle.HAND_DRAWN: \"hand drawn illustration\",\n            ImageStyle.GRAIN: \"grainy digital illustration\",\n            ImageStyle.SKETCH: \"sketchy illustration\",\n            ImageStyle.POSTER: \"2D art poster\",\n            ImageStyle.POSTER_2: \"alternate 2D art poster\",\n            ImageStyle.HANDMADE_3D: \"handmade 3D illustration\",\n            ImageStyle.HAND_DRAWN_OUTLINE: \"hand drawn outline illustration\",\n            ImageStyle.ENGRAVING_COLOR: \"color engraving illustration\",\n        }"
                                                                }
                                                            ],
                                                            "label": "style_map = {\n            ImageStyle.REALISTIC: \"photorealistic\",\n            ImageStyle.REALISTIC_BW: \"black and white photograph\",\n            ImageStyle.REALISTIC_HDR: \"HDR photograph\",\n            ImageStyle.REALISTIC_NATURAL: \"natural light photograph\",\n            ImageStyle.REALISTIC_STUDIO: \"studio portrait photograph\",\n            ImageStyle.REALISTIC_ENTERPRISE: \"enterprise photograph\",\n            ImageStyle.REALISTIC_HARD_FLASH: \"hard flash photograph\",\n            ImageStyle.REALISTIC_MOTION_BLUR: \"motion blur photograph\",\n            ImageStyle.DIGITAL_ART: \"digital art\",\n            ImageStyle.PIXEL_ART: \"pixel art\",\n            ImageStyle.HAND_DRAWN: \"hand drawn illustration\",\n            ImageStyle.GRAIN: \"grainy digital illustration\",\n            ImageStyle.SKETCH: \"sketchy illustration\",\n            ImageStyle.POSTER: \"2D art poster\",\n            ImageStyle.POSTER_2: \"alternate 2D art poster\",\n            ImageStyle.HANDMADE_3D: \"handmade 3D illustration\",\n            ImageStyle.HAND_DRAWN_OUTLINE: \"hand drawn outline illustration\",\n            ImageStyle.ENGRAVING_COLOR: \"color engraving illustration\",\n        }"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 164,
                                                            "end_token": 173,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 164,
                                                                    "end_token": 164,
                                                                    "children": [],
                                                                    "label": "style_text"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 166,
                                                                    "end_token": 173,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 166,
                                                                            "end_token": 168,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 166,
                                                                                    "end_token": 166,
                                                                                    "children": [],
                                                                                    "label": "style_map"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 168,
                                                                                    "end_token": 168,
                                                                                    "children": [],
                                                                                    "label": "get"
                                                                                }
                                                                            ],
                                                                            "label": "style_map.get"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 169,
                                                                            "end_token": 173,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 170,
                                                                                    "end_token": 170,
                                                                                    "children": [],
                                                                                    "label": "style"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 172,
                                                                                    "end_token": 172,
                                                                                    "children": [],
                                                                                    "label": "\"\""
                                                                                }
                                                                            ],
                                                                            "label": "(style, \"\")"
                                                                        }
                                                                    ],
                                                                    "label": "style_map.get(style, \"\")"
                                                                }
                                                            ],
                                                            "label": "style_text = style_map.get(style, \"\")"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 175,
                                                            "end_token": 181,
                                                            "children": [
                                                                {
                                                                    "type": "conditional_expression",
                                                                    "start_token": 176,
                                                                    "end_token": 181,
                                                                    "children": [
                                                                        {
                                                                            "type": "interpolation",
                                                                            "start_token": 177,
                                                                            "end_token": 177,
                                                                            "children": [],
                                                                            "label": "\"{style_text} of\""
                                                                        },
                                                                        {
                                                                            "type": "boolean_operator",
                                                                            "start_token": 178,
                                                                            "end_token": 179,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 179,
                                                                                    "end_token": 179,
                                                                                    "children": [],
                                                                                    "label": "style_text"
                                                                                }
                                                                            ],
                                                                            "label": "if style_text"
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 181,
                                                                            "end_token": 181,
                                                                            "children": [],
                                                                            "label": "\"\""
                                                                        }
                                                                    ],
                                                                    "label": "f\"{style_text} of\" if style_text else \"\""
                                                                }
                                                            ],
                                                            "label": "return f\"{style_text} of\" if style_text else \"\""
                                                        }
                                                    ],
                                                    "label": "\n        \"\"\"\n        Convert a style enum to a prompt prefix for models without native style support.\n        \"\"\"\n        if style == ImageStyle.ANY:\n            return \"\"\n\n        style_map = {\n            ImageStyle.REALISTIC: \"photorealistic\",\n            ImageStyle.REALISTIC_BW: \"black and white photograph\",\n            ImageStyle.REALISTIC_HDR: \"HDR photograph\",\n            ImageStyle.REALISTIC_NATURAL: \"natural light photograph\",\n            ImageStyle.REALISTIC_STUDIO: \"studio portrait photograph\",\n            ImageStyle.REALISTIC_ENTERPRISE: \"enterprise photograph\",\n            ImageStyle.REALISTIC_HARD_FLASH: \"hard flash photograph\",\n            ImageStyle.REALISTIC_MOTION_BLUR: \"motion blur photograph\",\n            ImageStyle.DIGITAL_ART: \"digital art\",\n            ImageStyle.PIXEL_ART: \"pixel art\",\n            ImageStyle.HAND_DRAWN: \"hand drawn illustration\",\n            ImageStyle.GRAIN: \"grainy digital illustration\",\n            ImageStyle.SKETCH: \"sketchy illustration\",\n            ImageStyle.POSTER: \"2D art poster\",\n            ImageStyle.POSTER_2: \"alternate 2D art poster\",\n            ImageStyle.HANDMADE_3D: \"handmade 3D illustration\",\n            ImageStyle.HAND_DRAWN_OUTLINE: \"hand drawn outline illustration\",\n            ImageStyle.ENGRAVING_COLOR: \"color engraving illustration\",\n        }\n\n        style_text = style_map.get(style, \"\")\n        return f\"{style_text} of\" if style_text else \"\""
                                                }
                                            ],
                                            "label": "def _style_to_prompt_prefix(self, style: ImageStyle) -> str:\n        \"\"\"\n        Convert a style enum to a prompt prefix for models without native style support.\n        \"\"\"\n        if style == ImageStyle.ANY:\n            return \"\"\n\n        style_map = {\n            ImageStyle.REALISTIC: \"photorealistic\",\n            ImageStyle.REALISTIC_BW: \"black and white photograph\",\n            ImageStyle.REALISTIC_HDR: \"HDR photograph\",\n            ImageStyle.REALISTIC_NATURAL: \"natural light photograph\",\n            ImageStyle.REALISTIC_STUDIO: \"studio portrait photograph\",\n            ImageStyle.REALISTIC_ENTERPRISE: \"enterprise photograph\",\n            ImageStyle.REALISTIC_HARD_FLASH: \"hard flash photograph\",\n            ImageStyle.REALISTIC_MOTION_BLUR: \"motion blur photograph\",\n            ImageStyle.DIGITAL_ART: \"digital art\",\n            ImageStyle.PIXEL_ART: \"pixel art\",\n            ImageStyle.HAND_DRAWN: \"hand drawn illustration\",\n            ImageStyle.GRAIN: \"grainy digital illustration\",\n            ImageStyle.SKETCH: \"sketchy illustration\",\n            ImageStyle.POSTER: \"2D art poster\",\n            ImageStyle.POSTER_2: \"alternate 2D art poster\",\n            ImageStyle.HANDMADE_3D: \"handmade 3D illustration\",\n            ImageStyle.HAND_DRAWN_OUTLINE: \"hand drawn outline illustration\",\n            ImageStyle.ENGRAVING_COLOR: \"color engraving illustration\",\n        }\n\n        style_text = style_map.get(style, \"\")\n        return f\"{style_text} of\" if style_text else \"\""
                                        }
                                    ],
                                    "label": "def _style_to_prompt_prefix(self, style: ImageStyle) -> str:\n        \"\"\"\n        Convert a style enum to a prompt prefix for models without native style support.\n        \"\"\"\n        if style == ImageStyle.ANY:\n            return \"\"\n\n        style_map = {\n            ImageStyle.REALISTIC: \"photorealistic\",\n            ImageStyle.REALISTIC_BW: \"black and white photograph\",\n            ImageStyle.REALISTIC_HDR: \"HDR photograph\",\n            ImageStyle.REALISTIC_NATURAL: \"natural light photograph\",\n            ImageStyle.REALISTIC_STUDIO: \"studio portrait photograph\",\n            ImageStyle.REALISTIC_ENTERPRISE: \"enterprise photograph\",\n            ImageStyle.REALISTIC_HARD_FLASH: \"hard flash photograph\",\n            ImageStyle.REALISTIC_MOTION_BLUR: \"motion blur photograph\",\n            ImageStyle.DIGITAL_ART: \"digital art\",\n            ImageStyle.PIXEL_ART: \"pixel art\",\n            ImageStyle.HAND_DRAWN: \"hand drawn illustration\",\n            ImageStyle.GRAIN: \"grainy digital illustration\",\n            ImageStyle.SKETCH: \"sketchy illustration\",\n            ImageStyle.POSTER: \"2D art poster\",\n            ImageStyle.POSTER_2: \"alternate 2D art poster\",\n            ImageStyle.HANDMADE_3D: \"handmade 3D illustration\",\n            ImageStyle.HAND_DRAWN_OUTLINE: \"hand drawn outline illustration\",\n            ImageStyle.ENGRAVING_COLOR: \"color engraving illustration\",\n        }\n\n        style_text = style_map.get(style, \"\")\n        return f\"{style_text} of\" if style_text else \"\""
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "run",
                            "start_line": 299,
                            "end_line": 308,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 83,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 83,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "run"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 18,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 7,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 6,
                                                                    "end_token": 7,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "label": "Input"
                                                                        }
                                                                    ],
                                                                    "label": ": Input"
                                                                }
                                                            ],
                                                            "label": "self, input_data: Input"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 11,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 13,
                                                                    "end_token": 13,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 13,
                                                                            "end_token": 13,
                                                                            "label": "APIKeyCredentials"
                                                                        }
                                                                    ],
                                                                    "label": "APIKeyCredentials"
                                                                }
                                                            ],
                                                            "label": "credentials: APIKeyCredentials"
                                                        },
                                                        {
                                                            "type": "list_splat",
                                                            "start_token": 15,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 17,
                                                                    "end_token": 17,
                                                                    "label": "kwargs"
                                                                }
                                                            ],
                                                            "label": "**kwargs"
                                                        }
                                                    ],
                                                    "label": "(self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 20,
                                                    "end_token": 83,
                                                    "children": [
                                                        {
                                                            "type": "try_statement",
                                                            "start_token": 21,
                                                            "end_token": 83,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 23,
                                                                    "end_token": 51,
                                                                    "children": [
                                                                        {
                                                                            "type": "assignment",
                                                                            "start_token": 24,
                                                                            "end_token": 33,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 24,
                                                                                    "end_token": 24,
                                                                                    "label": "url"
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 26,
                                                                                    "end_token": 33,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 26,
                                                                                            "end_token": 28,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 26,
                                                                                                    "end_token": 26,
                                                                                                    "label": "self"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 28,
                                                                                                    "end_token": 28,
                                                                                                    "label": "generate_image"
                                                                                                }
                                                                                            ],
                                                                                            "label": "self.generate_image"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 29,
                                                                                            "end_token": 33,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 30,
                                                                                                    "end_token": 30,
                                                                                                    "label": "input_data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 32,
                                                                                                    "end_token": 32,
                                                                                                    "label": "credentials"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(input_data, credentials)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.generate_image(input_data, credentials)"
                                                                                }
                                                                            ],
                                                                            "label": "url = self.generate_image(input_data, credentials)"
                                                                        },
                                                                        {
                                                                            "type": "if_statement",
                                                                            "start_token": 35,
                                                                            "end_token": 51,
                                                                            "children": [
                                                                                {
                                                                                    "type": "if_clause",
                                                                                    "start_token": 35,
                                                                                    "end_token": 37,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 36,
                                                                                            "end_token": 36,
                                                                                            "label": "url"
                                                                                        }
                                                                                    ],
                                                                                    "label": "if url:"
                                                                                },
                                                                                {
                                                                                    "type": "block",
                                                                                    "start_token": 38,
                                                                                    "end_token": 43,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "yield",
                                                                                            "start_token": 39,
                                                                                            "end_token": 42,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 40,
                                                                                                    "end_token": 40,
                                                                                                    "label": "\"image_url\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "label": "url"
                                                                                                }
                                                                                            ],
                                                                                            "label": "yield \"image_url\", url"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\n                yield \"image_url\", url\n"
                                                                                },
                                                                                {
                                                                                    "type": "else_clause",
                                                                                    "start_token": 44,
                                                                                    "end_token": 51,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "block",
                                                                                            "start_token": 46,
                                                                                            "end_token": 51,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "yield",
                                                                                                    "start_token": 47,
                                                                                                    "end_token": 50,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 48,
                                                                                                            "end_token": 48,
                                                                                                            "label": "\"error\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string",
                                                                                                            "start_token": 50,
                                                                                                            "end_token": 50,
                                                                                                            "label": "\"Image generation returned an empty result.\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "yield \"error\", \"Image generation returned an empty result.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n                yield \"error\", \"Image generation returned an empty result.\"\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "else:\n                yield \"error\", \"Image generation returned an empty result.\"\n"
                                                                                }
                                                                            ],
                                                                            "label": "if url:\n                yield \"image_url\", url\n            else:\n                yield \"error\", \"Image generation returned an empty result.\"\n"
                                                                        }
                                                                    ],
                                                                    "label": "\n            url = self.generate_image(input_data, credentials)\n            if url:\n                yield \"image_url\", url\n            else:\n                yield \"error\", \"Image generation returned an empty result.\"\n"
                                                                },
                                                                {
                                                                    "type": "except_clause",
                                                                    "start_token": 52,
                                                                    "end_token": 83,
                                                                    "children": [
                                                                        {
                                                                            "type": "as_pattern",
                                                                            "start_token": 53,
                                                                            "end_token": 55,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 53,
                                                                                    "end_token": 53,
                                                                                    "label": "Exception"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 55,
                                                                                    "end_token": 55,
                                                                                    "label": "e"
                                                                                }
                                                                            ],
                                                                            "label": "Exception as e"
                                                                        },
                                                                        {
                                                                            "type": "comment",
                                                                            "start_token": 58,
                                                                            "end_token": 75,
                                                                            "label": "# Capture and return only the message of the exception, avoiding serialization of non-serializable objects"
                                                                        },
                                                                        {
                                                                            "type": "block",
                                                                            "start_token": 77,
                                                                            "end_token": 83,
                                                                            "children": [
                                                                                {
                                                                                    "type": "yield",
                                                                                    "start_token": 77,
                                                                                    "end_token": 83,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 78,
                                                                                            "end_token": 78,
                                                                                            "label": "\"error\""
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 80,
                                                                                            "end_token": 83,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 80,
                                                                                                    "end_token": 80,
                                                                                                    "label": "str"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 81,
                                                                                                    "end_token": 83,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 82,
                                                                                                            "end_token": 82,
                                                                                                            "label": "e"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(e)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "str(e)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "yield \"error\", str(e)"
                                                                                }
                                                                            ],
                                                                            "label": "yield \"error\", str(e)"
                                                                        }
                                                                    ],
                                                                    "label": "except Exception as e:\n            # Capture and return only the message of the exception, avoiding serialization of non-serializable objects\n            yield \"error\", str(e)"
                                                                }
                                                            ],
                                                            "label": "try:\n            url = self.generate_image(input_data, credentials)\n            if url:\n                yield \"image_url\", url\n            else:\n                yield \"error\", \"Image generation returned an empty result.\"\n        except Exception as e:\n            # Capture and return only the message of the exception, avoiding serialization of non-serializable objects\n            yield \"error\", str(e)"
                                                        }
                                                    ],
                                                    "label": "\n        try:\n            url = self.generate_image(input_data, credentials)\n            if url:\n                yield \"image_url\", url\n            else:\n                yield \"error\", \"Image generation returned an empty result.\"\n        except Exception as e:\n            # Capture and return only the message of the exception, avoiding serialization of non-serializable objects\n            yield \"error\", str(e)"
                                                }
                                            ],
                                            "label": "def run(self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs):\n        try:\n            url = self.generate_image(input_data, credentials)\n            if url:\n                yield \"image_url\", url\n            else:\n                yield \"error\", \"Image generation returned an empty result.\"\n        except Exception as e:\n            # Capture and return only the message of the exception, avoiding serialization of non-serializable objects\n            yield \"error\", str(e)"
                                        }
                                    ],
                                    "label": "def run(self, input_data: Input, *, credentials: APIKeyCredentials, **kwargs):\n        try:\n            url = self.generate_image(input_data, credentials)\n            if url:\n                yield \"image_url\", url\n            else:\n                yield \"error\", \"Image generation returned an empty result.\"\n        except Exception as e:\n            # Capture and return only the message of the exception, avoiding serialization of non-serializable objects\n            yield \"error\", str(e)"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Input",
                            "start_line": 104,
                            "end_line": 136,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 150,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 150,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "Input"
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 5,
                                                    "end_token": 150,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 34,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 7,
                                                                    "end_token": 7,
                                                                    "label": "credentials"
                                                                },
                                                                {
                                                                    "type": "generic_type",
                                                                    "start_token": 9,
                                                                    "end_token": 24,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "label": "CredentialsMetaInput"
                                                                        },
                                                                        {
                                                                            "type": "list",
                                                                            "start_token": 10,
                                                                            "end_token": 24,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 12,
                                                                                    "end_token": 17,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 14,
                                                                                            "end_token": 14,
                                                                                            "label": "ProviderName"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 16,
                                                                                            "end_token": 16,
                                                                                            "label": "REPLICATE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "Literal[ProviderName.REPLICATE]"
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 19,
                                                                                    "end_token": 22,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 21,
                                                                                            "end_token": 21,
                                                                                            "label": "\"api_key\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "Literal[\"api_key\"]"
                                                                                }
                                                                            ],
                                                                            "label": "[\n            Literal[ProviderName.REPLICATE], Literal[\"api_key\"]\n        ]"
                                                                        }
                                                                    ],
                                                                    "label": "CredentialsMetaInput[\n            Literal[ProviderName.REPLICATE], Literal[\"api_key\"]\n        ]"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 26,
                                                                    "end_token": 34,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 26,
                                                                            "end_token": 26,
                                                                            "label": "CredentialsField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 27,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 29,
                                                                                    "end_token": 32,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 29,
                                                                                            "end_token": 29,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 31,
                                                                                            "end_token": 31,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 31,
                                                                                                    "end_token": 31,
                                                                                                    "label": "\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\","
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "CredentialsField(\n            description=\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\",\n        )"
                                                                }
                                                            ],
                                                            "label": "credentials: CredentialsMetaInput[\n            Literal[ProviderName.REPLICATE], Literal[\"api_key\"]\n        ] = CredentialsField(\n            description=\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 36,
                                                            "end_token": 58,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 36,
                                                                    "end_token": 36,
                                                                    "label": "prompt"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 38,
                                                                    "end_token": 38,
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 40,
                                                                    "end_token": 58,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 40,
                                                                            "end_token": 40,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 41,
                                                                            "end_token": 58,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 43,
                                                                                    "end_token": 45,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 43,
                                                                                            "end_token": 43,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 45,
                                                                                            "end_token": 45,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 45,
                                                                                                    "end_token": 45,
                                                                                                    "label": "\"Text prompt for image generation\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Text prompt for image generation\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Text prompt for image generation\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 48,
                                                                                    "end_token": 50,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 48,
                                                                                            "end_token": 48,
                                                                                            "label": "placeholder"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 50,
                                                                                            "end_token": 50,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 50,
                                                                                                    "end_token": 50,
                                                                                                    "label": "\"e.g., 'A red panda using a laptop in a snowy forest'\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"e.g., 'A red panda using a laptop in a snowy forest'\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "placeholder=\"e.g., 'A red panda using a laptop in a snowy forest'\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 53,
                                                                                    "end_token": 55,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 53,
                                                                                            "end_token": 53,
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 55,
                                                                                            "end_token": 55,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 55,
                                                                                                    "end_token": 55,
                                                                                                    "label": "\"Prompt\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Prompt\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Prompt\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"Text prompt for image generation\",\n            placeholder=\"e.g., 'A red panda using a laptop in a snowy forest'\",\n            title=\"Prompt\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"Text prompt for image generation\",\n            placeholder=\"e.g., 'A red panda using a laptop in a snowy forest'\",\n            title=\"Prompt\",\n        )"
                                                                }
                                                            ],
                                                            "label": "prompt: str = SchemaField(\n            description=\"Text prompt for image generation\",\n            placeholder=\"e.g., 'A red panda using a laptop in a snowy forest'\",\n            title=\"Prompt\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 60,
                                                            "end_token": 84,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 60,
                                                                    "end_token": 60,
                                                                    "label": "model"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 62,
                                                                    "end_token": 62,
                                                                    "label": "ImageGenModel"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 64,
                                                                    "end_token": 84,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 64,
                                                                            "end_token": 64,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 65,
                                                                            "end_token": 84,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 67,
                                                                                    "end_token": 69,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 67,
                                                                                            "end_token": 67,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 69,
                                                                                            "end_token": 69,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 69,
                                                                                                    "end_token": 69,
                                                                                                    "label": "\"The AI model to use for image generation\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"The AI model to use for image generation\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"The AI model to use for image generation\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 72,
                                                                                    "end_token": 77,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 72,
                                                                                            "end_token": 72,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 74,
                                                                                            "end_token": 76,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 74,
                                                                                                    "end_token": 74,
                                                                                                    "label": "ImageGenModel"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 76,
                                                                                                    "end_token": 76,
                                                                                                    "label": "SD3_5"
                                                                                                }
                                                                                            ],
                                                                                            "label": "ImageGenModel.SD3_5"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=ImageGenModel.SD3_5,"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 79,
                                                                                    "end_token": 81,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 79,
                                                                                            "end_token": 79,
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 81,
                                                                                            "end_token": 81,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 81,
                                                                                                    "end_token": 81,
                                                                                                    "label": "\"Model\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Model\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Model\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"The AI model to use for image generation\",\n            default=ImageGenModel.SD3_5,\n            title=\"Model\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"The AI model to use for image generation\",\n            default=ImageGenModel.SD3_5,\n            title=\"Model\",\n        )"
                                                                }
                                                            ],
                                                            "label": "model: ImageGenModel = SchemaField(\n            description=\"The AI model to use for image generation\",\n            default=ImageGenModel.SD3_5,\n            title=\"Model\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 86,
                                                            "end_token": 124,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 86,
                                                                    "end_token": 86,
                                                                    "label": "size"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 88,
                                                                    "end_token": 88,
                                                                    "label": "ImageSize"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 90,
                                                                    "end_token": 124,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 90,
                                                                            "end_token": 90,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 91,
                                                                            "end_token": 124,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 93,
                                                                                    "end_token": 109,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 93,
                                                                                            "end_token": 93,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 95,
                                                                                            "end_token": 109,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 97,
                                                                                                    "end_token": 108,
                                                                                                    "label": "\"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(\n                \"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n            )"
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=(\n                \"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n            )"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 112,
                                                                                    "end_token": 116,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 112,
                                                                                            "end_token": 112,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 114,
                                                                                            "end_token": 116,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 114,
                                                                                                    "end_token": 114,
                                                                                                    "label": "ImageSize"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 116,
                                                                                                    "end_token": 116,
                                                                                                    "label": "SQUARE"
                                                                                                }
                                                                                            ],
                                                                                            "label": "ImageSize.SQUARE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=ImageSize.SQUARE"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 119,
                                                                                    "end_token": 121,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 119,
                                                                                            "end_token": 119,
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 121,
                                                                                            "end_token": 121,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 121,
                                                                                                    "end_token": 121,
                                                                                                    "label": "\"Image Format\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Image Format\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Image Format\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=(\n                \"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n            ),\n            default=ImageSize.SQUARE,\n            title=\"Image Format\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=(\n                \"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n            ),\n            default=ImageSize.SQUARE,\n            title=\"Image Format\",\n        )"
                                                                }
                                                            ],
                                                            "label": "size: ImageSize = SchemaField(\n            description=(\n                \"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n            ),\n            default=ImageSize.SQUARE,\n            title=\"Image Format\",\n        )"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 126,
                                                            "end_token": 150,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 126,
                                                                    "end_token": 126,
                                                                    "label": "style"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 128,
                                                                    "end_token": 128,
                                                                    "label": "ImageStyle"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 130,
                                                                    "end_token": 150,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 130,
                                                                            "end_token": 130,
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 131,
                                                                            "end_token": 150,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 133,
                                                                                    "end_token": 135,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 133,
                                                                                            "end_token": 133,
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 135,
                                                                                            "end_token": 135,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 135,
                                                                                                    "end_token": 135,
                                                                                                    "label": "\"Visual style for the generated image\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Visual style for the generated image\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Visual style for the generated image\""
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 138,
                                                                                    "end_token": 142,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 138,
                                                                                            "end_token": 138,
                                                                                            "label": "default"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 140,
                                                                                            "end_token": 142,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 140,
                                                                                                    "end_token": 140,
                                                                                                    "label": "ImageStyle"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 142,
                                                                                                    "end_token": 142,
                                                                                                    "label": "ANY"
                                                                                                }
                                                                                            ],
                                                                                            "label": "ImageStyle.ANY"
                                                                                        }
                                                                                    ],
                                                                                    "label": "default=ImageStyle.ANY"
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 145,
                                                                                    "end_token": 147,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 145,
                                                                                            "end_token": 145,
                                                                                            "label": "title"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 147,
                                                                                            "end_token": 147,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string_content",
                                                                                                    "start_token": 147,
                                                                                                    "end_token": 147,
                                                                                                    "label": "\"Image Style\""
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Image Style\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "title=\"Image Style\""
                                                                                }
                                                                            ],
                                                                            "label": "(\n            description=\"Visual style for the generated image\",\n            default=ImageStyle.ANY,\n            title=\"Image Style\",\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(\n            description=\"Visual style for the generated image\",\n            default=ImageStyle.ANY,\n            title=\"Image Style\",\n        )"
                                                                }
                                                            ],
                                                            "label": "style: ImageStyle = SchemaField(\n            description=\"Visual style for the generated image\",\n            default=ImageStyle.ANY,\n            title=\"Image Style\",\n        )"
                                                        }
                                                    ],
                                                    "label": ":\n        credentials: CredentialsMetaInput[\n            Literal[ProviderName.REPLICATE], Literal[\"api_key\"]\n        ] = CredentialsField(\n            description=\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\",\n        )\n        prompt: str = SchemaField(\n            description=\"Text prompt for image generation\",\n            placeholder=\"e.g., 'A red panda using a laptop in a snowy forest'\",\n            title=\"Prompt\",\n        )\n        model: ImageGenModel = SchemaField(\n            description=\"The AI model to use for image generation\",\n            default=ImageGenModel.SD3_5,\n            title=\"Model\",\n        )\n        size: ImageSize = SchemaField(\n            description=(\n                \"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n            ),\n            default=ImageSize.SQUARE,\n            title=\"Image Format\",\n        )\n        style: ImageStyle = SchemaField(\n            description=\"Visual style for the generated image\",\n            default=ImageStyle.ANY,\n            title=\"Image Style\",\n        )"
                                                }
                                            ],
                                            "label": "class Input(BlockSchema):\n        credentials: CredentialsMetaInput[\n            Literal[ProviderName.REPLICATE], Literal[\"api_key\"]\n        ] = CredentialsField(\n            description=\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\",\n        )\n        prompt: str = SchemaField(\n            description=\"Text prompt for image generation\",\n            placeholder=\"e.g., 'A red panda using a laptop in a snowy forest'\",\n            title=\"Prompt\",\n        )\n        model: ImageGenModel = SchemaField(\n            description=\"The AI model to use for image generation\",\n            default=ImageGenModel.SD3_5,\n            title=\"Model\",\n        )\n        size: ImageSize = SchemaField(\n            description=(\n                \"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n            ),\n            default=ImageSize.SQUARE,\n            title=\"Image Format\",\n        )\n        style: ImageStyle = SchemaField(\n            description=\"Visual style for the generated image\",\n            default=ImageStyle.ANY,\n            title=\"Image Style\",\n        )"
                                        }
                                    ],
                                    "label": "class Input(BlockSchema):\n        credentials: CredentialsMetaInput[\n            Literal[ProviderName.REPLICATE], Literal[\"api_key\"]\n        ] = CredentialsField(\n            description=\"Enter your Replicate API key to access the image generation API. You can obtain an API key from https://replicate.com/account/api-tokens.\",\n        )\n        prompt: str = SchemaField(\n            description=\"Text prompt for image generation\",\n            placeholder=\"e.g., 'A red panda using a laptop in a snowy forest'\",\n            title=\"Prompt\",\n        )\n        model: ImageGenModel = SchemaField(\n            description=\"The AI model to use for image generation\",\n            default=ImageGenModel.SD3_5,\n            title=\"Model\",\n        )\n        size: ImageSize = SchemaField(\n            description=(\n                \"Format of the generated image:\\n\"\n                \"- Square: Perfect for profile pictures, icons\\n\"\n                \"- Landscape: Traditional photo format\\n\"\n                \"- Portrait: Vertical photos, portraits\\n\"\n                \"- Wide: Cinematic format, desktop wallpapers\\n\"\n                \"- Tall: Mobile wallpapers, social media stories\"\n            ),\n            default=ImageSize.SQUARE,\n            title=\"Image Format\",\n        )\n        style: ImageStyle = SchemaField(\n            description=\"Visual style for the generated image\",\n            default=ImageStyle.ANY,\n            title=\"Image Style\",\n        )"
                                }
                            ]
                        },
                        {
                            "type": "class_placeholder",
                            "name": "Output",
                            "start_line": 138,
                            "end_line": 140,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 28,
                                    "children": [
                                        {
                                            "type": "class_definition",
                                            "start_token": 0,
                                            "end_token": 27,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "Output"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "BlockSchema"
                                                        }
                                                    ],
                                                    "label": "(BlockSchema)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 6,
                                                    "end_token": 27,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "typed_parameter",
                                                                    "start_token": 7,
                                                                    "end_token": 9,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "children": [],
                                                                            "label": "image_url"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "image_url: str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 16,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 12,
                                                                            "end_token": 16,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 13,
                                                                                    "end_token": 15,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 13,
                                                                                            "end_token": 13,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 15,
                                                                                            "end_token": 15,
                                                                                            "children": [],
                                                                                            "label": "\"URL of the generated image\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"URL of the generated image\""
                                                                                }
                                                                            ],
                                                                            "label": "(description=\"URL of the generated image\")"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(description=\"URL of the generated image\")"
                                                                }
                                                            ],
                                                            "label": "image_url: str = SchemaField(description=\"URL of the generated image\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 18,
                                                            "end_token": 27,
                                                            "children": [
                                                                {
                                                                    "type": "typed_parameter",
                                                                    "start_token": 18,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 18,
                                                                            "end_token": 18,
                                                                            "children": [],
                                                                            "label": "error"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "error: str"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 22,
                                                                    "end_token": 27,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 22,
                                                                            "end_token": 22,
                                                                            "children": [],
                                                                            "label": "SchemaField"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 23,
                                                                            "end_token": 27,
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "start_token": 24,
                                                                                    "end_token": 26,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 24,
                                                                                            "end_token": 24,
                                                                                            "children": [],
                                                                                            "label": "description"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 26,
                                                                                            "end_token": 26,
                                                                                            "children": [],
                                                                                            "label": "\"Error message if generation failed\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "description=\"Error message if generation failed\""
                                                                                }
                                                                            ],
                                                                            "label": "(description=\"Error message if generation failed\")"
                                                                        }
                                                                    ],
                                                                    "label": "SchemaField(description=\"Error message if generation failed\")"
                                                                }
                                                            ],
                                                            "label": "error: str = SchemaField(description=\"Error message if generation failed\")"
                                                        }
                                                    ],
                                                    "label": "\n        image_url: str = SchemaField(description=\"URL of the generated image\")\n        error: str = SchemaField(description=\"Error message if generation failed\")"
                                                }
                                            ],
                                            "label": "class Output(BlockSchema):\n        image_url: str = SchemaField(description=\"URL of the generated image\")\n        error: str = SchemaField(description=\"Error message if generation failed\")"
                                        }
                                    ],
                                    "label": "class Output(BlockSchema):\n        image_url: str = SchemaField(description=\"URL of the generated image\")\n        error: str = SchemaField(description=\"Error message if generation failed\")\n"
                                }
                            ]
                        }
                    ],
                    "label": "class AIImageGeneratorBlock(Block):"
                }
            ]
        }
    ],
    "label": "from enum import Enum\nfrom typing import Literal\n\nimport replicate\nfrom pydantic import SecretStr\nfrom replicate.helpers import FileOutput\n\nfrom backend.data.block import Block, BlockCategory, BlockSchema\nfrom backend.data.model import (\n    APIKeyCredentials,\n    CredentialsField,\n    CredentialsMetaInput,\n    SchemaField,\n)\nfrom backend.integrations.providers import ProviderName\n\n\n\n\n# Mapping semantic sizes to model-specific formats\nSIZE_TO_SD_RATIO = {\n    ImageSize.SQUARE: \"1:1\",\n    ImageSize.LANDSCAPE: \"4:3\",\n    ImageSize.PORTRAIT: \"3:4\",\n    ImageSize.WIDE: \"16:9\",\n    ImageSize.TALL: \"9:16\",\n}\n\nSIZE_TO_FLUX_RATIO = {\n    ImageSize.SQUARE: \"1:1\",\n    ImageSize.LANDSCAPE: \"4:3\",\n    ImageSize.PORTRAIT: \"3:4\",\n    ImageSize.WIDE: \"16:9\",\n    ImageSize.TALL: \"9:16\",\n}\n\nSIZE_TO_FLUX_DIMENSIONS = {\n    ImageSize.SQUARE: (1024, 1024),\n    ImageSize.LANDSCAPE: (1365, 1024),\n    ImageSize.PORTRAIT: (1024, 1365),\n    ImageSize.WIDE: (1440, 810),  # Adjusted to maintain 16:9 within 1440 limit\n    ImageSize.TALL: (810, 1440),  # Adjusted to maintain 9:16 within 1440 limit\n}\n\nSIZE_TO_RECRAFT_DIMENSIONS = {\n    ImageSize.SQUARE: \"1024x1024\",\n    ImageSize.LANDSCAPE: \"1365x1024\",\n    ImageSize.PORTRAIT: \"1024x1365\",\n    ImageSize.WIDE: \"1536x1024\",\n    ImageSize.TALL: \"1024x1536\",\n}\n\n\n\n\n\n\n\n\n# Test credentials stay the same\nTEST_CREDENTIALS = APIKeyCredentials(\n    id=\"01234567-89ab-cdef-0123-456789abcdef\",\n    provider=\"replicate\",\n    api_key=SecretStr(\"mock-replicate-api-key\"),\n    title=\"Mock Replicate API key\",\n    expires_at=None,\n)\n\nTEST_CREDENTIALS_INPUT = {\n    \"provider\": TEST_CREDENTIALS.provider,\n    \"id\": TEST_CREDENTIALS.id,\n    \"type\": TEST_CREDENTIALS.type,\n    \"title\": TEST_CREDENTIALS.title,\n}\n"
}