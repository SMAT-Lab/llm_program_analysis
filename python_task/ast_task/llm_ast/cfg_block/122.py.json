{
    "type": "module",
    "start_token": 0,
    "end_token": 283,
    "children": [
        {
            "type": "import_from_statement",
            "start_token": 0,
            "end_token": 3,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 1,
                    "end_token": 1,
                    "label": "collections"
                },
                {
                    "type": "identifier",
                    "start_token": 3,
                    "end_token": 3,
                    "label": "defaultdict"
                }
            ],
            "label": "from collections import defaultdict"
        },
        {
            "type": "import_from_statement",
            "start_token": 5,
            "end_token": 10,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 6,
                    "end_token": 6,
                    "label": "datetime"
                },
                {
                    "type": "identifier",
                    "start_token": 8,
                    "end_token": 8,
                    "label": "datetime"
                },
                {
                    "type": "identifier",
                    "start_token": 10,
                    "end_token": 10,
                    "label": "timezone"
                }
            ],
            "label": "from datetime import datetime, timezone"
        },
        {
            "type": "import_from_statement",
            "start_token": 12,
            "end_token": 15,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 13,
                    "end_token": 13,
                    "label": "multiprocessing"
                },
                {
                    "type": "identifier",
                    "start_token": 15,
                    "end_token": 15,
                    "label": "Manager"
                }
            ],
            "label": "from multiprocessing import Manager"
        },
        {
            "type": "import_from_statement",
            "start_token": 17,
            "end_token": 28,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 18,
                    "end_token": 18,
                    "label": "typing"
                },
                {
                    "type": "identifier",
                    "start_token": 20,
                    "end_token": 20,
                    "label": "Any"
                },
                {
                    "type": "identifier",
                    "start_token": 22,
                    "end_token": 22,
                    "label": "AsyncGenerator"
                },
                {
                    "type": "identifier",
                    "start_token": 24,
                    "end_token": 24,
                    "label": "Generator"
                },
                {
                    "type": "identifier",
                    "start_token": 26,
                    "end_token": 26,
                    "label": "Generic"
                },
                {
                    "type": "identifier",
                    "start_token": 28,
                    "end_token": 28,
                    "label": "TypeVar"
                }
            ],
            "label": "from typing import Any, AsyncGenerator, Generator, Generic, TypeVar"
        },
        {
            "type": "import_from_statement",
            "start_token": 31,
            "end_token": 36,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 32,
                    "end_token": 34,
                    "label": "prisma.enums"
                },
                {
                    "type": "identifier",
                    "start_token": 36,
                    "end_token": 36,
                    "label": "AgentExecutionStatus"
                }
            ],
            "label": "from prisma.enums import AgentExecutionStatus"
        },
        {
            "type": "import_from_statement",
            "start_token": 38,
            "end_token": 54,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 39,
                    "end_token": 41,
                    "label": "prisma.models"
                },
                {
                    "type": "expression_list",
                    "start_token": 43,
                    "end_token": 54,
                    "children": [
                        {
                            "type": "identifier",
                            "start_token": 45,
                            "end_token": 45,
                            "label": "AgentGraphExecution"
                        },
                        {
                            "type": "identifier",
                            "start_token": 48,
                            "end_token": 48,
                            "label": "AgentNodeExecution"
                        },
                        {
                            "type": "identifier",
                            "start_token": 51,
                            "end_token": 51,
                            "label": "AgentNodeExecutionInputOutput"
                        }
                    ],
                    "label": "(\n    AgentGraphExecution,\n    AgentNodeExecution,\n    AgentNodeExecutionInputOutput,\n)"
                }
            ],
            "label": "from prisma.models import (\n    AgentGraphExecution,\n    AgentNodeExecution,\n    AgentNodeExecutionInputOutput,\n)"
        },
        {
            "type": "import_from_statement",
            "start_token": 56,
            "end_token": 59,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 57,
                    "end_token": 57,
                    "label": "pydantic"
                },
                {
                    "type": "identifier",
                    "start_token": 59,
                    "end_token": 59,
                    "label": "BaseModel"
                }
            ],
            "label": "from pydantic import BaseModel"
        },
        {
            "type": "import_from_statement",
            "start_token": 62,
            "end_token": 73,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 63,
                    "end_token": 67,
                    "label": "backend.data.block"
                },
                {
                    "type": "expression_list",
                    "start_token": 69,
                    "end_token": 73,
                    "children": [
                        {
                            "type": "identifier",
                            "start_token": 69,
                            "end_token": 69,
                            "label": "BlockData"
                        },
                        {
                            "type": "identifier",
                            "start_token": 71,
                            "end_token": 71,
                            "label": "BlockInput"
                        },
                        {
                            "type": "identifier",
                            "start_token": 73,
                            "end_token": 73,
                            "label": "CompletedBlockOutput"
                        }
                    ],
                    "label": "BlockData, BlockInput, CompletedBlockOutput"
                }
            ],
            "label": "from backend.data.block import BlockData, BlockInput, CompletedBlockOutput"
        },
        {
            "type": "import_from_statement",
            "start_token": 75,
            "end_token": 85,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 76,
                    "end_token": 80,
                    "label": "backend.data.includes"
                },
                {
                    "type": "expression_list",
                    "start_token": 82,
                    "end_token": 85,
                    "children": [
                        {
                            "type": "identifier",
                            "start_token": 82,
                            "end_token": 82,
                            "label": "EXECUTION_RESULT_INCLUDE"
                        },
                        {
                            "type": "identifier",
                            "start_token": 84,
                            "end_token": 84,
                            "label": "GRAPH_EXECUTION_INCLUDE"
                        }
                    ],
                    "label": "EXECUTION_RESULT_INCLUDE, GRAPH_EXECUTION_INCLUDE\n"
                }
            ],
            "label": "from backend.data.includes import EXECUTION_RESULT_INCLUDE, GRAPH_EXECUTION_INCLUDE\n"
        },
        {
            "type": "import_from_statement",
            "start_token": 86,
            "end_token": 95,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 87,
                    "end_token": 91,
                    "label": "backend.data.queue"
                },
                {
                    "type": "expression_list",
                    "start_token": 93,
                    "end_token": 95,
                    "children": [
                        {
                            "type": "identifier",
                            "start_token": 93,
                            "end_token": 93,
                            "label": "AsyncRedisEventBus"
                        },
                        {
                            "type": "identifier",
                            "start_token": 95,
                            "end_token": 95,
                            "label": "RedisEventBus"
                        }
                    ],
                    "label": "AsyncRedisEventBus, RedisEventBus"
                }
            ],
            "label": "from backend.data.queue import AsyncRedisEventBus, RedisEventBus"
        },
        {
            "type": "import_from_statement",
            "start_token": 97,
            "end_token": 104,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 98,
                    "end_token": 100,
                    "label": "backend.util"
                },
                {
                    "type": "expression_list",
                    "start_token": 102,
                    "end_token": 104,
                    "children": [
                        {
                            "type": "identifier",
                            "start_token": 102,
                            "end_token": 102,
                            "label": "json"
                        },
                        {
                            "type": "identifier",
                            "start_token": 104,
                            "end_token": 104,
                            "label": "mock"
                        }
                    ],
                    "label": "json, mock"
                }
            ],
            "label": "from backend.util import json, mock"
        },
        {
            "type": "import_from_statement",
            "start_token": 106,
            "end_token": 113,
            "children": [
                {
                    "type": "dotted_name",
                    "start_token": 107,
                    "end_token": 111,
                    "label": "backend.util.settings"
                },
                {
                    "type": "identifier",
                    "start_token": 113,
                    "end_token": 113,
                    "label": "Config"
                }
            ],
            "label": "from backend.util.settings import Config"
        },
        {
            "type": "assignment",
            "start_token": 121,
            "end_token": 123,
            "children": [
                {
                    "type": "identifier",
                    "start_token": 121,
                    "end_token": 121,
                    "label": "ExecutionStatus"
                },
                {
                    "type": "identifier",
                    "start_token": 123,
                    "end_token": 123,
                    "label": "AgentExecutionStatus"
                }
            ],
            "label": "ExecutionStatus = AgentExecutionStatus"
        },
        {
            "type": "assignment",
            "start_token": 126,
            "end_token": 131,
            "children": [
                {
                    "type": "identifier",
                    "start_token": 126,
                    "end_token": 126,
                    "label": "T"
                },
                {
                    "type": "call",
                    "start_token": 128,
                    "end_token": 131,
                    "children": [
                        {
                            "type": "identifier",
                            "start_token": 128,
                            "end_token": 128,
                            "label": "TypeVar"
                        },
                        {
                            "type": "argument_list",
                            "start_token": 129,
                            "end_token": 131,
                            "children": [
                                {
                                    "type": "string",
                                    "start_token": 130,
                                    "end_token": 130,
                                    "label": "\"T\""
                                }
                            ],
                            "label": "(\"T\")"
                        }
                    ],
                    "label": "TypeVar(\"T\")"
                }
            ],
            "label": "T = TypeVar(\"T\")"
        },
        {
            "type": "assignment",
            "start_token": 204,
            "end_token": 206,
            "children": [
                {
                    "type": "identifier",
                    "start_token": 204,
                    "end_token": 204,
                    "label": "LIST_SPLIT"
                },
                {
                    "type": "string",
                    "start_token": 206,
                    "end_token": 206,
                    "label": "\"_$_\""
                }
            ],
            "label": "LIST_SPLIT = \"_$_\""
        },
        {
            "type": "assignment",
            "start_token": 208,
            "end_token": 210,
            "children": [
                {
                    "type": "identifier",
                    "start_token": 208,
                    "end_token": 208,
                    "label": "DICT_SPLIT"
                },
                {
                    "type": "string",
                    "start_token": 210,
                    "end_token": 210,
                    "label": "\"_#_\""
                }
            ],
            "label": "DICT_SPLIT = \"_#_\""
        },
        {
            "type": "assignment",
            "start_token": 212,
            "end_token": 214,
            "children": [
                {
                    "type": "identifier",
                    "start_token": 212,
                    "end_token": 212,
                    "label": "OBJC_SPLIT"
                },
                {
                    "type": "string",
                    "start_token": 214,
                    "end_token": 214,
                    "label": "\"_@_\""
                }
            ],
            "label": "OBJC_SPLIT = \"_@_\""
        },
        {
            "type": "assignment",
            "start_token": 274,
            "end_token": 278,
            "children": [
                {
                    "type": "identifier",
                    "start_token": 274,
                    "end_token": 274,
                    "label": "config"
                },
                {
                    "type": "call",
                    "start_token": 276,
                    "end_token": 278,
                    "children": [
                        {
                            "type": "identifier",
                            "start_token": 276,
                            "end_token": 276,
                            "label": "Config"
                        },
                        {
                            "type": "argument_list",
                            "start_token": 277,
                            "end_token": 278,
                            "label": "()"
                        }
                    ],
                    "label": "Config()"
                }
            ],
            "label": "config = Config()"
        },
        {
            "type": "function_placeholder",
            "name": "create_graph_execution",
            "start_line": 134,
            "end_line": 173,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 204,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 203,
                            "children": [
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 33,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 8,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "graph_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "graph_id: str,"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 10,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "label": "graph_version"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 11,
                                                    "end_token": 12,
                                                    "label": ": int"
                                                }
                                            ],
                                            "label": "graph_version: int,"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 15,
                                            "end_token": 26,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "label": "nodes_input"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 16,
                                                    "end_token": 25,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 16,
                                                            "end_token": 17,
                                                            "label": ": list"
                                                        },
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 18,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 19,
                                                                    "end_token": 20,
                                                                    "label": "tuple["
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 21,
                                                                    "end_token": 23,
                                                                    "label": "str, BlockInput"
                                                                }
                                                            ],
                                                            "label": "[tuple[str, BlockInput]"
                                                        }
                                                    ],
                                                    "label": ": list[tuple[str, BlockInput]]"
                                                }
                                            ],
                                            "label": "nodes_input: list[tuple[str, BlockInput]],"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 28,
                                            "end_token": 31,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 28,
                                                    "end_token": 28,
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 29,
                                                    "end_token": 30,
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "user_id: str,"
                                        }
                                    ],
                                    "label": "(\n    graph_id: str,\n    graph_version: int,\n    nodes_input: list[tuple[str, BlockInput]],\n    user_id: str,\n)"
                                },
                                {
                                    "type": "generic_type",
                                    "start_token": 35,
                                    "end_token": 44,
                                    "children": [
                                        {
                                            "type": "type",
                                            "start_token": 36,
                                            "end_token": 38,
                                            "label": "tuple[str"
                                        },
                                        {
                                            "type": "generic_type",
                                            "start_token": 40,
                                            "end_token": 43,
                                            "children": [
                                                {
                                                    "type": "type",
                                                    "start_token": 41,
                                                    "end_token": 42,
                                                    "label": "[ExecutionResult"
                                                }
                                            ],
                                            "label": "list[ExecutionResult]"
                                        }
                                    ],
                                    "label": "> tuple[str, list[ExecutionResult]]"
                                },
                                {
                                    "type": "string",
                                    "start_token": 47,
                                    "end_token": 49,
                                    "children": [
                                        {
                                            "type": "string_content",
                                            "start_token": 47,
                                            "end_token": 49,
                                            "label": "\"\"\"\n    Create a new AgentGraphExecution record.\n    Returns:\n        The id of the AgentGraphExecution and the list of ExecutionResult for each node.\n    \"\"\""
                                        }
                                    ],
                                    "label": "\"\"\"\n    Create a new AgentGraphExecution record.\n    Returns:\n        The id of the AgentGraphExecution and the list of ExecutionResult for each node.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 50,
                                    "end_token": 203,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 51,
                                            "end_token": 58,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 51,
                                                    "end_token": 51,
                                                    "label": "result"
                                                },
                                                {
                                                    "type": "await",
                                                    "start_token": 53,
                                                    "end_token": 53,
                                                    "label": "await"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 54,
                                                    "end_token": 61,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 54,
                                                            "end_token": 60,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 54,
                                                                    "end_token": 56,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 54,
                                                                            "end_token": 54,
                                                                            "label": "AgentGraphExecution"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 55,
                                                                            "end_token": 55,
                                                                            "label": "."
                                                                        }
                                                                    ],
                                                                    "label": "AgentGraphExecution.prisma"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 59,
                                                                    "end_token": 59,
                                                                    "label": "."
                                                                }
                                                            ],
                                                            "label": "AgentGraphExecution.prisma().create"
                                                        }
                                                    ],
                                                    "label": "AgentGraphExecution.prisma().create("
                                                }
                                            ],
                                            "label": "result = await AgentGraphExecution.prisma()"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 179,
                                            "end_token": 203,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 180,
                                                    "end_token": 182,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 180,
                                                            "end_token": 180,
                                                            "label": "result"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 181,
                                                            "end_token": 181,
                                                            "label": "."
                                                        }
                                                    ],
                                                    "label": "result.id"
                                                },
                                                {
                                                    "type": "list",
                                                    "start_token": 184,
                                                    "end_token": 203,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 186,
                                                            "end_token": 191,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 186,
                                                                    "end_token": 188,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 186,
                                                                            "end_token": 186,
                                                                            "label": "ExecutionResult"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 187,
                                                                            "end_token": 187,
                                                                            "label": "."
                                                                        }
                                                                    ],
                                                                    "label": "ExecutionResult.from_db"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 189,
                                                                    "end_token": 189,
                                                                    "label": "("
                                                                }
                                                            ],
                                                            "label": "ExecutionResult.from_db(execution)"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 193,
                                                            "end_token": 195,
                                                            "label": "for execution in"
                                                        },
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 196,
                                                            "end_token": 198,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 196,
                                                                    "end_token": 196,
                                                                    "label": "result"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 197,
                                                                    "end_token": 197,
                                                                    "label": "."
                                                                }
                                                            ],
                                                            "label": "result.AgentNodeExecutions"
                                                        },
                                                        {
                                                            "type": "list",
                                                            "start_token": 200,
                                                            "end_token": 201,
                                                            "label": "[]"
                                                        }
                                                    ],
                                                    "label": "[\n        ExecutionResult.from_db(execution)\n        for execution in result.AgentNodeExecutions or []\n    ]"
                                                }
                                            ],
                                            "label": "return result.id, [\n        ExecutionResult.from_db(execution)\n        for execution in result.AgentNodeExecutions or []\n    ]"
                                        }
                                    ],
                                    "label": "\n    result = await AgentGraphExecution.prisma().create(\n        data={\n            \"agentGraphId\": graph_id,\n            \"agentGraphVersion\": graph_version,\n            \"executionStatus\": ExecutionStatus.QUEUED,\n            \"AgentNodeExecutions\": {\n                \"create\": [  # type: ignore\n                    {\n                        \"agentNodeId\": node_id,\n                        \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                        \"Input\": {\n                            \"create\": [\n                                {\"name\": name, \"data\": json.dumps(data)}\n                                for name, data in node_input.items()\n                            ]\n                        },\n                    }\n                    for node_id, node_input in nodes_input\n                ]\n            },\n            \"userId\": user_id,\n        },\n        include=GRAPH_EXECUTION_INCLUDE,\n    )\n\n    return result.id, [\n        ExecutionResult.from_db(execution)\n        for execution in result.AgentNodeExecutions or []\n    ]"
                                }
                            ],
                            "label": "async def create_graph_execution(\n    graph_id: str,\n    graph_version: int,\n    nodes_input: list[tuple[str, BlockInput]],\n    user_id: str,\n) -> tuple[str, list[ExecutionResult]]:\n    \"\"\"\n    Create a new AgentGraphExecution record.\n    Returns:\n        The id of the AgentGraphExecution and the list of ExecutionResult for each node.\n    \"\"\"\n    result = await AgentGraphExecution.prisma().create(\n        data={\n            \"agentGraphId\": graph_id,\n            \"agentGraphVersion\": graph_version,\n            \"executionStatus\": ExecutionStatus.QUEUED,\n            \"AgentNodeExecutions\": {\n                \"create\": [  # type: ignore\n                    {\n                        \"agentNodeId\": node_id,\n                        \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                        \"Input\": {\n                            \"create\": [\n                                {\"name\": name, \"data\": json.dumps(data)}\n                                for name, data in node_input.items()\n                            ]\n                        },\n                    }\n                    for node_id, node_input in nodes_input\n                ]\n            },\n            \"userId\": user_id,\n        },\n        include=GRAPH_EXECUTION_INCLUDE,\n    )\n\n    return result.id, [\n        ExecutionResult.from_db(execution)\n        for execution in result.AgentNodeExecutions or []\n    ]"
                        }
                    ],
                    "label": "async def create_graph_execution(\n    graph_id: str,\n    graph_version: int,\n    nodes_input: list[tuple[str, BlockInput]],\n    user_id: str,\n) -> tuple[str, list[ExecutionResult]]:\n    \"\"\"\n    Create a new AgentGraphExecution record.\n    Returns:\n        The id of the AgentGraphExecution and the list of ExecutionResult for each node.\n    \"\"\"\n    result = await AgentGraphExecution.prisma().create(\n        data={\n            \"agentGraphId\": graph_id,\n            \"agentGraphVersion\": graph_version,\n            \"executionStatus\": ExecutionStatus.QUEUED,\n            \"AgentNodeExecutions\": {\n                \"create\": [  # type: ignore\n                    {\n                        \"agentNodeId\": node_id,\n                        \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                        \"Input\": {\n                            \"create\": [\n                                {\"name\": name, \"data\": json.dumps(data)}\n                                for name, data in node_input.items()\n                            ]\n                        },\n                    }\n                    for node_id, node_input in nodes_input\n                ]\n            },\n            \"userId\": user_id,\n        },\n        include=GRAPH_EXECUTION_INCLUDE,\n    )\n\n    return result.id, [\n        ExecutionResult.from_db(execution)\n        for execution in result.AgentNodeExecutions or []\n    ]\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "upsert_execution_input",
            "start_line": 176,
            "end_line": 241,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 317,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 317,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "def"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 34,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 8,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "node_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "node_id: str,"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 10,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "graph_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 11,
                                                    "end_token": 12,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "graph_exec_id: str,"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 15,
                                            "end_token": 18,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "input_name"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 16,
                                                    "end_token": 17,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "input_name: str,"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 20,
                                            "end_token": 31,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 20,
                                                    "end_token": 20,
                                                    "children": [],
                                                    "label": "input_data"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 21,
                                                    "end_token": 22,
                                                    "children": [],
                                                    "label": ": Any"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 29,
                                                    "end_token": 31,
                                                    "children": [],
                                                    "label": "None = None"
                                                }
                                            ],
                                            "label": "input_data: Any,\n    node_exec_id: str | None = None"
                                        }
                                    ],
                                    "label": "(\n    node_id: str,\n    graph_exec_id: str,\n    input_name: str,\n    input_data: Any,\n    node_exec_id: str | None = None,\n)"
                                },
                                {
                                    "type": "generic_type",
                                    "start_token": 35,
                                    "end_token": 42,
                                    "children": [
                                        {
                                            "type": "tuple",
                                            "start_token": 37,
                                            "end_token": 42,
                                            "children": [
                                                {
                                                    "type": "type",
                                                    "start_token": 39,
                                                    "end_token": 39,
                                                    "children": [],
                                                    "label": "str"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 41,
                                                    "end_token": 41,
                                                    "children": [],
                                                    "label": "BlockInput"
                                                }
                                            ],
                                            "label": "tuple[str, BlockInput]"
                                        }
                                    ],
                                    "label": "-> tuple[str, BlockInput]"
                                },
                                {
                                    "type": "block",
                                    "start_token": 45,
                                    "end_token": 317,
                                    "children": [
                                        {
                                            "type": "string",
                                            "start_token": 45,
                                            "end_token": 46,
                                            "children": [],
                                            "label": "\"\"\"\n    Insert AgentNodeExecutionInputOutput record for as one of AgentNodeExecution.Input.\n    If there is no AgentNodeExecution that has no `input_name` as input, create new one.\n\n    Args:\n        node_id: The id of the AgentNode.\n        graph_exec_id: The id of the AgentGraphExecution.\n        input_name: The name of the input data.\n        input_data: The input data to be inserted.\n        node_exec_id: [Optional] The id of the AgentNodeExecution that has no `input_name` as input. If not provided, it will find the eligible incomplete AgentNodeExecution or create a new one.\n\n    Returns:\n        * The id of the created or existing AgentNodeExecution.\n        * Dict of node input data, key is the input name, value is the input data.\n    \""
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 49,
                                            "end_token": 139,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 49,
                                                    "end_token": 49,
                                                    "children": [],
                                                    "label": "existing_execution"
                                                },
                                                {
                                                    "type": "await",
                                                    "start_token": 51,
                                                    "end_token": 140,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 52,
                                                            "end_token": 140,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 52,
                                                                    "end_token": 98,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 52,
                                                                            "end_token": 54,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 52,
                                                                                    "end_token": 52,
                                                                                    "children": [],
                                                                                    "label": "AgentNodeExecution"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 54,
                                                                                    "end_token": 54,
                                                                                    "children": [],
                                                                                    "label": "prisma"
                                                                                }
                                                                            ],
                                                                            "label": "AgentNodeExecution.prisma"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 58,
                                                                            "end_token": 58,
                                                                            "children": [],
                                                                            "label": "find_first"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecution.prisma().find_first(\n        where={  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus."
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 59,
                                                                    "end_token": 140,
                                                                    "children": [
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 63,
                                                                            "end_token": 119,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 73,
                                                                                    "end_token": 82,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 73,
                                                                                            "end_token": 73,
                                                                                            "children": [],
                                                                                            "label": "\"id\""
                                                                                        },
                                                                                        {
                                                                                            "type": "conditional_expression",
                                                                                            "start_token": 75,
                                                                                            "end_token": 80,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 75,
                                                                                                    "end_token": 75,
                                                                                                    "children": [],
                                                                                                    "label": "node_exec_id"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 77,
                                                                                                    "end_token": 77,
                                                                                                    "children": [],
                                                                                                    "label": "if"
                                                                                                },
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 80,
                                                                                                    "end_token": 81,
                                                                                                    "children": [],
                                                                                                    "label": "{}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "node_exec_id} if node_exec_id else {"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"id\": node_exec_id} if node_exec_id else {})"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 85,
                                                                                    "end_token": 88,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 85,
                                                                                            "end_token": 85,
                                                                                            "children": [],
                                                                                            "label": "\"agentNodeId\""
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 87,
                                                                                            "end_token": 87,
                                                                                            "children": [],
                                                                                            "label": "node_id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"agentNodeId\": node_id,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 90,
                                                                                    "end_token": 93,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 90,
                                                                                            "end_token": 90,
                                                                                            "children": [],
                                                                                            "label": "\"agentGraphExecutionId\""
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 92,
                                                                                            "end_token": 92,
                                                                                            "children": [],
                                                                                            "label": "graph_exec_id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"agentGraphExecutionId\": graph_exec_id,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 95,
                                                                                    "end_token": 99,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 95,
                                                                                            "end_token": 95,
                                                                                            "children": [],
                                                                                            "label": "\"executionStatus\""
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 97,
                                                                                            "end_token": 99,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 97,
                                                                                                    "end_token": 97,
                                                                                                    "children": [],
                                                                                                    "label": "ExecutionStatus"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 99,
                                                                                                    "end_token": 99,
                                                                                                    "children": [],
                                                                                                    "label": "INCOMPLETE"
                                                                                                }
                                                                                            ],
                                                                                            "label": "ExecutionStatus.INCOMPLETE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"executionStatus\": ExecutionStatus.INCOMPLETE"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 102,
                                                                                    "end_token": 116,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 102,
                                                                                            "end_token": 102,
                                                                                            "children": [],
                                                                                            "label": "\"Input\""
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 104,
                                                                                            "end_token": 115,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 108,
                                                                                                    "end_token": 114,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 108,
                                                                                                            "end_token": 108,
                                                                                                            "children": [],
                                                                                                            "label": "\"name\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 110,
                                                                                                            "end_token": 113,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 111,
                                                                                                                    "end_token": 113,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "not_operator",
                                                                                                                            "start_token": 111,
                                                                                                                            "end_token": 111,
                                                                                                                            "children": [],
                                                                                                                            "label": "\"not\""
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 113,
                                                                                                                            "end_token": 113,
                                                                                                                            "children": [],
                                                                                                                            "label": "input_name"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "\"not\": input_name"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "{\"not\": input_name"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"name\": {\"not\": input_name}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "{\"every\": {\"name\": {\"not\": input_name}}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"Input\": {\"every\": {\"name\": {\"not\": input_name}}}"
                                                                                }
                                                                            ],
                                                                            "label": "{  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n            \"Input\": {\"every\": {\"name\": {\"not\": input_name}}},\n        }"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 122,
                                                                            "end_token": 128,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 122,
                                                                                    "end_token": 122,
                                                                                    "children": [],
                                                                                    "label": "order"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 127,
                                                                                    "end_token": 127,
                                                                                    "children": [],
                                                                                    "label": "\"asc\""
                                                                                }
                                                                            ],
                                                                            "label": "order={\"addedTime\": \"asc\"}"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 131,
                                                                            "end_token": 137,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 131,
                                                                                    "end_token": 131,
                                                                                    "children": [],
                                                                                    "label": "include"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 133,
                                                                                    "end_token": 137,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 134,
                                                                                            "end_token": 136,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 134,
                                                                                                    "end_token": 134,
                                                                                                    "children": [],
                                                                                                    "label": "\"Input\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "true",
                                                                                                    "start_token": 136,
                                                                                                    "end_token": 136,
                                                                                                    "children": [],
                                                                                                    "label": "True"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"Input\": True"
                                                                                        }
                                                                                    ],
                                                                                    "label": "{\"Input\": True}"
                                                                                }
                                                                            ],
                                                                            "label": "include={\"Input\": True}"
                                                                        }
                                                                    ],
                                                                    "label": "(\n        where={  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n            \"Input\": {\"every\": {\"name\": {\"not\": input_name}}},\n        },\n        order={\"addedTime\": \"asc\"},\n        include={\"Input\": True},\n    )"
                                                                }
                                                            ],
                                                            "label": "AgentNodeExecution.prisma().find_first(\n        where={  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n            \"Input\": {\"every\": {\"name\": {\"not\": input_name}}},\n        },\n        order={\"addedTime\": \"asc\"},\n        include={\"Input\": True},\n    )"
                                                        }
                                                    ],
                                                    "label": "await AgentNodeExecution.prisma().find_first(\n        where={  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n            \"Input\": {\"every\": {\"name\": {\"not\": input_name}}},\n        },\n        order={\"addedTime\": \"asc\"},\n        include={\"Input\": True},\n    )"
                                                }
                                            ],
                                            "label": "existing_execution = await AgentNodeExecution.prisma().find_first(\n        where={  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n            \"Input\": {\"every\": {\"name\": {\"not\": input_name}}},\n        },\n        order={\"addedTime\": \"asc\"},\n        include={\"Input\": True},\n"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 142,
                                            "end_token": 149,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 142,
                                                    "end_token": 142,
                                                    "children": [],
                                                    "label": "json_input_data"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 144,
                                                    "end_token": 149,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 144,
                                                            "end_token": 146,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 144,
                                                                    "end_token": 144,
                                                                    "children": [],
                                                                    "label": "json"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 146,
                                                                    "end_token": 146,
                                                                    "children": [],
                                                                    "label": "dumps"
                                                                }
                                                            ],
                                                            "label": "json.dumps"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 147,
                                                            "end_token": 149,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 148,
                                                                    "end_token": 148,
                                                                    "children": [],
                                                                    "label": "input_data"
                                                                }
                                                            ],
                                                            "label": "(input_data)"
                                                        }
                                                    ],
                                                    "label": "json.dumps(input_data)"
                                                }
                                            ],
                                            "label": "json_input_data = json.dumps(input_data)"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 152,
                                            "end_token": 231,
                                            "children": [
                                                {
                                                    "type": "comparison_operator",
                                                    "start_token": 152,
                                                    "end_token": 153,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 153,
                                                            "end_token": 153,
                                                            "children": [],
                                                            "label": "existing_execution"
                                                        }
                                                    ],
                                                    "label": "if existing_execution"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 154,
                                                    "end_token": 195,
                                                    "children": [
                                                        {
                                                            "type": "await",
                                                            "start_token": 156,
                                                            "end_token": 189,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 157,
                                                                    "end_token": 189,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 157,
                                                                            "end_token": 159,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 157,
                                                                                    "end_token": 157,
                                                                                    "children": [],
                                                                                    "label": "AgentNodeExecutionInputOutput"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 159,
                                                                                    "end_token": 159,
                                                                                    "children": [],
                                                                                    "label": "prisma"
                                                                                }
                                                                            ],
                                                                            "label": "AgentNodeExecutionInputOutput.prisma"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 163,
                                                                            "end_token": 163,
                                                                            "children": [],
                                                                            "label": "create"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 164,
                                                                            "end_token": 189,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 167,
                                                                                    "end_token": 187,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 170,
                                                                                            "end_token": 173,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 170,
                                                                                                    "end_token": 170,
                                                                                                    "children": [],
                                                                                                    "label": "\"name\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 172,
                                                                                                    "end_token": 172,
                                                                                                    "children": [],
                                                                                                    "label": "input_name"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"name\": input_name,"
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 175,
                                                                                            "end_token": 178,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 175,
                                                                                                    "end_token": 175,
                                                                                                    "children": [],
                                                                                                    "label": "\"data\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 177,
                                                                                                    "end_token": 177,
                                                                                                    "children": [],
                                                                                                    "label": "json_input_data"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"data\": json_input_data,"
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 180,
                                                                                            "end_token": 185,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 180,
                                                                                                    "end_token": 180,
                                                                                                    "children": [],
                                                                                                    "label": "\"referencedByInputExecId\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 182,
                                                                                                    "end_token": 184,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 182,
                                                                                                            "end_token": 182,
                                                                                                            "children": [],
                                                                                                            "label": "existing_execution"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 184,
                                                                                                            "end_token": 184,
                                                                                                            "children": [],
                                                                                                            "label": "id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "existing_execution.id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"referencedByInputExecId\": existing_execution.id,"
                                                                                        }
                                                                                    ],
                                                                                    "label": "={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            data={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecutionInputOutput.prisma().create(\n            data={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }\n        )"
                                                                }
                                                            ],
                                                            "label": "await AgentNodeExecutionInputOutput.prisma().create(\n            data={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }\n        )"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 191,
                                                            "end_token": 195,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 192,
                                                                    "end_token": 192,
                                                                    "children": [],
                                                                    "label": "existing_execution"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 194,
                                                                    "end_token": 231,
                                                                    "children": [
                                                                        {
                                                                            "type": "dictionary_splat",
                                                                            "start_token": 198,
                                                                            "end_token": 224,
                                                                            "children": [
                                                                                {
                                                                                    "type": "for_statement",
                                                                                    "start_token": 215,
                                                                                    "end_token": 224,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 215,
                                                                                            "end_token": 215,
                                                                                            "children": [],
                                                                                            "label": "for"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 217,
                                                                                            "end_token": 217,
                                                                                            "children": [],
                                                                                            "label": "in"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 218,
                                                                                            "end_token": 202,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 218,
                                                                                                    "end_token": 218,
                                                                                                    "children": [],
                                                                                                    "label": "existing_execution"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 220,
                                                                                                    "end_token": 220,
                                                                                                    "children": [],
                                                                                                    "label": "Input"
                                                                                                }
                                                                                            ],
                                                                                            "label": ""
                                                                                        }
                                                                                    ],
                                                                                    "label": "for input_data in existing_execution.Input or []\n"
                                                                                }
                                                                            ],
                                                                            "label": "**{\n                input_data.name: json.loads(input_data.data)\n                for input_data in existing_execution.Input or []\n"
                                                                        }
                                                                    ],
                                                                    "label": "id, {\n            **{\n                input_data.name: json.loads(input_data.data)\n                for input_data in existing_execution.Input or []\n            },\n            input_name: input_data,"
                                                                }
                                                            ],
                                                            "label": "return existing_execution.id,"
                                                        }
                                                    ],
                                                    "label": ":\n        await AgentNodeExecutionInputOutput.prisma().create(\n            data={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }\n        )\n        return existing_execution.id,"
                                                },
                                                {
                                                    "type": "elif_clause",
                                                    "start_token": 236,
                                                    "end_token": 239,
                                                    "children": [
                                                        {
                                                            "type": "not_operator",
                                                            "start_token": 237,
                                                            "end_token": 238,
                                                            "children": [],
                                                            "label": "not node_exec_id"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 238,
                                                            "end_token": 238,
                                                            "children": [],
                                                            "label": "node_exec_id"
                                                        }
                                                    ],
                                                    "label": "elif not node_exec_id:"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 240,
                                                    "end_token": 317,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 242,
                                                            "end_token": 248,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 242,
                                                                    "end_token": 242,
                                                                    "children": [],
                                                                    "label": "="
                                                                },
                                                                {
                                                                    "type": "await",
                                                                    "start_token": 244,
                                                                    "end_token": 292,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 245,
                                                                            "end_token": 292,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 245,
                                                                                    "end_token": 248,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 245,
                                                                                            "end_token": 245,
                                                                                            "children": [],
                                                                                            "label": "."
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 248,
                                                                                            "end_token": 248,
                                                                                            "children": [],
                                                                                            "label": ")"
                                                                                        }
                                                                                    ],
                                                                                    "label": ".prisma()"
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "start_token": 251,
                                                                                    "end_token": 292,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 254,
                                                                                            "end_token": 292,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 257,
                                                                                                    "end_token": 260,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 257,
                                                                                                            "end_token": 257,
                                                                                                            "children": [],
                                                                                                            "label": "\"agentNodeId\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 259,
                                                                                                            "end_token": 259,
                                                                                                            "children": [],
                                                                                                            "label": "node_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"agentNodeId\": node_id,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 262,
                                                                                                    "end_token": 265,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 262,
                                                                                                            "end_token": 262,
                                                                                                            "children": [],
                                                                                                            "label": "\"agentGraphExecutionId\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 264,
                                                                                                            "end_token": 264,
                                                                                                            "children": [],
                                                                                                            "label": "graph_exec_id"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"agentGraphExecutionId\": graph_exec_id,"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 267,
                                                                                                    "end_token": 271,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 267,
                                                                                                            "end_token": 267,
                                                                                                            "children": [],
                                                                                                            "label": "\"executionStatus\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 269,
                                                                                                            "end_token": 271,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 269,
                                                                                                                    "end_token": 269,
                                                                                                                    "children": [],
                                                                                                                    "label": "ExecutionStatus"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 271,
                                                                                                                    "end_token": 271,
                                                                                                                    "children": [],
                                                                                                                    "label": "INCOMPLETE"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "ExecutionStatus.INCOMPLETE"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"executionStatus\": ExecutionStatus.INCOMPLETE"
                                                                                                },
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 274,
                                                                                                    "end_token": 289,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 274,
                                                                                                            "end_token": 274,
                                                                                                            "children": [],
                                                                                                            "label": "\"Input\""
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "dictionary",
                                                                                                            "start_token": 276,
                                                                                                            "end_token": 289,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "pair",
                                                                                                                    "start_token": 278,
                                                                                                                    "end_token": 287,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 278,
                                                                                                                            "end_token": 278,
                                                                                                                            "children": [],
                                                                                                                            "label": ":"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "call",
                                                                                                                            "start_token": 281,
                                                                                                                            "end_token": 287,
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "attribute",
                                                                                                                                    "start_token": 281,
                                                                                                                                    "end_token": 286,
                                                                                                                                    "children": [
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 281,
                                                                                                                                            "end_token": 281,
                                                                                                                                            "children": [],
                                                                                                                                            "label": ":"
                                                                                                                                        },
                                                                                                                                        {
                                                                                                                                            "type": "identifier",
                                                                                                                                            "start_token": 284,
                                                                                                                                            "end_token": 284,
                                                                                                                                            "children": [],
                                                                                                                                            "label": "\"data\""
                                                                                                                                        }
                                                                                                                                    ],
                                                                                                                                    "label": ": input_name, \"data\": json_input_data"
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "argument_list",
                                                                                                                                    "start_token": 286,
                                                                                                                                    "end_token": 286,
                                                                                                                                    "children": [],
                                                                                                                                    "label": "json_input_data"
                                                                                                                                }
                                                                                                                            ],
                                                                                                                            "label": ": input_name, \"data\": json_input_data}"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": ": {\"name\": input_name, \"data\": json_input_data}"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "{\"create\": {\"name\": input_name, \"data\": json_input_data}},"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "\"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},"
                                                                                                }
                                                                                            ],
                                                                                            "label": "={\n                \"agentNodeId\": node_id,\n                \"agentGraphExecutionId\": graph_exec_id,\n                \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                \"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},\n            }\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "(\n            data={\n                \"agentNodeId\": node_id,\n                \"agentGraphExecutionId\": graph_exec_id,\n                \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                \"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},\n            }\n"
                                                                                }
                                                                            ],
                                                                            "label": ".prisma().create(\n            data={\n                \"agentNodeId\": node_id,\n                \"agentGraphExecutionId\": graph_exec_id,\n                \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                \"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},\n            }\n"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecution.prisma().create(\n            data={\n                \"agentNodeId\": node_id,\n                \"agentGraphExecutionId\": graph_exec_id,\n                \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                \"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},\n            }\n"
                                                                }
                                                            ],
                                                            "label": "= await AgentNodeExecution.prisma()"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 295,
                                                            "end_token": 304,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 296,
                                                                    "end_token": 296,
                                                                    "children": [],
                                                                    "label": "result"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 299,
                                                                    "end_token": 304,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 301,
                                                                            "end_token": 303,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 301,
                                                                                    "end_token": 301,
                                                                                    "children": [],
                                                                                    "label": "input_name"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 303,
                                                                                    "end_token": 303,
                                                                                    "children": [],
                                                                                    "label": "input_data"
                                                                                }
                                                                            ],
                                                                            "label": "input_name: input_data"
                                                                        }
                                                                    ],
                                                                    "label": ", {input_name: input_data}"
                                                                }
                                                            ],
                                                            "label": "return result.id, {input_name: input_data}"
                                                        },
                                                        {
                                                            "type": "else_clause",
                                                            "start_token": 307,
                                                            "end_token": 317,
                                                            "children": [
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 308,
                                                                    "end_token": 317,
                                                                    "children": [
                                                                        {
                                                                            "type": "raise_statement",
                                                                            "start_token": 310,
                                                                            "end_token": 316,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 311,
                                                                                    "end_token": 316,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 311,
                                                                                            "end_token": 311,
                                                                                            "children": [],
                                                                                            "label": "ValueError"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 313,
                                                                                            "end_token": 316,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "concatenated_string",
                                                                                                    "start_token": 314,
                                                                                                    "end_token": 316,
                                                                                                    "children": [],
                                                                                                    "label": "f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ValueError(\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n"
                                                                                }
                                                                            ],
                                                                            "label": "raise ValueError(\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n"
                                                                        }
                                                                    ],
                                                                    "label": ":\n        raise ValueError(\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n        )"
                                                                }
                                                            ],
                                                            "label": "else:\n        raise ValueError(\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n        )"
                                                        }
                                                    ],
                                                    "label": "\n        result = await AgentNodeExecution.prisma().create(\n            data={\n                \"agentNodeId\": node_id,\n                \"agentGraphExecutionId\": graph_exec_id,\n                \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                \"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},\n            }\n        )\n        return result.id, {input_name: input_data}\n\n    else:\n        raise ValueError(\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n        )"
                                                }
                                            ],
                                            "label": "if existing_execution:\n        await AgentNodeExecutionInputOutput.prisma().create(\n            data={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }\n        )\n        return existing_execution.id, {\n            **{\n                input_data.name: json.loads(input_data.data)\n                for input_data in existing_execution.Input or []\n            },\n            input_name: input_data,"
                                        }
                                    ],
                                    "label": "\"\"\"\n    Insert AgentNodeExecutionInputOutput record for as one of AgentNodeExecution.Input.\n    If there is no AgentNodeExecution that has no `input_name` as input, create new one.\n\n    Args:\n        node_id: The id of the AgentNode.\n        graph_exec_id: The id of the AgentGraphExecution.\n        input_name: The name of the input data.\n        input_data: The input data to be inserted.\n        node_exec_id: [Optional] The id of the AgentNodeExecution that has no `input_name` as input. If not provided, it will find the eligible incomplete AgentNodeExecution or create a new one.\n\n    Returns:\n        * The id of the created or existing AgentNodeExecution.\n        * Dict of node input data, key is the input name, value is the input data.\n    \"\"\"\n    existing_execution = await AgentNodeExecution.prisma().find_first(\n        where={  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n            \"Input\": {\"every\": {\"name\": {\"not\": input_name}}},\n        },\n        order={\"addedTime\": \"asc\"},\n        include={\"Input\": True},\n    )\n    json_input_data = json.dumps(input_data)\n\n    if existing_execution:\n        await AgentNodeExecutionInputOutput.prisma().create(\n            data={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }\n        )\n        return existing_execution.id, {\n            **{\n                input_data.name: json.loads(input_data.data)\n                for input_data in existing_execution.Input or []\n            },\n            input_name: input_data,\n        }\n\n    elif not node_exec_id:\n        result = await AgentNodeExecution.prisma().create(\n            data={\n                \"agentNodeId\": node_id,\n                \"agentGraphExecutionId\": graph_exec_id,\n                \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                \"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},\n            }\n        )\n        return result.id, {input_name: input_data}\n\n    else:\n        raise ValueError(\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n        )"
                                }
                            ],
                            "label": "async def upsert_execution_input(\n    node_id: str,\n    graph_exec_id: str,\n    input_name: str,\n    input_data: Any,\n    node_exec_id: str | None = None,\n) -> tuple[str, BlockInput]:\n    \"\"\"\n    Insert AgentNodeExecutionInputOutput record for as one of AgentNodeExecution.Input.\n    If there is no AgentNodeExecution that has no `input_name` as input, create new one.\n\n    Args:\n        node_id: The id of the AgentNode.\n        graph_exec_id: The id of the AgentGraphExecution.\n        input_name: The name of the input data.\n        input_data: The input data to be inserted.\n        node_exec_id: [Optional] The id of the AgentNodeExecution that has no `input_name` as input. If not provided, it will find the eligible incomplete AgentNodeExecution or create a new one.\n\n    Returns:\n        * The id of the created or existing AgentNodeExecution.\n        * Dict of node input data, key is the input name, value is the input data.\n    \"\"\"\n    existing_execution = await AgentNodeExecution.prisma().find_first(\n        where={  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n            \"Input\": {\"every\": {\"name\": {\"not\": input_name}}},\n        },\n        order={\"addedTime\": \"asc\"},\n        include={\"Input\": True},\n    )\n    json_input_data = json.dumps(input_data)\n\n    if existing_execution:\n        await AgentNodeExecutionInputOutput.prisma().create(\n            data={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }\n        )\n        return existing_execution.id, {\n            **{\n                input_data.name: json.loads(input_data.data)\n                for input_data in existing_execution.Input or []\n            },\n            input_name: input_data,\n        }\n\n    elif not node_exec_id:\n        result = await AgentNodeExecution.prisma().create(\n            data={\n                \"agentNodeId\": node_id,\n                \"agentGraphExecutionId\": graph_exec_id,\n                \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                \"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},\n            }\n        )\n        return result.id, {input_name: input_data}\n\n    else:\n        raise ValueError(\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n        )"
                        }
                    ],
                    "label": "async def upsert_execution_input(\n    node_id: str,\n    graph_exec_id: str,\n    input_name: str,\n    input_data: Any,\n    node_exec_id: str | None = None,\n) -> tuple[str, BlockInput]:\n    \"\"\"\n    Insert AgentNodeExecutionInputOutput record for as one of AgentNodeExecution.Input.\n    If there is no AgentNodeExecution that has no `input_name` as input, create new one.\n\n    Args:\n        node_id: The id of the AgentNode.\n        graph_exec_id: The id of the AgentGraphExecution.\n        input_name: The name of the input data.\n        input_data: The input data to be inserted.\n        node_exec_id: [Optional] The id of the AgentNodeExecution that has no `input_name` as input. If not provided, it will find the eligible incomplete AgentNodeExecution or create a new one.\n\n    Returns:\n        * The id of the created or existing AgentNodeExecution.\n        * Dict of node input data, key is the input name, value is the input data.\n    \"\"\"\n    existing_execution = await AgentNodeExecution.prisma().find_first(\n        where={  # type: ignore\n            **({\"id\": node_exec_id} if node_exec_id else {}),\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_exec_id,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n            \"Input\": {\"every\": {\"name\": {\"not\": input_name}}},\n        },\n        order={\"addedTime\": \"asc\"},\n        include={\"Input\": True},\n    )\n    json_input_data = json.dumps(input_data)\n\n    if existing_execution:\n        await AgentNodeExecutionInputOutput.prisma().create(\n            data={\n                \"name\": input_name,\n                \"data\": json_input_data,\n                \"referencedByInputExecId\": existing_execution.id,\n            }\n        )\n        return existing_execution.id, {\n            **{\n                input_data.name: json.loads(input_data.data)\n                for input_data in existing_execution.Input or []\n            },\n            input_name: input_data,\n        }\n\n    elif not node_exec_id:\n        result = await AgentNodeExecution.prisma().create(\n            data={\n                \"agentNodeId\": node_id,\n                \"agentGraphExecutionId\": graph_exec_id,\n                \"executionStatus\": ExecutionStatus.INCOMPLETE,\n                \"Input\": {\"create\": {\"name\": input_name, \"data\": json_input_data}},\n            }\n        )\n        return result.id, {input_name: input_data}\n\n    else:\n        raise ValueError(\n            f\"NodeExecution {node_exec_id} not found or already has input {input_name}.\"\n        )"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "upsert_execution_output",
            "start_line": 244,
            "end_line": 258,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 67,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 67,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "upsert_execution_output"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 8,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "node_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "node_exec_id: str,"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 10,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "output_name"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 11,
                                                    "end_token": 12,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "output_name: str,"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 15,
                                            "end_token": 18,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "output_data"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 16,
                                                    "end_token": 17,
                                                    "children": [],
                                                    "label": ": Any"
                                                }
                                            ],
                                            "label": "output_data: Any,"
                                        }
                                    ],
                                    "label": "(\n    node_exec_id: str,\n    output_name: str,\n    output_data: Any,\n)"
                                },
                                {
                                    "type": "return_statement",
                                    "start_token": 21,
                                    "end_token": 23,
                                    "children": [],
                                    "label": "-> None"
                                },
                                {
                                    "type": "string",
                                    "start_token": 26,
                                    "end_token": 28,
                                    "children": [],
                                    "label": "\"\"\"\n    Insert AgentNodeExecutionInputOutput record for as one of AgentNodeExecution.Output.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 29,
                                    "end_token": 67,
                                    "children": [
                                        {
                                            "type": "await",
                                            "start_token": 30,
                                            "end_token": 66,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 31,
                                                    "end_token": 66,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 31,
                                                            "end_token": 36,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 31,
                                                                    "end_token": 32,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 31,
                                                                            "end_token": 31,
                                                                            "children": [],
                                                                            "label": "AgentNodeExecutionInputOutput"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecutionInputOutput."
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 33,
                                                                    "end_token": 33,
                                                                    "children": [],
                                                                    "label": "prisma"
                                                                }
                                                            ],
                                                            "label": "AgentNodeExecutionInputOutput.prisma()."
                                                        },
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 37,
                                                            "end_token": 37,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 37,
                                                                    "end_token": 37,
                                                                    "children": [],
                                                                    "label": "create"
                                                                }
                                                            ],
                                                            "label": "create"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 38,
                                                            "end_token": 66,
                                                            "children": [
                                                                {
                                                                    "type": "pair",
                                                                    "start_token": 40,
                                                                    "end_token": 64,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 40,
                                                                            "end_token": 40,
                                                                            "children": [],
                                                                            "label": "data"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 42,
                                                                            "end_token": 64,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 44,
                                                                                    "end_token": 47,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 44,
                                                                                            "end_token": 44,
                                                                                            "children": [],
                                                                                            "label": "\"name\""
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 46,
                                                                                            "end_token": 46,
                                                                                            "children": [],
                                                                                            "label": "output_name"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"name\": output_name,"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 49,
                                                                                    "end_token": 57,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 49,
                                                                                            "end_token": 49,
                                                                                            "children": [],
                                                                                            "label": "\"data\""
                                                                                        },
                                                                                        {
                                                                                            "type": "call",
                                                                                            "start_token": 51,
                                                                                            "end_token": 56,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 51,
                                                                                                    "end_token": 52,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 51,
                                                                                                            "end_token": 51,
                                                                                                            "children": [],
                                                                                                            "label": "json"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "json."
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 53,
                                                                                                    "end_token": 53,
                                                                                                    "children": [],
                                                                                                    "label": "dumps"
                                                                                                },
                                                                                                {
                                                                                                    "type": "argument_list",
                                                                                                    "start_token": 54,
                                                                                                    "end_token": 56,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 55,
                                                                                                            "end_token": 55,
                                                                                                            "children": [],
                                                                                                            "label": "output_data"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "(output_data)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "json.dumps(output_data)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"data\": json.dumps(output_data),"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 59,
                                                                                    "end_token": 62,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 59,
                                                                                            "end_token": 59,
                                                                                            "children": [],
                                                                                            "label": "\"referencedByOutputExecId\""
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 61,
                                                                                            "end_token": 61,
                                                                                            "children": [],
                                                                                            "label": "node_exec_id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"referencedByOutputExecId\": node_exec_id,"
                                                                                }
                                                                            ],
                                                                            "label": "{\n            \"name\": output_name,\n            \"data\": json.dumps(output_data),\n            \"referencedByOutputExecId\": node_exec_id,\n        }"
                                                                        }
                                                                    ],
                                                                    "label": "data={\n            \"name\": output_name,\n            \"data\": json.dumps(output_data),\n            \"referencedByOutputExecId\": node_exec_id,\n        }"
                                                                }
                                                            ],
                                                            "label": "(\n        data={\n            \"name\": output_name,\n            \"data\": json.dumps(output_data),\n            \"referencedByOutputExecId\": node_exec_id,\n        }\n    )"
                                                        }
                                                    ],
                                                    "label": "AgentNodeExecutionInputOutput.prisma().create(\n        data={\n            \"name\": output_name,\n            \"data\": json.dumps(output_data),\n            \"referencedByOutputExecId\": node_exec_id,\n        }\n    )"
                                                }
                                            ],
                                            "label": "await AgentNodeExecutionInputOutput.prisma().create(\n        data={\n            \"name\": output_name,\n            \"data\": json.dumps(output_data),\n            \"referencedByOutputExecId\": node_exec_id,\n        }\n    )"
                                        }
                                    ],
                                    "label": "\n    await AgentNodeExecutionInputOutput.prisma().create(\n        data={\n            \"name\": output_name,\n            \"data\": json.dumps(output_data),\n            \"referencedByOutputExecId\": node_exec_id,\n        }\n    )\n"
                                }
                            ],
                            "label": "async def upsert_execution_output(\n    node_exec_id: str,\n    output_name: str,\n    output_data: Any,\n) -> None:\n    \"\"\"\n    Insert AgentNodeExecutionInputOutput record for as one of AgentNodeExecution.Output.\n    \"\"\"\n    await AgentNodeExecutionInputOutput.prisma().create(\n        data={\n            \"name\": output_name,\n            \"data\": json.dumps(output_data),\n            \"referencedByOutputExecId\": node_exec_id,\n        }\n    )\n"
                        }
                    ],
                    "label": "async def upsert_execution_output(\n    node_exec_id: str,\n    output_name: str,\n    output_data: Any,\n) -> None:\n    \"\"\"\n    Insert AgentNodeExecutionInputOutput record for as one of AgentNodeExecution.Output.\n    \"\"\"\n    await AgentNodeExecutionInputOutput.prisma().create(\n        data={\n            \"name\": output_name,\n            \"data\": json.dumps(output_data),\n            \"referencedByOutputExecId\": node_exec_id,\n        }\n    )\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "update_graph_execution_start_time",
            "start_line": 261,
            "end_line": 268,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 58,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 8,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "label": "update_graph_execution_start_time"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 7,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "label": "graph_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 6,
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_exec_id: str"
                                        }
                                    ],
                                    "label": "(graph_exec_id: str)"
                                }
                            ],
                            "label": "async def update_graph_execution_start_time(graph_exec_id: str):"
                        },
                        {
                            "type": "block",
                            "start_token": 9,
                            "end_token": 58,
                            "children": [
                                {
                                    "type": "await",
                                    "start_token": 10,
                                    "end_token": 57,
                                    "children": [
                                        {
                                            "type": "call",
                                            "start_token": 11,
                                            "end_token": 57,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 11,
                                                    "end_token": 13,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 11,
                                                            "end_token": 12,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 11,
                                                                    "end_token": 11,
                                                                    "label": "AgentGraphExecution"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "label": "."
                                                                }
                                                            ],
                                                            "label": "AgentGraphExecution."
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 13,
                                                            "end_token": 15,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 13,
                                                                    "end_token": 13,
                                                                    "label": "prisma"
                                                                }
                                                            ],
                                                            "label": "prisma()"
                                                        }
                                                    ],
                                                    "label": "AgentGraphExecution.prisma"
                                                },
                                                {
                                                    "type": "attribute",
                                                    "start_token": 16,
                                                    "end_token": 17,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 16,
                                                            "end_token": 16,
                                                            "label": "."
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 17,
                                                            "end_token": 17,
                                                            "label": "update"
                                                        }
                                                    ],
                                                    "label": ".update"
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "start_token": 18,
                                                    "end_token": 57,
                                                    "children": [
                                                        {
                                                            "type": "pair",
                                                            "start_token": 20,
                                                            "end_token": 27,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 20,
                                                                    "end_token": 20,
                                                                    "label": "where"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 22,
                                                                    "end_token": 26,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 23,
                                                                            "end_token": 25,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 23,
                                                                                    "end_token": 23,
                                                                                    "label": "\"id\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 25,
                                                                                    "end_token": 25,
                                                                                    "label": "graph_exec_id"
                                                                                }
                                                                            ],
                                                                            "label": "\"id\": graph_exec_id"
                                                                        }
                                                                    ],
                                                                    "label": "{\"id\": graph_exec_id}"
                                                                }
                                                            ],
                                                            "label": "where={\"id\": graph_exec_id},"
                                                        },
                                                        {
                                                            "type": "pair",
                                                            "start_token": 29,
                                                            "end_token": 55,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 29,
                                                                    "end_token": 29,
                                                                    "label": "data"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 31,
                                                                    "end_token": 54,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 33,
                                                                            "end_token": 38,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 33,
                                                                                    "end_token": 33,
                                                                                    "label": "\"executionStatus\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 35,
                                                                                    "end_token": 37,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 35,
                                                                                            "end_token": 36,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 35,
                                                                                                    "end_token": 35,
                                                                                                    "label": "ExecutionStatus"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 36,
                                                                                                    "end_token": 36,
                                                                                                    "label": "."
                                                                                                }
                                                                                            ],
                                                                                            "label": "ExecutionStatus."
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 37,
                                                                                            "end_token": 37,
                                                                                            "label": "RUNNING"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ExecutionStatus.RUNNING"
                                                                                }
                                                                            ],
                                                                            "label": "\"executionStatus\": ExecutionStatus.RUNNING,"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 40,
                                                                            "end_token": 52,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 40,
                                                                                    "end_token": 40,
                                                                                    "label": "\"startedAt\""
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 42,
                                                                                    "end_token": 51,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 42,
                                                                                            "end_token": 44,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 42,
                                                                                                    "end_token": 42,
                                                                                                    "label": "datetime"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 44,
                                                                                                    "end_token": 44,
                                                                                                    "label": "now"
                                                                                                }
                                                                                            ],
                                                                                            "label": "datetime.now"
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 45,
                                                                                            "end_token": 51,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "pair",
                                                                                                    "start_token": 46,
                                                                                                    "end_token": 50,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 46,
                                                                                                            "end_token": 46,
                                                                                                            "label": "tz"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 48,
                                                                                                            "end_token": 50,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 48,
                                                                                                                    "end_token": 48,
                                                                                                                    "label": "timezone"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 50,
                                                                                                                    "end_token": 50,
                                                                                                                    "label": "utc"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "timezone.utc"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "tz=timezone.utc"
                                                                                                }
                                                                                            ],
                                                                                            "label": "(tz=timezone.utc)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "datetime.now(tz=timezone.utc)"
                                                                                }
                                                                            ],
                                                                            "label": "\"startedAt\": datetime.now(tz=timezone.utc),"
                                                                        }
                                                                    ],
                                                                    "label": "{\n            \"executionStatus\": ExecutionStatus.RUNNING,\n            \"startedAt\": datetime.now(tz=timezone.utc),\n        }"
                                                                }
                                                            ],
                                                            "label": "data={\n            \"executionStatus\": ExecutionStatus.RUNNING,\n            \"startedAt\": datetime.now(tz=timezone.utc),\n        },"
                                                        }
                                                    ],
                                                    "label": "(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": ExecutionStatus.RUNNING,\n            \"startedAt\": datetime.now(tz=timezone.utc),\n        },\n    )"
                                                }
                                            ],
                                            "label": "AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": ExecutionStatus.RUNNING,\n            \"startedAt\": datetime.now(tz=timezone.utc),\n        },\n    )"
                                        }
                                    ],
                                    "label": "await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": ExecutionStatus.RUNNING,\n            \"startedAt\": datetime.now(tz=timezone.utc),\n        },\n    )"
                                }
                            ],
                            "label": "\n    await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": ExecutionStatus.RUNNING,\n            \"startedAt\": datetime.now(tz=timezone.utc),\n        },\n    )\n"
                        }
                    ],
                    "label": "async def update_graph_execution_start_time(graph_exec_id: str):\n    await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": ExecutionStatus.RUNNING,\n            \"startedAt\": datetime.now(tz=timezone.utc),\n        },\n    )\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "update_graph_execution_stats",
            "start_line": 271,
            "end_line": 286,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 107,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 107,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "label": "update_graph_execution_stats"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 7,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "graph_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "graph_exec_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 10,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "label": "stats"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 11,
                                                    "end_token": 17,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 12,
                                                            "end_token": 12,
                                                            "label": "dict"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 14,
                                                            "end_token": 16,
                                                            "label": "str, Any"
                                                        }
                                                    ],
                                                    "label": ": dict[str, Any]"
                                                }
                                            ],
                                            "label": "stats: dict[str, Any]"
                                        }
                                    ],
                                    "label": "(\n    graph_exec_id: str,\n    stats: dict[str, Any],\n)"
                                },
                                {
                                    "type": "type",
                                    "start_token": 22,
                                    "end_token": 23,
                                    "label": "> ExecutionResult"
                                },
                                {
                                    "type": "block",
                                    "start_token": 24,
                                    "end_token": 107,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 26,
                                            "end_token": 41,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 26,
                                                    "end_token": 26,
                                                    "label": "status"
                                                },
                                                {
                                                    "type": "conditional_expression",
                                                    "start_token": 28,
                                                    "end_token": 41,
                                                    "children": [
                                                        {
                                                            "type": "comparison_operator",
                                                            "start_token": 28,
                                                            "end_token": 30,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 28,
                                                                    "end_token": 30,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 28,
                                                                            "end_token": 28,
                                                                            "label": "ExecutionStatus"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 29,
                                                                            "end_token": 30,
                                                                            "label": ".FAILED"
                                                                        }
                                                                    ],
                                                                    "label": "ExecutionStatus.FAILED"
                                                                }
                                                            ],
                                                            "label": "ExecutionStatus.FAILED"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 32,
                                                            "end_token": 37,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 32,
                                                                    "end_token": 34,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 32,
                                                                            "end_token": 32,
                                                                            "label": "stats"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 33,
                                                                            "end_token": 34,
                                                                            "label": ".get"
                                                                        }
                                                                    ],
                                                                    "label": "stats.get"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 35,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 36,
                                                                            "end_token": 36,
                                                                            "label": "\"error\""
                                                                        }
                                                                    ],
                                                                    "label": "(\"error\")"
                                                                }
                                                            ],
                                                            "label": "stats.get(\"error\")"
                                                        },
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 39,
                                                            "end_token": 41,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 39,
                                                                    "end_token": 39,
                                                                    "label": "ExecutionStatus"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 40,
                                                                    "end_token": 41,
                                                                    "label": ".COMPLETED"
                                                                }
                                                            ],
                                                            "label": "ExecutionStatus.COMPLETED"
                                                        }
                                                    ],
                                                    "label": "ExecutionStatus.FAILED if stats.get(\"error\") else ExecutionStatus.COMPLETED"
                                                }
                                            ],
                                            "label": "status = ExecutionStatus.FAILED if stats.get(\"error\") else ExecutionStatus.COMPLETED"
                                        },
                                        {
                                            "type": "await",
                                            "start_token": 43,
                                            "end_token": 86,
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "start_token": 43,
                                                    "end_token": 86,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 43,
                                                            "end_token": 43,
                                                            "label": "res"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 45,
                                                            "end_token": 86,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 45,
                                                                    "end_token": 48,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 45,
                                                                            "end_token": 47,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 45,
                                                                                    "end_token": 45,
                                                                                    "label": "await"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 46,
                                                                                    "end_token": 47,
                                                                                    "label": "AgentGraphExecution."
                                                                                }
                                                                            ],
                                                                            "label": "await AgentGraphExecution."
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 48,
                                                                            "end_token": 48,
                                                                            "label": "prisma"
                                                                        }
                                                                    ],
                                                                    "label": "await AgentGraphExecution.prisma"
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 51,
                                                                    "end_token": 86,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 52,
                                                                            "end_token": 52,
                                                                            "label": "update"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 53,
                                                                            "end_token": 86,
                                                                            "children": [
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 55,
                                                                                    "end_token": 61,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 58,
                                                                                            "end_token": 58,
                                                                                            "label": "\"id\""
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 60,
                                                                                            "end_token": 60,
                                                                                            "label": "graph_exec_id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "where={\"id\": graph_exec_id}"
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 66,
                                                                                    "end_token": 83,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 68,
                                                                                            "end_token": 70,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 68,
                                                                                                    "end_token": 68,
                                                                                                    "label": "\"executionStatus\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 70,
                                                                                                    "end_token": 70,
                                                                                                    "label": "status"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"executionStatus\": status"
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 73,
                                                                                            "end_token": 81,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 73,
                                                                                                    "end_token": 73,
                                                                                                    "label": "\"stats\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 75,
                                                                                                    "end_token": 80,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 75,
                                                                                                            "end_token": 77,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 75,
                                                                                                                    "end_token": 75,
                                                                                                                    "label": "json"
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 76,
                                                                                                                    "end_token": 77,
                                                                                                                    "label": ".dumps"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "json.dumps"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "start_token": 78,
                                                                                                            "end_token": 80,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "start_token": 79,
                                                                                                                    "end_token": 79,
                                                                                                                    "label": "stats"
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "(stats)"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "json.dumps(stats)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"stats\": json.dumps(stats),"
                                                                                        }
                                                                                    ],
                                                                                    "label": "{\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        }"
                                                                                }
                                                                            ],
                                                                            "label": "(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        },\n    )"
                                                                        }
                                                                    ],
                                                                    "label": ".update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        },\n    )"
                                                                }
                                                            ],
                                                            "label": "await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        },\n    )"
                                                        }
                                                    ],
                                                    "label": "res = await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        },\n    )"
                                                }
                                            ],
                                            "label": "res = await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        },\n    )"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 88,
                                            "end_token": 98,
                                            "children": [
                                                {
                                                    "type": "not_operator",
                                                    "start_token": 89,
                                                    "end_token": 90,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 90,
                                                            "end_token": 90,
                                                            "label": "res"
                                                        }
                                                    ],
                                                    "label": "not res"
                                                },
                                                {
                                                    "type": "raise_statement",
                                                    "start_token": 93,
                                                    "end_token": 98,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 94,
                                                            "end_token": 98,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 94,
                                                                    "end_token": 94,
                                                                    "label": "ValueError"
                                                                },
                                                                {
                                                                    "type": "interpolation",
                                                                    "start_token": 96,
                                                                    "end_token": 97,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 97,
                                                                            "end_token": 97,
                                                                            "label": "\"Execution {graph_exec_id} not found.\""
                                                                        }
                                                                    ],
                                                                    "label": "f\"Execution {graph_exec_id} not found.\""
                                                                }
                                                            ],
                                                            "label": "ValueError(f\"Execution {graph_exec_id} not found.\")"
                                                        }
                                                    ],
                                                    "label": "raise ValueError(f\"Execution {graph_exec_id} not found.\")"
                                                }
                                            ],
                                            "label": "if not res:\n        raise ValueError(f\"Execution {graph_exec_id} not found.\")"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 101,
                                            "end_token": 107,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 102,
                                                    "end_token": 107,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 102,
                                                            "end_token": 104,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 102,
                                                                    "end_token": 102,
                                                                    "label": "ExecutionResult"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 103,
                                                                    "end_token": 104,
                                                                    "label": ".from_graph"
                                                                }
                                                            ],
                                                            "label": "ExecutionResult.from_graph"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 105,
                                                            "end_token": 107,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 106,
                                                                    "end_token": 106,
                                                                    "label": "res"
                                                                }
                                                            ],
                                                            "label": "(res)"
                                                        }
                                                    ],
                                                    "label": "ExecutionResult.from_graph(res)"
                                                }
                                            ],
                                            "label": "return ExecutionResult.from_graph(res)"
                                        }
                                    ],
                                    "label": ":\n    status = ExecutionStatus.FAILED if stats.get(\"error\") else ExecutionStatus.COMPLETED\n    res = await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        },\n    )\n    if not res:\n        raise ValueError(f\"Execution {graph_exec_id} not found.\")\n\n    return ExecutionResult.from_graph(res)"
                                }
                            ],
                            "label": "async def update_graph_execution_stats(\n    graph_exec_id: str,\n    stats: dict[str, Any],\n) -> ExecutionResult:\n    status = ExecutionStatus.FAILED if stats.get(\"error\") else ExecutionStatus.COMPLETED\n    res = await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        },\n    )\n    if not res:\n        raise ValueError(f\"Execution {graph_exec_id} not found.\")\n\n    return ExecutionResult.from_graph(res)"
                        }
                    ],
                    "label": "async def update_graph_execution_stats(\n    graph_exec_id: str,\n    stats: dict[str, Any],\n) -> ExecutionResult:\n    status = ExecutionStatus.FAILED if stats.get(\"error\") else ExecutionStatus.COMPLETED\n    res = await AgentGraphExecution.prisma().update(\n        where={\"id\": graph_exec_id},\n        data={\n            \"executionStatus\": status,\n            \"stats\": json.dumps(stats),\n        },\n    )\n    if not res:\n        raise ValueError(f\"Execution {graph_exec_id} not found.\")\n\n    return ExecutionResult.from_graph(res)"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "update_node_execution_stats",
            "start_line": 289,
            "end_line": 293,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 53,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 18,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "label": "update_node_execution_stats"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 16,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "label": "node_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 6,
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "node_exec_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 8,
                                            "end_token": 10,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 8,
                                                    "end_token": 8,
                                                    "label": "stats"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 10,
                                                    "end_token": 15,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 11,
                                                            "end_token": 12,
                                                            "label": "[str"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 14,
                                                            "end_token": 14,
                                                            "label": "Any"
                                                        }
                                                    ],
                                                    "label": "dict[str, Any]"
                                                }
                                            ],
                                            "label": "stats: dict"
                                        }
                                    ],
                                    "label": "(node_exec_id: str, stats: dict[str, Any])"
                                },
                                {
                                    "type": "block",
                                    "start_token": 18,
                                    "end_token": 53,
                                    "children": [
                                        {
                                            "type": "await",
                                            "start_token": 19,
                                            "end_token": 52,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 20,
                                                    "end_token": 52,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 20,
                                                            "end_token": 25,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 20,
                                                                    "end_token": 23,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "label": "AgentNodeExecution"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 22,
                                                                            "end_token": 22,
                                                                            "label": "prisma"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecution.prisma("
                                                                }
                                                            ],
                                                            "label": "AgentNodeExecution.prisma()."
                                                        },
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 25,
                                                            "end_token": 26,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 26,
                                                                    "end_token": 26,
                                                                    "label": "update"
                                                                }
                                                            ],
                                                            "label": ".update"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 27,
                                                            "end_token": 52,
                                                            "children": [
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 29,
                                                                    "end_token": 35,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 32,
                                                                            "end_token": 34,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 32,
                                                                                    "end_token": 32,
                                                                                    "label": "\"id\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 34,
                                                                                    "end_token": 34,
                                                                                    "label": "node_exec_id"
                                                                                }
                                                                            ],
                                                                            "label": "\"id\": node_exec_id"
                                                                        }
                                                                    ],
                                                                    "label": "where={\"id\": node_exec_id}"
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 38,
                                                                    "end_token": 49,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 41,
                                                                            "end_token": 48,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 41,
                                                                                    "end_token": 41,
                                                                                    "label": "\"stats\""
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 43,
                                                                                    "end_token": 48,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 43,
                                                                                            "end_token": 44,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 43,
                                                                                                    "end_token": 43,
                                                                                                    "label": "json"
                                                                                                }
                                                                                            ],
                                                                                            "label": "json."
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "start_token": 45,
                                                                                            "end_token": 47,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 47,
                                                                                                    "end_token": 47,
                                                                                                    "label": "stats"
                                                                                                }
                                                                                            ],
                                                                                            "label": "dumps(stats"
                                                                                        }
                                                                                    ],
                                                                                    "label": "json.dumps(stats)"
                                                                                }
                                                                            ],
                                                                            "label": "\"stats\": json.dumps(stats)"
                                                                        }
                                                                    ],
                                                                    "label": "data={\"stats\": json.dumps(stats)}"
                                                                }
                                                            ],
                                                            "label": "(\n        where={\"id\": node_exec_id},\n        data={\"stats\": json.dumps(stats)},\n    )"
                                                        }
                                                    ],
                                                    "label": "AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data={\"stats\": json.dumps(stats)},\n    )"
                                                }
                                            ],
                                            "label": "await AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data={\"stats\": json.dumps(stats)},\n    )"
                                        }
                                    ],
                                    "label": "\n    await AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data={\"stats\": json.dumps(stats)},\n    )\n"
                                }
                            ],
                            "label": "async def update_node_execution_stats(node_exec_id: str, stats: dict[str, Any]):\n"
                        }
                    ],
                    "label": "async def update_node_execution_stats(node_exec_id: str, stats: dict[str, Any]):\n    await AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data={\"stats\": json.dumps(stats)},\n    )\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "update_execution_status",
            "start_line": 296,
            "end_line": 324,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 277,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 278,
                            "children": [
                                {
                                    "type": "async",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "label": "update_execution_status"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 38,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 7,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "node_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "node_exec_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 10,
                                            "end_token": 12,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "label": "status"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 11,
                                                    "end_token": 12,
                                                    "label": ": ExecutionStatus"
                                                }
                                            ],
                                            "label": "status: ExecutionStatus"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 15,
                                            "end_token": 21,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "label": "execution_data"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 16,
                                                    "end_token": 19,
                                                    "children": [
                                                        {
                                                            "type": "type",
                                                            "start_token": 16,
                                                            "end_token": 17,
                                                            "label": ": BlockInput"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 19,
                                                            "end_token": 19,
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": ": BlockInput | None"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 21,
                                                    "end_token": 21,
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "execution_data: BlockInput | None = None"
                                        },
                                        {
                                            "type": "typed_default_parameter",
                                            "start_token": 24,
                                            "end_token": 35,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 24,
                                                    "end_token": 24,
                                                    "label": "stats"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 25,
                                                    "end_token": 33,
                                                    "children": [
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 25,
                                                            "end_token": 31,
                                                            "children": [
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 25,
                                                                    "end_token": 26,
                                                                    "label": ": dict"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 27,
                                                                    "end_token": 28,
                                                                    "label": "[str"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 29,
                                                                    "end_token": 30,
                                                                    "label": ", Any"
                                                                }
                                                            ],
                                                            "label": ": dict[str, Any]"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 33,
                                                            "end_token": 33,
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": ": dict[str, Any] | None"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 35,
                                                    "end_token": 35,
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "stats: dict[str, Any] | None = None"
                                        }
                                    ],
                                    "label": "(\n    node_exec_id: str,\n    status: ExecutionStatus,\n    execution_data: BlockInput | None = None,\n    stats: dict[str, Any] | None = None,\n)"
                                },
                                {
                                    "type": "type",
                                    "start_token": 40,
                                    "end_token": 41,
                                    "label": "> ExecutionResult"
                                },
                                {
                                    "type": "block",
                                    "start_token": 42,
                                    "end_token": 278,
                                    "children": [
                                        {
                                            "type": "if_statement",
                                            "start_token": 44,
                                            "end_token": 61,
                                            "children": [
                                                {
                                                    "type": "boolean_operator",
                                                    "start_token": 44,
                                                    "end_token": 54,
                                                    "children": [
                                                        {
                                                            "type": "comparison_operator",
                                                            "start_token": 45,
                                                            "end_token": 50,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 45,
                                                                    "end_token": 45,
                                                                    "label": "status"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 47,
                                                                    "end_token": 50,
                                                                    "label": "= ExecutionStatus.QUEUED"
                                                                }
                                                            ],
                                                            "label": "status == ExecutionStatus.QUEUED"
                                                        },
                                                        {
                                                            "type": "comparison_operator",
                                                            "start_token": 52,
                                                            "end_token": 54,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 52,
                                                                    "end_token": 52,
                                                                    "label": "execution_data"
                                                                },
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 54,
                                                                    "end_token": 54,
                                                                    "label": "None"
                                                                }
                                                            ],
                                                            "label": "execution_data is None"
                                                        }
                                                    ],
                                                    "label": "if status == ExecutionStatus.QUEUED and execution_data is None"
                                                },
                                                {
                                                    "type": "raise_statement",
                                                    "start_token": 57,
                                                    "end_token": 61,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 58,
                                                            "end_token": 61,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 58,
                                                                    "end_token": 58,
                                                                    "label": "ValueError"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 60,
                                                                    "end_token": 60,
                                                                    "label": "\"Execution data must be provided when queuing an execution.\""
                                                                }
                                                            ],
                                                            "label": "ValueError(\"Execution data must be provided when queuing an execution.\")"
                                                        }
                                                    ],
                                                    "label": "raise ValueError(\"Execution data must be provided when queuing an execution.\")"
                                                }
                                            ],
                                            "label": "if status == ExecutionStatus.QUEUED and execution_data is None:\n        raise ValueError(\"Execution data must be provided when queuing an execution.\")"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 64,
                                            "end_token": 75,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 64,
                                                    "end_token": 64,
                                                    "label": "now"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 66,
                                                    "end_token": 75,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 66,
                                                            "end_token": 68,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 66,
                                                                    "end_token": 66,
                                                                    "label": "datetime"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 68,
                                                                    "end_token": 68,
                                                                    "label": "now"
                                                                }
                                                            ],
                                                            "label": "datetime.now"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 69,
                                                            "end_token": 75,
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "start_token": 70,
                                                                    "end_token": 74,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 70,
                                                                            "end_token": 70,
                                                                            "label": "tz"
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 72,
                                                                            "end_token": 74,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 72,
                                                                                    "end_token": 72,
                                                                                    "label": "timezone"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 74,
                                                                                    "end_token": 74,
                                                                                    "label": "utc"
                                                                                }
                                                                            ],
                                                                            "label": "timezone.utc"
                                                                        }
                                                                    ],
                                                                    "label": "tz=timezone.utc"
                                                                }
                                                            ],
                                                            "label": "(tz=timezone.utc)"
                                                        }
                                                    ],
                                                    "label": "datetime.now(tz=timezone.utc)"
                                                }
                                            ],
                                            "label": "now = datetime.now(tz=timezone.utc)"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 77,
                                            "end_token": 218,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 77,
                                                    "end_token": 77,
                                                    "label": "data"
                                                },
                                                {
                                                    "type": "dictionary",
                                                    "start_token": 79,
                                                    "end_token": 218,
                                                    "children": [
                                                        {
                                                            "type": "dictionary_splat",
                                                            "start_token": 81,
                                                            "end_token": 89,
                                                            "children": [
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 83,
                                                                    "end_token": 88,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 85,
                                                                            "end_token": 87,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 85,
                                                                                    "end_token": 85,
                                                                                    "label": "\"executionStatus\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 87,
                                                                                    "end_token": 87,
                                                                                    "label": "status"
                                                                                }
                                                                            ],
                                                                            "label": "\"executionStatus\": status"
                                                                        }
                                                                    ],
                                                                    "label": "({\"executionStatus\": status}"
                                                                }
                                                            ],
                                                            "label": "**({\"executionStatus\": status})"
                                                        },
                                                        {
                                                            "type": "dictionary_splat",
                                                            "start_token": 93,
                                                            "end_token": 110,
                                                            "children": [
                                                                {
                                                                    "type": "conditional_expression",
                                                                    "start_token": 95,
                                                                    "end_token": 110,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 96,
                                                                            "end_token": 98,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 96,
                                                                                    "end_token": 96,
                                                                                    "label": "\"queuedTime\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 98,
                                                                                    "end_token": 98,
                                                                                    "label": "now"
                                                                                }
                                                                            ],
                                                                            "label": "\"queuedTime\": now"
                                                                        },
                                                                        {
                                                                            "type": "comparison_operator",
                                                                            "start_token": 100,
                                                                            "end_token": 106,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 100,
                                                                                    "end_token": 100,
                                                                                    "label": "if"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 102,
                                                                                    "end_token": 106,
                                                                                    "label": "== ExecutionStatus.QUEUED"
                                                                                }
                                                                            ],
                                                                            "label": "if status == ExecutionStatus.QUEUED"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 108,
                                                                            "end_token": 109,
                                                                            "label": "{}"
                                                                        }
                                                                    ],
                                                                    "label": "{\"queuedTime\": now} if status == ExecutionStatus.QUEUED else {})"
                                                                }
                                                            ],
                                                            "label": "*({\"queuedTime\": now} if status == ExecutionStatus.QUEUED else {})"
                                                        },
                                                        {
                                                            "type": "dictionary_splat",
                                                            "start_token": 113,
                                                            "end_token": 131,
                                                            "children": [
                                                                {
                                                                    "type": "conditional_expression",
                                                                    "start_token": 115,
                                                                    "end_token": 131,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 117,
                                                                            "end_token": 119,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 117,
                                                                                    "end_token": 117,
                                                                                    "label": "\"startedTime\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 119,
                                                                                    "end_token": 119,
                                                                                    "label": "now"
                                                                                }
                                                                            ],
                                                                            "label": "\"startedTime\": now"
                                                                        },
                                                                        {
                                                                            "type": "comparison_operator",
                                                                            "start_token": 121,
                                                                            "end_token": 127,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 121,
                                                                                    "end_token": 121,
                                                                                    "label": "if"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 123,
                                                                                    "end_token": 127,
                                                                                    "label": "== ExecutionStatus.RUNNING"
                                                                                }
                                                                            ],
                                                                            "label": "if status == ExecutionStatus.RUNNING"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 129,
                                                                            "end_token": 130,
                                                                            "label": "{}"
                                                                        }
                                                                    ],
                                                                    "label": "({\"startedTime\": now} if status == ExecutionStatus.RUNNING else {})"
                                                                }
                                                            ],
                                                            "label": "**({\"startedTime\": now} if status == ExecutionStatus.RUNNING else {})"
                                                        },
                                                        {
                                                            "type": "dictionary_splat",
                                                            "start_token": 135,
                                                            "end_token": 152,
                                                            "children": [
                                                                {
                                                                    "type": "conditional_expression",
                                                                    "start_token": 137,
                                                                    "end_token": 152,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 139,
                                                                            "end_token": 141,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 139,
                                                                                    "end_token": 139,
                                                                                    "label": ":"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 141,
                                                                                    "end_token": 141,
                                                                                    "label": "}"
                                                                                }
                                                                            ],
                                                                            "label": ": now}"
                                                                        },
                                                                        {
                                                                            "type": "comparison_operator",
                                                                            "start_token": 143,
                                                                            "end_token": 149,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 143,
                                                                                    "end_token": 143,
                                                                                    "label": "status"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 145,
                                                                                    "end_token": 149,
                                                                                    "label": "= ExecutionStatus.FAILED else"
                                                                                }
                                                                            ],
                                                                            "label": "status == ExecutionStatus.FAILED else"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 151,
                                                                            "end_token": 151,
                                                                            "label": "}"
                                                                        }
                                                                    ],
                                                                    "label": "{\"endedTime\": now} if status == ExecutionStatus.FAILED else {})"
                                                                }
                                                            ],
                                                            "label": "*({\"endedTime\": now} if status == ExecutionStatus.FAILED else {})"
                                                        },
                                                        {
                                                            "type": "dictionary_splat",
                                                            "start_token": 155,
                                                            "end_token": 173,
                                                            "children": [
                                                                {
                                                                    "type": "conditional_expression",
                                                                    "start_token": 157,
                                                                    "end_token": 173,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 159,
                                                                            "end_token": 161,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 159,
                                                                                    "end_token": 159,
                                                                                    "label": "\"endedTime\""
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 161,
                                                                                    "end_token": 161,
                                                                                    "label": "now"
                                                                                }
                                                                            ],
                                                                            "label": "\"endedTime\": now"
                                                                        },
                                                                        {
                                                                            "type": "comparison_operator",
                                                                            "start_token": 163,
                                                                            "end_token": 169,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 163,
                                                                                    "end_token": 163,
                                                                                    "label": "if"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 165,
                                                                                    "end_token": 169,
                                                                                    "label": "== ExecutionStatus.COMPLETED"
                                                                                }
                                                                            ],
                                                                            "label": "if status == ExecutionStatus.COMPLETED"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 171,
                                                                            "end_token": 171,
                                                                            "label": "{"
                                                                        }
                                                                    ],
                                                                    "label": "({\"endedTime\": now} if status == ExecutionStatus.COMPLETED else {})"
                                                                }
                                                            ],
                                                            "label": "**({\"endedTime\": now} if status == ExecutionStatus.COMPLETED else {})"
                                                        },
                                                        {
                                                            "type": "dictionary_splat",
                                                            "start_token": 177,
                                                            "end_token": 194,
                                                            "children": [
                                                                {
                                                                    "type": "conditional_expression",
                                                                    "start_token": 179,
                                                                    "end_token": 194,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 180,
                                                                            "end_token": 187,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 180,
                                                                                    "end_token": 180,
                                                                                    "label": "\"executionData\""
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 182,
                                                                                    "end_token": 187,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 182,
                                                                                            "end_token": 184,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 182,
                                                                                                    "end_token": 182,
                                                                                                    "label": "json"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 184,
                                                                                                    "end_token": 184,
                                                                                                    "label": "dumps"
                                                                                                }
                                                                                            ],
                                                                                            "label": "json.dumps"
                                                                                        },
                                                                                        {
                                                                                            "type": "expression_list",
                                                                                            "start_token": 185,
                                                                                            "end_token": 186,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 185,
                                                                                                    "end_token": 185,
                                                                                                    "label": "("
                                                                                                }
                                                                                            ],
                                                                                            "label": "(execution_data"
                                                                                        }
                                                                                    ],
                                                                                    "label": "json.dumps(execution_data)"
                                                                                }
                                                                            ],
                                                                            "label": "\"executionData\": json.dumps(execution_data)"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 190,
                                                                            "end_token": 190,
                                                                            "label": "execution_data"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 192,
                                                                            "end_token": 192,
                                                                            "label": "{"
                                                                        }
                                                                    ],
                                                                    "label": "{\"executionData\": json.dumps(execution_data)} if execution_data else {})"
                                                                }
                                                            ],
                                                            "label": "*({\"executionData\": json.dumps(execution_data)} if execution_data else {})"
                                                        },
                                                        {
                                                            "type": "dictionary_splat",
                                                            "start_token": 199,
                                                            "end_token": 215,
                                                            "children": [
                                                                {
                                                                    "type": "conditional_expression",
                                                                    "start_token": 201,
                                                                    "end_token": 215,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 201,
                                                                            "end_token": 208,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 201,
                                                                                    "end_token": 201,
                                                                                    "label": "\"stats\""
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 203,
                                                                                    "end_token": 208,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 203,
                                                                                            "end_token": 205,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 203,
                                                                                                    "end_token": 203,
                                                                                                    "label": "json"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 205,
                                                                                                    "end_token": 205,
                                                                                                    "label": "dumps"
                                                                                                }
                                                                                            ],
                                                                                            "label": "json.dumps"
                                                                                        },
                                                                                        {
                                                                                            "type": "expression_list",
                                                                                            "start_token": 206,
                                                                                            "end_token": 207,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 206,
                                                                                                    "end_token": 206,
                                                                                                    "label": "("
                                                                                                }
                                                                                            ],
                                                                                            "label": "(stats"
                                                                                        }
                                                                                    ],
                                                                                    "label": "json.dumps(stats)"
                                                                                }
                                                                            ],
                                                                            "label": "\"stats\": json.dumps(stats)"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 211,
                                                                            "end_token": 211,
                                                                            "label": "stats"
                                                                        },
                                                                        {
                                                                            "type": "dictionary",
                                                                            "start_token": 213,
                                                                            "end_token": 213,
                                                                            "label": "{"
                                                                        }
                                                                    ],
                                                                    "label": "\"stats\": json.dumps(stats)} if stats else {})"
                                                                }
                                                            ],
                                                            "label": "({\"stats\": json.dumps(stats)} if stats else {})"
                                                        }
                                                    ],
                                                    "label": "{\n        **({\"executionStatus\": status}),\n        **({\"queuedTime\": now} if status == ExecutionStatus.QUEUED else {}),\n        **({\"startedTime\": now} if status == ExecutionStatus.RUNNING else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.FAILED else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.COMPLETED else {}),\n        **({\"executionData\": json.dumps(execution_data)} if execution_data else {}),\n        **({\"stats\": json.dumps(stats)} if stats else {}),\n    }"
                                                }
                                            ],
                                            "label": "data = {\n        **({\"executionStatus\": status}),\n        **({\"queuedTime\": now} if status == ExecutionStatus.QUEUED else {}),\n        **({\"startedTime\": now} if status == ExecutionStatus.RUNNING else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.FAILED else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.COMPLETED else {}),\n        **({\"executionData\": json.dumps(execution_data)} if execution_data else {}),\n        **({\"stats\": json.dumps(stats)} if stats else {}),\n    }"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 221,
                                            "end_token": 256,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 221,
                                                    "end_token": 221,
                                                    "label": "res"
                                                },
                                                {
                                                    "type": "await",
                                                    "start_token": 223,
                                                    "end_token": 255,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 224,
                                                            "end_token": 256,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 224,
                                                                    "end_token": 230,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 224,
                                                                            "end_token": 226,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 224,
                                                                                    "end_token": 224,
                                                                                    "label": "AgentNodeExecution"
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 226,
                                                                                    "end_token": 226,
                                                                                    "label": "prisma"
                                                                                }
                                                                            ],
                                                                            "label": "AgentNodeExecution.prisma"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecution.prisma().update"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 231,
                                                                    "end_token": 255,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 233,
                                                                            "end_token": 239,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 233,
                                                                                    "end_token": 233,
                                                                                    "label": "where"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 238,
                                                                                    "end_token": 238,
                                                                                    "label": "node_exec_id"
                                                                                }
                                                                            ],
                                                                            "label": "where={\"id\": node_exec_id}"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 242,
                                                                            "end_token": 244,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 242,
                                                                                    "end_token": 242,
                                                                                    "label": "data"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 244,
                                                                                    "end_token": 244,
                                                                                    "label": "data"
                                                                                }
                                                                            ],
                                                                            "label": "data=data"
                                                                        },
                                                                        {
                                                                            "type": "comment",
                                                                            "start_token": 246,
                                                                            "end_token": 249,
                                                                            "label": "# type: ignore"
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 251,
                                                                            "end_token": 253,
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "start_token": 251,
                                                                                    "end_token": 251,
                                                                                    "label": "include"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 253,
                                                                                    "end_token": 253,
                                                                                    "label": "EXECUTION_RESULT_INCLUDE"
                                                                                }
                                                                            ],
                                                                            "label": "include=EXECUTION_RESULT_INCLUDE"
                                                                        }
                                                                    ],
                                                                    "label": "(\n        where={\"id\": node_exec_id},\n        data=data,  # type: ignore\n        include=EXECUTION_RESULT_INCLUDE,\n"
                                                                }
                                                            ],
                                                            "label": "AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data=data,  # type: ignore\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                                        }
                                                    ],
                                                    "label": "await AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data=data,  # type: ignore\n        include=EXECUTION_RESULT_INCLUDE,\n"
                                                }
                                            ],
                                            "label": "res = await AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data=data,  # type: ignore\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 258,
                                            "end_token": 268,
                                            "children": [
                                                {
                                                    "type": "not_operator",
                                                    "start_token": 259,
                                                    "end_token": 259,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 260,
                                                            "end_token": 260,
                                                            "label": "res"
                                                        }
                                                    ],
                                                    "label": "not"
                                                },
                                                {
                                                    "type": "raise_statement",
                                                    "start_token": 263,
                                                    "end_token": 268,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 264,
                                                            "end_token": 268,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 264,
                                                                    "end_token": 264,
                                                                    "label": "ValueError"
                                                                },
                                                                {
                                                                    "type": "f-string",
                                                                    "start_token": 266,
                                                                    "end_token": 267,
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "start_token": 266,
                                                                            "end_token": 266,
                                                                            "label": "f"
                                                                        },
                                                                        {
                                                                            "type": "interpolation",
                                                                            "start_token": 267,
                                                                            "end_token": 267,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 267,
                                                                                    "end_token": 267,
                                                                                    "label": "\"Execution {node_exec_id} not found.\""
                                                                                }
                                                                            ],
                                                                            "label": "\"Execution {node_exec_id} not found.\""
                                                                        }
                                                                    ],
                                                                    "label": "f\"Execution {node_exec_id} not found.\""
                                                                }
                                                            ],
                                                            "label": "ValueError(f\"Execution {node_exec_id} not found.\")"
                                                        }
                                                    ],
                                                    "label": "raise ValueError(f\"Execution {node_exec_id} not found.\")"
                                                }
                                            ],
                                            "label": "if not res:\n        raise ValueError(f\"Execution {node_exec_id} not found.\")"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 271,
                                            "end_token": 277,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 272,
                                                    "end_token": 277,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 272,
                                                            "end_token": 274,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 272,
                                                                    "end_token": 272,
                                                                    "label": "ExecutionResult"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 274,
                                                                    "end_token": 274,
                                                                    "label": "from_db"
                                                                }
                                                            ],
                                                            "label": "ExecutionResult.from_db"
                                                        },
                                                        {
                                                            "type": "expression_list",
                                                            "start_token": 275,
                                                            "end_token": 276,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 275,
                                                                    "end_token": 275,
                                                                    "label": "("
                                                                }
                                                            ],
                                                            "label": "(res"
                                                        }
                                                    ],
                                                    "label": "ExecutionResult.from_db(res)"
                                                }
                                            ],
                                            "label": "return ExecutionResult.from_db(res)"
                                        }
                                    ],
                                    "label": ":\n    if status == ExecutionStatus.QUEUED and execution_data is None:\n        raise ValueError(\"Execution data must be provided when queuing an execution.\")\n\n    now = datetime.now(tz=timezone.utc)\n    data = {\n        **({\"executionStatus\": status}),\n        **({\"queuedTime\": now} if status == ExecutionStatus.QUEUED else {}),\n        **({\"startedTime\": now} if status == ExecutionStatus.RUNNING else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.FAILED else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.COMPLETED else {}),\n        **({\"executionData\": json.dumps(execution_data)} if execution_data else {}),\n        **({\"stats\": json.dumps(stats)} if stats else {}),\n    }\n\n    res = await AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data=data,  # type: ignore\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    if not res:\n        raise ValueError(f\"Execution {node_exec_id} not found.\")\n\n    return ExecutionResult.from_db(res)\n"
                                }
                            ],
                            "label": "async def update_execution_status(\n    node_exec_id: str,\n    status: ExecutionStatus,\n    execution_data: BlockInput | None = None,\n    stats: dict[str, Any] | None = None,\n) -> ExecutionResult:\n    if status == ExecutionStatus.QUEUED and execution_data is None:\n        raise ValueError(\"Execution data must be provided when queuing an execution.\")\n\n    now = datetime.now(tz=timezone.utc)\n    data = {\n        **({\"executionStatus\": status}),\n        **({\"queuedTime\": now} if status == ExecutionStatus.QUEUED else {}),\n        **({\"startedTime\": now} if status == ExecutionStatus.RUNNING else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.FAILED else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.COMPLETED else {}),\n        **({\"executionData\": json.dumps(execution_data)} if execution_data else {}),\n        **({\"stats\": json.dumps(stats)} if stats else {}),\n    }\n\n    res = await AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data=data,  # type: ignore\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    if not res:\n        raise ValueError(f\"Execution {node_exec_id} not found.\")\n\n    return ExecutionResult.from_db(res)\n"
                        }
                    ],
                    "label": "async def update_execution_status(\n    node_exec_id: str,\n    status: ExecutionStatus,\n    execution_data: BlockInput | None = None,\n    stats: dict[str, Any] | None = None,\n) -> ExecutionResult:\n    if status == ExecutionStatus.QUEUED and execution_data is None:\n        raise ValueError(\"Execution data must be provided when queuing an execution.\")\n\n    now = datetime.now(tz=timezone.utc)\n    data = {\n        **({\"executionStatus\": status}),\n        **({\"queuedTime\": now} if status == ExecutionStatus.QUEUED else {}),\n        **({\"startedTime\": now} if status == ExecutionStatus.RUNNING else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.FAILED else {}),\n        **({\"endedTime\": now} if status == ExecutionStatus.COMPLETED else {}),\n        **({\"executionData\": json.dumps(execution_data)} if execution_data else {}),\n        **({\"stats\": json.dumps(stats)} if stats else {}),\n    }\n\n    res = await AgentNodeExecution.prisma().update(\n        where={\"id\": node_exec_id},\n        data=data,  # type: ignore\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    if not res:\n        raise ValueError(f\"Execution {node_exec_id} not found.\")\n\n    return ExecutionResult.from_db(res)"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_execution_results",
            "start_line": 327,
            "end_line": 337,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 90,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 90,
                            "children": [
                                {
                                    "type": "async",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "get_execution_results"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 7,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "children": [],
                                                    "label": "graph_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 6,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_exec_id: str"
                                        }
                                    ],
                                    "label": "(graph_exec_id: str)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 9,
                                    "end_token": 13,
                                    "children": [
                                        {
                                            "type": "generic_type",
                                            "start_token": 10,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "list"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 12,
                                                    "end_token": 12,
                                                    "children": [],
                                                    "label": "ExecutionResult"
                                                }
                                            ],
                                            "label": "list[ExecutionResult]"
                                        }
                                    ],
                                    "label": "> list[ExecutionResult]"
                                },
                                {
                                    "type": "block",
                                    "start_token": 15,
                                    "end_token": 90,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 16,
                                            "end_token": 26,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 16,
                                                    "end_token": 16,
                                                    "children": [],
                                                    "label": "executions"
                                                },
                                                {
                                                    "type": "await",
                                                    "start_token": 18,
                                                    "end_token": 26,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 19,
                                                            "end_token": 26,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 19,
                                                                    "end_token": 21,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 19,
                                                                            "end_token": 19,
                                                                            "children": [],
                                                                            "label": "AgentNodeExecution"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 21,
                                                                            "end_token": 21,
                                                                            "children": [],
                                                                            "label": "prisma"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecution.prisma"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 24,
                                                                    "end_token": 26,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 25,
                                                                            "end_token": 25,
                                                                            "children": [],
                                                                            "label": "find_many"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 26,
                                                                            "end_token": 72,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 28,
                                                                                    "end_token": 34,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 31,
                                                                                            "end_token": 33,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 31,
                                                                                                    "end_token": 31,
                                                                                                    "children": [],
                                                                                                    "label": "\"agentGraphExecutionId\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 33,
                                                                                                    "end_token": 33,
                                                                                                    "children": [],
                                                                                                    "label": "graph_exec_id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"agentGraphExecutionId\": graph_exec_id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "where={\"agentGraphExecutionId\": graph_exec_id}"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 37,
                                                                                    "end_token": 39,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 37,
                                                                                            "end_token": 37,
                                                                                            "children": [],
                                                                                            "label": "include"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 39,
                                                                                            "end_token": 39,
                                                                                            "children": [],
                                                                                            "label": "EXECUTION_RESULT_INCLUDE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "include=EXECUTION_RESULT_INCLUDE"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 42,
                                                                                    "end_token": 70,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 42,
                                                                                            "end_token": 42,
                                                                                            "children": [],
                                                                                            "label": "order"
                                                                                        },
                                                                                        {
                                                                                            "type": "list",
                                                                                            "start_token": 44,
                                                                                            "end_token": 69,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 46,
                                                                                                    "end_token": 50,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 47,
                                                                                                            "end_token": 49,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 47,
                                                                                                                    "end_token": 47,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"queuedTime\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 49,
                                                                                                                    "end_token": 49,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"asc\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"queuedTime\": \"asc\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "{\"queuedTime\": \"asc\"}"
                                                                                                },
                                                                                                {
                                                                                                    "type": "dictionary",
                                                                                                    "start_token": 53,
                                                                                                    "end_token": 57,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "pair",
                                                                                                            "start_token": 54,
                                                                                                            "end_token": 56,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 54,
                                                                                                                    "end_token": 54,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"addedTime\""
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "start_token": 56,
                                                                                                                    "end_token": 56,
                                                                                                                    "children": [],
                                                                                                                    "label": "\"asc\""
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "\"addedTime\": \"asc\""
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "{\"addedTime\": \"asc\"}"
                                                                                                }
                                                                                            ],
                                                                                            "label": "[\n            {\"queuedTime\": \"asc\"},\n            {\"addedTime\": \"asc\"},  # Fallback: Incomplete execs has no queuedTime.\n        ]"
                                                                                        }
                                                                                    ],
                                                                                    "label": "order=[\n            {\"queuedTime\": \"asc\"},\n            {\"addedTime\": \"asc\"},  # Fallback: Incomplete execs has no queuedTime.\n        ],"
                                                                                }
                                                                            ],
                                                                            "label": "(\n        where={\"agentGraphExecutionId\": graph_exec_id},\n        include=EXECUTION_RESULT_INCLUDE,\n        order=[\n            {\"queuedTime\": \"asc\"},\n            {\"addedTime\": \"asc\"},  # Fallback: Incomplete execs has no queuedTime.\n        ],\n    )"
                                                                        }
                                                                    ],
                                                                    "label": ".find_many("
                                                                }
                                                            ],
                                                            "label": "AgentNodeExecution.prisma().find_many("
                                                        }
                                                    ],
                                                    "label": "await AgentNodeExecution.prisma().find_many("
                                                }
                                            ],
                                            "label": "executions = await AgentNodeExecution.prisma().find_many("
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 74,
                                            "end_token": 87,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 74,
                                                    "end_token": 74,
                                                    "children": [],
                                                    "label": "res"
                                                },
                                                {
                                                    "type": "list_comprehension",
                                                    "start_token": 76,
                                                    "end_token": 87,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 77,
                                                            "end_token": 82,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 77,
                                                                    "end_token": 78,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 77,
                                                                            "end_token": 77,
                                                                            "children": [],
                                                                            "label": "ExecutionResult"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 78,
                                                                            "end_token": 78,
                                                                            "children": [],
                                                                            "label": "."
                                                                        }
                                                                    ],
                                                                    "label": "ExecutionResult."
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 80,
                                                                    "end_token": 82,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 81,
                                                                            "end_token": 81,
                                                                            "children": [],
                                                                            "label": "execution"
                                                                        }
                                                                    ],
                                                                    "label": "(execution)"
                                                                }
                                                            ],
                                                            "label": "ExecutionResult.from_db(execution)"
                                                        },
                                                        {
                                                            "type": "for_in_clause",
                                                            "start_token": 83,
                                                            "end_token": 86,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 84,
                                                                    "end_token": 84,
                                                                    "children": [],
                                                                    "label": "execution"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 86,
                                                                    "end_token": 86,
                                                                    "children": [],
                                                                    "label": "executions"
                                                                }
                                                            ],
                                                            "label": "for execution in executions"
                                                        }
                                                    ],
                                                    "label": "[ExecutionResult.from_db(execution) for execution in executions]"
                                                }
                                            ],
                                            "label": "res = [ExecutionResult.from_db(execution) for execution in executions]"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 89,
                                            "end_token": 90,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 90,
                                                    "end_token": 90,
                                                    "children": [],
                                                    "label": "res"
                                                }
                                            ],
                                            "label": "return res"
                                        }
                                    ],
                                    "label": "\n    executions = await AgentNodeExecution.prisma().find_many(\n        where={\"agentGraphExecutionId\": graph_exec_id},\n        include=EXECUTION_RESULT_INCLUDE,\n        order=[\n            {\"queuedTime\": \"asc\"},\n            {\"addedTime\": \"asc\"},  # Fallback: Incomplete execs has no queuedTime.\n        ],\n    )\n    res = [ExecutionResult.from_db(execution) for execution in executions]\n    return res"
                                }
                            ],
                            "label": "async def get_execution_results(graph_exec_id: str) -> list[ExecutionResult]:\n    executions = await AgentNodeExecution.prisma().find_many(\n        where={\"agentGraphExecutionId\": graph_exec_id},\n        include=EXECUTION_RESULT_INCLUDE,\n        order=[\n            {\"queuedTime\": \"asc\"},\n            {\"addedTime\": \"asc\"},  # Fallback: Incomplete execs has no queuedTime.\n        ],\n    )\n    res = [ExecutionResult.from_db(execution) for execution in executions]\n    return res"
                        }
                    ],
                    "label": "async def get_execution_results(graph_exec_id: str) -> list[ExecutionResult]:\n    executions = await AgentNodeExecution.prisma().find_many(\n        where={\"agentGraphExecutionId\": graph_exec_id},\n        include=EXECUTION_RESULT_INCLUDE,\n        order=[\n            {\"queuedTime\": \"asc\"},\n            {\"addedTime\": \"asc\"},  # Fallback: Incomplete execs has no queuedTime.\n        ],\n    )\n    res = [ExecutionResult.from_db(execution) for execution in executions]\n    return res"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "parse_execution_output",
            "start_line": 345,
            "end_line": 370,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 208,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 208,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "parse_execution_output"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 10,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 3,
                                            "end_token": 5,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "children": [],
                                                    "label": "output"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "BlockData"
                                                }
                                            ],
                                            "label": "output: BlockData"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "name"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "name: str"
                                        }
                                    ],
                                    "label": "(output: BlockData, name: str)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 12,
                                    "end_token": 15,
                                    "children": [
                                        {
                                            "type": "type",
                                            "start_token": 13,
                                            "end_token": 13,
                                            "children": [],
                                            "label": "Any"
                                        },
                                        {
                                            "type": "none",
                                            "start_token": 15,
                                            "end_token": 15,
                                            "children": [],
                                            "label": "None"
                                        }
                                    ],
                                    "label": "> Any | None"
                                },
                                {
                                    "type": "block",
                                    "start_token": 16,
                                    "end_token": 208,
                                    "children": [
                                        {
                                            "type": "comment",
                                            "start_token": 18,
                                            "end_token": 26,
                                            "children": [],
                                            "label": "# Allow extracting partial output data by name."
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 28,
                                            "end_token": 32,
                                            "children": [
                                                {
                                                    "type": "expression_list",
                                                    "start_token": 28,
                                                    "end_token": 30,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 28,
                                                            "end_token": 28,
                                                            "children": [],
                                                            "label": "output_name"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 30,
                                                            "end_token": 30,
                                                            "children": [],
                                                            "label": "output_data"
                                                        }
                                                    ],
                                                    "label": "output_name, output_data"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 32,
                                                    "end_token": 32,
                                                    "children": [],
                                                    "label": "output"
                                                }
                                            ],
                                            "label": "output_name, output_data = output"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 35,
                                            "end_token": 44,
                                            "children": [
                                                {
                                                    "type": "comparison_operator",
                                                    "start_token": 36,
                                                    "end_token": 39,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 36,
                                                            "end_token": 36,
                                                            "children": [],
                                                            "label": "name"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 39,
                                                            "end_token": 39,
                                                            "children": [],
                                                            "label": "output_name"
                                                        }
                                                    ],
                                                    "label": "name == output_name"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 40,
                                                    "end_token": 44,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 42,
                                                            "end_token": 43,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 43,
                                                                    "end_token": 43,
                                                                    "children": [],
                                                                    "label": "output_data"
                                                                }
                                                            ],
                                                            "label": "return output_data"
                                                        }
                                                    ],
                                                    "label": ":\n        return output_data\n"
                                                }
                                            ],
                                            "label": "if name == output_name:\n        return output_data\n"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 46,
                                            "end_token": 91,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 48,
                                                    "end_token": 53,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 48,
                                                            "end_token": 49,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 48,
                                                                    "end_token": 48,
                                                                    "children": [],
                                                                    "label": "."
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 49,
                                                                    "end_token": 49,
                                                                    "children": [],
                                                                    "label": "startswith"
                                                                }
                                                            ],
                                                            "label": ".startswith"
                                                        },
                                                        {
                                                            "type": "interpolation",
                                                            "start_token": 51,
                                                            "end_token": 52,
                                                            "children": [],
                                                            "label": "f\"{output_name}{LIST_SPLIT}\""
                                                        }
                                                    ],
                                                    "label": ".startswith(f\"{output_name}{LIST_SPLIT}\")"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 54,
                                                    "end_token": 91,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 56,
                                                            "end_token": 69,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 56,
                                                                    "end_token": 56,
                                                                    "children": [],
                                                                    "label": "index"
                                                                },
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 58,
                                                                    "end_token": 69,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 60,
                                                                            "end_token": 66,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 60,
                                                                                    "end_token": 62,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 60,
                                                                                            "end_token": 60,
                                                                                            "children": [],
                                                                                            "label": "name"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 62,
                                                                                            "end_token": 62,
                                                                                            "children": [],
                                                                                            "label": "split"
                                                                                        }
                                                                                    ],
                                                                                    "label": "name.split"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 64,
                                                                                    "end_token": 64,
                                                                                    "children": [],
                                                                                    "label": "LIST_SPLIT"
                                                                                }
                                                                            ],
                                                                            "label": "name.split(LIST_SPLIT)["
                                                                        },
                                                                        {
                                                                            "type": "integer",
                                                                            "start_token": 67,
                                                                            "end_token": 67,
                                                                            "children": [],
                                                                            "label": "1"
                                                                        }
                                                                    ],
                                                                    "label": "int(name.split(LIST_SPLIT)[1])"
                                                                }
                                                            ],
                                                            "label": "index = int(name.split(LIST_SPLIT)[1])"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 71,
                                                            "end_token": 90,
                                                            "children": [
                                                                {
                                                                    "type": "boolean_operator",
                                                                    "start_token": 72,
                                                                    "end_token": 86,
                                                                    "children": [
                                                                        {
                                                                            "type": "not_operator",
                                                                            "start_token": 72,
                                                                            "end_token": 78,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 74,
                                                                                    "end_token": 78,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 74,
                                                                                            "end_token": 74,
                                                                                            "children": [],
                                                                                            "label": "("
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 76,
                                                                                            "end_token": 76,
                                                                                            "children": [],
                                                                                            "label": ","
                                                                                        }
                                                                                    ],
                                                                                    "label": "(output_data, list)"
                                                                                }
                                                                            ],
                                                                            "label": "not isinstance(output_data, list)"
                                                                        },
                                                                        {
                                                                            "type": "comparison_operator",
                                                                            "start_token": 80,
                                                                            "end_token": 86,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 80,
                                                                                    "end_token": 83,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 80,
                                                                                            "end_token": 80,
                                                                                            "children": [],
                                                                                            "label": "len"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 82,
                                                                                            "end_token": 82,
                                                                                            "children": [],
                                                                                            "label": "output_data"
                                                                                        }
                                                                                    ],
                                                                                    "label": "len(output_data)"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 86,
                                                                                    "end_token": 86,
                                                                                    "children": [],
                                                                                    "label": "index"
                                                                                }
                                                                            ],
                                                                            "label": "len(output_data) <= index"
                                                                        }
                                                                    ],
                                                                    "label": "not isinstance(output_data, list) or len(output_data) <= index"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 87,
                                                                    "end_token": 90,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 89,
                                                                            "end_token": 90,
                                                                            "children": [
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 90,
                                                                                    "end_token": 90,
                                                                                    "children": [],
                                                                                    "label": "None"
                                                                                }
                                                                            ],
                                                                            "label": "return None"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            return None"
                                                                }
                                                            ],
                                                            "label": "if not isinstance(output_data, list) or len(output_data) <= index:\n            return None"
                                                        }
                                                    ],
                                                    "label": ":\n        index = int(name.split(LIST_SPLIT)[1])\n        if not isinstance(output_data, list) or len(output_data) <= index:\n            return None\n"
                                                }
                                            ],
                                            "label": "if name.startswith(f\"{output_name}{LIST_SPLIT}\"):\n        index = int(name.split(LIST_SPLIT)[1])\n        if not isinstance(output_data, list) or len(output_data) <= index:\n            return None\n"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 110,
                                            "end_token": 149,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 112,
                                                    "end_token": 117,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 112,
                                                            "end_token": 113,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 112,
                                                                    "end_token": 112,
                                                                    "children": [],
                                                                    "label": "."
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 113,
                                                                    "end_token": 113,
                                                                    "children": [],
                                                                    "label": "startswith"
                                                                }
                                                            ],
                                                            "label": ".startswith"
                                                        },
                                                        {
                                                            "type": "interpolation",
                                                            "start_token": 115,
                                                            "end_token": 116,
                                                            "children": [],
                                                            "label": "f\"{output_name}{DICT_SPLIT}\""
                                                        }
                                                    ],
                                                    "label": ".startswith(f\"{output_name}{DICT_SPLIT}\")"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 118,
                                                    "end_token": 149,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 120,
                                                            "end_token": 130,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 120,
                                                                    "end_token": 120,
                                                                    "children": [],
                                                                    "label": "index"
                                                                },
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 122,
                                                                    "end_token": 130,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 124,
                                                                            "end_token": 126,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 124,
                                                                                    "end_token": 125,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 124,
                                                                                            "end_token": 124,
                                                                                            "children": [],
                                                                                            "label": "split"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 125,
                                                                                            "end_token": 125,
                                                                                            "children": [],
                                                                                            "label": "("
                                                                                        }
                                                                                    ],
                                                                                    "label": "split("
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 126,
                                                                                    "end_token": 126,
                                                                                    "children": [],
                                                                                    "label": "DICT_SPLIT"
                                                                                }
                                                                            ],
                                                                            "label": "split(DICT_SPLIT"
                                                                        },
                                                                        {
                                                                            "type": "integer",
                                                                            "start_token": 129,
                                                                            "end_token": 129,
                                                                            "children": [],
                                                                            "label": "1"
                                                                        }
                                                                    ],
                                                                    "label": "name.split(DICT_SPLIT)[1]"
                                                                }
                                                            ],
                                                            "label": "index = name.split(DICT_SPLIT)[1]"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 132,
                                                            "end_token": 148,
                                                            "children": [
                                                                {
                                                                    "type": "boolean_operator",
                                                                    "start_token": 133,
                                                                    "end_token": 145,
                                                                    "children": [
                                                                        {
                                                                            "type": "not_operator",
                                                                            "start_token": 133,
                                                                            "end_token": 139,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 135,
                                                                                    "end_token": 138,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 135,
                                                                                            "end_token": 135,
                                                                                            "children": [],
                                                                                            "label": "("
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 137,
                                                                                            "end_token": 137,
                                                                                            "children": [],
                                                                                            "label": ","
                                                                                        }
                                                                                    ],
                                                                                    "label": "(output_data, dict"
                                                                                }
                                                                            ],
                                                                            "label": "not isinstance(output_data, dict)"
                                                                        },
                                                                        {
                                                                            "type": "not_operator",
                                                                            "start_token": 141,
                                                                            "end_token": 145,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binary_operator",
                                                                                    "start_token": 142,
                                                                                    "end_token": 143,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 142,
                                                                                            "end_token": 142,
                                                                                            "children": [],
                                                                                            "label": "not"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 143,
                                                                                            "end_token": 143,
                                                                                            "children": [],
                                                                                            "label": "in"
                                                                                        }
                                                                                    ],
                                                                                    "label": "not in"
                                                                                }
                                                                            ],
                                                                            "label": "index not in output_data:"
                                                                        }
                                                                    ],
                                                                    "label": "not isinstance(output_data, dict) or index not in output_data:"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 145,
                                                                    "end_token": 148,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 147,
                                                                            "end_token": 148,
                                                                            "children": [
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 148,
                                                                                    "end_token": 148,
                                                                                    "children": [],
                                                                                    "label": "None"
                                                                                }
                                                                            ],
                                                                            "label": "return None"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            return None"
                                                                }
                                                            ],
                                                            "label": "if not isinstance(output_data, dict) or index not in output_data:\n            return None"
                                                        }
                                                    ],
                                                    "label": ":\n        index = name.split(DICT_SPLIT)[1]\n        if not isinstance(output_data, dict) or index not in output_data:\n            return None\n"
                                                }
                                            ],
                                            "label": "if name.startswith(f\"{output_name}{DICT_SPLIT}\"):\n        index = name.split(DICT_SPLIT)[1]\n        if not isinstance(output_data, dict) or index not in output_data:\n            return None\n"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 157,
                                            "end_token": 208,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 159,
                                                    "end_token": 164,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 159,
                                                            "end_token": 160,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 159,
                                                                    "end_token": 159,
                                                                    "children": [],
                                                                    "label": "."
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 160,
                                                                    "end_token": 160,
                                                                    "children": [],
                                                                    "label": "startswith"
                                                                }
                                                            ],
                                                            "label": ".startswith"
                                                        },
                                                        {
                                                            "type": "interpolation",
                                                            "start_token": 162,
                                                            "end_token": 163,
                                                            "children": [],
                                                            "label": "f\"{output_name}{OBJC_SPLIT}\""
                                                        }
                                                    ],
                                                    "label": ".startswith(f\"{output_name}{OBJC_SPLIT}\")"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 165,
                                                    "end_token": 208,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 167,
                                                            "end_token": 177,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 167,
                                                                    "end_token": 167,
                                                                    "children": [],
                                                                    "label": "index"
                                                                },
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 169,
                                                                    "end_token": 177,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 171,
                                                                            "end_token": 173,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 171,
                                                                                    "end_token": 172,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 171,
                                                                                            "end_token": 171,
                                                                                            "children": [],
                                                                                            "label": "split"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 172,
                                                                                            "end_token": 172,
                                                                                            "children": [],
                                                                                            "label": "("
                                                                                        }
                                                                                    ],
                                                                                    "label": "split("
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 173,
                                                                                    "end_token": 173,
                                                                                    "children": [],
                                                                                    "label": "OBJC_SPLIT"
                                                                                }
                                                                            ],
                                                                            "label": "split(OBJC_SPLIT"
                                                                        },
                                                                        {
                                                                            "type": "integer",
                                                                            "start_token": 176,
                                                                            "end_token": 176,
                                                                            "children": [],
                                                                            "label": "1"
                                                                        }
                                                                    ],
                                                                    "label": "name.split(OBJC_SPLIT)[1]"
                                                                }
                                                            ],
                                                            "label": "index = name.split(OBJC_SPLIT)[1]"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 179,
                                                            "end_token": 206,
                                                            "children": [
                                                                {
                                                                    "type": "boolean_operator",
                                                                    "start_token": 180,
                                                                    "end_token": 193,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 180,
                                                                            "end_token": 185,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 180,
                                                                                    "end_token": 180,
                                                                                    "children": [],
                                                                                    "label": "isinstance"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 183,
                                                                                    "end_token": 183,
                                                                                    "children": [],
                                                                                    "label": ","
                                                                                }
                                                                            ],
                                                                            "label": "isinstance(output_data, object)"
                                                                        },
                                                                        {
                                                                            "type": "binary_operator",
                                                                            "start_token": 186,
                                                                            "end_token": 193,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 187,
                                                                                    "end_token": 188,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 187,
                                                                                            "end_token": 187,
                                                                                            "children": [],
                                                                                            "label": "hasattr"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 188,
                                                                                            "end_token": 188,
                                                                                            "children": [],
                                                                                            "label": "("
                                                                                        }
                                                                                    ],
                                                                                    "label": "hasattr("
                                                                                }
                                                                            ],
                                                                            "label": "and hasattr(output_data, index):"
                                                                        }
                                                                    ],
                                                                    "label": "isinstance(output_data, object) and hasattr(output_data, index):"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 193,
                                                                    "end_token": 204,
                                                                    "children": [
                                                                        {
                                                                            "type": "return_statement",
                                                                            "start_token": 195,
                                                                            "end_token": 201,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 196,
                                                                                    "end_token": 200,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 196,
                                                                                            "end_token": 196,
                                                                                            "children": [],
                                                                                            "label": "getattr"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 198,
                                                                                            "end_token": 199,
                                                                                            "children": [],
                                                                                            "label": "output_data,"
                                                                                        }
                                                                                    ],
                                                                                    "label": "getattr(output_data, index"
                                                                                }
                                                                            ],
                                                                            "label": "return getattr(output_data, index)"
                                                                        }
                                                                    ],
                                                                    "label": ":\n            return getattr(output_data, index)\n        return None"
                                                                }
                                                            ],
                                                            "label": "if isinstance(output_data, object) and hasattr(output_data, index):\n            return getattr(output_data, index)\n        return None\n\n"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 203,
                                                            "end_token": 204,
                                                            "children": [
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 204,
                                                                    "end_token": 204,
                                                                    "children": [],
                                                                    "label": "None"
                                                                }
                                                            ],
                                                            "label": "return None"
                                                        }
                                                    ],
                                                    "label": ":\n        index = name.split(OBJC_SPLIT)[1]\n        if isinstance(output_data, object) and hasattr(output_data, index):\n            return getattr(output_data, index)\n        return None\n\n    return None"
                                                }
                                            ],
                                            "label": "if name.startswith(f\"{output_name}{OBJC_SPLIT}\"):\n        index = name.split(OBJC_SPLIT)[1]\n        if isinstance(output_data, object) and hasattr(output_data, index):\n            return getattr(output_data, index)\n        return None\n\n    return None"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 207,
                                            "end_token": 208,
                                            "children": [
                                                {
                                                    "type": "none",
                                                    "start_token": 208,
                                                    "end_token": 208,
                                                    "children": [],
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "return None"
                                        }
                                    ],
                                    "label": ":\n    # Allow extracting partial output data by name.\n    output_name, output_data = output\n\n    if name == output_name:\n        return output_data\n\n    if name.startswith(f\"{output_name}{LIST_SPLIT}\"):\n        index = int(name.split(LIST_SPLIT)[1])\n        if not isinstance(output_data, list) or len(output_data) <= index:\n            return None\n        return output_data[int(name.split(LIST_SPLIT)[1])]\n\n    if name.startswith(f\"{output_name}{DICT_SPLIT}\"):\n        index = name.split(DICT_SPLIT)[1]\n        if not isinstance(output_data, dict) or index not in output_data:\n            return None\n        return output_data[index]\n\n    if name.startswith(f\"{output_name}{OBJC_SPLIT}\"):\n        index = name.split(OBJC_SPLIT)[1]\n        if isinstance(output_data, object) and hasattr(output_data, index):\n            return getattr(output_data, index)\n        return None\n\n    return None"
                                }
                            ],
                            "label": "def parse_execution_output(output: BlockData, name: str) -> Any | None:\n    # Allow extracting partial output data by name.\n    output_name, output_data = output\n\n    if name == output_name:\n        return output_data\n\n    if name.startswith(f\"{output_name}{LIST_SPLIT}\"):\n        index = int(name.split(LIST_SPLIT)[1])\n        if not isinstance(output_data, list) or len(output_data) <= index:\n            return None\n        return output_data[int(name.split(LIST_SPLIT)[1])]\n\n    if name.startswith(f\"{output_name}{DICT_SPLIT}\"):\n        index = name.split(DICT_SPLIT)[1]\n        if not isinstance(output_data, dict) or index not in output_data:\n            return None\n        return output_data[index]\n\n    if name.startswith(f\"{output_name}{OBJC_SPLIT}\"):\n        index = name.split(OBJC_SPLIT)[1]\n        if isinstance(output_data, object) and hasattr(output_data, index):\n            return getattr(output_data, index)\n        return None\n\n    return None"
                        }
                    ],
                    "label": "def parse_execution_output(output: BlockData, name: str) -> Any | None:\n    # Allow extracting partial output data by name.\n    output_name, output_data = output\n\n    if name == output_name:\n        return output_data\n\n    if name.startswith(f\"{output_name}{LIST_SPLIT}\"):\n        index = int(name.split(LIST_SPLIT)[1])\n        if not isinstance(output_data, list) or len(output_data) <= index:\n            return None\n        return output_data[int(name.split(LIST_SPLIT)[1])]\n\n    if name.startswith(f\"{output_name}{DICT_SPLIT}\"):\n        index = name.split(DICT_SPLIT)[1]\n        if not isinstance(output_data, dict) or index not in output_data:\n            return None\n        return output_data[index]\n\n    if name.startswith(f\"{output_name}{OBJC_SPLIT}\"):\n        index = name.split(OBJC_SPLIT)[1]\n        if isinstance(output_data, object) and hasattr(output_data, index):\n            return getattr(output_data, index)\n        return None\n\n    return None"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "merge_execution_input",
            "start_line": 373,
            "end_line": 415,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 345,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 345,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "merge_execution_input"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 3,
                                            "end_token": 5,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "children": [],
                                                    "label": "data"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "BlockInput"
                                                }
                                            ],
                                            "label": "data: BlockInput"
                                        }
                                    ],
                                    "label": "(data: BlockInput)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 8,
                                    "end_token": 9,
                                    "children": [
                                        {
                                            "type": "type",
                                            "start_token": 9,
                                            "end_token": 9,
                                            "children": [],
                                            "label": "BlockInput"
                                        }
                                    ],
                                    "label": "> BlockInput"
                                },
                                {
                                    "type": "string",
                                    "start_token": 12,
                                    "end_token": 14,
                                    "children": [
                                        {
                                            "type": "string_content",
                                            "start_token": 13,
                                            "end_token": 13,
                                            "children": [],
                                            "label": "\"\n    Merge all dynamic input pins which described by the following pattern:\n    - <input_name>_$_<index> for list input.\n    - <input_name>_#_<index> for dict input.\n    - <input_name>_@_<index> for object input.\n    This function will construct pins with the same name into a single list/dict/object.\n    \""
                                        }
                                    ],
                                    "label": "\"\"\"\n    Merge all dynamic input pins which described by the following pattern:\n    - <input_name>_$_<index> for list input.\n    - <input_name>_#_<index> for dict input.\n    - <input_name>_@_<index> for object input.\n    This function will construct pins with the same name into a single list/dict/object.\n    \"\"\""
                                },
                                {
                                    "type": "block",
                                    "start_token": 17,
                                    "end_token": 345,
                                    "children": [
                                        {
                                            "type": "comment",
                                            "start_token": 17,
                                            "end_token": 35,
                                            "children": [],
                                            "label": "# Merge all input with <input_name>_$_<index> into a single list."
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 37,
                                            "end_token": 46,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "children": [],
                                                    "label": "items"
                                                },
                                                {
                                                    "type": "call",
                                                    "start_token": 39,
                                                    "end_token": 46,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 39,
                                                            "end_token": 39,
                                                            "children": [],
                                                            "label": "list"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 40,
                                                            "end_token": 45,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 41,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 41,
                                                                            "end_token": 41,
                                                                            "children": [],
                                                                            "label": "data"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 43,
                                                                            "end_token": 43,
                                                                            "children": [],
                                                                            "label": "items"
                                                                        }
                                                                    ],
                                                                    "label": "data.items("
                                                                }
                                                            ],
                                                            "label": "(data.items()"
                                                        }
                                                    ],
                                                    "label": "list(data.items())"
                                                }
                                            ],
                                            "label": "items = list(data.items())"
                                        },
                                        {
                                            "type": "for_statement",
                                            "start_token": 49,
                                            "end_token": 176,
                                            "children": [
                                                {
                                                    "type": "for_in_clause",
                                                    "start_token": 49,
                                                    "end_token": 54,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 50,
                                                            "end_token": 50,
                                                            "children": [],
                                                            "label": "key"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 52,
                                                            "end_token": 52,
                                                            "children": [],
                                                            "label": "value"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 54,
                                                            "end_token": 54,
                                                            "children": [],
                                                            "label": "items"
                                                        }
                                                    ],
                                                    "label": "for key, value in items"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 55,
                                                    "end_token": 176,
                                                    "children": [
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 57,
                                                            "end_token": 63,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 58,
                                                                    "end_token": 60,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 58,
                                                                            "end_token": 58,
                                                                            "children": [],
                                                                            "label": "LIST_SPLIT"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 60,
                                                                            "end_token": 60,
                                                                            "children": [],
                                                                            "label": "in"
                                                                        }
                                                                    ],
                                                                    "label": "LIST_SPLIT not in"
                                                                }
                                                            ],
                                                            "label": "if LIST_SPLIT not in key:\n"
                                                        },
                                                        {
                                                            "type": "continue_statement",
                                                            "start_token": 64,
                                                            "end_token": 64,
                                                            "children": [],
                                                            "label": "continue"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 66,
                                                            "end_token": 75,
                                                            "children": [
                                                                {
                                                                    "type": "expression_list",
                                                                    "start_token": 66,
                                                                    "end_token": 68,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 66,
                                                                            "end_token": 66,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 68,
                                                                            "end_token": 68,
                                                                            "children": [],
                                                                            "label": "index"
                                                                        }
                                                                    ],
                                                                    "label": "name, index"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 70,
                                                                    "end_token": 75,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 70,
                                                                            "end_token": 71,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 70,
                                                                                    "end_token": 70,
                                                                                    "children": [],
                                                                                    "label": "key"
                                                                                }
                                                                            ],
                                                                            "label": "key."
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 72,
                                                                            "end_token": 74,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 74,
                                                                                    "end_token": 74,
                                                                                    "children": [],
                                                                                    "label": "LIST_SPLIT"
                                                                                }
                                                                            ],
                                                                            "label": "split(LIST_SPLIT"
                                                                        }
                                                                    ],
                                                                    "label": "key.split(LIST_SPLIT)"
                                                                }
                                                            ],
                                                            "label": "name, index = key.split(LIST_SPLIT)"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 77,
                                                            "end_token": 84,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 78,
                                                                    "end_token": 82,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 79,
                                                                            "end_token": 81,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 79,
                                                                                    "end_token": 79,
                                                                                    "children": [],
                                                                                    "label": "index"
                                                                                }
                                                                            ],
                                                                            "label": "index.isdigit"
                                                                        }
                                                                    ],
                                                                    "label": "not index.isdigit("
                                                                }
                                                            ],
                                                            "label": "if not index.isdigit():"
                                                        },
                                                        {
                                                            "type": "raise_statement",
                                                            "start_token": 86,
                                                            "end_token": 91,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 87,
                                                                    "end_token": 91,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 87,
                                                                            "end_token": 87,
                                                                            "children": [],
                                                                            "label": "ValueError"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 88,
                                                                            "end_token": 90,
                                                                            "children": [
                                                                                {
                                                                                    "type": "f_string",
                                                                                    "start_token": 89,
                                                                                    "end_token": 89,
                                                                                    "children": [],
                                                                                    "label": "f"
                                                                                }
                                                                            ],
                                                                            "label": "(f\"Invalid key: {key}, #{index} index must be an integer.\""
                                                                        }
                                                                    ],
                                                                    "label": "ValueError(f\"Invalid key: {key}, #{index} index must be an integer.\")"
                                                                }
                                                            ],
                                                            "label": "raise ValueError(f\"Invalid key: {key}, #{index} index must be an integer.\")"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 94,
                                                            "end_token": 107,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 94,
                                                                    "end_token": 96,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 94,
                                                                            "end_token": 94,
                                                                            "children": [],
                                                                            "label": "data"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 96,
                                                                            "end_token": 96,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        }
                                                                    ],
                                                                    "label": "data[name"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 100,
                                                                    "end_token": 107,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 100,
                                                                            "end_token": 101,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 100,
                                                                                    "end_token": 100,
                                                                                    "children": [],
                                                                                    "label": "."
                                                                                }
                                                                            ],
                                                                            "label": ".get"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 102,
                                                                            "end_token": 105,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 103,
                                                                                    "end_token": 103,
                                                                                    "children": [],
                                                                                    "label": "name"
                                                                                },
                                                                                {
                                                                                    "type": "list",
                                                                                    "start_token": 105,
                                                                                    "end_token": 106,
                                                                                    "children": [],
                                                                                    "label": "[]"
                                                                                }
                                                                            ],
                                                                            "label": "(name, ["
                                                                        }
                                                                    ],
                                                                    "label": ".get(name, [])"
                                                                }
                                                            ],
                                                            "label": "data[name] = data.get(name, [])"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 109,
                                                            "end_token": 123,
                                                            "children": [
                                                                {
                                                                    "type": "comparison_operator",
                                                                    "start_token": 110,
                                                                    "end_token": 122,
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 110,
                                                                            "end_token": 112,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 110,
                                                                                    "end_token": 110,
                                                                                    "children": [],
                                                                                    "label": "int"
                                                                                }
                                                                            ],
                                                                            "label": "int(index"
                                                                        },
                                                                        {
                                                                            "type": "binary_operator",
                                                                            "start_token": 114,
                                                                            "end_token": 122,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 116,
                                                                                    "end_token": 121,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 116,
                                                                                            "end_token": 116,
                                                                                            "children": [],
                                                                                            "label": "len"
                                                                                        },
                                                                                        {
                                                                                            "type": "subscript",
                                                                                            "start_token": 118,
                                                                                            "end_token": 121,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 118,
                                                                                                    "end_token": 118,
                                                                                                    "children": [],
                                                                                                    "label": "data"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 120,
                                                                                                    "end_token": 120,
                                                                                                    "children": [],
                                                                                                    "label": "name"
                                                                                                }
                                                                                            ],
                                                                                            "label": "data[name]"
                                                                                        }
                                                                                    ],
                                                                                    "label": "len(data[name]"
                                                                                }
                                                                            ],
                                                                            "label": ">= len(data[name])"
                                                                        }
                                                                    ],
                                                                    "label": "int(index) >= len(data[name])"
                                                                }
                                                            ],
                                                            "label": "if int(index) >= len(data[name]):"
                                                        },
                                                        {
                                                            "type": "comment",
                                                            "start_token": 125,
                                                            "end_token": 135,
                                                            "children": [],
                                                            "label": "# Pad list with empty string on missing indices.\n"
                                                        },
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 136,
                                                            "end_token": 163,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 136,
                                                                    "end_token": 138,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 136,
                                                                            "end_token": 136,
                                                                            "children": [],
                                                                            "label": "data"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 138,
                                                                            "end_token": 138,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        }
                                                                    ],
                                                                    "label": "data[name"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 141,
                                                                    "end_token": 163,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 141,
                                                                            "end_token": 141,
                                                                            "children": [],
                                                                            "label": "extend"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 142,
                                                                            "end_token": 162,
                                                                            "children": [
                                                                                {
                                                                                    "type": "binary_operator",
                                                                                    "start_token": 144,
                                                                                    "end_token": 162,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "list",
                                                                                            "start_token": 144,
                                                                                            "end_token": 144,
                                                                                            "children": [],
                                                                                            "label": "\"\""
                                                                                        },
                                                                                        {
                                                                                            "type": "binary_operator",
                                                                                            "start_token": 146,
                                                                                            "end_token": 162,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "start_token": 148,
                                                                                                    "end_token": 150,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 148,
                                                                                                            "end_token": 148,
                                                                                                            "children": [],
                                                                                                            "label": "int"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "int(index"
                                                                                                },
                                                                                                {
                                                                                                    "type": "binary_operator",
                                                                                                    "start_token": 152,
                                                                                                    "end_token": 162,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "start_token": 153,
                                                                                                            "end_token": 158,
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "subscript",
                                                                                                                    "start_token": 153,
                                                                                                                    "end_token": 156,
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 153,
                                                                                                                            "end_token": 153,
                                                                                                                            "children": [],
                                                                                                                            "label": "len"
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "identifier",
                                                                                                                            "start_token": 155,
                                                                                                                            "end_token": 155,
                                                                                                                            "children": [],
                                                                                                                            "label": "data"
                                                                                                                        }
                                                                                                                    ],
                                                                                                                    "label": "len(data["
                                                                                                                }
                                                                                                            ],
                                                                                                            "label": "len(data[name]"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "- len(data[name]) + 1)"
                                                                                                }
                                                                                            ],
                                                                                            "label": "* (int(index) - len(data[name]) + 1)"
                                                                                        }
                                                                                    ],
                                                                                    "label": "\"\"] * (int(index) - len(data[name]) + 1)"
                                                                                }
                                                                            ],
                                                                            "label": "([\"\"] * (int(index) - len(data[name]) + 1)"
                                                                        }
                                                                    ],
                                                                    "label": "extend([\"\"] * (int(index) - len(data[name]) + 1))"
                                                                }
                                                            ],
                                                            "label": "data[name].extend([\"\"] * (int(index) - len(data[name]) + 1))"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 165,
                                                            "end_token": 177,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 165,
                                                                    "end_token": 167,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 165,
                                                                            "end_token": 165,
                                                                            "children": [],
                                                                            "label": "data"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 167,
                                                                            "end_token": 167,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        }
                                                                    ],
                                                                    "label": "data[name"
                                                                },
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 169,
                                                                    "end_token": 174,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 170,
                                                                            "end_token": 172,
                                                                            "children": [],
                                                                            "label": "int(index"
                                                                        }
                                                                    ],
                                                                    "label": "[int(index)]"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 176,
                                                                    "end_token": 176,
                                                                    "children": [],
                                                                    "label": "value"
                                                                }
                                                            ],
                                                            "label": "data[name][int(index)] = value\n"
                                                        }
                                                    ],
                                                    "label": ":\n        if LIST_SPLIT not in key:\n            continue\n        name, index = key.split(LIST_SPLIT)\n        if not index.isdigit():\n            raise ValueError(f\"Invalid key: {key}, #{index} index must be an integer.\")\n\n        data[name] = data.get(name, [])\n        if int(index) >= len(data[name]):\n            # Pad list with empty string on missing indices.\n            data[name].extend([\"\"] * (int(index) - len(data[name]) + 1))\n        data[name][int(index)] = value"
                                                }
                                            ],
                                            "label": "for key, value in items:\n        if LIST_SPLIT not in key:\n            continue\n        name, index = key.split(LIST_SPLIT)\n        if not index.isdigit():\n            raise ValueError(f\"Invalid key: {key}, #{index} index must be an integer.\")\n\n        data[name] = data.get(name, [])\n        if int(index) >= len(data[name]):\n            # Pad list with empty string on missing indices.\n            data[name].extend([\"\"] * (int(index) - len(data[name]) + 1))\n        data[name][int(index)] = value"
                                        },
                                        {
                                            "type": "for_statement",
                                            "start_token": 199,
                                            "end_token": 250,
                                            "children": [
                                                {
                                                    "type": "for_in_clause",
                                                    "start_token": 199,
                                                    "end_token": 204,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 200,
                                                            "end_token": 200,
                                                            "children": [],
                                                            "label": "key"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 202,
                                                            "end_token": 202,
                                                            "children": [],
                                                            "label": "value"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 204,
                                                            "end_token": 204,
                                                            "children": [],
                                                            "label": "items"
                                                        }
                                                    ],
                                                    "label": "for key, value in items"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 205,
                                                    "end_token": 250,
                                                    "children": [
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 207,
                                                            "end_token": 213,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 208,
                                                                    "end_token": 210,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 208,
                                                                            "end_token": 208,
                                                                            "children": [],
                                                                            "label": "DICT_SPLIT"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 210,
                                                                            "end_token": 210,
                                                                            "children": [],
                                                                            "label": "in"
                                                                        }
                                                                    ],
                                                                    "label": "DICT_SPLIT not in"
                                                                }
                                                            ],
                                                            "label": "if DICT_SPLIT not in key:\n"
                                                        },
                                                        {
                                                            "type": "continue_statement",
                                                            "start_token": 214,
                                                            "end_token": 214,
                                                            "children": [],
                                                            "label": "continue"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 216,
                                                            "end_token": 225,
                                                            "children": [
                                                                {
                                                                    "type": "expression_list",
                                                                    "start_token": 216,
                                                                    "end_token": 218,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 216,
                                                                            "end_token": 216,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 218,
                                                                            "end_token": 218,
                                                                            "children": [],
                                                                            "label": "index"
                                                                        }
                                                                    ],
                                                                    "label": "name, index"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 220,
                                                                    "end_token": 225,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 220,
                                                                            "end_token": 223,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 220,
                                                                                    "end_token": 220,
                                                                                    "children": [],
                                                                                    "label": "key"
                                                                                }
                                                                            ],
                                                                            "label": "key.split("
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 224,
                                                                            "end_token": 224,
                                                                            "children": [],
                                                                            "label": "DICT_SPLIT"
                                                                        }
                                                                    ],
                                                                    "label": "key.split(DICT_SPLIT)"
                                                                }
                                                            ],
                                                            "label": "name, index = key.split(DICT_SPLIT)"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 227,
                                                            "end_token": 240,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 227,
                                                                    "end_token": 229,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 227,
                                                                            "end_token": 227,
                                                                            "children": [],
                                                                            "label": "data"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 229,
                                                                            "end_token": 229,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        }
                                                                    ],
                                                                    "label": "data[name"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 233,
                                                                    "end_token": 240,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 233,
                                                                            "end_token": 234,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 233,
                                                                                    "end_token": 233,
                                                                                    "children": [],
                                                                                    "label": "."
                                                                                }
                                                                            ],
                                                                            "label": ".get"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 235,
                                                                            "end_token": 239,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 237,
                                                                                    "end_token": 237,
                                                                                    "children": [],
                                                                                    "label": ","
                                                                                },
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 238,
                                                                                    "end_token": 239,
                                                                                    "children": [],
                                                                                    "label": "{}"
                                                                                }
                                                                            ],
                                                                            "label": "(name, {}"
                                                                        }
                                                                    ],
                                                                    "label": ".get(name, {})"
                                                                }
                                                            ],
                                                            "label": "data[name] = data.get(name, {})"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 242,
                                                            "end_token": 250,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 242,
                                                                    "end_token": 245,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 242,
                                                                            "end_token": 242,
                                                                            "children": [],
                                                                            "label": "data"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 245,
                                                                            "end_token": 245,
                                                                            "children": [],
                                                                            "label": "]"
                                                                        }
                                                                    ],
                                                                    "label": "data[name]"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 247,
                                                                    "end_token": 249,
                                                                    "children": [],
                                                                    "label": "index] ="
                                                                }
                                                            ],
                                                            "label": "data[name][index] = value"
                                                        }
                                                    ],
                                                    "label": ":\n        if DICT_SPLIT not in key:\n            continue\n        name, index = key.split(DICT_SPLIT)\n        data[name] = data.get(name, {})\n        data[name][index] = value"
                                                }
                                            ],
                                            "label": "for key, value in items:\n        if DICT_SPLIT not in key:\n            continue\n        name, index = key.split(DICT_SPLIT)\n        data[name] = data.get(name, {})\n        data[name][index] = value"
                                        },
                                        {
                                            "type": "for_statement",
                                            "start_token": 273,
                                            "end_token": 340,
                                            "children": [
                                                {
                                                    "type": "for_in_clause",
                                                    "start_token": 273,
                                                    "end_token": 278,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 274,
                                                            "end_token": 274,
                                                            "children": [],
                                                            "label": "key"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 276,
                                                            "end_token": 276,
                                                            "children": [],
                                                            "label": "value"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 278,
                                                            "end_token": 278,
                                                            "children": [],
                                                            "label": "items"
                                                        }
                                                    ],
                                                    "label": "for key, value in items"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 279,
                                                    "end_token": 340,
                                                    "children": [
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 281,
                                                            "end_token": 287,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 282,
                                                                    "end_token": 284,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 282,
                                                                            "end_token": 282,
                                                                            "children": [],
                                                                            "label": "OBJC_SPLIT"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 284,
                                                                            "end_token": 284,
                                                                            "children": [],
                                                                            "label": "in"
                                                                        }
                                                                    ],
                                                                    "label": "OBJC_SPLIT not in"
                                                                }
                                                            ],
                                                            "label": "if OBJC_SPLIT not in key:\n"
                                                        },
                                                        {
                                                            "type": "continue_statement",
                                                            "start_token": 288,
                                                            "end_token": 288,
                                                            "children": [],
                                                            "label": "continue"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 290,
                                                            "end_token": 299,
                                                            "children": [
                                                                {
                                                                    "type": "expression_list",
                                                                    "start_token": 290,
                                                                    "end_token": 292,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 290,
                                                                            "end_token": 290,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 292,
                                                                            "end_token": 292,
                                                                            "children": [],
                                                                            "label": "index"
                                                                        }
                                                                    ],
                                                                    "label": "name, index"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 294,
                                                                    "end_token": 299,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 294,
                                                                            "end_token": 295,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 294,
                                                                                    "end_token": 294,
                                                                                    "children": [],
                                                                                    "label": "key"
                                                                                }
                                                                            ],
                                                                            "label": "key."
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 296,
                                                                            "end_token": 298,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 298,
                                                                                    "end_token": 298,
                                                                                    "children": [],
                                                                                    "label": "OBJC_SPLIT"
                                                                                }
                                                                            ],
                                                                            "label": "split(OBJC_SPLIT"
                                                                        }
                                                                    ],
                                                                    "label": "key.split(OBJC_SPLIT)"
                                                                }
                                                            ],
                                                            "label": "name, index = key.split(OBJC_SPLIT)"
                                                        },
                                                        {
                                                            "type": "if_statement",
                                                            "start_token": 301,
                                                            "end_token": 317,
                                                            "children": [
                                                                {
                                                                    "type": "not_operator",
                                                                    "start_token": 302,
                                                                    "end_token": 316,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 302,
                                                                            "end_token": 302,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        },
                                                                        {
                                                                            "type": "boolean_operator",
                                                                            "start_token": 306,
                                                                            "end_token": 316,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 308,
                                                                                    "end_token": 310,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 308,
                                                                                            "end_token": 308,
                                                                                            "children": [],
                                                                                            "label": "isinstance"
                                                                                        }
                                                                                    ],
                                                                                    "label": "isinstance(data"
                                                                                }
                                                                            ],
                                                                            "label": "or not isinstance(data[name], object)"
                                                                        }
                                                                    ],
                                                                    "label": "name not in data or not isinstance(data[name], object)"
                                                                }
                                                            ],
                                                            "label": "if name not in data or not isinstance(data[name], object):"
                                                        },
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 319,
                                                            "end_token": 328,
                                                            "children": [
                                                                {
                                                                    "type": "subscript",
                                                                    "start_token": 319,
                                                                    "end_token": 321,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 319,
                                                                            "end_token": 319,
                                                                            "children": [],
                                                                            "label": "data"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 321,
                                                                            "end_token": 321,
                                                                            "children": [],
                                                                            "label": "name"
                                                                        }
                                                                    ],
                                                                    "label": "data[name"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 324,
                                                                    "end_token": 328,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 324,
                                                                            "end_token": 326,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 324,
                                                                                    "end_token": 324,
                                                                                    "children": [],
                                                                                    "label": "mock"
                                                                                }
                                                                            ],
                                                                            "label": "mock.MockObject"
                                                                        }
                                                                    ],
                                                                    "label": "mock.MockObject()"
                                                                }
                                                            ],
                                                            "label": "data[name] = mock.MockObject()"
                                                        },
                                                        {
                                                            "type": "call",
                                                            "start_token": 330,
                                                            "end_token": 340,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 330,
                                                                    "end_token": 330,
                                                                    "children": [],
                                                                    "label": "setattr"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 331,
                                                                    "end_token": 339,
                                                                    "children": [
                                                                        {
                                                                            "type": "subscript",
                                                                            "start_token": 332,
                                                                            "end_token": 334,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 332,
                                                                                    "end_token": 332,
                                                                                    "children": [],
                                                                                    "label": "data"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 334,
                                                                                    "end_token": 334,
                                                                                    "children": [],
                                                                                    "label": "name"
                                                                                }
                                                                            ],
                                                                            "label": "data[name"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 336,
                                                                            "end_token": 338,
                                                                            "children": [],
                                                                            "label": ", index,"
                                                                        }
                                                                    ],
                                                                    "label": "(data[name], index, value"
                                                                }
                                                            ],
                                                            "label": "setattr(data[name], index, value)"
                                                        }
                                                    ],
                                                    "label": ":\n        if OBJC_SPLIT not in key:\n            continue\n        name, index = key.split(OBJC_SPLIT)\n        if name not in data or not isinstance(data[name], object):\n            data[name] = mock.MockObject()\n        setattr(data[name], index, value)"
                                                }
                                            ],
                                            "label": "for key, value in items:\n        if OBJC_SPLIT not in key:\n            continue\n        name, index = key.split(OBJC_SPLIT)\n        if name not in data or not isinstance(data[name], object):\n            data[name] = mock.MockObject()\n        setattr(data[name], index, value)"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 343,
                                            "end_token": 344,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 344,
                                                    "end_token": 344,
                                                    "children": [],
                                                    "label": "data"
                                                }
                                            ],
                                            "label": "return data"
                                        }
                                    ],
                                    "label": "# Merge all input with <input_name>_$_<index> into a single list.\n    items = list(data.items())\n\n    for key, value in items:\n        if LIST_SPLIT not in key:\n            continue\n        name, index = key.split(LIST_SPLIT)\n        if not index.isdigit():\n            raise ValueError(f\"Invalid key: {key}, #{index} index must be an integer.\")\n\n        data[name] = data.get(name, [])\n        if int(index) >= len(data[name]):\n            # Pad list with empty string on missing indices.\n            data[name].extend([\"\"] * (int(index) - len(data[name]) + 1))\n        data[name][int(index)] = value\n\n    # Merge all input with <input_name>_#_<index> into a single dict.\n    for key, value in items:\n        if DICT_SPLIT not in key:\n            continue\n        name, index = key.split(DICT_SPLIT)\n        data[name] = data.get(name, {})\n        data[name][index] = value\n\n    # Merge all input with <input_name>_@_<index> into a single object.\n    for key, value in items:\n        if OBJC_SPLIT not in key:\n            continue\n        name, index = key.split(OBJC_SPLIT)\n        if name not in data or not isinstance(data[name], object):\n            data[name] = mock.MockObject()\n        setattr(data[name], index, value)\n\n    return data\n"
                                }
                            ],
                            "label": "def merge_execution_input(data: BlockInput) -> BlockInput:\n    \"\"\"\n    Merge all dynamic input pins which described by the following pattern:\n    - <input_name>_$_<index> for list input.\n    - <input_name>_#_<index> for dict input.\n    - <input_name>_@_<index> for object input.\n    This function will construct pins with the same name into a single list/dict/object.\n    \"\"\"\n\n    # Merge all input with <input_name>_$_<index> into a single list.\n    items = list(data.items())\n\n    for key, value in items:\n        if LIST_SPLIT not in key:\n            continue\n        name, index = key.split(LIST_SPLIT)\n        if not index.isdigit():\n            raise ValueError(f\"Invalid key: {key}, #{index} index must be an integer.\")\n\n        data[name] = data.get(name, [])\n        if int(index) >= len(data[name]):\n            # Pad list with empty string on missing indices.\n            data[name].extend([\"\"] * (int(index) - len(data[name]) + 1))\n        data[name][int(index)] = value\n\n    # Merge all input with <input_name>_#_<index> into a single dict.\n    for key, value in items:\n        if DICT_SPLIT not in key:\n            continue\n        name, index = key.split(DICT_SPLIT)\n        data[name] = data.get(name, {})\n        data[name][index] = value\n\n    # Merge all input with <input_name>_@_<index> into a single object.\n    for key, value in items:\n        if OBJC_SPLIT not in key:\n            continue\n        name, index = key.split(OBJC_SPLIT)\n        if name not in data or not isinstance(data[name], object):\n            data[name] = mock.MockObject()\n        setattr(data[name], index, value)\n\n    return data\n"
                        }
                    ],
                    "label": "def merge_execution_input(data: BlockInput) -> BlockInput:\n    \"\"\"\n    Merge all dynamic input pins which described by the following pattern:\n    - <input_name>_$_<index> for list input.\n    - <input_name>_#_<index> for dict input.\n    - <input_name>_@_<index> for object input.\n    This function will construct pins with the same name into a single list/dict/object.\n    \"\"\"\n\n    # Merge all input with <input_name>_$_<index> into a single list.\n    items = list(data.items())\n\n    for key, value in items:\n        if LIST_SPLIT not in key:\n            continue\n        name, index = key.split(LIST_SPLIT)\n        if not index.isdigit():\n            raise ValueError(f\"Invalid key: {key}, #{index} index must be an integer.\")\n\n        data[name] = data.get(name, [])\n        if int(index) >= len(data[name]):\n            # Pad list with empty string on missing indices.\n            data[name].extend([\"\"] * (int(index) - len(data[name]) + 1))\n        data[name][int(index)] = value\n\n    # Merge all input with <input_name>_#_<index> into a single dict.\n    for key, value in items:\n        if DICT_SPLIT not in key:\n            continue\n        name, index = key.split(DICT_SPLIT)\n        data[name] = data.get(name, {})\n        data[name][index] = value\n\n    # Merge all input with <input_name>_@_<index> into a single object.\n    for key, value in items:\n        if OBJC_SPLIT not in key:\n            continue\n        name, index = key.split(OBJC_SPLIT)\n        if name not in data or not isinstance(data[name], object):\n            data[name] = mock.MockObject()\n        setattr(data[name], index, value)\n\n    return data\n"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_latest_execution",
            "start_line": 418,
            "end_line": 431,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 102,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 102,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "def"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 11,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 4,
                                                    "end_token": 4,
                                                    "children": [],
                                                    "label": "node_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 6,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "node_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 8,
                                            "end_token": 10,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 8,
                                                    "end_token": 8,
                                                    "children": [],
                                                    "label": "graph_eid"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_eid: str"
                                        }
                                    ],
                                    "label": "(node_id: str, graph_eid: str)"
                                },
                                {
                                    "type": "union_type",
                                    "start_token": 14,
                                    "end_token": 16,
                                    "children": [
                                        {
                                            "type": "type",
                                            "start_token": 14,
                                            "end_token": 14,
                                            "children": [],
                                            "label": "ExecutionResult"
                                        },
                                        {
                                            "type": "none",
                                            "start_token": 16,
                                            "end_token": 16,
                                            "children": [],
                                            "label": "None"
                                        }
                                    ],
                                    "label": "ExecutionResult | None"
                                },
                                {
                                    "type": "block",
                                    "start_token": 18,
                                    "end_token": 102,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 19,
                                            "end_token": 28,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "children": [],
                                                    "label": "execution"
                                                },
                                                {
                                                    "type": "await",
                                                    "start_token": 21,
                                                    "end_token": 28,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 21,
                                                            "end_token": 28,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 22,
                                                                    "end_token": 24,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 22,
                                                                            "end_token": 22,
                                                                            "children": [],
                                                                            "label": "AgentNodeExecution"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 24,
                                                                            "end_token": 24,
                                                                            "children": [],
                                                                            "label": "prisma"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecution.prisma"
                                                                }
                                                            ],
                                                            "label": "await AgentNodeExecution.prisma().find_first"
                                                        }
                                                    ],
                                                    "label": "await AgentNodeExecution.prisma().find_first"
                                                }
                                            ],
                                            "label": "execution = await AgentNodeExecution.prisma().find_first"
                                        },
                                        {
                                            "type": "call",
                                            "start_token": 28,
                                            "end_token": 86,
                                            "children": [
                                                {
                                                    "type": "attribute",
                                                    "start_token": 21,
                                                    "end_token": 28,
                                                    "children": [
                                                        {
                                                            "type": "dotted_name",
                                                            "start_token": 22,
                                                            "end_token": 22,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 22,
                                                                    "end_token": 22,
                                                                    "children": [],
                                                                    "label": "AgentNodeExecution"
                                                                }
                                                            ],
                                                            "label": "AgentNodeExecution"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 24,
                                                            "end_token": 24,
                                                            "children": [],
                                                            "label": "prisma"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 28,
                                                            "end_token": 28,
                                                            "children": [],
                                                            "label": "find_first"
                                                        }
                                                    ],
                                                    "label": "await AgentNodeExecution.prisma().find_first"
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "start_token": 29,
                                                    "end_token": 86,
                                                    "children": [
                                                        {
                                                            "type": "pair",
                                                            "start_token": 31,
                                                            "end_token": 38,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 35,
                                                                    "end_token": 35,
                                                                    "children": [],
                                                                    "label": "\"agentNodeId\""
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 37,
                                                                    "end_token": 37,
                                                                    "children": [],
                                                                    "label": "node_id"
                                                                }
                                                            ],
                                                            "label": "where={\n            \"agentNodeId\": node_id,"
                                                        },
                                                        {
                                                            "type": "pair",
                                                            "start_token": 40,
                                                            "end_token": 43,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 40,
                                                                    "end_token": 40,
                                                                    "children": [],
                                                                    "label": "\"agentGraphExecutionId\""
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 42,
                                                                    "end_token": 42,
                                                                    "children": [],
                                                                    "label": "graph_eid"
                                                                }
                                                            ],
                                                            "label": "\"agentGraphExecutionId\": graph_eid,"
                                                        },
                                                        {
                                                            "type": "pair",
                                                            "start_token": 45,
                                                            "end_token": 53,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 45,
                                                                    "end_token": 45,
                                                                    "children": [],
                                                                    "label": "\"executionStatus\""
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 47,
                                                                    "end_token": 53,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 48,
                                                                            "end_token": 52,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 48,
                                                                                    "end_token": 48,
                                                                                    "children": [],
                                                                                    "label": "\"not\""
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 50,
                                                                                    "end_token": 52,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 50,
                                                                                            "end_token": 50,
                                                                                            "children": [],
                                                                                            "label": "ExecutionStatus"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 52,
                                                                                            "end_token": 52,
                                                                                            "children": [],
                                                                                            "label": "INCOMPLETE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "ExecutionStatus.INCOMPLETE"
                                                                                }
                                                                            ],
                                                                            "label": "\"not\": ExecutionStatus.INCOMPLETE"
                                                                        }
                                                                    ],
                                                                    "label": "{\"not\": ExecutionStatus.INCOMPLETE}"
                                                                }
                                                            ],
                                                            "label": "\"executionStatus\": {\"not\": ExecutionStatus.INCOMPLETE}"
                                                        },
                                                        {
                                                            "type": "pair",
                                                            "start_token": 56,
                                                            "end_token": 62,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 56,
                                                                    "end_token": 56,
                                                                    "children": [],
                                                                    "label": "\"executionData\""
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "start_token": 58,
                                                                    "end_token": 62,
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "start_token": 59,
                                                                            "end_token": 61,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 59,
                                                                                    "end_token": 59,
                                                                                    "children": [],
                                                                                    "label": "\"not\""
                                                                                },
                                                                                {
                                                                                    "type": "none",
                                                                                    "start_token": 61,
                                                                                    "end_token": 61,
                                                                                    "children": [],
                                                                                    "label": "None"
                                                                                }
                                                                            ],
                                                                            "label": "\"not\": None"
                                                                        }
                                                                    ],
                                                                    "label": "{\"not\": None}"
                                                                }
                                                            ],
                                                            "label": "\"executionData\": {\"not\": None}"
                                                        },
                                                        {
                                                            "type": "comment",
                                                            "start_token": 64,
                                                            "end_token": 67,
                                                            "children": [],
                                                            "label": "# type: ignore"
                                                        },
                                                        {
                                                            "type": "pair",
                                                            "start_token": 72,
                                                            "end_token": 78,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 72,
                                                                    "end_token": 72,
                                                                    "children": [],
                                                                    "label": "order"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 76,
                                                                    "end_token": 76,
                                                                    "children": [],
                                                                    "label": ":"
                                                                }
                                                            ],
                                                            "label": "order={\"queuedTime\": \"desc\"}"
                                                        },
                                                        {
                                                            "type": "pair",
                                                            "start_token": 81,
                                                            "end_token": 83,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 81,
                                                                    "end_token": 81,
                                                                    "children": [],
                                                                    "label": "include"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 83,
                                                                    "end_token": 83,
                                                                    "children": [],
                                                                    "label": "EXECUTION_RESULT_INCLUDE"
                                                                }
                                                            ],
                                                            "label": "include=EXECUTION_RESULT_INCLUDE"
                                                        }
                                                    ],
                                                    "label": "(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": {\"not\": ExecutionStatus.INCOMPLETE},\n            \"executionData\": {\"not\": None},  # type: ignore\n        },\n        order={\"queuedTime\": \"desc\"},\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                                }
                                            ],
                                            "label": "find_first(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": {\"not\": ExecutionStatus.INCOMPLETE},\n            \"executionData\": {\"not\": None},  # type: ignore\n        },\n        order={\"queuedTime\": \"desc\"},\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                        },
                                        {
                                            "type": "if_statement",
                                            "start_token": 88,
                                            "end_token": 94,
                                            "children": [
                                                {
                                                    "type": "comparison_operator",
                                                    "start_token": 88,
                                                    "end_token": 90,
                                                    "children": [
                                                        {
                                                            "type": "not_operator",
                                                            "start_token": 89,
                                                            "end_token": 89,
                                                            "children": [],
                                                            "label": "not"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 90,
                                                            "end_token": 90,
                                                            "children": [],
                                                            "label": "execution"
                                                        }
                                                    ],
                                                    "label": "if not execution"
                                                },
                                                {
                                                    "type": "none",
                                                    "start_token": 94,
                                                    "end_token": 94,
                                                    "children": [],
                                                    "label": "None"
                                                }
                                            ],
                                            "label": "if not execution:\n        return None"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 96,
                                            "end_token": 102,
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "start_token": 97,
                                                    "end_token": 102,
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "start_token": 97,
                                                            "end_token": 99,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 97,
                                                                    "end_token": 97,
                                                                    "children": [],
                                                                    "label": "ExecutionResult"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 99,
                                                                    "end_token": 99,
                                                                    "children": [],
                                                                    "label": "from_db"
                                                                }
                                                            ],
                                                            "label": "ExecutionResult.from_db"
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "start_token": 101,
                                                            "end_token": 101,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 101,
                                                                    "end_token": 101,
                                                                    "children": [],
                                                                    "label": "execution"
                                                                }
                                                            ],
                                                            "label": "execution"
                                                        }
                                                    ],
                                                    "label": "ExecutionResult.from_db(execution)"
                                                }
                                            ],
                                            "label": "return ExecutionResult.from_db(execution)"
                                        }
                                    ],
                                    "label": "\n    execution = await AgentNodeExecution.prisma().find_first(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": {\"not\": ExecutionStatus.INCOMPLETE},\n            \"executionData\": {\"not\": None},  # type: ignore\n        },\n        order={\"queuedTime\": \"desc\"},\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    if not execution:\n        return None\n    return ExecutionResult.from_db(execution)"
                                }
                            ],
                            "label": "async def get_latest_execution(node_id: str, graph_eid: str) -> ExecutionResult | None:\n    execution = await AgentNodeExecution.prisma().find_first(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": {\"not\": ExecutionStatus.INCOMPLETE},\n            \"executionData\": {\"not\": None},  # type: ignore\n        },\n        order={\"queuedTime\": \"desc\"},\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    if not execution:\n        return None\n    return ExecutionResult.from_db(execution)"
                        }
                    ],
                    "label": "async def get_latest_execution(node_id: str, graph_eid: str) -> ExecutionResult | None:\n    execution = await AgentNodeExecution.prisma().find_first(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": {\"not\": ExecutionStatus.INCOMPLETE},\n            \"executionData\": {\"not\": None},  # type: ignore\n        },\n        order={\"queuedTime\": \"desc\"},\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    if not execution:\n        return None\n    return ExecutionResult.from_db(execution)"
                }
            ]
        },
        {
            "type": "function_placeholder",
            "name": "get_incomplete_executions",
            "start_line": 434,
            "end_line": 445,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 77,
                    "children": [
                        {
                            "type": "function_definition",
                            "start_token": 0,
                            "end_token": 77,
                            "children": [
                                {
                                    "type": "async",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "async"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "def"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 2,
                                    "end_token": 2,
                                    "children": [],
                                    "label": "get_incomplete_executions"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 3,
                                    "end_token": 13,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 5,
                                            "end_token": 7,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "node_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "node_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 9,
                                            "end_token": 11,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "graph_eid"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 10,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": ": str"
                                                }
                                            ],
                                            "label": "graph_eid: str"
                                        }
                                    ],
                                    "label": "(\n    node_id: str, graph_eid: str\n)"
                                },
                                {
                                    "type": "generic_type",
                                    "start_token": 15,
                                    "end_token": 19,
                                    "children": [
                                        {
                                            "type": "list",
                                            "start_token": 16,
                                            "end_token": 16,
                                            "children": [],
                                            "label": "list"
                                        },
                                        {
                                            "type": "type",
                                            "start_token": 18,
                                            "end_token": 18,
                                            "children": [],
                                            "label": "ExecutionResult"
                                        }
                                    ],
                                    "label": "> list[ExecutionResult]"
                                },
                                {
                                    "type": "block",
                                    "start_token": 21,
                                    "end_token": 77,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 22,
                                            "end_token": 63,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 22,
                                                    "end_token": 22,
                                                    "children": [],
                                                    "label": "executions"
                                                },
                                                {
                                                    "type": "await",
                                                    "start_token": 24,
                                                    "end_token": 63,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 25,
                                                            "end_token": 63,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 25,
                                                                    "end_token": 27,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 25,
                                                                            "end_token": 26,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 25,
                                                                                    "end_token": 25,
                                                                                    "children": [],
                                                                                    "label": "AgentNodeExecution"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 26,
                                                                                    "end_token": 26,
                                                                                    "children": [],
                                                                                    "label": "."
                                                                                }
                                                                            ],
                                                                            "label": "AgentNodeExecution."
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 27,
                                                                            "end_token": 27,
                                                                            "children": [],
                                                                            "label": "prisma"
                                                                        }
                                                                    ],
                                                                    "label": "AgentNodeExecution.prisma"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 31,
                                                                    "end_token": 63,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 31,
                                                                            "end_token": 31,
                                                                            "children": [],
                                                                            "label": "find_many"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 32,
                                                                            "end_token": 63,
                                                                            "children": [
                                                                                {
                                                                                    "type": "dictionary",
                                                                                    "start_token": 36,
                                                                                    "end_token": 55,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 38,
                                                                                            "end_token": 41,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 38,
                                                                                                    "end_token": 38,
                                                                                                    "children": [],
                                                                                                    "label": "\"agentNodeId\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 40,
                                                                                                    "end_token": 40,
                                                                                                    "children": [],
                                                                                                    "label": "node_id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"agentNodeId\": node_id,"
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 43,
                                                                                            "end_token": 46,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 43,
                                                                                                    "end_token": 43,
                                                                                                    "children": [],
                                                                                                    "label": "\"agentGraphExecutionId\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 45,
                                                                                                    "end_token": 45,
                                                                                                    "children": [],
                                                                                                    "label": "graph_eid"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"agentGraphExecutionId\": graph_eid,"
                                                                                        },
                                                                                        {
                                                                                            "type": "pair",
                                                                                            "start_token": 48,
                                                                                            "end_token": 52,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "start_token": 48,
                                                                                                    "end_token": 48,
                                                                                                    "children": [],
                                                                                                    "label": "\"executionStatus\""
                                                                                                },
                                                                                                {
                                                                                                    "type": "attribute",
                                                                                                    "start_token": 50,
                                                                                                    "end_token": 52,
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 50,
                                                                                                            "end_token": 50,
                                                                                                            "children": [],
                                                                                                            "label": "ExecutionStatus"
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "identifier",
                                                                                                            "start_token": 52,
                                                                                                            "end_token": 52,
                                                                                                            "children": [],
                                                                                                            "label": "INCOMPLETE"
                                                                                                        }
                                                                                                    ],
                                                                                                    "label": "ExecutionStatus.INCOMPLETE"
                                                                                                }
                                                                                            ],
                                                                                            "label": "\"executionStatus\": ExecutionStatus.INCOMPLETE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "{\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        }"
                                                                                },
                                                                                {
                                                                                    "type": "pair",
                                                                                    "start_token": 58,
                                                                                    "end_token": 60,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 58,
                                                                                            "end_token": 58,
                                                                                            "children": [],
                                                                                            "label": "include"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 60,
                                                                                            "end_token": 60,
                                                                                            "children": [],
                                                                                            "label": "EXECUTION_RESULT_INCLUDE"
                                                                                        }
                                                                                    ],
                                                                                    "label": "include=EXECUTION_RESULT_INCLUDE"
                                                                                }
                                                                            ],
                                                                            "label": "(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        },\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                                                        }
                                                                    ],
                                                                    "label": "find_many(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        },\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                                                }
                                                            ],
                                                            "label": "AgentNodeExecution.prisma().find_many(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        },\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                                        }
                                                    ],
                                                    "label": "await AgentNodeExecution.prisma().find_many(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        },\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                                }
                                            ],
                                            "label": "executions = await AgentNodeExecution.prisma().find_many(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        },\n        include=EXECUTION_RESULT_INCLUDE,\n    )"
                                        },
                                        {
                                            "type": "return_statement",
                                            "start_token": 65,
                                            "end_token": 77,
                                            "children": [
                                                {
                                                    "type": "list_comprehension",
                                                    "start_token": 66,
                                                    "end_token": 77,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 67,
                                                            "end_token": 72,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 67,
                                                                    "end_token": 69,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 67,
                                                                            "end_token": 67,
                                                                            "children": [],
                                                                            "label": "ExecutionResult"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 69,
                                                                            "end_token": 69,
                                                                            "children": [],
                                                                            "label": "from_db"
                                                                        }
                                                                    ],
                                                                    "label": "ExecutionResult.from_db"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 70,
                                                                    "end_token": 72,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 71,
                                                                            "end_token": 71,
                                                                            "children": [],
                                                                            "label": "execution"
                                                                        }
                                                                    ],
                                                                    "label": "(execution)"
                                                                }
                                                            ],
                                                            "label": "ExecutionResult.from_db(execution)"
                                                        },
                                                        {
                                                            "type": "for_in_clause",
                                                            "start_token": 73,
                                                            "end_token": 76,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 74,
                                                                    "end_token": 74,
                                                                    "children": [],
                                                                    "label": "execution"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 76,
                                                                    "end_token": 76,
                                                                    "children": [],
                                                                    "label": "executions"
                                                                }
                                                            ],
                                                            "label": "for execution in executions"
                                                        }
                                                    ],
                                                    "label": "[ExecutionResult.from_db(execution) for execution in executions]"
                                                }
                                            ],
                                            "label": "return [ExecutionResult.from_db(execution) for execution in executions]"
                                        }
                                    ],
                                    "label": "\n    executions = await AgentNodeExecution.prisma().find_many(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        },\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    return [ExecutionResult.from_db(execution) for execution in executions]"
                                }
                            ],
                            "label": "async def get_incomplete_executions(\n    node_id: str, graph_eid: str\n) -> list[ExecutionResult]:\n    executions = await AgentNodeExecution.prisma().find_many(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        },\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    return [ExecutionResult.from_db(execution) for execution in executions]"
                        }
                    ],
                    "label": "async def get_incomplete_executions(\n    node_id: str, graph_eid: str\n) -> list[ExecutionResult]:\n    executions = await AgentNodeExecution.prisma().find_many(\n        where={\n            \"agentNodeId\": node_id,\n            \"agentGraphExecutionId\": graph_eid,\n            \"executionStatus\": ExecutionStatus.INCOMPLETE,\n        },\n        include=EXECUTION_RESULT_INCLUDE,\n    )\n    return [ExecutionResult.from_db(execution) for execution in executions]"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "GraphExecutionEntry",
            "start_line": 21,
            "end_line": 25,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 25,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 25,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "GraphExecutionEntry"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "BaseModel"
                                        }
                                    ],
                                    "label": "(BaseModel)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 25,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "user_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 11,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": "graph_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_exec_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 15,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "graph_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 19,
                                            "end_token": 24,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "children": [],
                                                    "label": "start_node_execs"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 21,
                                                    "end_token": 24,
                                                    "children": [
                                                        {
                                                            "type": "list",
                                                            "start_token": 21,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 23,
                                                                    "end_token": 23,
                                                                    "children": [],
                                                                    "label": "\"NodeExecutionEntry\""
                                                                }
                                                            ],
                                                            "label": "list[\"NodeExecutionEntry\"]"
                                                        }
                                                    ],
                                                    "label": "list[\"NodeExecutionEntry\"]"
                                                }
                                            ],
                                            "label": "start_node_execs: list[\"NodeExecutionEntry\"]"
                                        }
                                    ],
                                    "label": "\n    user_id: str\n    graph_exec_id: str\n    graph_id: str\n    start_node_execs: list[\"NodeExecutionEntry\"]\n"
                                }
                            ],
                            "label": "class GraphExecutionEntry(BaseModel):\n    user_id: str\n    graph_exec_id: str\n    graph_id: str\n    start_node_execs: list[\"NodeExecutionEntry\"]\n"
                        }
                    ],
                    "label": "class GraphExecutionEntry(BaseModel):\n    user_id: str\n    graph_exec_id: str\n    graph_id: str\n    start_node_execs: list[\"NodeExecutionEntry\"]\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "NodeExecutionEntry",
            "start_line": 28,
            "end_line": 34,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 30,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 30,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "NodeExecutionEntry"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "BaseModel"
                                        }
                                    ],
                                    "label": "(BaseModel)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 30,
                                    "children": [
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "children": [],
                                                    "label": "user_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "user_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 11,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "children": [],
                                                    "label": "graph_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_exec_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 15,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "children": [],
                                                    "label": "graph_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 19,
                                            "end_token": 21,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "children": [],
                                                    "label": "node_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 21,
                                                    "end_token": 21,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "node_exec_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 23,
                                            "end_token": 25,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "children": [],
                                                    "label": "node_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "children": [],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "node_id: str"
                                        },
                                        {
                                            "type": "typed_parameter",
                                            "start_token": 27,
                                            "end_token": 29,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "children": [],
                                                    "label": "data"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 29,
                                                    "end_token": 29,
                                                    "children": [],
                                                    "label": "BlockInput"
                                                }
                                            ],
                                            "label": "data: BlockInput"
                                        }
                                    ],
                                    "label": "\n    user_id: str\n    graph_exec_id: str\n    graph_id: str\n    node_exec_id: str\n    node_id: str\n    data: BlockInput\n"
                                }
                            ],
                            "label": "class NodeExecutionEntry(BaseModel):\n    user_id: str\n    graph_exec_id: str\n    graph_id: str\n    node_exec_id: str\n    node_id: str\n    data: BlockInput\n"
                        }
                    ],
                    "label": "class NodeExecutionEntry(BaseModel):\n    user_id: str\n    graph_exec_id: str\n    graph_id: str\n    node_exec_id: str\n    node_id: str\n    data: BlockInput\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "ExecutionQueue",
            "start_line": 42,
            "end_line": 59,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 12,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 8,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 0,
                                    "end_token": 0,
                                    "children": [],
                                    "label": "class"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "ExecutionQueue"
                                },
                                {
                                    "type": "generic_type",
                                    "start_token": 3,
                                    "end_token": 7,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "Generic"
                                        },
                                        {
                                            "type": "type_parameter",
                                            "start_token": 5,
                                            "end_token": 5,
                                            "children": [],
                                            "label": "T"
                                        }
                                    ],
                                    "label": "Generic[T])"
                                }
                            ],
                            "label": "class ExecutionQueue(Generic[T]):"
                        },
                        {
                            "type": "string",
                            "start_token": 10,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "string_content",
                                    "start_token": 11,
                                    "end_token": 11,
                                    "children": [],
                                    "label": "\"\n    Queue for managing the execution of agents.\n    This will be shared between different processes\n    \""
                                }
                            ],
                            "label": "\"\"\"\n    Queue for managing the execution of agents.\n    This will be shared between different processes\n    \"\"\""
                        },
                        {
                            "type": "function_placeholder",
                            "name": "__init__",
                            "start_line": 48,
                            "end_line": 49,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 17,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "__init__"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 5,
                                                    "end_token": 17,
                                                    "children": [
                                                        {
                                                            "type": "assignment",
                                                            "start_token": 7,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 7,
                                                                    "end_token": 9,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 7,
                                                                            "end_token": 7,
                                                                            "label": "self"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 9,
                                                                            "end_token": 9,
                                                                            "label": "queue"
                                                                        }
                                                                    ],
                                                                    "label": "self.queue"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 17,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 11,
                                                                            "end_token": 15,
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "start_token": 11,
                                                                                    "end_token": 13,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 11,
                                                                                            "end_token": 11,
                                                                                            "label": "Manager"
                                                                                        }
                                                                                    ],
                                                                                    "label": "Manager()"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 15,
                                                                                    "end_token": 15,
                                                                                    "label": "Queue"
                                                                                }
                                                                            ],
                                                                            "label": "Manager().Queue"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 16,
                                                                            "end_token": 17,
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "Manager().Queue()"
                                                                }
                                                            ],
                                                            "label": "self.queue = Manager().Queue()"
                                                        }
                                                    ],
                                                    "label": ":\n        self.queue = Manager().Queue()"
                                                }
                                            ],
                                            "label": "def __init__(self):\n        self.queue = Manager().Queue()"
                                        }
                                    ],
                                    "label": "def __init__(self):\n        self.queue = Manager().Queue()"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "add",
                            "start_line": 51,
                            "end_line": 53,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 25,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 25,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "add"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 8,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 5,
                                                            "end_token": 5,
                                                            "label": "execution"
                                                        },
                                                        {
                                                            "type": "generic_type",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "label": "T"
                                                        }
                                                    ],
                                                    "label": "(self, execution: T)"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "label": "T"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 13,
                                                    "end_token": 25,
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "start_token": 14,
                                                            "end_token": 21,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 14,
                                                                    "end_token": 18,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 14,
                                                                            "end_token": 16,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 14,
                                                                                    "end_token": 14,
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 16,
                                                                                    "end_token": 16,
                                                                                    "label": "queue"
                                                                                }
                                                                            ],
                                                                            "label": "self.queue"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 18,
                                                                            "end_token": 18,
                                                                            "label": "put"
                                                                        }
                                                                    ],
                                                                    "label": "self.queue.put"
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "start_token": 19,
                                                                    "end_token": 20,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 20,
                                                                            "end_token": 20,
                                                                            "label": "execution"
                                                                        }
                                                                    ],
                                                                    "label": "(execution"
                                                                }
                                                            ],
                                                            "label": "self.queue.put(execution)"
                                                        },
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 23,
                                                            "end_token": 24,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 24,
                                                                    "end_token": 24,
                                                                    "label": "execution"
                                                                }
                                                            ],
                                                            "label": "return execution"
                                                        }
                                                    ],
                                                    "label": "\n        self.queue.put(execution)\n        return execution\n"
                                                }
                                            ],
                                            "label": "def add(self, execution: T) -> T:\n        self.queue.put(execution)\n        return execution\n"
                                        }
                                    ],
                                    "label": "def add(self, execution: T) -> T:\n        self.queue.put(execution)\n        return execution\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "get",
                            "start_line": 55,
                            "end_line": 56,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 18,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 18,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "get"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "label": "T"
                                                        }
                                                    ],
                                                    "label": "> T"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 9,
                                                    "end_token": 18,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 10,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 17,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 11,
                                                                            "end_token": 15,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "label": "queue"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 15,
                                                                                    "end_token": 15,
                                                                                    "label": "get"
                                                                                }
                                                                            ],
                                                                            "label": "self.queue.get"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 16,
                                                                            "end_token": 17,
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "self.queue.get()"
                                                                }
                                                            ],
                                                            "label": "return self.queue.get()"
                                                        }
                                                    ],
                                                    "label": "\n        return self.queue.get()\n"
                                                }
                                            ],
                                            "label": "def get(self) -> T:\n        return self.queue.get()\n"
                                        }
                                    ],
                                    "label": "def get(self) -> T:\n        return self.queue.get()\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "empty",
                            "start_line": 58,
                            "end_line": 59,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 18,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "empty"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "children": [],
                                                            "label": "bool"
                                                        }
                                                    ],
                                                    "label": "> bool"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 9,
                                                    "end_token": 17,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 10,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 17,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 11,
                                                                            "end_token": 15,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 11,
                                                                                    "end_token": 13,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 11,
                                                                                            "end_token": 11,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 13,
                                                                                            "end_token": 13,
                                                                                            "children": [],
                                                                                            "label": "queue"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.queue"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 15,
                                                                                    "end_token": 15,
                                                                                    "children": [],
                                                                                    "label": "empty"
                                                                                }
                                                                            ],
                                                                            "label": "self.queue.empty"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 16,
                                                                            "end_token": 17,
                                                                            "children": [],
                                                                            "label": "()"
                                                                        }
                                                                    ],
                                                                    "label": "self.queue.empty()"
                                                                }
                                                            ],
                                                            "label": "return self.queue.empty()"
                                                        }
                                                    ],
                                                    "label": "\n        return self.queue.empty()"
                                                }
                                            ],
                                            "label": "def empty(self) -> bool:\n        return self.queue.empty()"
                                        }
                                    ],
                                    "label": "def empty(self) -> bool:\n        return self.queue.empty()\n"
                                }
                            ]
                        }
                    ],
                    "label": "class ExecutionQueue(Generic[T]):\n    \"\"\"\n    Queue for managing the execution of agents.\n    This will be shared between different processes\n    \"\"\""
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "ExecutionResult",
            "start_line": 62,
            "end_line": 128,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 72,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 63,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "ExecutionResult"
                                },
                                {
                                    "type": "parameters",
                                    "start_token": 2,
                                    "end_token": 4,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "label": "BaseModel"
                                        }
                                    ],
                                    "label": "(BaseModel)"
                                },
                                {
                                    "type": "block",
                                    "start_token": 6,
                                    "end_token": 63,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 7,
                                            "end_token": 9,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 7,
                                                    "end_token": 7,
                                                    "label": "graph_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 9,
                                                    "end_token": 9,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 9,
                                                            "end_token": 9,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_id: str"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 11,
                                            "end_token": 13,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 11,
                                                    "end_token": 11,
                                                    "label": "graph_version"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 13,
                                                    "end_token": 13,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 13,
                                                            "end_token": 13,
                                                            "label": "int"
                                                        }
                                                    ],
                                                    "label": "int"
                                                }
                                            ],
                                            "label": "graph_version: int"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 15,
                                            "end_token": 17,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 15,
                                                    "end_token": 15,
                                                    "label": "graph_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 17,
                                                    "end_token": 17,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 17,
                                                            "end_token": 17,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "graph_exec_id: str"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 19,
                                            "end_token": 21,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 19,
                                                    "end_token": 19,
                                                    "label": "node_exec_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 21,
                                                    "end_token": 21,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 21,
                                                            "end_token": 21,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "node_exec_id: str"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 23,
                                            "end_token": 25,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 23,
                                                    "end_token": 23,
                                                    "label": "node_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 25,
                                                    "end_token": 25,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 25,
                                                            "end_token": 25,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "node_id: str"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 27,
                                            "end_token": 29,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 27,
                                                    "end_token": 27,
                                                    "label": "block_id"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 29,
                                                    "end_token": 29,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 29,
                                                            "end_token": 29,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "str"
                                                }
                                            ],
                                            "label": "block_id: str"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 31,
                                            "end_token": 33,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 31,
                                                    "end_token": 31,
                                                    "label": "status"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 33,
                                                    "end_token": 33,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 33,
                                                            "end_token": 33,
                                                            "label": "ExecutionStatus"
                                                        }
                                                    ],
                                                    "label": "ExecutionStatus"
                                                }
                                            ],
                                            "label": "status: ExecutionStatus"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 35,
                                            "end_token": 37,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 35,
                                                    "end_token": 35,
                                                    "label": "input_data"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 37,
                                                    "end_token": 37,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 37,
                                                            "end_token": 37,
                                                            "label": "BlockInput"
                                                        }
                                                    ],
                                                    "label": "BlockInput"
                                                }
                                            ],
                                            "label": "input_data: BlockInput"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 39,
                                            "end_token": 41,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 39,
                                                    "end_token": 39,
                                                    "label": "output_data"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 41,
                                                    "end_token": 41,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 41,
                                                            "end_token": 41,
                                                            "label": "CompletedBlockOutput"
                                                        }
                                                    ],
                                                    "label": "CompletedBlockOutput"
                                                }
                                            ],
                                            "label": "output_data: CompletedBlockOutput"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 43,
                                            "end_token": 45,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 43,
                                                    "end_token": 43,
                                                    "label": "add_time"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 45,
                                                    "end_token": 45,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 45,
                                                            "end_token": 45,
                                                            "label": "datetime"
                                                        }
                                                    ],
                                                    "label": "datetime"
                                                }
                                            ],
                                            "label": "add_time: datetime"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 47,
                                            "end_token": 51,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 47,
                                                    "end_token": 47,
                                                    "label": "queue_time"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 49,
                                                    "end_token": 51,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 49,
                                                            "end_token": 49,
                                                            "label": "datetime"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 51,
                                                            "end_token": 51,
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": "datetime | None"
                                                }
                                            ],
                                            "label": "queue_time: datetime | None"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 53,
                                            "end_token": 57,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 53,
                                                    "end_token": 53,
                                                    "label": "start_time"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 55,
                                                    "end_token": 57,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 55,
                                                            "end_token": 55,
                                                            "label": "datetime"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 57,
                                                            "end_token": 57,
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": "datetime | None"
                                                }
                                            ],
                                            "label": "start_time: datetime | None"
                                        },
                                        {
                                            "type": "assignment",
                                            "start_token": 59,
                                            "end_token": 63,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 59,
                                                    "end_token": 59,
                                                    "label": "end_time"
                                                },
                                                {
                                                    "type": "union_type",
                                                    "start_token": 61,
                                                    "end_token": 63,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 61,
                                                            "end_token": 61,
                                                            "label": "datetime"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 63,
                                                            "end_token": 63,
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": "datetime | None"
                                                }
                                            ],
                                            "label": "end_time: datetime | None"
                                        }
                                    ],
                                    "label": "\n    graph_id: str\n    graph_version: int\n    graph_exec_id: str\n    node_exec_id: str\n    node_id: str\n    block_id: str\n    status: ExecutionStatus\n    input_data: BlockInput\n    output_data: CompletedBlockOutput\n    add_time: datetime\n    queue_time: datetime | None\n    start_time: datetime | None\n    end_time: datetime | None"
                                }
                            ],
                            "label": "class ExecutionResult(BaseModel):\n    graph_id: str\n    graph_version: int\n    graph_exec_id: str\n    node_exec_id: str\n    node_id: str\n    block_id: str\n    status: ExecutionStatus\n    input_data: BlockInput\n    output_data: CompletedBlockOutput\n    add_time: datetime\n    queue_time: datetime | None\n    start_time: datetime | None\n    end_time: datetime | None"
                        },
                        {
                            "type": "decorator",
                            "start_token": 66,
                            "end_token": 67,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 67,
                                    "end_token": 67,
                                    "label": "staticmethod"
                                }
                            ],
                            "label": "@staticmethod"
                        },
                        {
                            "type": "decorator",
                            "start_token": 70,
                            "end_token": 71,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 71,
                                    "end_token": 71,
                                    "label": "staticmethod"
                                }
                            ],
                            "label": "@staticmethod"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "from_graph",
                            "start_line": 78,
                            "end_line": 95,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 117,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 116,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "from_graph"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 6,
                                                    "children": [
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 3,
                                                            "end_token": 5,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 3,
                                                                    "end_token": 3,
                                                                    "label": "graph"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "label": "AgentGraphExecution"
                                                                }
                                                            ],
                                                            "label": "graph: AgentGraphExecution"
                                                        }
                                                    ],
                                                    "label": "(graph: AgentGraphExecution)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 8,
                                                    "end_token": 116,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 9,
                                                            "end_token": 116,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 10,
                                                                    "end_token": 116,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 10,
                                                                            "end_token": 10,
                                                                            "label": "ExecutionResult"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 11,
                                                                            "end_token": 116,
                                                                            "children": [
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 13,
                                                                                    "end_token": 18,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 13,
                                                                                            "end_token": 13,
                                                                                            "label": "graph_id"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 15,
                                                                                            "end_token": 17,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 15,
                                                                                                    "end_token": 15,
                                                                                                    "label": "graph"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 17,
                                                                                                    "end_token": 17,
                                                                                                    "label": "agentGraphId"
                                                                                                }
                                                                                            ],
                                                                                            "label": "graph.agentGraphId"
                                                                                        }
                                                                                    ],
                                                                                    "label": "graph_id=graph.agentGraphId,"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 20,
                                                                                    "end_token": 25,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "label": "graph_version"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 22,
                                                                                            "end_token": 24,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 22,
                                                                                                    "end_token": 22,
                                                                                                    "label": "graph"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 24,
                                                                                                    "end_token": 24,
                                                                                                    "label": "agentGraphVersion"
                                                                                                }
                                                                                            ],
                                                                                            "label": "graph.agentGraphVersion"
                                                                                        }
                                                                                    ],
                                                                                    "label": "graph_version=graph.agentGraphVersion,"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 27,
                                                                                    "end_token": 32,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 27,
                                                                                            "end_token": 27,
                                                                                            "label": "graph_exec_id"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 29,
                                                                                            "end_token": 31,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 29,
                                                                                                    "end_token": 29,
                                                                                                    "label": "graph"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 31,
                                                                                                    "end_token": 31,
                                                                                                    "label": "id"
                                                                                                }
                                                                                            ],
                                                                                            "label": "graph.id"
                                                                                        }
                                                                                    ],
                                                                                    "label": "graph_exec_id=graph.id,"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 34,
                                                                                    "end_token": 37,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 34,
                                                                                            "end_token": 34,
                                                                                            "label": "node_exec_id"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 36,
                                                                                            "end_token": 36,
                                                                                            "label": "\"\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "node_exec_id=\"\","
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 39,
                                                                                    "end_token": 42,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 39,
                                                                                            "end_token": 39,
                                                                                            "label": "node_id"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 41,
                                                                                            "end_token": 41,
                                                                                            "label": "\"\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "node_id=\"\","
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 44,
                                                                                    "end_token": 47,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 44,
                                                                                            "end_token": 44,
                                                                                            "label": "block_id"
                                                                                        },
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 46,
                                                                                            "end_token": 46,
                                                                                            "label": "\"\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "block_id=\"\","
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 49,
                                                                                    "end_token": 54,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 49,
                                                                                            "end_token": 49,
                                                                                            "label": "status"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 51,
                                                                                            "end_token": 53,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 51,
                                                                                                    "end_token": 51,
                                                                                                    "label": "graph"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 53,
                                                                                                    "end_token": 53,
                                                                                                    "label": "executionStatus"
                                                                                                }
                                                                                            ],
                                                                                            "label": "graph.executionStatus"
                                                                                        }
                                                                                    ],
                                                                                    "label": "status=graph.executionStatus,"
                                                                                },
                                                                                {
                                                                                    "type": "comment",
                                                                                    "start_token": 56,
                                                                                    "end_token": 65,
                                                                                    "label": "# TODO: Populate input_data & output_data from AgentNodeExecutions\n"
                                                                                },
                                                                                {
                                                                                    "type": "comment",
                                                                                    "start_token": 66,
                                                                                    "end_token": 74,
                                                                                    "label": "#       Input & Output comes AgentInputBlock & AgentOutputBlock."
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 76,
                                                                                    "end_token": 80,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 76,
                                                                                            "end_token": 76,
                                                                                            "label": "input_data"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 78,
                                                                                            "end_token": 79,
                                                                                            "label": "{}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "input_data={},"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 82,
                                                                                    "end_token": 86,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 82,
                                                                                            "end_token": 82,
                                                                                            "label": "output_data"
                                                                                        },
                                                                                        {
                                                                                            "type": "dictionary",
                                                                                            "start_token": 84,
                                                                                            "end_token": 85,
                                                                                            "label": "{}"
                                                                                        }
                                                                                    ],
                                                                                    "label": "output_data={},"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 88,
                                                                                    "end_token": 93,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 88,
                                                                                            "end_token": 88,
                                                                                            "label": "add_time"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 90,
                                                                                            "end_token": 92,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 90,
                                                                                                    "end_token": 90,
                                                                                                    "label": "graph"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 92,
                                                                                                    "end_token": 92,
                                                                                                    "label": "createdAt"
                                                                                                }
                                                                                            ],
                                                                                            "label": "graph.createdAt"
                                                                                        }
                                                                                    ],
                                                                                    "label": "add_time=graph.createdAt,"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 95,
                                                                                    "end_token": 100,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 95,
                                                                                            "end_token": 95,
                                                                                            "label": "queue_time"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 97,
                                                                                            "end_token": 99,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 97,
                                                                                                    "end_token": 97,
                                                                                                    "label": "graph"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 99,
                                                                                                    "end_token": 99,
                                                                                                    "label": "createdAt"
                                                                                                }
                                                                                            ],
                                                                                            "label": "graph.createdAt"
                                                                                        }
                                                                                    ],
                                                                                    "label": "queue_time=graph.createdAt,"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 102,
                                                                                    "end_token": 107,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 102,
                                                                                            "end_token": 102,
                                                                                            "label": "start_time"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 104,
                                                                                            "end_token": 106,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 104,
                                                                                                    "end_token": 104,
                                                                                                    "label": "graph"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 106,
                                                                                                    "end_token": 106,
                                                                                                    "label": "startedAt"
                                                                                                }
                                                                                            ],
                                                                                            "label": "graph.startedAt"
                                                                                        }
                                                                                    ],
                                                                                    "label": "start_time=graph.startedAt,"
                                                                                },
                                                                                {
                                                                                    "type": "assignment",
                                                                                    "start_token": 109,
                                                                                    "end_token": 114,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 109,
                                                                                            "end_token": 109,
                                                                                            "label": "end_time"
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "start_token": 111,
                                                                                            "end_token": 113,
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 111,
                                                                                                    "end_token": 111,
                                                                                                    "label": "graph"
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "start_token": 113,
                                                                                                    "end_token": 113,
                                                                                                    "label": "updatedAt"
                                                                                                }
                                                                                            ],
                                                                                            "label": "graph.updatedAt"
                                                                                        }
                                                                                    ],
                                                                                    "label": "end_time=graph.updatedAt,"
                                                                                }
                                                                            ],
                                                                            "label": "(\n            graph_id=graph.agentGraphId,\n            graph_version=graph.agentGraphVersion,\n            graph_exec_id=graph.id,\n            node_exec_id=\"\",\n            node_id=\"\",\n            block_id=\"\",\n            status=graph.executionStatus,\n            # TODO: Populate input_data & output_data from AgentNodeExecutions\n            #       Input & Output comes AgentInputBlock & AgentOutputBlock.\n            input_data={},\n            output_data={},\n            add_time=graph.createdAt,\n            queue_time=graph.createdAt,\n            start_time=graph.startedAt,\n            end_time=graph.updatedAt,\n        )"
                                                                        }
                                                                    ],
                                                                    "label": "ExecutionResult(\n            graph_id=graph.agentGraphId,\n            graph_version=graph.agentGraphVersion,\n            graph_exec_id=graph.id,\n            node_exec_id=\"\",\n            node_id=\"\",\n            block_id=\"\",\n            status=graph.executionStatus,\n            # TODO: Populate input_data & output_data from AgentNodeExecutions\n            #       Input & Output comes AgentInputBlock & AgentOutputBlock.\n            input_data={},\n            output_data={},\n            add_time=graph.createdAt,\n            queue_time=graph.createdAt,\n            start_time=graph.startedAt,\n            end_time=graph.updatedAt,\n        )"
                                                                }
                                                            ],
                                                            "label": "return ExecutionResult(\n            graph_id=graph.agentGraphId,\n            graph_version=graph.agentGraphVersion,\n            graph_exec_id=graph.id,\n            node_exec_id=\"\",\n            node_id=\"\",\n            block_id=\"\",\n            status=graph.executionStatus,\n            # TODO: Populate input_data & output_data from AgentNodeExecutions\n            #       Input & Output comes AgentInputBlock & AgentOutputBlock.\n            input_data={},\n            output_data={},\n            add_time=graph.createdAt,\n            queue_time=graph.createdAt,\n            start_time=graph.startedAt,\n            end_time=graph.updatedAt,\n        )"
                                                        }
                                                    ],
                                                    "label": "\n        return ExecutionResult(\n            graph_id=graph.agentGraphId,\n            graph_version=graph.agentGraphVersion,\n            graph_exec_id=graph.id,\n            node_exec_id=\"\",\n            node_id=\"\",\n            block_id=\"\",\n            status=graph.executionStatus,\n            # TODO: Populate input_data & output_data from AgentNodeExecutions\n            #       Input & Output comes AgentInputBlock & AgentOutputBlock.\n            input_data={},\n            output_data={},\n            add_time=graph.createdAt,\n            queue_time=graph.createdAt,\n            start_time=graph.startedAt,\n            end_time=graph.updatedAt,\n        )"
                                                }
                                            ],
                                            "label": "def from_graph(graph: AgentGraphExecution):\n        return ExecutionResult(\n            graph_id=graph.agentGraphId,\n            graph_version=graph.agentGraphVersion,\n            graph_exec_id=graph.id,\n            node_exec_id=\"\",\n            node_id=\"\",\n            block_id=\"\",\n            status=graph.executionStatus,\n            # TODO: Populate input_data & output_data from AgentNodeExecutions\n            #       Input & Output comes AgentInputBlock & AgentOutputBlock.\n            input_data={},\n            output_data={},\n            add_time=graph.createdAt,\n            queue_time=graph.createdAt,\n            start_time=graph.startedAt,\n            end_time=graph.updatedAt,\n        )"
                                        }
                                    ],
                                    "label": "def from_graph(graph: AgentGraphExecution):\n        return ExecutionResult(\n            graph_id=graph.agentGraphId,\n            graph_version=graph.agentGraphVersion,\n            graph_exec_id=graph.id,\n            node_exec_id=\"\",\n            node_id=\"\",\n            block_id=\"\",\n            status=graph.executionStatus,\n            # TODO: Populate input_data & output_data from AgentNodeExecutions\n            #       Input & Output comes AgentInputBlock & AgentOutputBlock.\n            input_data={},\n            output_data={},\n            add_time=graph.createdAt,\n            queue_time=graph.createdAt,\n            start_time=graph.startedAt,\n            end_time=graph.updatedAt,\n        )\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "from_db",
                            "start_line": 98,
                            "end_line": 128,
                            "children": [
                                {
                                    "type": "ErrorNode",
                                    "start_token": -1,
                                    "end_token": -1,
                                    "children": [],
                                    "label": ""
                                }
                            ]
                        }
                    ],
                    "label": "class ExecutionResult(BaseModel):\n    graph_id: str\n    graph_version: int\n    graph_exec_id: str\n    node_exec_id: str\n    node_id: str\n    block_id: str\n    status: ExecutionStatus\n    input_data: BlockInput\n    output_data: CompletedBlockOutput\n    add_time: datetime\n    queue_time: datetime | None\n    start_time: datetime | None\n    end_time: datetime | None\n\n    @staticmethod\n\n    @staticmethod\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "RedisExecutionEventBus",
            "start_line": 453,
            "end_line": 467,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 19,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 8,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "children": [],
                                    "label": "RedisExecutionEventBus"
                                },
                                {
                                    "type": "generic_type",
                                    "start_token": 3,
                                    "end_token": 6,
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "start_token": 3,
                                            "end_token": 3,
                                            "children": [],
                                            "label": "RedisEventBus"
                                        },
                                        {
                                            "type": "list",
                                            "start_token": 4,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "children": [],
                                                    "label": "ExecutionResult"
                                                }
                                            ],
                                            "label": "[ExecutionResult]"
                                        }
                                    ],
                                    "label": "RedisEventBus[ExecutionResult]"
                                }
                            ],
                            "label": "class RedisExecutionEventBus(RedisEventBus[ExecutionResult]):"
                        },
                        {
                            "type": "assignment",
                            "start_token": 10,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 10,
                                    "end_token": 10,
                                    "children": [],
                                    "label": "Model"
                                },
                                {
                                    "type": "identifier",
                                    "start_token": 12,
                                    "end_token": 12,
                                    "children": [],
                                    "label": "ExecutionResult"
                                }
                            ],
                            "label": "Model = ExecutionResult"
                        },
                        {
                            "type": "decorated_definition",
                            "start_token": 15,
                            "end_token": 16,
                            "children": [
                                {
                                    "type": "decorator",
                                    "start_token": 15,
                                    "end_token": 15,
                                    "children": [],
                                    "label": "@"
                                },
                                {
                                    "type": "property",
                                    "start_token": 16,
                                    "end_token": 16,
                                    "children": [],
                                    "label": "property"
                                }
                            ],
                            "label": "@property"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "event_bus_name",
                            "start_line": 457,
                            "end_line": 458,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 14,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 14,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 1,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "event_bus_name(self)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "label": "str"
                                                        }
                                                    ],
                                                    "label": "> str"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 9,
                                                    "end_token": 14,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 10,
                                                            "end_token": 14,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 11,
                                                                    "end_token": 13,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "label": "config"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 13,
                                                                            "end_token": 13,
                                                                            "label": "execution_event_bus_name"
                                                                        }
                                                                    ],
                                                                    "label": "config.execution_event_bus_name"
                                                                }
                                                            ],
                                                            "label": "return config.execution_event_bus_name\n"
                                                        }
                                                    ],
                                                    "label": "\n        return config.execution_event_bus_name\n"
                                                }
                                            ],
                                            "label": "def event_bus_name(self) -> str:\n        return config.execution_event_bus_name\n"
                                        }
                                    ],
                                    "label": "def event_bus_name(self) -> str:\n        return config.execution_event_bus_name\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "publish",
                            "start_line": 460,
                            "end_line": 461,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 20,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 20,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "children": [],
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "publish"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 8,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "children": [],
                                                            "label": "self"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 5,
                                                            "end_token": 5,
                                                            "children": [],
                                                            "label": "res"
                                                        },
                                                        {
                                                            "type": "type",
                                                            "start_token": 7,
                                                            "end_token": 7,
                                                            "children": [],
                                                            "label": "ExecutionResult"
                                                        }
                                                    ],
                                                    "label": "(self, res: ExecutionResult)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 11,
                                                    "end_token": 20,
                                                    "children": [
                                                        {
                                                            "type": "expression_statement",
                                                            "start_token": 11,
                                                            "end_token": 19,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 11,
                                                                    "end_token": 19,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 11,
                                                                            "end_token": 13,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 11,
                                                                                    "end_token": 11,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "children": [],
                                                                                    "label": "publish_event"
                                                                                }
                                                                            ],
                                                                            "label": "self.publish_event"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 14,
                                                                            "end_token": 19,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 15,
                                                                                    "end_token": 15,
                                                                                    "children": [],
                                                                                    "label": "res"
                                                                                },
                                                                                {
                                                                                    "type": "concatenated_string",
                                                                                    "start_token": 17,
                                                                                    "end_token": 18,
                                                                                    "children": [],
                                                                                    "label": "f\"{res.graph_id}/{res.graph_exec_id}\""
                                                                                }
                                                                            ],
                                                                            "label": "(res, f\"{res.graph_id}/{res.graph_exec_id}\")"
                                                                        }
                                                                    ],
                                                                    "label": "self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")"
                                                                }
                                                            ],
                                                            "label": "self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")"
                                                        }
                                                    ],
                                                    "label": "self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")\n"
                                                }
                                            ],
                                            "label": "def publish(self, res: ExecutionResult):\n        self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")\n"
                                        }
                                    ],
                                    "label": "def publish(self, res: ExecutionResult):\n        self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "listen",
                            "start_line": 463,
                            "end_line": 467,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 44,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 44,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "listen"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 18,
                                                    "children": [
                                                        {
                                                            "type": "typed_default_parameter",
                                                            "start_token": 4,
                                                            "end_token": 10,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 4,
                                                                    "end_token": 4,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "typed_parameter",
                                                                    "start_token": 6,
                                                                    "end_token": 8,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 6,
                                                                            "end_token": 6,
                                                                            "children": [],
                                                                            "label": "graph_id"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 8,
                                                                            "end_token": 8,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "graph_id: str"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 10,
                                                                    "end_token": 10,
                                                                    "children": [],
                                                                    "label": "\"*\""
                                                                }
                                                            ],
                                                            "label": "self, graph_id: str = \"*\""
                                                        },
                                                        {
                                                            "type": "typed_default_parameter",
                                                            "start_token": 12,
                                                            "end_token": 16,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 12,
                                                                    "end_token": 12,
                                                                    "children": [],
                                                                    "label": "graph_exec_id"
                                                                },
                                                                {
                                                                    "type": "typed_parameter",
                                                                    "start_token": 14,
                                                                    "end_token": 14,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 14,
                                                                            "end_token": 14,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        },
                                                                        {
                                                                            "type": "type",
                                                                            "start_token": 14,
                                                                            "end_token": 14,
                                                                            "children": [],
                                                                            "label": "str"
                                                                        }
                                                                    ],
                                                                    "label": "str"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 16,
                                                                    "end_token": 16,
                                                                    "children": [],
                                                                    "label": "\"*\""
                                                                }
                                                            ],
                                                            "label": "graph_exec_id: str = \"*\""
                                                        }
                                                    ],
                                                    "label": "(\n        self, graph_id: str = \"*\", graph_exec_id: str = \"*\"\n    )"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 19,
                                                    "end_token": 28,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 21,
                                                            "end_token": 21,
                                                            "children": [],
                                                            "label": "Generator"
                                                        },
                                                        {
                                                            "type": "tuple",
                                                            "start_token": 22,
                                                            "end_token": 27,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 23,
                                                                    "end_token": 23,
                                                                    "children": [],
                                                                    "label": "ExecutionResult"
                                                                },
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 25,
                                                                    "end_token": 25,
                                                                    "children": [],
                                                                    "label": "None"
                                                                },
                                                                {
                                                                    "type": "none",
                                                                    "start_token": 27,
                                                                    "end_token": 27,
                                                                    "children": [],
                                                                    "label": "None"
                                                                }
                                                            ],
                                                            "label": "[ExecutionResult, None, None"
                                                        }
                                                    ],
                                                    "label": "-> Generator[ExecutionResult, None, None]"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 29,
                                                    "end_token": 44,
                                                    "children": [
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 31,
                                                            "end_token": 44,
                                                            "children": [
                                                                {
                                                                    "type": "for_in_clause",
                                                                    "start_token": 31,
                                                                    "end_token": 37,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 32,
                                                                            "end_token": 32,
                                                                            "children": [],
                                                                            "label": "execution_result"
                                                                        },
                                                                        {
                                                                            "type": "call",
                                                                            "start_token": 34,
                                                                            "end_token": 40,
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "start_token": 34,
                                                                                    "end_token": 36,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 34,
                                                                                            "end_token": 34,
                                                                                            "children": [],
                                                                                            "label": "self"
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "start_token": 36,
                                                                                            "end_token": 36,
                                                                                            "children": [],
                                                                                            "label": "listen_events"
                                                                                        }
                                                                                    ],
                                                                                    "label": "self.listen_events"
                                                                                },
                                                                                {
                                                                                    "type": "interpolation",
                                                                                    "start_token": 38,
                                                                                    "end_token": 39,
                                                                                    "children": [],
                                                                                    "label": "f\"{graph_id}/{graph_exec_id}\""
                                                                                }
                                                                            ],
                                                                            "label": "self.listen_events(f\"{graph_id}/{graph_exec_id}\")"
                                                                        }
                                                                    ],
                                                                    "label": "for execution_result in self.listen_events("
                                                                },
                                                                {
                                                                    "type": "yield",
                                                                    "start_token": 43,
                                                                    "end_token": 44,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 44,
                                                                            "end_token": 44,
                                                                            "children": [],
                                                                            "label": "execution_result"
                                                                        }
                                                                    ],
                                                                    "label": "yield execution_result"
                                                                }
                                                            ],
                                                            "label": "for execution_result in self.listen_events(f\"{graph_id}/{graph_exec_id}\"):\n            yield execution_result"
                                                        }
                                                    ],
                                                    "label": ":\n        for execution_result in self.listen_events(f\"{graph_id}/{graph_exec_id}\"):\n            yield execution_result"
                                                }
                                            ],
                                            "label": "def listen(\n        self, graph_id: str = \"*\", graph_exec_id: str = \"*\"\n    ) -> Generator[ExecutionResult, None, None]:\n        for execution_result in self.listen_events(f\"{graph_id}/{graph_exec_id}\"):\n            yield execution_result"
                                        }
                                    ],
                                    "label": "def listen(\n        self, graph_id: str = \"*\", graph_exec_id: str = \"*\"\n    ) -> Generator[ExecutionResult, None, None]:\n        for execution_result in self.listen_events(f\"{graph_id}/{graph_exec_id}\"):\n            yield execution_result"
                                }
                            ]
                        }
                    ],
                    "label": "class RedisExecutionEventBus(RedisEventBus[ExecutionResult]):\n    Model = ExecutionResult\n\n    @property\n\n\n"
                }
            ]
        },
        {
            "type": "class_placeholder",
            "name": "AsyncRedisExecutionEventBus",
            "start_line": 470,
            "end_line": 484,
            "children": [
                {
                    "type": "module",
                    "start_token": 0,
                    "end_token": 17,
                    "children": [
                        {
                            "type": "class_definition",
                            "start_token": 0,
                            "end_token": 12,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 1,
                                    "end_token": 1,
                                    "label": "AsyncRedisExecutionEventBus"
                                },
                                {
                                    "type": "argument_list",
                                    "start_token": 2,
                                    "end_token": 7,
                                    "children": [
                                        {
                                            "type": "generic_type",
                                            "start_token": 3,
                                            "end_token": 6,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 3,
                                                    "end_token": 3,
                                                    "label": "AsyncRedisEventBus"
                                                },
                                                {
                                                    "type": "type_parameter",
                                                    "start_token": 5,
                                                    "end_token": 5,
                                                    "label": "ExecutionResult"
                                                }
                                            ],
                                            "label": "AsyncRedisEventBus[ExecutionResult]"
                                        }
                                    ],
                                    "label": "(AsyncRedisEventBus[ExecutionResult])"
                                },
                                {
                                    "type": "block",
                                    "start_token": 8,
                                    "end_token": 12,
                                    "children": [
                                        {
                                            "type": "assignment",
                                            "start_token": 10,
                                            "end_token": 12,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 10,
                                                    "end_token": 10,
                                                    "label": "Model"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 12,
                                                    "end_token": 12,
                                                    "label": "ExecutionResult"
                                                }
                                            ],
                                            "label": "Model = ExecutionResult"
                                        }
                                    ],
                                    "label": ":\n    Model = ExecutionResult"
                                }
                            ],
                            "label": "class AsyncRedisExecutionEventBus(AsyncRedisEventBus[ExecutionResult]):\n    Model = ExecutionResult"
                        },
                        {
                            "type": "decorator",
                            "start_token": 15,
                            "end_token": 16,
                            "children": [
                                {
                                    "type": "identifier",
                                    "start_token": 16,
                                    "end_token": 16,
                                    "label": "property"
                                }
                            ],
                            "label": "@property"
                        },
                        {
                            "type": "function_placeholder",
                            "name": "event_bus_name",
                            "start_line": 474,
                            "end_line": 475,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 14,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 14,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 0,
                                                    "end_token": 0,
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "label": "event_bus_name"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 2,
                                                    "end_token": 4,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 3,
                                                            "end_token": 3,
                                                            "label": "self"
                                                        }
                                                    ],
                                                    "label": "(self)"
                                                },
                                                {
                                                    "type": "type",
                                                    "start_token": 6,
                                                    "end_token": 7,
                                                    "label": "> str"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 8,
                                                    "end_token": 14,
                                                    "children": [
                                                        {
                                                            "type": "return_statement",
                                                            "start_token": 10,
                                                            "end_token": 13,
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "start_token": 11,
                                                                    "end_token": 13,
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 11,
                                                                            "end_token": 11,
                                                                            "label": "config"
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "start_token": 13,
                                                                            "end_token": 13,
                                                                            "label": "execution_event_bus_name"
                                                                        }
                                                                    ],
                                                                    "label": "config.execution_event_bus_name"
                                                                }
                                                            ],
                                                            "label": "return config.execution_event_bus_name"
                                                        }
                                                    ],
                                                    "label": ":\n        return config.execution_event_bus_name\n"
                                                }
                                            ],
                                            "label": "def event_bus_name(self) -> str:\n        return config.execution_event_bus_name\n"
                                        }
                                    ],
                                    "label": "def event_bus_name(self) -> str:\n        return config.execution_event_bus_name\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "publish",
                            "start_line": 477,
                            "end_line": 478,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 22,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 21,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 2,
                                                    "end_token": 2,
                                                    "children": [],
                                                    "label": "publish"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 3,
                                                    "end_token": 9,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 4,
                                                            "end_token": 4,
                                                            "children": [],
                                                            "label": "self"
                                                        },
                                                        {
                                                            "type": "typed_parameter",
                                                            "start_token": 6,
                                                            "end_token": 8,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 6,
                                                                    "end_token": 6,
                                                                    "children": [],
                                                                    "label": "res"
                                                                },
                                                                {
                                                                    "type": "type",
                                                                    "start_token": 8,
                                                                    "end_token": 8,
                                                                    "children": [],
                                                                    "label": "ExecutionResult"
                                                                }
                                                            ],
                                                            "label": "res: ExecutionResult"
                                                        }
                                                    ],
                                                    "label": "(self, res: ExecutionResult)"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 11,
                                                    "end_token": 21,
                                                    "children": [
                                                        {
                                                            "type": "await",
                                                            "start_token": 12,
                                                            "end_token": 21,
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 13,
                                                                    "end_token": 21,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 13,
                                                                            "end_token": 15,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 13,
                                                                                    "end_token": 13,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 15,
                                                                                    "end_token": 15,
                                                                                    "children": [],
                                                                                    "label": "publish_event"
                                                                                }
                                                                            ],
                                                                            "label": "self.publish_event"
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "start_token": 16,
                                                                            "end_token": 21,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 17,
                                                                                    "end_token": 17,
                                                                                    "children": [],
                                                                                    "label": "res"
                                                                                },
                                                                                {
                                                                                    "type": "interpolation",
                                                                                    "start_token": 19,
                                                                                    "end_token": 20,
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string",
                                                                                            "start_token": 19,
                                                                                            "end_token": 19,
                                                                                            "children": [],
                                                                                            "label": "f"
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "start_token": 20,
                                                                                            "end_token": 20,
                                                                                            "children": [],
                                                                                            "label": "\"{res.graph_id}/{res.graph_exec_id}\""
                                                                                        }
                                                                                    ],
                                                                                    "label": "f\"{res.graph_id}/{res.graph_exec_id}\""
                                                                                }
                                                                            ],
                                                                            "label": "(res, f\"{res.graph_id}/{res.graph_exec_id}\")"
                                                                        }
                                                                    ],
                                                                    "label": "self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")"
                                                                }
                                                            ],
                                                            "label": "await self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")"
                                                        }
                                                    ],
                                                    "label": "\n        await self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")"
                                                }
                                            ],
                                            "label": "async def publish(self, res: ExecutionResult):\n        await self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")"
                                        }
                                    ],
                                    "label": "async def publish(self, res: ExecutionResult):\n        await self.publish_event(res, f\"{res.graph_id}/{res.graph_exec_id}\")\n"
                                }
                            ]
                        },
                        {
                            "type": "function_placeholder",
                            "name": "listen",
                            "start_line": 480,
                            "end_line": 484,
                            "children": [
                                {
                                    "type": "module",
                                    "start_token": 0,
                                    "end_token": 45,
                                    "children": [
                                        {
                                            "type": "function_definition",
                                            "start_token": 0,
                                            "end_token": 45,
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "start_token": 1,
                                                    "end_token": 1,
                                                    "children": [],
                                                    "label": "def"
                                                },
                                                {
                                                    "type": "identifier",
                                                    "start_token": 2,
                                                    "end_token": 2,
                                                    "children": [],
                                                    "label": "listen"
                                                },
                                                {
                                                    "type": "parameters",
                                                    "start_token": 3,
                                                    "end_token": 19,
                                                    "children": [
                                                        {
                                                            "type": "default_parameter",
                                                            "start_token": 5,
                                                            "end_token": 11,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 5,
                                                                    "end_token": 5,
                                                                    "children": [],
                                                                    "label": "self"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 8,
                                                                    "end_token": 9,
                                                                    "children": [],
                                                                    "label": ": str"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 10,
                                                                    "end_token": 11,
                                                                    "children": [],
                                                                    "label": "= \"*\""
                                                                }
                                                            ],
                                                            "label": "self, graph_id: str = \"*\""
                                                        },
                                                        {
                                                            "type": "default_parameter",
                                                            "start_token": 13,
                                                            "end_token": 17,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 13,
                                                                    "end_token": 13,
                                                                    "children": [],
                                                                    "label": "graph_exec_id"
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 14,
                                                                    "end_token": 15,
                                                                    "children": [],
                                                                    "label": ": str"
                                                                },
                                                                {
                                                                    "type": "string",
                                                                    "start_token": 16,
                                                                    "end_token": 17,
                                                                    "children": [],
                                                                    "label": "= \"*\""
                                                                }
                                                            ],
                                                            "label": "graph_exec_id: str = \"*\""
                                                        }
                                                    ],
                                                    "label": "(\n        self, graph_id: str = \"*\", graph_exec_id: str = \"*\"\n    )"
                                                },
                                                {
                                                    "type": "generic_type",
                                                    "start_token": 21,
                                                    "end_token": 27,
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 22,
                                                            "end_token": 22,
                                                            "children": [],
                                                            "label": "AsyncGenerator"
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "start_token": 24,
                                                            "end_token": 24,
                                                            "children": [],
                                                            "label": "ExecutionResult"
                                                        },
                                                        {
                                                            "type": "none",
                                                            "start_token": 26,
                                                            "end_token": 26,
                                                            "children": [],
                                                            "label": "None"
                                                        }
                                                    ],
                                                    "label": "> AsyncGenerator[ExecutionResult, None]"
                                                },
                                                {
                                                    "type": "block",
                                                    "start_token": 29,
                                                    "end_token": 45,
                                                    "children": [
                                                        {
                                                            "type": "for_statement",
                                                            "start_token": 30,
                                                            "end_token": 42,
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "start_token": 32,
                                                                    "end_token": 32,
                                                                    "children": [],
                                                                    "label": "execution_result"
                                                                },
                                                                {
                                                                    "type": "call",
                                                                    "start_token": 34,
                                                                    "end_token": 40,
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "start_token": 34,
                                                                            "end_token": 36,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 34,
                                                                                    "end_token": 34,
                                                                                    "children": [],
                                                                                    "label": "self"
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 36,
                                                                                    "end_token": 36,
                                                                                    "children": [],
                                                                                    "label": "listen_events"
                                                                                }
                                                                            ],
                                                                            "label": "self.listen_events"
                                                                        },
                                                                        {
                                                                            "type": "string_interpolation",
                                                                            "start_token": 38,
                                                                            "end_token": 39,
                                                                            "children": [],
                                                                            "label": "f\"{graph_id}/{graph_exec_id}\""
                                                                        }
                                                                    ],
                                                                    "label": "self.listen_events(f\"{graph_id}/{graph_exec_id}\")"
                                                                },
                                                                {
                                                                    "type": "block",
                                                                    "start_token": 41,
                                                                    "end_token": 42,
                                                                    "children": [
                                                                        {
                                                                            "type": "yield",
                                                                            "start_token": 43,
                                                                            "end_token": 44,
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "start_token": 44,
                                                                                    "end_token": 44,
                                                                                    "children": [],
                                                                                    "label": "execution_result"
                                                                                }
                                                                            ],
                                                                            "label": "yield execution_result"
                                                                        }
                                                                    ],
                                                                    "label": ":\n"
                                                                }
                                                            ],
                                                            "label": "async for execution_result in self.listen_events(f\"{graph_id}/{graph_exec_id}\"):\n"
                                                        }
                                                    ],
                                                    "label": "\n        async for execution_result in self.listen_events(f\"{graph_id}/{graph_exec_id}\"):\n            yield execution_result\n"
                                                }
                                            ],
                                            "label": "async def listen(\n        self, graph_id: str = \"*\", graph_exec_id: str = \"*\"\n    ) -> AsyncGenerator[ExecutionResult, None]:\n        async for execution_result in self.listen_events(f\"{graph_id}/{graph_exec_id}\"):\n            yield execution_result\n"
                                        }
                                    ],
                                    "label": "async def listen(\n        self, graph_id: str = \"*\", graph_exec_id: str = \"*\"\n    ) -> AsyncGenerator[ExecutionResult, None]:\n        async for execution_result in self.listen_events(f\"{graph_id}/{graph_exec_id}\"):\n            yield execution_result\n"
                                }
                            ]
                        }
                    ],
                    "label": "class AsyncRedisExecutionEventBus(AsyncRedisEventBus[ExecutionResult]):\n    Model = ExecutionResult\n\n    @property\n"
                }
            ]
        }
    ],
    "label": "from collections import defaultdict\nfrom datetime import datetime, timezone\nfrom multiprocessing import Manager\nfrom typing import Any, AsyncGenerator, Generator, Generic, TypeVar\n\nfrom prisma.enums import AgentExecutionStatus\nfrom prisma.models import (\n    AgentGraphExecution,\n    AgentNodeExecution,\n    AgentNodeExecutionInputOutput,\n)\nfrom pydantic import BaseModel\n\nfrom backend.data.block import BlockData, BlockInput, CompletedBlockOutput\nfrom backend.data.includes import EXECUTION_RESULT_INCLUDE, GRAPH_EXECUTION_INCLUDE\nfrom backend.data.queue import AsyncRedisEventBus, RedisEventBus\nfrom backend.util import json, mock\nfrom backend.util.settings import Config\n\n\n\n\n\n\nExecutionStatus = AgentExecutionStatus\n\nT = TypeVar(\"T\")\n\n\n\n\n\n\n# --------------------- Model functions --------------------- #\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLIST_SPLIT = \"_$_\"\nDICT_SPLIT = \"_#_\"\nOBJC_SPLIT = \"_@_\"\n\n\n\n\n\n\n\n\n\n\n# --------------------- Event Bus --------------------- #\n\nconfig = Config()\n\n\n\n\n"
}