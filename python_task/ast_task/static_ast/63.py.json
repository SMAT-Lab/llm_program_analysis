{
    "type": "module",
    "label": "from pathlib import Path\n\nfrom prisma.models import User\n\nfrom backend.blocks.basic import StoreValueBlock\nfrom backend.blocks.block import BlockInstallationBlock\nfrom backend.blocks.http import SendWebRequestBlock\nfrom backend.blocks.llm import AITextGeneratorBlock\nfrom backend.blocks.text import ExtractTextInformationBlock, FillTextTemplateBlock\nfrom backend.data.graph import Graph, Link, Node, create_graph\nfrom backend.data.user import get_or_create_user\nfrom backend.util.test import SpinTestServer, wait_execution\n\nsample_block_modules = {\n    \"llm\": \"Block that calls the AI model to generate text.\",\n    \"basic\": \"Block that does basic operations.\",\n    \"text\": \"Blocks that do text operations.\",\n    \"reddit\": \"Blocks that interacts with Reddit.\",\n}\nsample_block_codes = {}\nfor module, description in sample_block_modules.items():\n    current_dir = Path(__file__).parent\n    file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"\n    with open(file_path, \"r\") as f:\n        code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"\n\n\nasync def create_test_user() -> User:\n    test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }\n    user = await get_or_create_user(test_user_data)\n    return user\n\n\ndef create_test_graph() -> Graph:\n    \"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"\n    # ======= Nodes ========= #\n    input_data = Node(block_id=StoreValueBlock().id)\n    input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )\n    input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )\n    search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )\n    search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )\n    prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )\n    code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )\n    code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )\n    block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )\n    nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]\n\n    # ======= Links ========= #\n    links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]\n\n    # ======= Graph ========= #\n    return Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )\n\n\nasync def block_autogen_agent():\n    async with SpinTestServer() as server:\n        test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)\n\n\nif __name__ == \"__main__\":\n    import asyncio\n\n    asyncio.run(block_autogen_agent())\n",
    "children": [
        {
            "type": "import_from_statement",
            "label": "from pathlib import Path",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "pathlib",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "pathlib",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "Path",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "Path",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from prisma.models import User",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "prisma.models",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "prisma",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "models",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "User",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "User",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from backend.blocks.basic import StoreValueBlock",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.blocks.basic",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "blocks",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "basic",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "StoreValueBlock",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "StoreValueBlock",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from backend.blocks.block import BlockInstallationBlock",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.blocks.block",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "blocks",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "block",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "BlockInstallationBlock",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "BlockInstallationBlock",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from backend.blocks.http import SendWebRequestBlock",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.blocks.http",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "blocks",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "http",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "SendWebRequestBlock",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "SendWebRequestBlock",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from backend.blocks.llm import AITextGeneratorBlock",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.blocks.llm",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "blocks",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "llm",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "AITextGeneratorBlock",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "AITextGeneratorBlock",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from backend.blocks.text import ExtractTextInformationBlock, FillTextTemplateBlock",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.blocks.text",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "blocks",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "text",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "ExtractTextInformationBlock",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "ExtractTextInformationBlock",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "FillTextTemplateBlock",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "FillTextTemplateBlock",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from backend.data.graph import Graph, Link, Node, create_graph",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.data.graph",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "data",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "graph",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "Graph",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "Graph",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "Link",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "Link",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "Node",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "Node",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "create_graph",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "create_graph",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from backend.data.user import get_or_create_user",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.data.user",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "data",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "user",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "get_or_create_user",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "get_or_create_user",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "import_from_statement",
            "label": "from backend.util.test import SpinTestServer, wait_execution",
            "children": [
                {
                    "type": "dotted_name",
                    "label": "backend.util.test",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "backend",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "util",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "test",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "SpinTestServer",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "SpinTestServer",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "dotted_name",
                    "label": "wait_execution",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "wait_execution",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "expression_statement",
            "label": "sample_block_modules = {\n    \"llm\": \"Block that calls the AI model to generate text.\",\n    \"basic\": \"Block that does basic operations.\",\n    \"text\": \"Blocks that do text operations.\",\n    \"reddit\": \"Blocks that interacts with Reddit.\",\n}",
            "children": [
                {
                    "type": "assignment",
                    "label": "sample_block_modules = {\n    \"llm\": \"Block that calls the AI model to generate text.\",\n    \"basic\": \"Block that does basic operations.\",\n    \"text\": \"Blocks that do text operations.\",\n    \"reddit\": \"Blocks that interacts with Reddit.\",\n}",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "sample_block_modules",
                            "children": []
                        },
                        {
                            "type": "dictionary",
                            "label": "{\n    \"llm\": \"Block that calls the AI model to generate text.\",\n    \"basic\": \"Block that does basic operations.\",\n    \"text\": \"Blocks that do text operations.\",\n    \"reddit\": \"Blocks that interacts with Reddit.\",\n}",
                            "children": [
                                {
                                    "type": "pair",
                                    "label": "\"llm\": \"Block that calls the AI model to generate text.\"",
                                    "children": [
                                        {
                                            "type": "string",
                                            "label": "\"llm\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "llm",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"Block that calls the AI model to generate text.\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "Block that calls the AI model to generate text.",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "pair",
                                    "label": "\"basic\": \"Block that does basic operations.\"",
                                    "children": [
                                        {
                                            "type": "string",
                                            "label": "\"basic\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "basic",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"Block that does basic operations.\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "Block that does basic operations.",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "pair",
                                    "label": "\"text\": \"Blocks that do text operations.\"",
                                    "children": [
                                        {
                                            "type": "string",
                                            "label": "\"text\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "text",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"Blocks that do text operations.\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "Blocks that do text operations.",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "pair",
                                    "label": "\"reddit\": \"Blocks that interacts with Reddit.\"",
                                    "children": [
                                        {
                                            "type": "string",
                                            "label": "\"reddit\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "reddit",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "string",
                                            "label": "\"Blocks that interacts with Reddit.\"",
                                            "children": [
                                                {
                                                    "type": "string_start",
                                                    "label": "\"",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_content",
                                                    "label": "Blocks that interacts with Reddit.",
                                                    "children": []
                                                },
                                                {
                                                    "type": "string_end",
                                                    "label": "\"",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "expression_statement",
            "label": "sample_block_codes = {}",
            "children": [
                {
                    "type": "assignment",
                    "label": "sample_block_codes = {}",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "sample_block_codes",
                            "children": []
                        },
                        {
                            "type": "dictionary",
                            "label": "{}",
                            "children": []
                        }
                    ]
                }
            ]
        },
        {
            "type": "for_statement",
            "label": "for module, description in sample_block_modules.items():\n    current_dir = Path(__file__).parent\n    file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"\n    with open(file_path, \"r\") as f:\n        code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
            "children": [
                {
                    "type": "pattern_list",
                    "label": "module, description",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "module",
                            "children": []
                        },
                        {
                            "type": "identifier",
                            "label": "description",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "call",
                    "label": "sample_block_modules.items()",
                    "children": [
                        {
                            "type": "attribute",
                            "label": "sample_block_modules.items",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "sample_block_modules",
                                    "children": []
                                },
                                {
                                    "type": "identifier",
                                    "label": "items",
                                    "children": []
                                }
                            ]
                        },
                        {
                            "type": "argument_list",
                            "label": "()",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "current_dir = Path(__file__).parent\n    file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"\n    with open(file_path, \"r\") as f:\n        code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "current_dir = Path(__file__).parent",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "current_dir = Path(__file__).parent",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "current_dir",
                                            "children": []
                                        },
                                        {
                                            "type": "attribute",
                                            "label": "Path(__file__).parent",
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "label": "Path(__file__)",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Path",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(__file__)",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "__file__",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "parent",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "file_path",
                                            "children": []
                                        },
                                        {
                                            "type": "binary_operator",
                                            "label": "current_dir.parent / \"blocks\" / f\"{module}.py\"",
                                            "children": [
                                                {
                                                    "type": "binary_operator",
                                                    "label": "current_dir.parent / \"blocks\"",
                                                    "children": [
                                                        {
                                                            "type": "attribute",
                                                            "label": "current_dir.parent",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "current_dir",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "parent",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"blocks\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "blocks",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "string",
                                                    "label": "f\"{module}.py\"",
                                                    "children": [
                                                        {
                                                            "type": "string_start",
                                                            "label": "f\"",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "interpolation",
                                                            "label": "{module}",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "module",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "string_content",
                                                            "label": ".py",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string_end",
                                                            "label": "\"",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "with_statement",
                            "label": "with open(file_path, \"r\") as f:\n        code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
                            "children": [
                                {
                                    "type": "with_clause",
                                    "label": "open(file_path, \"r\") as f",
                                    "children": [
                                        {
                                            "type": "with_item",
                                            "label": "open(file_path, \"r\") as f",
                                            "children": [
                                                {
                                                    "type": "as_pattern",
                                                    "label": "open(file_path, \"r\") as f",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "open(file_path, \"r\")",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "open",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "(file_path, \"r\")",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "file_path",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"r\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "r",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "as_pattern_target",
                                                            "label": "f",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "f",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "block",
                                    "label": "code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
                                    "children": [
                                        {
                                            "type": "expression_statement",
                                            "label": "code = \"\\n\".join([\"```python\", f.read(), \"```\"])",
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "label": "code = \"\\n\".join([\"```python\", f.read(), \"```\"])",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "code",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "call",
                                                            "label": "\"\\n\".join([\"```python\", f.read(), \"```\"])",
                                                            "children": [
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "\"\\n\".join",
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"\\n\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "\\n",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "escape_sequence",
                                                                                            "label": "\\n",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "join",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "([\"```python\", f.read(), \"```\"])",
                                                                    "children": [
                                                                        {
                                                                            "type": "list",
                                                                            "label": "[\"```python\", f.read(), \"```\"]",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"```python\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "```python",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "call",
                                                                                    "label": "f.read()",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "f.read",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "f",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "read",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "label": "()",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"```\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "```",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "expression_statement",
                                            "label": "sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "label": "sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
                                                    "children": [
                                                        {
                                                            "type": "subscript",
                                                            "label": "sample_block_codes[module]",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "sample_block_codes",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "module",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "f\"[Example: {description}]\\n{code}\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "f\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "[Example: ",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "interpolation",
                                                                    "label": "{description}",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "description",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "]\\n",
                                                                    "children": [
                                                                        {
                                                                            "type": "escape_sequence",
                                                                            "label": "\\n",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "interpolation",
                                                                    "label": "{code}",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "code",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "async def create_test_user() -> User:\n    test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }\n    user = await get_or_create_user(test_user_data)\n    return user",
            "children": [
                {
                    "type": "identifier",
                    "label": "create_test_user",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "()",
                    "children": []
                },
                {
                    "type": "type",
                    "label": "User",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "User",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }\n    user = await get_or_create_user(test_user_data)\n    return user",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "test_user_data",
                                            "children": []
                                        },
                                        {
                                            "type": "dictionary",
                                            "label": "{\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }",
                                            "children": [
                                                {
                                                    "type": "pair",
                                                    "label": "\"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\"",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"sub\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "sub",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "ef3b97d7-1161-4eb4-92b2-10c24fb154c1",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "pair",
                                                    "label": "\"email\": \"testuser@example.com\"",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"email\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "email",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"testuser@example.com\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "testuser@example.com",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "pair",
                                                    "label": "\"name\": \"Test User\"",
                                                    "children": [
                                                        {
                                                            "type": "string",
                                                            "label": "\"name\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "name",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"Test User\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "Test User",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "user = await get_or_create_user(test_user_data)",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "user = await get_or_create_user(test_user_data)",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "user",
                                            "children": []
                                        },
                                        {
                                            "type": "await",
                                            "label": "await get_or_create_user(test_user_data)",
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "label": "get_or_create_user(test_user_data)",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "get_or_create_user",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(test_user_data)",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "test_user_data",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "return_statement",
                            "label": "return user",
                            "children": [
                                {
                                    "type": "identifier",
                                    "label": "user",
                                    "children": []
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "def create_test_graph() -> Graph:\n    \"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"\n    # ======= Nodes ========= #\n    input_data = Node(block_id=StoreValueBlock().id)\n    input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )\n    input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )\n    search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )\n    search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )\n    prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )\n    code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )\n    code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )\n    block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )\n    nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]\n\n    # ======= Links ========= #\n    links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]\n\n    # ======= Graph ========= #\n    return Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
            "children": [
                {
                    "type": "identifier",
                    "label": "create_test_graph",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "()",
                    "children": []
                },
                {
                    "type": "type",
                    "label": "Graph",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "Graph",
                            "children": []
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "\"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"\n    # ======= Nodes ========= #\n    input_data = Node(block_id=StoreValueBlock().id)\n    input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )\n    input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )\n    search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )\n    search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )\n    prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )\n    code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )\n    code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )\n    block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )\n    nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]\n\n    # ======= Links ========= #\n    links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]\n\n    # ======= Graph ========= #\n    return Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
                    "children": [
                        {
                            "type": "expression_statement",
                            "label": "\"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"",
                            "children": [
                                {
                                    "type": "string",
                                    "label": "\"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"",
                                    "children": [
                                        {
                                            "type": "string_start",
                                            "label": "\"\"\"",
                                            "children": []
                                        },
                                        {
                                            "type": "string_content",
                                            "label": "\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    ",
                                            "children": []
                                        },
                                        {
                                            "type": "string_end",
                                            "label": "\"\"\"",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# ======= Nodes ========= #",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "input_data = Node(block_id=StoreValueBlock().id)",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "input_data = Node(block_id=StoreValueBlock().id)",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "input_data",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(block_id=StoreValueBlock().id)",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(block_id=StoreValueBlock().id)",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=StoreValueBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "StoreValueBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "StoreValueBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "StoreValueBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "input_query_constant",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=StoreValueBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "StoreValueBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "StoreValueBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "StoreValueBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "input_default={\"data\": None}",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "input_default",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "label": "{\"data\": None}",
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"data\": None",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"data\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "data",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "none",
                                                                                    "label": "None",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "input_text_formatter",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=FillTextTemplateBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "FillTextTemplateBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "FillTextTemplateBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "FillTextTemplateBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        }",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "input_default",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "label": "{\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        }",
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"format\": \"Show me how to make a python code for this query: `{query}`\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"format\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "format",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"Show me how to make a python code for this query: `{query}`\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "Show me how to make a python code for this query: `{query}`",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "search_http_request",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=SendWebRequestBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "SendWebRequestBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "SendWebRequestBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "SendWebRequestBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        }",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "input_default",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "label": "{\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        }",
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"url\": \"https://osit-v2.bentlybro.com/search\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"url\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "url",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"https://osit-v2.bentlybro.com/search\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "https://osit-v2.bentlybro.com/search",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "search_result_constant",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=StoreValueBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "StoreValueBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "StoreValueBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "StoreValueBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "input_default={\n            \"data\": None,\n        }",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "input_default",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "label": "{\n            \"data\": None,\n        }",
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"data\": None",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"data\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "data",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "none",
                                                                                    "label": "None",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "prompt_text_formatter",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=FillTextTemplateBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "FillTextTemplateBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "FillTextTemplateBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "FillTextTemplateBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        }",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "input_default",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "label": "{\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        }",
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"format\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "format",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"\"\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"\"\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"values_#_previous_attempt\": \"No previous attempt found.\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"values_#_previous_attempt\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "values_#_previous_attempt",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"No previous attempt found.\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "No previous attempt found.",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "code_gen_llm_call",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=AITextGeneratorBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "AITextGeneratorBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "AITextGeneratorBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "AITextGeneratorBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        }",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "input_default",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "label": "{\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        }",
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"sys_prompt\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "sys_prompt",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "f\"\"\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "interpolation",
                                                                                            "label": "{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "call",
                                                                                                    "label": "\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "attribute",
                                                                                                            "label": "\"--------------\".join",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "string",
                                                                                                                    "label": "\"--------------\"",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "string_start",
                                                                                                                            "label": "\"",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string_content",
                                                                                                                            "label": "--------------",
                                                                                                                            "children": []
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "string_end",
                                                                                                                            "label": "\"",
                                                                                                                            "children": []
                                                                                                                        }
                                                                                                                    ]
                                                                                                                },
                                                                                                                {
                                                                                                                    "type": "identifier",
                                                                                                                    "label": "join",
                                                                                                                    "children": []
                                                                                                                }
                                                                                                            ]
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "argument_list",
                                                                                                            "label": "([sample_block_codes[v] for v in sample_block_modules])",
                                                                                                            "children": [
                                                                                                                {
                                                                                                                    "type": "list_comprehension",
                                                                                                                    "label": "[sample_block_codes[v] for v in sample_block_modules]",
                                                                                                                    "children": [
                                                                                                                        {
                                                                                                                            "type": "subscript",
                                                                                                                            "label": "sample_block_codes[v]",
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "label": "sample_block_codes",
                                                                                                                                    "children": []
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "label": "v",
                                                                                                                                    "children": []
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        },
                                                                                                                        {
                                                                                                                            "type": "for_in_clause",
                                                                                                                            "label": "for v in sample_block_modules",
                                                                                                                            "children": [
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "label": "v",
                                                                                                                                    "children": []
                                                                                                                                },
                                                                                                                                {
                                                                                                                                    "type": "identifier",
                                                                                                                                    "label": "sample_block_modules",
                                                                                                                                    "children": []
                                                                                                                                }
                                                                                                                            ]
                                                                                                                        }
                                                                                                                    ]
                                                                                                                }
                                                                                                            ]
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "\n",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"\"\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "code_text_parser",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=ExtractTextInformationBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "ExtractTextInformationBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "ExtractTextInformationBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "ExtractTextInformationBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        }",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "input_default",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "dictionary",
                                                                    "label": "{\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        }",
                                                                    "children": [
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"pattern\": \"```python\\n(.+?)\\n```\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"pattern\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "pattern",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"```python\\n(.+?)\\n```\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "```python\\n(.+?)\\n```",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "escape_sequence",
                                                                                                    "label": "\\n",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "escape_sequence",
                                                                                                    "label": "\\n",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "pair",
                                                                            "label": "\"group\": 1",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string",
                                                                                    "label": "\"group\"",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "string_start",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_content",
                                                                                            "label": "group",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "string_end",
                                                                                            "label": "\"",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "integer",
                                                                                    "label": "1",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "block_installation",
                                            "children": []
                                        },
                                        {
                                            "type": "call",
                                            "label": "Node(\n        block_id=BlockInstallationBlock().id,\n    )",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "Node",
                                                    "children": []
                                                },
                                                {
                                                    "type": "argument_list",
                                                    "label": "(\n        block_id=BlockInstallationBlock().id,\n    )",
                                                    "children": [
                                                        {
                                                            "type": "keyword_argument",
                                                            "label": "block_id=BlockInstallationBlock().id",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "block_id",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "attribute",
                                                                    "label": "BlockInstallationBlock().id",
                                                                    "children": [
                                                                        {
                                                                            "type": "call",
                                                                            "label": "BlockInstallationBlock()",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "BlockInstallationBlock",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "argument_list",
                                                                                    "label": "()",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "id",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "nodes",
                                            "children": []
                                        },
                                        {
                                            "type": "list",
                                            "label": "[\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "input_data",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "input_query_constant",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "input_text_formatter",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "search_http_request",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "search_result_constant",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "prompt_text_formatter",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "code_gen_llm_call",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "code_text_parser",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "block_installation",
                                                    "children": []
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# ======= Links ========= #",
                            "children": []
                        },
                        {
                            "type": "expression_statement",
                            "label": "links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]",
                            "children": [
                                {
                                    "type": "assignment",
                                    "label": "links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "links",
                                            "children": []
                                        },
                                        {
                                            "type": "list",
                                            "label": "[\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]",
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=input_data.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_data.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_data",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=input_query_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_query_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_query_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"output\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"output\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "output",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"input\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"input\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "input",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=input_data.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_data.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_data",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=input_text_formatter.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_text_formatter.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_text_formatter",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"output\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"output\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "output",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"values_#_query\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"values_#_query\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "values_#_query",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=input_query_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_query_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_query_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=input_query_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_query_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_query_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"output\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"output\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "output",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"data\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"data\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "data",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=input_text_formatter.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_text_formatter.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_text_formatter",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=search_http_request.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "search_http_request.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "search_http_request",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"output\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"output\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "output",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"body_#_query\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"body_#_query\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "body_#_query",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=search_http_request.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "search_http_request.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "search_http_request",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=search_result_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "search_result_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "search_result_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"response_#_reply\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"response_#_reply\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "response_#_reply",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"input\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"input\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "input",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "comment",
                                                                    "label": "# Loopback for constant block",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=search_result_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "search_result_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "search_result_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=search_result_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "search_result_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "search_result_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"output\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"output\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "output",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"data\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"data\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "data",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=search_result_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "search_result_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "search_result_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=prompt_text_formatter.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "prompt_text_formatter.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "prompt_text_formatter",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"output\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"output\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "output",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"values_#_search_result\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"values_#_search_result\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "values_#_search_result",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=input_query_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_query_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_query_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=prompt_text_formatter.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "prompt_text_formatter.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "prompt_text_formatter",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"output\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"output\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "output",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"values_#_query\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"values_#_query\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "values_#_query",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=prompt_text_formatter.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "prompt_text_formatter.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "prompt_text_formatter",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=code_gen_llm_call.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "code_gen_llm_call.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "code_gen_llm_call",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"output\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"output\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "output",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"prompt\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"prompt\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "prompt",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=code_gen_llm_call.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "code_gen_llm_call.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "code_gen_llm_call",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=code_text_parser.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "code_text_parser.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "code_text_parser",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"response\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"response\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "response",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"text\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"text\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "text",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=code_text_parser.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "code_text_parser.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "code_text_parser",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=block_installation.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "block_installation.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "block_installation",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"positive\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"positive\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "positive",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"code\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"code\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "code",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=block_installation.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "block_installation.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "block_installation",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=prompt_text_formatter.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "prompt_text_formatter.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "prompt_text_formatter",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"error\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"error\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "error",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"values_#_previous_attempt\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"values_#_previous_attempt\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "values_#_previous_attempt",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "comment",
                                                                    "label": "# Re-trigger search result.",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=block_installation.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "block_installation.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "block_installation",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=search_result_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "search_result_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "search_result_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"error\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"error\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "error",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"input\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"input\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "input",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "call",
                                                    "label": "Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "Link",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "comment",
                                                                    "label": "# Re-trigger search result.",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_id=block_installation.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "block_installation.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "block_installation",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_id=input_query_constant.id",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_id",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "input_query_constant.id",
                                                                            "children": [
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_query_constant",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "id",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "source_name=\"error\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "source_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"error\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "error",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "keyword_argument",
                                                                    "label": "sink_name=\"input\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "sink_name",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"input\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "input",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "comment",
                            "label": "# ======= Graph ========= #",
                            "children": []
                        },
                        {
                            "type": "return_statement",
                            "label": "return Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "Graph",
                                            "children": []
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
                                            "children": [
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "name=\"BlockAutoGen\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "name",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"BlockAutoGen\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "BlockAutoGen",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "description=\"Block auto generation agent\"",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "description",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "string",
                                                            "label": "\"Block auto generation agent\"",
                                                            "children": [
                                                                {
                                                                    "type": "string_start",
                                                                    "label": "\"",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_content",
                                                                    "label": "Block auto generation agent",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "string_end",
                                                                    "label": "\"",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "nodes=nodes",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "nodes",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "nodes",
                                                            "children": []
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "keyword_argument",
                                                    "label": "links=links",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "links",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "identifier",
                                                            "label": "links",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "function_definition",
            "label": "async def block_autogen_agent():\n    async with SpinTestServer() as server:\n        test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)",
            "children": [
                {
                    "type": "identifier",
                    "label": "block_autogen_agent",
                    "children": []
                },
                {
                    "type": "parameters",
                    "label": "()",
                    "children": []
                },
                {
                    "type": "block",
                    "label": "async with SpinTestServer() as server:\n        test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)",
                    "children": [
                        {
                            "type": "with_statement",
                            "label": "async with SpinTestServer() as server:\n        test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)",
                            "children": [
                                {
                                    "type": "with_clause",
                                    "label": "SpinTestServer() as server",
                                    "children": [
                                        {
                                            "type": "with_item",
                                            "label": "SpinTestServer() as server",
                                            "children": [
                                                {
                                                    "type": "as_pattern",
                                                    "label": "SpinTestServer() as server",
                                                    "children": [
                                                        {
                                                            "type": "call",
                                                            "label": "SpinTestServer()",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "SpinTestServer",
                                                                    "children": []
                                                                },
                                                                {
                                                                    "type": "argument_list",
                                                                    "label": "()",
                                                                    "children": []
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "as_pattern_target",
                                                            "label": "server",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "server",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "block",
                                    "label": "test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)",
                                    "children": [
                                        {
                                            "type": "expression_statement",
                                            "label": "test_user = await create_test_user()",
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "label": "test_user = await create_test_user()",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "test_user",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "await",
                                                            "label": "await create_test_user()",
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "label": "create_test_user()",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "create_test_user",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "()",
                                                                            "children": []
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "expression_statement",
                                            "label": "test_graph = await create_graph(create_test_graph(), user_id=test_user.id)",
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "label": "test_graph = await create_graph(create_test_graph(), user_id=test_user.id)",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "test_graph",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "await",
                                                            "label": "await create_graph(create_test_graph(), user_id=test_user.id)",
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "label": "create_graph(create_test_graph(), user_id=test_user.id)",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "create_graph",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(create_test_graph(), user_id=test_user.id)",
                                                                            "children": [
                                                                                {
                                                                                    "type": "call",
                                                                                    "label": "create_test_graph()",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "create_test_graph",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "argument_list",
                                                                                            "label": "()",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "user_id=test_user.id",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "user_id",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "test_user.id",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "test_user",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "id",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "expression_statement",
                                            "label": "input_data = {\"input\": \"Write me a block that writes a string into a file.\"}",
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "label": "input_data = {\"input\": \"Write me a block that writes a string into a file.\"}",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "input_data",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "dictionary",
                                                            "label": "{\"input\": \"Write me a block that writes a string into a file.\"}",
                                                            "children": [
                                                                {
                                                                    "type": "pair",
                                                                    "label": "\"input\": \"Write me a block that writes a string into a file.\"",
                                                                    "children": [
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"input\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "input",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "string",
                                                                            "label": "\"Write me a block that writes a string into a file.\"",
                                                                            "children": [
                                                                                {
                                                                                    "type": "string_start",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_content",
                                                                                    "label": "Write me a block that writes a string into a file.",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "string_end",
                                                                                    "label": "\"",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "expression_statement",
                                            "label": "response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )",
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "label": "response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "response",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "await",
                                                            "label": "await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "label": "server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "attribute",
                                                                            "label": "server.agent_server.test_execute_graph",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "server.agent_server",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "server",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "agent_server",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "test_execute_graph",
                                                                                    "children": []
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            test_graph.id, input_data, test_user.id\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "test_graph.id",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "test_graph",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "id",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "identifier",
                                                                                    "label": "input_data",
                                                                                    "children": []
                                                                                },
                                                                                {
                                                                                    "type": "attribute",
                                                                                    "label": "test_user.id",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "test_user",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "id",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "expression_statement",
                                            "label": "print(response)",
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "label": "print(response)",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "print",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(response)",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "response",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "expression_statement",
                                            "label": "result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                                            "children": [
                                                {
                                                    "type": "assignment",
                                                    "label": "result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "result",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "await",
                                                            "label": "await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                                                            "children": [
                                                                {
                                                                    "type": "call",
                                                                    "label": "wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                                                                    "children": [
                                                                        {
                                                                            "type": "identifier",
                                                                            "label": "wait_execution",
                                                                            "children": []
                                                                        },
                                                                        {
                                                                            "type": "argument_list",
                                                                            "label": "(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                                                                            "children": [
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "graph_id=test_graph.id",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "graph_id",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "test_graph.id",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "test_graph",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "id",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "graph_exec_id=response[\"id\"]",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "graph_exec_id",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "subscript",
                                                                                            "label": "response[\"id\"]",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "response",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "string",
                                                                                                    "label": "\"id\"",
                                                                                                    "children": [
                                                                                                        {
                                                                                                            "type": "string_start",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_content",
                                                                                                            "label": "id",
                                                                                                            "children": []
                                                                                                        },
                                                                                                        {
                                                                                                            "type": "string_end",
                                                                                                            "label": "\"",
                                                                                                            "children": []
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "timeout=1200",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "timeout",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "integer",
                                                                                            "label": "1200",
                                                                                            "children": []
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    "type": "keyword_argument",
                                                                                    "label": "user_id=test_user.id",
                                                                                    "children": [
                                                                                        {
                                                                                            "type": "identifier",
                                                                                            "label": "user_id",
                                                                                            "children": []
                                                                                        },
                                                                                        {
                                                                                            "type": "attribute",
                                                                                            "label": "test_user.id",
                                                                                            "children": [
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "test_user",
                                                                                                    "children": []
                                                                                                },
                                                                                                {
                                                                                                    "type": "identifier",
                                                                                                    "label": "id",
                                                                                                    "children": []
                                                                                                }
                                                                                            ]
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "expression_statement",
                                            "label": "print(result)",
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "label": "print(result)",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "print",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "(result)",
                                                            "children": [
                                                                {
                                                                    "type": "identifier",
                                                                    "label": "result",
                                                                    "children": []
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "if_statement",
            "label": "if __name__ == \"__main__\":\n    import asyncio\n\n    asyncio.run(block_autogen_agent())",
            "children": [
                {
                    "type": "comparison_operator",
                    "label": "__name__ == \"__main__\"",
                    "children": [
                        {
                            "type": "identifier",
                            "label": "__name__",
                            "children": []
                        },
                        {
                            "type": "string",
                            "label": "\"__main__\"",
                            "children": [
                                {
                                    "type": "string_start",
                                    "label": "\"",
                                    "children": []
                                },
                                {
                                    "type": "string_content",
                                    "label": "__main__",
                                    "children": []
                                },
                                {
                                    "type": "string_end",
                                    "label": "\"",
                                    "children": []
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "block",
                    "label": "import asyncio\n\n    asyncio.run(block_autogen_agent())",
                    "children": [
                        {
                            "type": "import_statement",
                            "label": "import asyncio",
                            "children": [
                                {
                                    "type": "dotted_name",
                                    "label": "asyncio",
                                    "children": [
                                        {
                                            "type": "identifier",
                                            "label": "asyncio",
                                            "children": []
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "expression_statement",
                            "label": "asyncio.run(block_autogen_agent())",
                            "children": [
                                {
                                    "type": "call",
                                    "label": "asyncio.run(block_autogen_agent())",
                                    "children": [
                                        {
                                            "type": "attribute",
                                            "label": "asyncio.run",
                                            "children": [
                                                {
                                                    "type": "identifier",
                                                    "label": "asyncio",
                                                    "children": []
                                                },
                                                {
                                                    "type": "identifier",
                                                    "label": "run",
                                                    "children": []
                                                }
                                            ]
                                        },
                                        {
                                            "type": "argument_list",
                                            "label": "(block_autogen_agent())",
                                            "children": [
                                                {
                                                    "type": "call",
                                                    "label": "block_autogen_agent()",
                                                    "children": [
                                                        {
                                                            "type": "identifier",
                                                            "label": "block_autogen_agent",
                                                            "children": []
                                                        },
                                                        {
                                                            "type": "argument_list",
                                                            "label": "()",
                                                            "children": []
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}