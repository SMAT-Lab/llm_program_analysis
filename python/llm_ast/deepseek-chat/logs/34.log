2025-01-08 09:18:51,796 - INFO - Processing sample 34
2025-01-08 09:18:51,796 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 09:18:59,281 - INFO - Successfully split code into 2 top-level declarations
2025-01-08 09:18:59,284 - INFO - Processing chunk #0 (size=891 chars, start_index=0)
2025-01-08 09:18:59,284 - INFO - Processing chunk with 891 chars starting at index 0
2025-01-08 09:18:59,284 - INFO - Starting main AST analysis flow
2025-01-08 09:18:59,285 - INFO - Tokenized code into 155 tokens
2025-01-08 09:18:59,285 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:18:59,286 - INFO - Processing chunk #1 (size=2435 chars, start_index=155)
2025-01-08 09:18:59,286 - INFO - Processing chunk with 2435 chars starting at index 155
2025-01-08 09:18:59,286 - INFO - Starting main AST analysis flow
2025-01-08 09:18:59,287 - INFO - Tokenized code into 405 tokens
2025-01-08 09:18:59,287 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:19:06,542 - INFO - Step 1 result: {'type': 'Program', 'name': 'DatabaseManager', 'range': [155, 196], 'children': [{'type': 'FunctionDeclaration', 'name': '__init__', 'range': [162, 196], 'children': []}]}
2025-01-08 09:19:06,542 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:19:15,453 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 154], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 3], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 20], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [23, 30], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 74], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [76, 86], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [87, 108], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [110, 122], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [123, 131], 'children': []}, {'type': 'VariableDeclaration', 'name': 'P', 'range': [133, 138], 'children': []}, {'type': 'VariableDeclaration', 'name': 'R', 'range': [140, 145], 'children': []}, {'type': 'VariableDeclaration', 'name': 'config', 'range': [147, 151], 'children': []}]}
2025-01-08 09:19:15,453 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:19:34,736 - INFO - Step 2 result: {'type': 'Program', 'name': 'DatabaseManager', 'range': [155, 196], 'children': [{'type': 'FunctionDeclaration', 'name': '__init__', 'range': [162, 196], 'children': [{'type': 'SuperCall', 'name': 'super', 'range': [169, 175], 'children': []}, {'type': 'Assignment', 'name': 'use_db', 'range': [177, 181], 'children': []}, {'type': 'Assignment', 'name': 'use_redis', 'range': [183, 187], 'children': []}, {'type': 'Assignment', 'name': 'event_queue', 'range': [189, 195], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'get_port', 'range': [201, 215], 'children': [{'type': 'ReturnStatement', 'name': 'return', 'range': [211, 215], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'send_execution_update', 'range': [221, 239], 'children': [{'type': 'MethodCall', 'name': 'publish', 'range': [231, 238], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'exposed_run_and_wait', 'range': [245, 356], 'children': [{'type': 'FunctionDeclaration', 'name': 'wrapper', 'range': [290, 337], 'children': [{'type': 'Assignment', 'name': 'coroutine', 'range': [314, 324], 'children': []}, {'type': 'Assignment', 'name': 'res', 'range': [326, 334], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [335, 337], 'children': []}]}, {'type': 'MethodCall', 'name': 'register_pydantic_serializers', 'range': [348, 352], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [354, 356], 'children': []}]}]}
2025-01-08 09:19:34,736 - INFO - Starting Step 3: AST simplification
2025-01-08 09:19:59,526 - INFO - Step 3 result: {'type': 'Program', 'name': 'DatabaseManager', 'range': [155, 196], 'children': [{'type': 'FunctionDeclaration', 'name': '__init__', 'range': [162, 196], 'children': [{'type': 'SuperCall', 'name': 'super', 'range': [169, 175], 'children': []}, {'type': 'Assignment', 'name': 'use_db', 'range': [177, 181], 'children': []}, {'type': 'Assignment', 'name': 'use_redis', 'range': [183, 187], 'children': []}, {'type': 'Assignment', 'name': 'event_queue', 'range': [189, 195], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'get_port', 'range': [201, 215], 'children': [{'type': 'ReturnStatement', 'name': 'return', 'range': [211, 215], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'send_execution_update', 'range': [221, 239], 'children': [{'type': 'MethodCall', 'name': 'publish', 'range': [231, 238], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'exposed_run_and_wait', 'range': [245, 356], 'children': [{'type': 'FunctionDeclaration', 'name': 'wrapper', 'range': [290, 337], 'children': [{'type': 'Assignment', 'name': 'coroutine', 'range': [314, 324], 'children': []}, {'type': 'Assignment', 'name': 'res', 'range': [326, 334], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [335, 337], 'children': []}]}, {'type': 'MethodCall', 'name': 'register_pydantic_serializers', 'range': [348, 352], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [354, 356], 'children': []}]}]}
2025-01-08 09:19:59,526 - INFO - Starting Step 4: AST normalization
2025-01-08 09:20:25,792 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 3], 'children': [{'type': 'ImportFrom', 'name': 'functools', 'range': [0, 3], 'children': [{'type': 'ImportedItem', 'name': 'wraps', 'range': [3, 3], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 20], 'children': [{'type': 'ImportFrom', 'name': 'typing', 'range': [5, 20], 'children': [{'type': 'ImportedItem', 'name': 'Any', 'range': [8, 8], 'children': []}, {'type': 'ImportedItem', 'name': 'Callable', 'range': [10, 10], 'children': []}, {'type': 'ImportedItem', 'name': 'Concatenate', 'range': [12, 12], 'children': []}, {'type': 'ImportedItem', 'name': 'Coroutine', 'range': [14, 14], 'children': []}, {'type': 'ImportedItem', 'name': 'ParamSpec', 'range': [16, 16], 'children': []}, {'type': 'ImportedItem', 'name': 'TypeVar', 'range': [18, 18], 'children': []}, {'type': 'ImportedItem', 'name': 'cast', 'range': [20, 20], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [23, 30], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.credit', 'range': [23, 30], 'children': [{'type': 'ImportedItem', 'name': 'get_user_credit_model', 'range': [30, 30], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 74], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.execution', 'range': [32, 74], 'children': [{'type': 'ImportedItem', 'name': 'ExecutionResult', 'range': [41, 41], 'children': []}, {'type': 'ImportedItem', 'name': 'RedisExecutionEventBus', 'range': [44, 44], 'children': []}, {'type': 'ImportedItem', 'name': 'create_graph_execution', 'range': [47, 47], 'children': []}, {'type': 'ImportedItem', 'name': 'get_execution_results', 'range': [50, 50], 'children': []}, {'type': 'ImportedItem', 'name': 'get_incomplete_executions', 'range': [53, 53], 'children': []}, {'type': 'ImportedItem', 'name': 'get_latest_execution', 'range': [56, 56], 'children': []}, {'type': 'ImportedItem', 'name': 'update_execution_status', 'range': [59, 59], 'children': []}, {'type': 'ImportedItem', 'name': 'update_graph_execution_stats', 'range': [62, 62], 'children': []}, {'type': 'ImportedItem', 'name': 'update_node_execution_stats', 'range': [65, 65], 'children': []}, {'type': 'ImportedItem', 'name': 'upsert_execution_input', 'range': [68, 68], 'children': []}, {'type': 'ImportedItem', 'name': 'upsert_execution_output', 'range': [71, 71], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [76, 86], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.graph', 'range': [76, 86], 'children': [{'type': 'ImportedItem', 'name': 'get_graph', 'range': [83, 83], 'children': []}, {'type': 'ImportedItem', 'name': 'get_node', 'range': [85, 85], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [87, 108], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.user', 'range': [87, 108], 'children': [{'type': 'ImportedItem', 'name': 'get_user_integrations', 'range': [96, 96], 'children': []}, {'type': 'ImportedItem', 'name': 'get_user_metadata', 'range': [99, 99], 'children': []}, {'type': 'ImportedItem', 'name': 'update_user_integrations', 'range': [102, 102], 'children': []}, {'type': 'ImportedItem', 'name': 'update_user_metadata', 'range': [105, 105], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [110, 122], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.service', 'range': [110, 122], 'children': [{'type': 'ImportedItem', 'name': 'AppService', 'range': [117, 117], 'children': []}, {'type': 'ImportedItem', 'name': 'expose', 'range': [119, 119], 'children': []}, {'type': 'ImportedItem', 'name': 'register_pydantic_serializers', 'range': [121, 121], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [123, 131], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.settings', 'range': [123, 131], 'children': [{'type': 'ImportedItem', 'name': 'Config', 'range': [130, 130], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'P', 'range': [133, 138], 'children': [{'type': 'Assignment', 'name': '=', 'range': [134, 134], 'children': [{'type': 'CallExpression', 'name': 'ParamSpec', 'range': [135, 138], 'children': [{'type': 'Argument', 'name': '"P"', 'range': [137, 137], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'R', 'range': [140, 145], 'children': [{'type': 'Assignment', 'name': '=', 'range': [141, 141], 'children': [{'type': 'CallExpression', 'name': 'TypeVar', 'range': [142, 145], 'children': [{'type': 'Argument', 'name': '"R"', 'range': [144, 144], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'config', 'range': [147, 151], 'children': [{'type': 'Assignment', 'name': '=', 'range': [148, 148], 'children': [{'type': 'CallExpression', 'name': 'Config', 'range': [149, 151], 'children': []}]}]}]}
2025-01-08 09:20:25,793 - INFO - Starting Step 3: AST simplification
2025-01-08 09:20:29,331 - INFO - Step 4 result: {'type': 'Program', 'name': 'DatabaseManager', 'range': [155, 196], 'children': [{'type': 'FunctionDecl', 'name': '__init__', 'range': [162, 196], 'children': [{'type': 'CallExpression', 'name': 'super', 'range': [169, 175], 'children': []}, {'type': 'AssignmentExpression', 'name': 'use_db', 'range': [177, 181], 'children': []}, {'type': 'AssignmentExpression', 'name': 'use_redis', 'range': [183, 187], 'children': []}, {'type': 'AssignmentExpression', 'name': 'event_queue', 'range': [189, 195], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'get_port', 'range': [201, 215], 'children': [{'type': 'ReturnStatement', 'name': 'return', 'range': [211, 215], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'send_execution_update', 'range': [221, 239], 'children': [{'type': 'CallExpression', 'name': 'publish', 'range': [231, 238], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'exposed_run_and_wait', 'range': [245, 356], 'children': [{'type': 'FunctionDecl', 'name': 'wrapper', 'range': [290, 337], 'children': [{'type': 'AssignmentExpression', 'name': 'coroutine', 'range': [314, 324], 'children': []}, {'type': 'AssignmentExpression', 'name': 'res', 'range': [326, 334], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [335, 337], 'children': []}]}, {'type': 'CallExpression', 'name': 'register_pydantic_serializers', 'range': [348, 352], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [354, 356], 'children': []}]}]}
2025-01-08 09:20:29,331 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:20:53,666 - INFO - Step 5 result: {'type': 'Program', 'name': 'DatabaseManager', 'range': [155, 356], 'children': [{'type': 'FunctionDecl', 'name': '__init__', 'range': [162, 196], 'children': [{'type': 'CallExpression', 'name': 'super', 'range': [169, 175], 'children': []}, {'type': 'AssignmentExpression', 'name': 'use_db', 'range': [177, 181], 'children': []}, {'type': 'AssignmentExpression', 'name': 'use_redis', 'range': [183, 187], 'children': []}, {'type': 'AssignmentExpression', 'name': 'event_queue', 'range': [189, 195], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'get_port', 'range': [201, 215], 'children': [{'type': 'ReturnStatement', 'name': 'return', 'range': [211, 215], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'send_execution_update', 'range': [221, 239], 'children': [{'type': 'CallExpression', 'name': 'publish', 'range': [231, 238], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'exposed_run_and_wait', 'range': [245, 356], 'children': [{'type': 'FunctionDecl', 'name': 'wrapper', 'range': [290, 337], 'children': [{'type': 'AssignmentExpression', 'name': 'coroutine', 'range': [314, 324], 'children': []}, {'type': 'AssignmentExpression', 'name': 'res', 'range': [326, 334], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [335, 337], 'children': []}]}, {'type': 'CallExpression', 'name': 'register_pydantic_serializers', 'range': [348, 352], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [354, 356], 'children': []}]}]}
2025-01-08 09:20:53,666 - INFO - Completed main AST analysis flow
2025-01-08 09:20:53,666 - INFO - Successfully processed chunk
2025-01-08 09:21:38,234 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 3], 'children': [{'type': 'ImportFrom', 'name': 'functools', 'range': [0, 3], 'children': [{'type': 'ImportedItem', 'name': 'wraps', 'range': [3, 3], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 20], 'children': [{'type': 'ImportFrom', 'name': 'typing', 'range': [5, 20], 'children': [{'type': 'ImportedItem', 'name': 'Any', 'range': [8, 8], 'children': []}, {'type': 'ImportedItem', 'name': 'Callable', 'range': [10, 10], 'children': []}, {'type': 'ImportedItem', 'name': 'Concatenate', 'range': [12, 12], 'children': []}, {'type': 'ImportedItem', 'name': 'Coroutine', 'range': [14, 14], 'children': []}, {'type': 'ImportedItem', 'name': 'ParamSpec', 'range': [16, 16], 'children': []}, {'type': 'ImportedItem', 'name': 'TypeVar', 'range': [18, 18], 'children': []}, {'type': 'ImportedItem', 'name': 'cast', 'range': [20, 20], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [23, 30], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.credit', 'range': [23, 30], 'children': [{'type': 'ImportedItem', 'name': 'get_user_credit_model', 'range': [30, 30], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 74], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.execution', 'range': [32, 74], 'children': [{'type': 'ImportedItem', 'name': 'ExecutionResult', 'range': [41, 41], 'children': []}, {'type': 'ImportedItem', 'name': 'RedisExecutionEventBus', 'range': [44, 44], 'children': []}, {'type': 'ImportedItem', 'name': 'create_graph_execution', 'range': [47, 47], 'children': []}, {'type': 'ImportedItem', 'name': 'get_execution_results', 'range': [50, 50], 'children': []}, {'type': 'ImportedItem', 'name': 'get_incomplete_executions', 'range': [53, 53], 'children': []}, {'type': 'ImportedItem', 'name': 'get_latest_execution', 'range': [56, 56], 'children': []}, {'type': 'ImportedItem', 'name': 'update_execution_status', 'range': [59, 59], 'children': []}, {'type': 'ImportedItem', 'name': 'update_graph_execution_stats', 'range': [62, 62], 'children': []}, {'type': 'ImportedItem', 'name': 'update_node_execution_stats', 'range': [65, 65], 'children': []}, {'type': 'ImportedItem', 'name': 'upsert_execution_input', 'range': [68, 68], 'children': []}, {'type': 'ImportedItem', 'name': 'upsert_execution_output', 'range': [71, 71], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [76, 86], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.graph', 'range': [76, 86], 'children': [{'type': 'ImportedItem', 'name': 'get_graph', 'range': [83, 83], 'children': []}, {'type': 'ImportedItem', 'name': 'get_node', 'range': [85, 85], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [87, 108], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.user', 'range': [87, 108], 'children': [{'type': 'ImportedItem', 'name': 'get_user_integrations', 'range': [96, 96], 'children': []}, {'type': 'ImportedItem', 'name': 'get_user_metadata', 'range': [99, 99], 'children': []}, {'type': 'ImportedItem', 'name': 'update_user_integrations', 'range': [102, 102], 'children': []}, {'type': 'ImportedItem', 'name': 'update_user_metadata', 'range': [105, 105], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [110, 122], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.service', 'range': [110, 122], 'children': [{'type': 'ImportedItem', 'name': 'AppService', 'range': [117, 117], 'children': []}, {'type': 'ImportedItem', 'name': 'expose', 'range': [119, 119], 'children': []}, {'type': 'ImportedItem', 'name': 'register_pydantic_serializers', 'range': [121, 121], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [123, 131], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.settings', 'range': [123, 131], 'children': [{'type': 'ImportedItem', 'name': 'Config', 'range': [130, 130], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'P', 'range': [133, 138], 'children': [{'type': 'Assignment', 'name': '=', 'range': [134, 134], 'children': [{'type': 'CallExpression', 'name': 'ParamSpec', 'range': [135, 138], 'children': [{'type': 'Argument', 'name': '"P"', 'range': [137, 137], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'R', 'range': [140, 145], 'children': [{'type': 'Assignment', 'name': '=', 'range': [141, 141], 'children': [{'type': 'CallExpression', 'name': 'TypeVar', 'range': [142, 145], 'children': [{'type': 'Argument', 'name': '"R"', 'range': [144, 144], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'config', 'range': [147, 151], 'children': [{'type': 'Assignment', 'name': '=', 'range': [148, 148], 'children': [{'type': 'CallExpression', 'name': 'Config', 'range': [149, 151], 'children': []}]}]}]}
2025-01-08 09:21:38,234 - INFO - Starting Step 4: AST normalization
2025-01-08 09:22:48,270 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 3], 'children': [{'type': 'ImportFrom', 'name': 'functools', 'range': [0, 3], 'children': [{'type': 'ImportedItem', 'name': 'wraps', 'range': [3, 3], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 20], 'children': [{'type': 'ImportFrom', 'name': 'typing', 'range': [5, 20], 'children': [{'type': 'ImportedItem', 'name': 'Any', 'range': [8, 8], 'children': []}, {'type': 'ImportedItem', 'name': 'Callable', 'range': [10, 10], 'children': []}, {'type': 'ImportedItem', 'name': 'Concatenate', 'range': [12, 12], 'children': []}, {'type': 'ImportedItem', 'name': 'Coroutine', 'range': [14, 14], 'children': []}, {'type': 'ImportedItem', 'name': 'ParamSpec', 'range': [16, 16], 'children': []}, {'type': 'ImportedItem', 'name': 'TypeVar', 'range': [18, 18], 'children': []}, {'type': 'ImportedItem', 'name': 'cast', 'range': [20, 20], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [23, 30], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.credit', 'range': [23, 30], 'children': [{'type': 'ImportedItem', 'name': 'get_user_credit_model', 'range': [30, 30], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 74], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.execution', 'range': [32, 74], 'children': [{'type': 'ImportedItem', 'name': 'ExecutionResult', 'range': [41, 41], 'children': []}, {'type': 'ImportedItem', 'name': 'RedisExecutionEventBus', 'range': [44, 44], 'children': []}, {'type': 'ImportedItem', 'name': 'create_graph_execution', 'range': [47, 47], 'children': []}, {'type': 'ImportedItem', 'name': 'get_execution_results', 'range': [50, 50], 'children': []}, {'type': 'ImportedItem', 'name': 'get_incomplete_executions', 'range': [53, 53], 'children': []}, {'type': 'ImportedItem', 'name': 'get_latest_execution', 'range': [56, 56], 'children': []}, {'type': 'ImportedItem', 'name': 'update_execution_status', 'range': [59, 59], 'children': []}, {'type': 'ImportedItem', 'name': 'update_graph_execution_stats', 'range': [62, 62], 'children': []}, {'type': 'ImportedItem', 'name': 'update_node_execution_stats', 'range': [65, 65], 'children': []}, {'type': 'ImportedItem', 'name': 'upsert_execution_input', 'range': [68, 68], 'children': []}, {'type': 'ImportedItem', 'name': 'upsert_execution_output', 'range': [71, 71], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [76, 86], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.graph', 'range': [76, 86], 'children': [{'type': 'ImportedItem', 'name': 'get_graph', 'range': [83, 83], 'children': []}, {'type': 'ImportedItem', 'name': 'get_node', 'range': [85, 85], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [87, 108], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.user', 'range': [87, 108], 'children': [{'type': 'ImportedItem', 'name': 'get_user_integrations', 'range': [96, 96], 'children': []}, {'type': 'ImportedItem', 'name': 'get_user_metadata', 'range': [99, 99], 'children': []}, {'type': 'ImportedItem', 'name': 'update_user_integrations', 'range': [102, 102], 'children': []}, {'type': 'ImportedItem', 'name': 'update_user_metadata', 'range': [105, 105], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [110, 122], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.service', 'range': [110, 122], 'children': [{'type': 'ImportedItem', 'name': 'AppService', 'range': [117, 117], 'children': []}, {'type': 'ImportedItem', 'name': 'expose', 'range': [119, 119], 'children': []}, {'type': 'ImportedItem', 'name': 'register_pydantic_serializers', 'range': [121, 121], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [123, 131], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.settings', 'range': [123, 131], 'children': [{'type': 'ImportedItem', 'name': 'Config', 'range': [130, 130], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'P', 'range': [133, 138], 'children': [{'type': 'Assignment', 'name': '=', 'range': [134, 134], 'children': [{'type': 'CallExpression', 'name': 'ParamSpec', 'range': [135, 138], 'children': [{'type': 'Argument', 'name': '"P"', 'range': [137, 137], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'R', 'range': [140, 145], 'children': [{'type': 'Assignment', 'name': '=', 'range': [141, 141], 'children': [{'type': 'CallExpression', 'name': 'TypeVar', 'range': [142, 145], 'children': [{'type': 'Argument', 'name': '"R"', 'range': [144, 144], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'config', 'range': [147, 151], 'children': [{'type': 'Assignment', 'name': '=', 'range': [148, 148], 'children': [{'type': 'CallExpression', 'name': 'Config', 'range': [149, 151], 'children': []}]}]}]}
2025-01-08 09:22:48,270 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:24:00,171 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainOrSomething', 'range': [0, 151], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 3], 'children': [{'type': 'ImportFrom', 'name': 'functools', 'range': [0, 3], 'children': [{'type': 'ImportedItem', 'name': 'wraps', 'range': [3, 3], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 20], 'children': [{'type': 'ImportFrom', 'name': 'typing', 'range': [5, 20], 'children': [{'type': 'ImportedItem', 'name': 'Any', 'range': [8, 8], 'children': []}, {'type': 'ImportedItem', 'name': 'Callable', 'range': [10, 10], 'children': []}, {'type': 'ImportedItem', 'name': 'Concatenate', 'range': [12, 12], 'children': []}, {'type': 'ImportedItem', 'name': 'Coroutine', 'range': [14, 14], 'children': []}, {'type': 'ImportedItem', 'name': 'ParamSpec', 'range': [16, 16], 'children': []}, {'type': 'ImportedItem', 'name': 'TypeVar', 'range': [18, 18], 'children': []}, {'type': 'ImportedItem', 'name': 'cast', 'range': [20, 20], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [23, 30], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.credit', 'range': [23, 30], 'children': [{'type': 'ImportedItem', 'name': 'get_user_credit_model', 'range': [30, 30], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 74], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.execution', 'range': [32, 74], 'children': [{'type': 'ImportedItem', 'name': 'ExecutionResult', 'range': [41, 41], 'children': []}, {'type': 'ImportedItem', 'name': 'RedisExecutionEventBus', 'range': [44, 44], 'children': []}, {'type': 'ImportedItem', 'name': 'create_graph_execution', 'range': [47, 47], 'children': []}, {'type': 'ImportedItem', 'name': 'get_execution_results', 'range': [50, 50], 'children': []}, {'type': 'ImportedItem', 'name': 'get_incomplete_executions', 'range': [53, 53], 'children': []}, {'type': 'ImportedItem', 'name': 'get_latest_execution', 'range': [56, 56], 'children': []}, {'type': 'ImportedItem', 'name': 'update_execution_status', 'range': [59, 59], 'children': []}, {'type': 'ImportedItem', 'name': 'update_graph_execution_stats', 'range': [62, 62], 'children': []}, {'type': 'ImportedItem', 'name': 'update_node_execution_stats', 'range': [65, 65], 'children': []}, {'type': 'ImportedItem', 'name': 'upsert_execution_input', 'range': [68, 68], 'children': []}, {'type': 'ImportedItem', 'name': 'upsert_execution_output', 'range': [71, 71], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [76, 86], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.graph', 'range': [76, 86], 'children': [{'type': 'ImportedItem', 'name': 'get_graph', 'range': [83, 83], 'children': []}, {'type': 'ImportedItem', 'name': 'get_node', 'range': [85, 85], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [87, 108], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.user', 'range': [87, 108], 'children': [{'type': 'ImportedItem', 'name': 'get_user_integrations', 'range': [96, 96], 'children': []}, {'type': 'ImportedItem', 'name': 'get_user_metadata', 'range': [99, 99], 'children': []}, {'type': 'ImportedItem', 'name': 'update_user_integrations', 'range': [102, 102], 'children': []}, {'type': 'ImportedItem', 'name': 'update_user_metadata', 'range': [105, 105], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [110, 122], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.service', 'range': [110, 122], 'children': [{'type': 'ImportedItem', 'name': 'AppService', 'range': [117, 117], 'children': []}, {'type': 'ImportedItem', 'name': 'expose', 'range': [119, 119], 'children': []}, {'type': 'ImportedItem', 'name': 'register_pydantic_serializers', 'range': [121, 121], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [123, 131], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.settings', 'range': [123, 131], 'children': [{'type': 'ImportedItem', 'name': 'Config', 'range': [130, 130], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'P', 'range': [133, 138], 'children': [{'type': 'Assignment', 'name': '=', 'range': [134, 134], 'children': [{'type': 'CallExpression', 'name': 'ParamSpec', 'range': [135, 138], 'children': [{'type': 'Argument', 'name': '"P"', 'range': [137, 137], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'R', 'range': [140, 145], 'children': [{'type': 'Assignment', 'name': '=', 'range': [141, 141], 'children': [{'type': 'CallExpression', 'name': 'TypeVar', 'range': [142, 145], 'children': [{'type': 'Argument', 'name': '"R"', 'range': [144, 144], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'config', 'range': [147, 151], 'children': [{'type': 'Assignment', 'name': '=', 'range': [148, 148], 'children': [{'type': 'CallExpression', 'name': 'Config', 'range': [149, 151], 'children': []}]}]}]}
2025-01-08 09:24:00,171 - INFO - Completed main AST analysis flow
2025-01-08 09:24:00,172 - INFO - Successfully processed chunk
2025-01-08 09:24:00,190 - INFO - Starting code generation from AST
2025-01-08 09:24:31,664 - INFO - Successfully generated code from AST
2025-01-08 09:24:31,664 - INFO - Starting static code similarity comparison
2025-01-08 09:24:31,672 - INFO - Static similarity result: {'final_score': 48.16, 'length_similarity': 29.84, 'token_similarity': 7.76, 'structure_similarity': 65.43, 'function_similarity': 100, 'complexity_similarity': 50.0, 'variable_similarity': 100}
