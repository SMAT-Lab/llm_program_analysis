2025-01-08 10:27:27,227 - INFO - Processing sample 39
2025-01-08 10:27:27,227 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 10:27:36,378 - INFO - Successfully split code into 7 top-level declarations
2025-01-08 10:27:36,454 - INFO - Processing chunk #0 (size=363 chars, start_index=0)
2025-01-08 10:27:36,507 - INFO - Processing chunk with 363 chars starting at index 0
2025-01-08 10:27:36,508 - INFO - Starting main AST analysis flow
2025-01-08 10:27:36,509 - INFO - Tokenized code into 69 tokens
2025-01-08 10:27:36,509 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:36,732 - INFO - Processing chunk #1 (size=99 chars, start_index=69)
2025-01-08 10:27:36,760 - INFO - Processing chunk with 99 chars starting at index 69
2025-01-08 10:27:36,760 - INFO - Starting main AST analysis flow
2025-01-08 10:27:36,769 - INFO - Tokenized code into 19 tokens
2025-01-08 10:27:36,785 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:37,260 - INFO - Processing chunk #2 (size=114 chars, start_index=88)
2025-01-08 10:27:37,492 - INFO - Processing chunk with 114 chars starting at index 88
2025-01-08 10:27:37,493 - INFO - Starting main AST analysis flow
2025-01-08 10:27:37,493 - INFO - Tokenized code into 17 tokens
2025-01-08 10:27:37,493 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:37,651 - INFO - Processing chunk #3 (size=205 chars, start_index=105)
2025-01-08 10:27:37,808 - INFO - Processing chunk with 205 chars starting at index 105
2025-01-08 10:27:37,809 - INFO - Starting main AST analysis flow
2025-01-08 10:27:37,809 - INFO - Tokenized code into 35 tokens
2025-01-08 10:27:37,821 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:41,415 - INFO - Processing chunk #4 (size=174 chars, start_index=140)
2025-01-08 10:27:41,430 - INFO - Processing chunk with 174 chars starting at index 140
2025-01-08 10:27:41,432 - INFO - Starting main AST analysis flow
2025-01-08 10:27:41,432 - INFO - Tokenized code into 34 tokens
2025-01-08 10:27:41,433 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:41,440 - INFO - Processing chunk #5 (size=4680 chars, start_index=174)
2025-01-08 10:27:41,441 - INFO - Processing chunk with 4680 chars starting at index 174
2025-01-08 10:27:41,441 - INFO - Starting main AST analysis flow
2025-01-08 10:27:41,442 - INFO - Tokenized code into 737 tokens
2025-01-08 10:27:41,442 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:41,936 - INFO - Processing chunk #6 (size=3659 chars, start_index=911)
2025-01-08 10:27:41,938 - INFO - Processing chunk with 3659 chars starting at index 911
2025-01-08 10:27:41,942 - INFO - Starting main AST analysis flow
2025-01-08 10:27:41,943 - INFO - Tokenized code into 597 tokens
2025-01-08 10:27:41,943 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:43,574 - INFO - Step 1 result: {'type': 'Program', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': []}
2025-01-08 10:27:43,695 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:44,574 - INFO - Step 1 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [105, 139], 'children': []}
2025-01-08 10:27:44,575 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:50,276 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [69, 87], 'children': [{'type': 'VariableDeclaration', 'name': 'DiscordCredentials', 'range': [69, 87], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [70, 86], 'children': [{'type': 'Identifier', 'name': 'CredentialsMetaInput', 'range': [71, 71], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [72, 86], 'children': [{'type': 'Literal', 'name': '', 'range': [74, 74], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [75, 79], 'children': [{'type': 'MemberExpression', 'name': '', 'range': [76, 78], 'children': [{'type': 'Identifier', 'name': 'ProviderName', 'range': [76, 76], 'children': []}, {'type': 'Identifier', 'name': 'DISCORD', 'range': [78, 78], 'children': []}]}]}, {'type': 'Literal', 'name': '', 'range': [81, 81], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [82, 84], 'children': [{'type': 'Literal', 'name': '', 'range': [83, 83], 'children': []}]}]}]}]}]}
2025-01-08 10:27:50,277 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:51,059 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 68], 'children': [{'type': 'ImportDeclaration', 'name': 'asyncio', 'range': [0, 1], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Literal', 'range': [3, 6], 'children': []}, {'type': 'ImportDeclaration', 'name': 'aiohttp', 'range': [9, 10], 'children': []}, {'type': 'ImportDeclaration', 'name': 'discord', 'range': [12, 13], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SecretStr', 'range': [15, 18], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Block', 'range': [21, 28], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockCategory', 'range': [29, 30], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockOutput', 'range': [31, 32], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockSchema', 'range': [33, 34], 'children': []}, {'type': 'ImportDeclaration', 'name': 'APIKeyCredentials', 'range': [36, 45], 'children': []}, {'type': 'ImportDeclaration', 'name': 'CredentialsField', 'range': [46, 48], 'children': []}, {'type': 'ImportDeclaration', 'name': 'CredentialsMetaInput', 'range': [49, 51], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [52, 54], 'children': []}, {'type': 'ImportDeclaration', 'name': 'ProviderName', 'range': [59, 66], 'children': []}]}
2025-01-08 10:27:51,074 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:54,691 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [140, 173], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [140, 172], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [142, 172], 'children': [{'type': 'Property', 'name': 'provider', 'range': [144, 148], 'children': []}, {'type': 'Property', 'name': 'id', 'range': [151, 155], 'children': []}, {'type': 'Property', 'name': 'type', 'range': [158, 162], 'children': []}, {'type': 'Property', 'name': 'title', 'range': [165, 169], 'children': []}]}]}]}
2025-01-08 10:27:54,691 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:58,692 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [174, 910], 'children': [{'type': 'ClassDeclaration', 'name': 'ReadDiscordMessagesBlock', 'range': [174, 180], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [181, 187], 'children': []}, {'type': 'VariableDeclaration', 'name': 'credentials', 'range': [188, 195], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [197, 203], 'children': []}, {'type': 'VariableDeclaration', 'name': 'message_content', 'range': [204, 216], 'children': []}, {'type': 'VariableDeclaration', 'name': 'channel_name', 'range': [217, 229], 'children': []}, {'type': 'VariableDeclaration', 'name': 'username', 'range': [230, 242], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [244, 379], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run_bot', 'range': [381, 614], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [615, 666], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__run', 'range': [668, 909], 'children': []}]}
2025-01-08 10:27:58,708 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:06,193 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [911, 1507], 'children': [{'type': 'ClassDeclaration', 'name': 'SendDiscordMessageBlock', 'range': [911, 958], 'children': [{'type': 'ClassBody', 'name': '', 'range': [917, 958], 'children': [{'type': 'FieldDeclaration', 'name': 'credentials', 'range': [925, 932], 'children': []}, {'type': 'FieldDeclaration', 'name': 'message_content', 'range': [933, 945], 'children': []}, {'type': 'FieldDeclaration', 'name': 'channel_name', 'range': [946, 958], 'children': []}]}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [918, 958], 'children': [{'type': 'ClassBody', 'name': '', 'range': [924, 958], 'children': [{'type': 'FieldDeclaration', 'name': 'credentials', 'range': [925, 932], 'children': []}, {'type': 'FieldDeclaration', 'name': 'message_content', 'range': [933, 945], 'children': []}, {'type': 'FieldDeclaration', 'name': 'channel_name', 'range': [946, 958], 'children': []}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [960, 980], 'children': [{'type': 'ClassBody', 'name': '', 'range': [966, 980], 'children': [{'type': 'FieldDeclaration', 'name': 'status', 'range': [967, 979], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [981, 1097], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'send_message', 'range': [1099, 1266], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'chunk_message', 'range': [1267, 1317], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [1318, 1507], 'children': []}]}
2025-01-08 10:28:06,193 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:08,205 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [69, 87], 'children': [{'type': 'VariableDeclaration', 'name': 'DiscordCredentials', 'range': [69, 87], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [70, 86], 'children': [{'type': 'Identifier', 'name': 'CredentialsMetaInput', 'range': [71, 71], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [72, 86], 'children': [{'type': 'Literal', 'name': '', 'range': [74, 74], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [75, 79], 'children': [{'type': 'MemberExpression', 'name': '', 'range': [76, 78], 'children': [{'type': 'Identifier', 'name': 'ProviderName', 'range': [76, 76], 'children': []}, {'type': 'Identifier', 'name': 'DISCORD', 'range': [78, 78], 'children': []}]}]}, {'type': 'Literal', 'name': '', 'range': [81, 81], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [82, 84], 'children': [{'type': 'Literal', 'name': '', 'range': [83, 83], 'children': []}]}]}]}]}]}
2025-01-08 10:28:08,266 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:08,343 - INFO - Step 2 result: {'type': 'Program', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': [{'type': 'FunctionDeclaration', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [88, 88], 'children': []}, {'type': 'FunctionName', 'name': 'DiscordCredentialsField', 'range': [89, 89], 'children': []}, {'type': 'Parameters', 'name': '', 'range': [90, 91], 'children': []}, {'type': 'ReturnType', 'name': '->', 'range': [92, 93], 'children': []}, {'type': 'Type', 'name': 'DiscordCredentials', 'range': [94, 94], 'children': []}, {'type': 'Colon', 'name': ':', 'range': [95, 95], 'children': []}, {'type': 'NewLine', 'name': '\\n', 'range': [96, 96], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [97, 97], 'children': [{'type': 'FunctionCall', 'name': 'CredentialsField', 'range': [98, 103], 'children': [{'type': 'FunctionName', 'name': 'CredentialsField', 'range': [98, 98], 'children': []}, {'type': 'OpeningParenthesis', 'name': '(', 'range': [99, 99], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [100, 100], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [101, 101], 'children': []}, {'type': 'StringLiteral', 'name': '"Discord bot token"', 'range': [102, 102], 'children': []}, {'type': 'ClosingParenthesis', 'name': ')', 'range': [103, 103], 'children': []}]}]}, {'type': 'NewLine', 'name': '\\n', 'range': [104, 104], 'children': []}]}]}
2025-01-08 10:28:08,399 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:08,715 - INFO - Step 2 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [105, 139], 'children': [{'type': 'Assignment', 'name': '=', 'range': [105, 139], 'children': [{'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [105, 105], 'children': []}, {'type': 'FunctionCall', 'name': 'APIKeyCredentials', 'range': [107, 138], 'children': [{'type': 'Argument', 'name': 'id', 'range': [110, 112], 'children': [{'type': 'StringLiteral', 'name': '"01234567-89ab-cdef-0123-456789abcdef"', 'range': [112, 112], 'children': []}]}, {'type': 'Argument', 'name': 'provider', 'range': [115, 117], 'children': [{'type': 'StringLiteral', 'name': '"discord"', 'range': [117, 117], 'children': []}]}, {'type': 'Argument', 'name': 'api_key', 'range': [120, 125], 'children': [{'type': 'FunctionCall', 'name': 'SecretStr', 'range': [122, 125], 'children': [{'type': 'StringLiteral', 'name': '"test_api_key"', 'range': [124, 124], 'children': []}]}]}, {'type': 'Argument', 'name': 'title', 'range': [128, 130], 'children': [{'type': 'StringLiteral', 'name': '"Mock Discord API key"', 'range': [130, 130], 'children': []}]}, {'type': 'Argument', 'name': 'expires_at', 'range': [133, 135], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [135, 135], 'children': []}]}]}]}]}
2025-01-08 10:28:08,725 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:11,984 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [140, 173], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [140, 172], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [142, 172], 'children': [{'type': 'Property', 'name': 'provider', 'range': [144, 148], 'children': [{'type': 'Literal', 'name': '"provider"', 'range': [144, 144], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [146, 146], 'children': []}, {'type': 'Identifier', 'name': 'provider', 'range': [148, 148], 'children': []}]}, {'type': 'Property', 'name': 'id', 'range': [151, 155], 'children': [{'type': 'Literal', 'name': '"id"', 'range': [151, 151], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [153, 153], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [155, 155], 'children': []}]}, {'type': 'Property', 'name': 'type', 'range': [158, 162], 'children': [{'type': 'Literal', 'name': '"type"', 'range': [158, 158], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [160, 160], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [162, 162], 'children': []}]}, {'type': 'Property', 'name': 'title', 'range': [165, 169], 'children': [{'type': 'Literal', 'name': '"title"', 'range': [165, 165], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [167, 167], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [169, 169], 'children': []}]}]}]}]}
2025-01-08 10:28:11,984 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:18,445 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'asyncio', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'asyncio', 'range': [0, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Literal', 'range': [3, 6], 'children': [{'type': 'ImportSpecifier', 'name': 'Literal', 'range': [3, 6], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'aiohttp', 'range': [9, 10], 'children': [{'type': 'ImportSpecifier', 'name': 'aiohttp', 'range': [9, 10], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'discord', 'range': [12, 13], 'children': [{'type': 'ImportSpecifier', 'name': 'discord', 'range': [12, 13], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SecretStr', 'range': [15, 18], 'children': [{'type': 'ImportSpecifier', 'name': 'SecretStr', 'range': [15, 18], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Block', 'range': [21, 28], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [21, 28], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'BlockCategory', 'range': [29, 30], 'children': [{'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [29, 30], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'BlockOutput', 'range': [31, 32], 'children': [{'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [31, 32], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'BlockSchema', 'range': [33, 34], 'children': [{'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [33, 34], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'APIKeyCredentials', 'range': [36, 45], 'children': [{'type': 'ImportSpecifier', 'name': 'APIKeyCredentials', 'range': [36, 45], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'CredentialsField', 'range': [46, 48], 'children': [{'type': 'ImportSpecifier', 'name': 'CredentialsField', 'range': [46, 48], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'CredentialsMetaInput', 'range': [49, 51], 'children': [{'type': 'ImportSpecifier', 'name': 'CredentialsMetaInput', 'range': [49, 51], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [52, 54], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [52, 54], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'ProviderName', 'range': [59, 66], 'children': [{'type': 'ImportSpecifier', 'name': 'ProviderName', 'range': [59, 66], 'children': []}]}]}
2025-01-08 10:28:18,446 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:19,828 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [69, 87], 'children': [{'type': 'VariableDeclaration', 'name': 'DiscordCredentials', 'range': [69, 87], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [70, 86], 'children': [{'type': 'Identifier', 'name': 'CredentialsMetaInput', 'range': [71, 71], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [72, 86], 'children': [{'type': 'Literal', 'name': '', 'range': [74, 74], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [75, 79], 'children': [{'type': 'MemberExpression', 'name': '', 'range': [76, 78], 'children': [{'type': 'Identifier', 'name': 'ProviderName', 'range': [76, 76], 'children': []}, {'type': 'Identifier', 'name': 'DISCORD', 'range': [78, 78], 'children': []}]}]}, {'type': 'Literal', 'name': '', 'range': [81, 81], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [82, 84], 'children': [{'type': 'Literal', 'name': '', 'range': [83, 83], 'children': []}]}]}]}]}]}
2025-01-08 10:28:19,828 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:20,955 - INFO - Step 3 result: {'type': 'Program', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': [{'type': 'FunctionDeclaration', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [88, 88], 'children': []}, {'type': 'FunctionName', 'name': 'DiscordCredentialsField', 'range': [89, 89], 'children': []}, {'type': 'ReturnType', 'name': '->', 'range': [92, 93], 'children': []}, {'type': 'Type', 'name': 'DiscordCredentials', 'range': [94, 94], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [97, 97], 'children': [{'type': 'FunctionCall', 'name': 'CredentialsField', 'range': [98, 103], 'children': [{'type': 'FunctionName', 'name': 'CredentialsField', 'range': [98, 98], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [100, 100], 'children': []}, {'type': 'StringLiteral', 'name': '"Discord bot token"', 'range': [102, 102], 'children': []}]}]}]}]}
2025-01-08 10:28:20,955 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:26,940 - INFO - Step 3 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [105, 139], 'children': [{'type': 'Assignment', 'name': '=', 'range': [105, 139], 'children': [{'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [105, 105], 'children': []}, {'type': 'FunctionCall', 'name': 'APIKeyCredentials', 'range': [107, 138], 'children': [{'type': 'Argument', 'name': 'id', 'range': [110, 112], 'children': [{'type': 'StringLiteral', 'name': '"01234567-89ab-cdef-0123-456789abcdef"', 'range': [112, 112], 'children': []}]}, {'type': 'Argument', 'name': 'provider', 'range': [115, 117], 'children': [{'type': 'StringLiteral', 'name': '"discord"', 'range': [117, 117], 'children': []}]}, {'type': 'Argument', 'name': 'api_key', 'range': [120, 125], 'children': [{'type': 'FunctionCall', 'name': 'SecretStr', 'range': [122, 125], 'children': [{'type': 'StringLiteral', 'name': '"test_api_key"', 'range': [124, 124], 'children': []}]}]}, {'type': 'Argument', 'name': 'title', 'range': [128, 130], 'children': [{'type': 'StringLiteral', 'name': '"Mock Discord API key"', 'range': [130, 130], 'children': []}]}, {'type': 'Argument', 'name': 'expires_at', 'range': [133, 135], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [135, 135], 'children': []}]}]}]}]}
2025-01-08 10:28:26,940 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:30,265 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [140, 173], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [140, 172], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [142, 172], 'children': [{'type': 'Property', 'name': 'provider', 'range': [144, 148], 'children': [{'type': 'Literal', 'name': '"provider"', 'range': [144, 144], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [146, 146], 'children': []}, {'type': 'Identifier', 'name': 'provider', 'range': [148, 148], 'children': []}]}, {'type': 'Property', 'name': 'id', 'range': [151, 155], 'children': [{'type': 'Literal', 'name': '"id"', 'range': [151, 151], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [153, 153], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [155, 155], 'children': []}]}, {'type': 'Property', 'name': 'type', 'range': [158, 162], 'children': [{'type': 'Literal', 'name': '"type"', 'range': [158, 158], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [160, 160], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [162, 162], 'children': []}]}, {'type': 'Property', 'name': 'title', 'range': [165, 169], 'children': [{'type': 'Literal', 'name': '"title"', 'range': [165, 165], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [167, 167], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [169, 169], 'children': []}]}]}]}]}
2025-01-08 10:28:30,265 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:30,720 - INFO - Step 4 result: {'type': 'Program', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': [{'type': 'FunctionDecl', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [88, 88], 'children': []}, {'type': 'Identifier', 'name': 'DiscordCredentialsField', 'range': [89, 89], 'children': []}, {'type': 'ReturnType', 'name': '->', 'range': [92, 93], 'children': []}, {'type': 'Type', 'name': 'DiscordCredentials', 'range': [94, 94], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [97, 97], 'children': [{'type': 'CallExpression', 'name': 'CredentialsField', 'range': [98, 103], 'children': [{'type': 'Identifier', 'name': 'CredentialsField', 'range': [98, 98], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [100, 100], 'children': []}, {'type': 'Literal', 'name': '"Discord bot token"', 'range': [102, 102], 'children': []}]}]}]}]}
2025-01-08 10:28:30,721 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:31,403 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [69, 87], 'children': [{'type': 'VariableDeclaration', 'name': 'DiscordCredentials', 'range': [69, 87], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [70, 86], 'children': [{'type': 'Identifier', 'name': 'CredentialsMetaInput', 'range': [71, 71], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [72, 86], 'children': [{'type': 'Literal', 'name': '', 'range': [74, 74], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [75, 79], 'children': [{'type': 'MemberExpression', 'name': '', 'range': [76, 78], 'children': [{'type': 'Identifier', 'name': 'ProviderName', 'range': [76, 76], 'children': []}, {'type': 'Identifier', 'name': 'DISCORD', 'range': [78, 78], 'children': []}]}]}, {'type': 'Literal', 'name': '', 'range': [81, 81], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [82, 84], 'children': [{'type': 'Literal', 'name': '', 'range': [83, 83], 'children': []}]}]}]}]}]}
2025-01-08 10:28:31,403 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:32,302 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'asyncio', 'range': [0, 1], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Literal', 'range': [3, 6], 'children': []}, {'type': 'ImportDeclaration', 'name': 'aiohttp', 'range': [9, 10], 'children': []}, {'type': 'ImportDeclaration', 'name': 'discord', 'range': [12, 13], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SecretStr', 'range': [15, 18], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Block', 'range': [21, 28], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockCategory', 'range': [29, 30], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockOutput', 'range': [31, 32], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockSchema', 'range': [33, 34], 'children': []}, {'type': 'ImportDeclaration', 'name': 'APIKeyCredentials', 'range': [36, 45], 'children': []}, {'type': 'ImportDeclaration', 'name': 'CredentialsField', 'range': [46, 48], 'children': []}, {'type': 'ImportDeclaration', 'name': 'CredentialsMetaInput', 'range': [49, 51], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [52, 54], 'children': []}, {'type': 'ImportDeclaration', 'name': 'ProviderName', 'range': [59, 66], 'children': []}]}
2025-01-08 10:28:32,302 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:39,043 - INFO - Step 4 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [105, 139], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [105, 139], 'children': [{'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [105, 105], 'children': []}, {'type': 'CallExpression', 'name': 'APIKeyCredentials', 'range': [107, 138], 'children': [{'type': 'Argument', 'name': 'id', 'range': [110, 112], 'children': [{'type': 'Literal', 'name': '"01234567-89ab-cdef-0123-456789abcdef"', 'range': [112, 112], 'children': []}]}, {'type': 'Argument', 'name': 'provider', 'range': [115, 117], 'children': [{'type': 'Literal', 'name': '"discord"', 'range': [117, 117], 'children': []}]}, {'type': 'Argument', 'name': 'api_key', 'range': [120, 125], 'children': [{'type': 'CallExpression', 'name': 'SecretStr', 'range': [122, 125], 'children': [{'type': 'Literal', 'name': '"test_api_key"', 'range': [124, 124], 'children': []}]}]}, {'type': 'Argument', 'name': 'title', 'range': [128, 130], 'children': [{'type': 'Literal', 'name': '"Mock Discord API key"', 'range': [130, 130], 'children': []}]}, {'type': 'Argument', 'name': 'expires_at', 'range': [133, 135], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [135, 135], 'children': []}]}]}]}]}
2025-01-08 10:28:39,043 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:39,908 - INFO - Step 5 result: {'type': 'Program', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': [{'type': 'FunctionDecl', 'name': 'DiscordCredentialsField', 'range': [88, 104], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [88, 88], 'children': []}, {'type': 'Identifier', 'name': 'DiscordCredentialsField', 'range': [89, 89], 'children': []}, {'type': 'ReturnType', 'name': '->', 'range': [92, 93], 'children': []}, {'type': 'Type', 'name': 'DiscordCredentials', 'range': [94, 94], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [97, 97], 'children': [{'type': 'CallExpression', 'name': 'CredentialsField', 'range': [98, 103], 'children': [{'type': 'Identifier', 'name': 'CredentialsField', 'range': [98, 98], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [100, 100], 'children': []}, {'type': 'Literal', 'name': '"Discord bot token"', 'range': [102, 102], 'children': []}]}]}]}]}
2025-01-08 10:28:39,908 - INFO - Completed main AST analysis flow
2025-01-08 10:28:39,908 - INFO - Successfully processed chunk
2025-01-08 10:28:41,712 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [69, 87], 'children': [{'type': 'VariableDeclaration', 'name': 'DiscordCredentials', 'range': [69, 87], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [70, 86], 'children': [{'type': 'Identifier', 'name': 'CredentialsMetaInput', 'range': [71, 71], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [72, 86], 'children': [{'type': 'Literal', 'name': '', 'range': [74, 74], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [75, 79], 'children': [{'type': 'MemberExpression', 'name': '', 'range': [76, 78], 'children': [{'type': 'Identifier', 'name': 'ProviderName', 'range': [76, 76], 'children': []}, {'type': 'Identifier', 'name': 'DISCORD', 'range': [78, 78], 'children': []}]}]}, {'type': 'Literal', 'name': '', 'range': [81, 81], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [82, 84], 'children': [{'type': 'Literal', 'name': '', 'range': [83, 83], 'children': []}]}]}]}]}]}
2025-01-08 10:28:41,712 - INFO - Completed main AST analysis flow
2025-01-08 10:28:41,712 - INFO - Successfully processed chunk
2025-01-08 10:28:42,493 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'asyncio', 'range': [0, 1], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Literal', 'range': [3, 6], 'children': []}, {'type': 'ImportDeclaration', 'name': 'aiohttp', 'range': [9, 10], 'children': []}, {'type': 'ImportDeclaration', 'name': 'discord', 'range': [12, 13], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SecretStr', 'range': [15, 18], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Block', 'range': [21, 28], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockCategory', 'range': [29, 30], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockOutput', 'range': [31, 32], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockSchema', 'range': [33, 34], 'children': []}, {'type': 'ImportDeclaration', 'name': 'APIKeyCredentials', 'range': [36, 45], 'children': []}, {'type': 'ImportDeclaration', 'name': 'CredentialsField', 'range': [46, 48], 'children': []}, {'type': 'ImportDeclaration', 'name': 'CredentialsMetaInput', 'range': [49, 51], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [52, 54], 'children': []}, {'type': 'ImportDeclaration', 'name': 'ProviderName', 'range': [59, 66], 'children': []}]}
2025-01-08 10:28:42,494 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:43,435 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [140, 173], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [140, 172], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [142, 172], 'children': [{'type': 'Property', 'name': 'provider', 'range': [144, 148], 'children': [{'type': 'Literal', 'name': '"provider"', 'range': [144, 144], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [146, 146], 'children': []}, {'type': 'Identifier', 'name': 'provider', 'range': [148, 148], 'children': []}]}, {'type': 'Property', 'name': 'id', 'range': [151, 155], 'children': [{'type': 'Literal', 'name': '"id"', 'range': [151, 151], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [153, 153], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [155, 155], 'children': []}]}, {'type': 'Property', 'name': 'type', 'range': [158, 162], 'children': [{'type': 'Literal', 'name': '"type"', 'range': [158, 158], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [160, 160], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [162, 162], 'children': []}]}, {'type': 'Property', 'name': 'title', 'range': [165, 169], 'children': [{'type': 'Literal', 'name': '"title"', 'range': [165, 165], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [167, 167], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [169, 169], 'children': []}]}]}]}]}
2025-01-08 10:28:43,436 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:50,390 - INFO - Step 5 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [105, 139], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [105, 139], 'children': [{'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [105, 105], 'children': []}, {'type': 'CallExpression', 'name': 'APIKeyCredentials', 'range': [107, 138], 'children': [{'type': 'Argument', 'name': 'id', 'range': [110, 112], 'children': [{'type': 'Literal', 'name': '"01234567-89ab-cdef-0123-456789abcdef"', 'range': [112, 112], 'children': []}]}, {'type': 'Argument', 'name': 'provider', 'range': [115, 117], 'children': [{'type': 'Literal', 'name': '"discord"', 'range': [117, 117], 'children': []}]}, {'type': 'Argument', 'name': 'api_key', 'range': [120, 125], 'children': [{'type': 'CallExpression', 'name': 'SecretStr', 'range': [122, 125], 'children': [{'type': 'Literal', 'name': '"test_api_key"', 'range': [124, 124], 'children': []}]}]}, {'type': 'Argument', 'name': 'title', 'range': [128, 130], 'children': [{'type': 'Literal', 'name': '"Mock Discord API key"', 'range': [130, 130], 'children': []}]}, {'type': 'Argument', 'name': 'expires_at', 'range': [133, 135], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [135, 135], 'children': []}]}]}]}]}
2025-01-08 10:28:50,390 - INFO - Completed main AST analysis flow
2025-01-08 10:28:50,390 - INFO - Successfully processed chunk
2025-01-08 10:28:53,699 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainProgram', 'range': [0, 66], 'children': [{'type': 'ImportDeclaration', 'name': 'asyncio', 'range': [0, 1], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Literal', 'range': [3, 6], 'children': []}, {'type': 'ImportDeclaration', 'name': 'aiohttp', 'range': [9, 10], 'children': []}, {'type': 'ImportDeclaration', 'name': 'discord', 'range': [12, 13], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SecretStr', 'range': [15, 18], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Block', 'range': [21, 28], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockCategory', 'range': [29, 30], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockOutput', 'range': [31, 32], 'children': []}, {'type': 'ImportDeclaration', 'name': 'BlockSchema', 'range': [33, 34], 'children': []}, {'type': 'ImportDeclaration', 'name': 'APIKeyCredentials', 'range': [36, 45], 'children': []}, {'type': 'ImportDeclaration', 'name': 'CredentialsField', 'range': [46, 48], 'children': []}, {'type': 'ImportDeclaration', 'name': 'CredentialsMetaInput', 'range': [49, 51], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [52, 54], 'children': []}, {'type': 'ImportDeclaration', 'name': 'ProviderName', 'range': [59, 66], 'children': []}]}]}
2025-01-08 10:28:53,700 - INFO - Completed main AST analysis flow
2025-01-08 10:28:53,700 - INFO - Successfully processed chunk
2025-01-08 10:28:56,658 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [140, 173], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [140, 172], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [142, 172], 'children': [{'type': 'Property', 'name': 'provider', 'range': [144, 148], 'children': [{'type': 'Literal', 'name': '"provider"', 'range': [144, 144], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [146, 146], 'children': []}, {'type': 'Identifier', 'name': 'provider', 'range': [148, 148], 'children': []}]}, {'type': 'Property', 'name': 'id', 'range': [151, 155], 'children': [{'type': 'Literal', 'name': '"id"', 'range': [151, 151], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [153, 153], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [155, 155], 'children': []}]}, {'type': 'Property', 'name': 'type', 'range': [158, 162], 'children': [{'type': 'Literal', 'name': '"type"', 'range': [158, 158], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [160, 160], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [162, 162], 'children': []}]}, {'type': 'Property', 'name': 'title', 'range': [165, 169], 'children': [{'type': 'Literal', 'name': '"title"', 'range': [165, 165], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [167, 167], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [169, 169], 'children': []}]}]}]}]}
2025-01-08 10:28:56,658 - INFO - Completed main AST analysis flow
2025-01-08 10:28:56,658 - INFO - Successfully processed chunk
2025-01-08 10:30:21,617 - ERROR - Failed to parse Step 2 result
2025-01-08 10:30:21,617 - INFO - Starting Step 3: AST simplification
2025-01-08 10:30:21,675 - ERROR - Failed to parse Step 2 result
2025-01-08 10:30:21,675 - INFO - Starting Step 3: AST simplification
2025-01-08 10:32:36,244 - ERROR - Failed to parse Step 3 result
2025-01-08 10:32:36,244 - INFO - Starting Step 4: AST normalization
2025-01-08 10:32:37,635 - ERROR - Failed to parse Step 3 result
2025-01-08 10:32:37,636 - INFO - Starting Step 4: AST normalization
2025-01-08 10:32:37,821 - INFO - Step 4 result: {'type': 'Program', 'name': 'Program', 'range': [0, 0], 'children': []}
2025-01-08 10:32:37,821 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:32:39,248 - INFO - Step 5 result: {'type': 'Program', 'name': 'Program', 'range': [0, 0], 'children': []}
2025-01-08 10:32:39,248 - INFO - Completed main AST analysis flow
2025-01-08 10:32:39,249 - INFO - Successfully processed chunk
2025-01-08 10:32:39,621 - INFO - Step 4 result: {'type': 'Program', 'name': 'Main', 'range': [0, 0], 'children': []}
2025-01-08 10:32:39,621 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:32:41,136 - INFO - Step 5 result: {'type': 'Program', 'name': 'Main', 'range': [0, 0], 'children': []}
2025-01-08 10:32:41,136 - INFO - Completed main AST analysis flow
2025-01-08 10:32:41,136 - INFO - Successfully processed chunk
2025-01-08 10:32:41,157 - INFO - Starting code generation from AST
2025-01-08 10:32:46,616 - INFO - Successfully generated code from AST
2025-01-08 10:32:46,617 - INFO - Starting static code similarity comparison
2025-01-08 10:32:46,631 - INFO - Static similarity result: {'final_score': 34.72, 'length_similarity': 10.28, 'token_similarity': 29.95, 'structure_similarity': 14.76, 'function_similarity': 100, 'complexity_similarity': 5.0, 'variable_similarity': 100}
