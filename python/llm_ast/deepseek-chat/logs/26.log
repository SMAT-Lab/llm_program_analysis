2025-01-08 10:27:27,218 - INFO - Processing sample 26
2025-01-08 10:27:27,219 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 10:27:38,231 - INFO - Successfully split code into 11 top-level declarations
2025-01-08 10:27:41,311 - INFO - Processing chunk #0 (size=386 chars, start_index=0)
2025-01-08 10:27:41,311 - INFO - Processing chunk with 386 chars starting at index 0
2025-01-08 10:27:41,311 - INFO - Starting main AST analysis flow
2025-01-08 10:27:41,311 - INFO - Tokenized code into 74 tokens
2025-01-08 10:27:41,323 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:41,341 - INFO - Processing chunk #1 (size=389 chars, start_index=74)
2025-01-08 10:27:41,346 - INFO - Processing chunk with 389 chars starting at index 74
2025-01-08 10:27:41,353 - INFO - Starting main AST analysis flow
2025-01-08 10:27:41,359 - INFO - Tokenized code into 68 tokens
2025-01-08 10:27:41,363 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:41,928 - INFO - Processing chunk #2 (size=222 chars, start_index=142)
2025-01-08 10:27:41,928 - INFO - Processing chunk with 222 chars starting at index 142
2025-01-08 10:27:41,928 - INFO - Starting main AST analysis flow
2025-01-08 10:27:41,928 - INFO - Tokenized code into 51 tokens
2025-01-08 10:27:41,928 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,195 - INFO - Processing chunk #3 (size=173 chars, start_index=193)
2025-01-08 10:27:42,195 - INFO - Processing chunk with 173 chars starting at index 193
2025-01-08 10:27:42,195 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,196 - INFO - Tokenized code into 41 tokens
2025-01-08 10:27:42,201 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,216 - INFO - Processing chunk #4 (size=303 chars, start_index=234)
2025-01-08 10:27:42,225 - INFO - Processing chunk with 303 chars starting at index 234
2025-01-08 10:27:42,225 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,225 - INFO - Tokenized code into 81 tokens
2025-01-08 10:27:42,225 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,725 - INFO - Processing chunk #5 (size=209 chars, start_index=315)
2025-01-08 10:27:42,725 - INFO - Processing chunk with 209 chars starting at index 315
2025-01-08 10:27:42,732 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,729 - INFO - Processing chunk #6 (size=1087 chars, start_index=356)
2025-01-08 10:27:42,733 - INFO - Tokenized code into 41 tokens
2025-01-08 10:27:42,741 - INFO - Processing chunk with 1087 chars starting at index 356
2025-01-08 10:27:42,750 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,752 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,759 - INFO - Tokenized code into 101 tokens
2025-01-08 10:27:42,759 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,773 - INFO - Processing chunk #7 (size=213 chars, start_index=457)
2025-01-08 10:27:42,779 - INFO - Processing chunk with 213 chars starting at index 457
2025-01-08 10:27:42,779 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,779 - INFO - Tokenized code into 31 tokens
2025-01-08 10:27:42,780 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,815 - INFO - Processing chunk #8 (size=8938 chars, start_index=488)
2025-01-08 10:27:42,825 - INFO - Processing chunk with 8938 chars starting at index 488
2025-01-08 10:27:42,825 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,826 - INFO - Tokenized code into 1200 tokens
2025-01-08 10:27:42,827 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,841 - INFO - Processing chunk #9 (size=219 chars, start_index=1688)
2025-01-08 10:27:42,841 - INFO - Processing chunk with 219 chars starting at index 1688
2025-01-08 10:27:42,849 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,850 - INFO - Tokenized code into 35 tokens
2025-01-08 10:27:42,850 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,866 - INFO - Processing chunk #10 (size=175 chars, start_index=1723)
2025-01-08 10:27:42,872 - INFO - Processing chunk with 175 chars starting at index 1723
2025-01-08 10:27:42,873 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,873 - INFO - Tokenized code into 34 tokens
2025-01-08 10:27:42,873 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:51,862 - INFO - Step 1 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_RATIO', 'range': [193, 233], 'children': []}
2025-01-08 10:27:51,863 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:52,223 - INFO - Step 1 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_DIMENSIONS', 'range': [234, 314], 'children': []}
2025-01-08 10:27:52,252 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:54,009 - INFO - Step 1 result: {'type': 'Program', 'name': 'ImageSize', 'range': [74, 141], 'children': [{'type': 'Enum', 'name': 'SQUARE', 'range': [88, 90], 'children': []}, {'type': 'Enum', 'name': 'LANDSCAPE', 'range': [101, 103], 'children': []}, {'type': 'Enum', 'name': 'PORTRAIT', 'range': [111, 113], 'children': []}, {'type': 'Enum', 'name': 'WIDE', 'range': [121, 123], 'children': []}, {'type': 'Enum', 'name': 'TALL', 'range': [131, 133], 'children': []}]}
2025-01-08 10:27:54,012 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:55,096 - INFO - Step 1 result: {'type': 'Program', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'ClassDeclaration', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'VariableDeclaration', 'name': 'FLUX', 'range': [471, 474], 'children': []}, {'type': 'VariableDeclaration', 'name': 'FLUX_ULTRA', 'range': [475, 478], 'children': []}, {'type': 'VariableDeclaration', 'name': 'RECRAFT', 'range': [479, 482], 'children': []}, {'type': 'VariableDeclaration', 'name': 'SD3_5', 'range': [483, 486], 'children': []}]}]}
2025-01-08 10:27:55,187 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:55,198 - INFO - Step 1 result: {'type': 'Program', 'name': 'SIZE_TO_RECRAFT_DIMENSIONS', 'range': [315, 354], 'children': [{'type': 'ImageSize', 'name': 'SQUARE', 'range': [319, 323], 'children': []}, {'type': 'ImageSize', 'name': 'LANDSCAPE', 'range': [326, 330], 'children': []}, {'type': 'ImageSize', 'name': 'PORTRAIT', 'range': [333, 337], 'children': []}, {'type': 'ImageSize', 'name': 'WIDE', 'range': [340, 344], 'children': []}, {'type': 'ImageSize', 'name': 'TALL', 'range': [347, 351], 'children': []}]}
2025-01-08 10:27:55,199 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:56,474 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 73], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 9], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [11, 13], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 18], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [19, 25], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 39], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [40, 62], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 71], 'children': []}]}
2025-01-08 10:27:56,689 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [142, 192], 'children': [{'type': 'MappingDeclaration', 'name': 'SIZE_TO_SD_RATIO', 'range': [152, 191], 'children': [{'type': 'KeyValuePair', 'name': 'ImageSize.SQUARE', 'range': [156, 160], 'children': []}, {'type': 'KeyValuePair', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 167], 'children': []}, {'type': 'KeyValuePair', 'name': 'ImageSize.PORTRAIT', 'range': [170, 174], 'children': []}, {'type': 'KeyValuePair', 'name': 'ImageSize.WIDE', 'range': [177, 181], 'children': []}, {'type': 'KeyValuePair', 'name': 'ImageSize.TALL', 'range': [184, 188], 'children': []}]}]}
2025-01-08 10:27:57,153 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:56,877 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:58,889 - INFO - Step 1 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1722], 'children': []}
2025-01-08 10:27:58,891 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:02,456 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [1723, 1756], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [1723, 1756], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [1725, 1755], 'children': [{'type': 'Property', 'name': 'provider', 'range': [1727, 1731], 'children': []}, {'type': 'Property', 'name': 'id', 'range': [1734, 1738], 'children': []}, {'type': 'Property', 'name': 'type', 'range': [1741, 1745], 'children': []}, {'type': 'Property', 'name': 'title', 'range': [1748, 1752], 'children': []}]}]}]}
2025-01-08 10:28:02,456 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:03,336 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [488, 1687], 'children': [{'type': 'ClassDeclaration', 'name': 'AIImageGeneratorBlock', 'range': [488, 493], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [495, 500], 'children': []}, {'type': 'VariableDeclaration', 'name': 'credentials', 'range': [502, 519], 'children': []}, {'type': 'VariableDeclaration', 'name': 'prompt', 'range': [531, 553], 'children': []}, {'type': 'VariableDeclaration', 'name': 'model', 'range': [555, 579], 'children': []}, {'type': 'VariableDeclaration', 'name': 'size', 'range': [581, 619], 'children': []}, {'type': 'VariableDeclaration', 'name': 'style', 'range': [621, 645], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [648, 653], 'children': []}, {'type': 'VariableDeclaration', 'name': 'image_url', 'range': [655, 664], 'children': []}, {'type': 'VariableDeclaration', 'name': 'error', 'range': [666, 675], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [678, 806], 'children': []}, {'type': 'FunctionDeclaration', 'name': '_run_client', 'range': [808, 997], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'generate_image', 'range': [999, 1416], 'children': []}, {'type': 'FunctionDeclaration', 'name': '_style_to_prompt_prefix', 'range': [1418, 1600], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [1602, 1687], 'children': []}]}
2025-01-08 10:28:03,336 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:05,252 - INFO - Step 2 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_RATIO', 'range': [193, 233], 'children': [{'type': 'Assignment', 'name': '=', 'range': [194, 232], 'children': [{'type': 'ObjectLiteral', 'name': '{', 'range': [195, 232], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [197, 201], 'children': []}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [204, 208], 'children': []}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [211, 215], 'children': []}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [218, 222], 'children': []}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [225, 229], 'children': []}]}]}]}
2025-01-08 10:28:05,252 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:07,786 - INFO - Step 2 result: {'type': 'Program', 'name': 'SIZE_TO_RECRAFT_DIMENSIONS', 'range': [315, 354], 'children': [{'type': 'ImageSize', 'name': 'SQUARE', 'range': [319, 323], 'children': [{'type': 'Literal', 'name': '"1024x1024"', 'range': [323, 323], 'children': []}]}, {'type': 'ImageSize', 'name': 'LANDSCAPE', 'range': [326, 330], 'children': [{'type': 'Literal', 'name': '"1365x1024"', 'range': [330, 330], 'children': []}]}, {'type': 'ImageSize', 'name': 'PORTRAIT', 'range': [333, 337], 'children': [{'type': 'Literal', 'name': '"1024x1365"', 'range': [337, 337], 'children': []}]}, {'type': 'ImageSize', 'name': 'WIDE', 'range': [340, 344], 'children': [{'type': 'Literal', 'name': '"1536x1024"', 'range': [344, 344], 'children': []}]}, {'type': 'ImageSize', 'name': 'TALL', 'range': [347, 351], 'children': [{'type': 'Literal', 'name': '"1024x1536"', 'range': [351, 351], 'children': []}]}]}
2025-01-08 10:28:07,847 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:07,992 - INFO - Step 1 result: {'type': 'Program', 'name': 'ImageStyle', 'range': [356, 456], 'children': [{'type': 'ClassDeclaration', 'name': 'ImageStyle', 'range': [356, 362], 'children': []}, {'type': 'EnumDeclaration', 'name': 'ANY', 'range': [370, 372], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC', 'range': [379, 381], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_BW', 'range': [383, 385], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_HDR', 'range': [387, 389], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_NATURAL', 'range': [391, 393], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_STUDIO', 'range': [395, 397], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_ENTERPRISE', 'range': [399, 401], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_HARD_FLASH', 'range': [403, 405], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_MOTION_BLUR', 'range': [407, 409], 'children': []}, {'type': 'EnumDeclaration', 'name': 'DIGITAL_ART', 'range': [416, 418], 'children': []}, {'type': 'EnumDeclaration', 'name': 'PIXEL_ART', 'range': [420, 422], 'children': []}, {'type': 'EnumDeclaration', 'name': 'HAND_DRAWN', 'range': [424, 426], 'children': []}, {'type': 'EnumDeclaration', 'name': 'GRAIN', 'range': [428, 430], 'children': []}, {'type': 'EnumDeclaration', 'name': 'SKETCH', 'range': [432, 434], 'children': []}, {'type': 'EnumDeclaration', 'name': 'POSTER', 'range': [436, 438], 'children': []}, {'type': 'EnumDeclaration', 'name': 'POSTER_2', 'range': [440, 442], 'children': []}, {'type': 'EnumDeclaration', 'name': 'HANDMADE_3D', 'range': [444, 446], 'children': []}, {'type': 'EnumDeclaration', 'name': 'HAND_DRAWN_OUTLINE', 'range': [448, 450], 'children': []}, {'type': 'EnumDeclaration', 'name': 'ENGRAVING_COLOR', 'range': [452, 454], 'children': []}]}
2025-01-08 10:28:07,992 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:08,023 - INFO - Step 2 result: {'type': 'Program', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'ClassDeclaration', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'VariableDeclaration', 'name': 'FLUX', 'range': [471, 474], 'children': [{'type': 'Literal', 'value': '"Flux 1.1 Pro"', 'range': [473, 473], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'FLUX_ULTRA', 'range': [475, 478], 'children': [{'type': 'Literal', 'value': '"Flux 1.1 Pro Ultra"', 'range': [477, 477], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'RECRAFT', 'range': [479, 482], 'children': [{'type': 'Literal', 'value': '"Recraft v3"', 'range': [481, 481], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'SD3_5', 'range': [483, 486], 'children': [{'type': 'Literal', 'value': '"Stable Diffusion 3.5 Medium"', 'range': [485, 485], 'children': []}]}]}]}
2025-01-08 10:28:08,246 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:16,608 - INFO - Step 2 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_DIMENSIONS', 'range': [234, 314], 'children': [{'type': 'Assignment', 'name': '=', 'range': [235, 313], 'children': [{'type': 'Object', 'name': '{', 'range': [236, 313], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [238, 246], 'children': [{'type': 'Tuple', 'name': '(', 'range': [242, 246], 'children': [{'type': 'Number', 'name': '1024', 'range': [243, 243], 'children': []}, {'type': 'Number', 'name': '1024', 'range': [245, 245], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [249, 257], 'children': [{'type': 'Tuple', 'name': '(', 'range': [253, 257], 'children': [{'type': 'Number', 'name': '1365', 'range': [254, 254], 'children': []}, {'type': 'Number', 'name': '1024', 'range': [256, 256], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [260, 268], 'children': [{'type': 'Tuple', 'name': '(', 'range': [264, 268], 'children': [{'type': 'Number', 'name': '1024', 'range': [265, 265], 'children': []}, {'type': 'Number', 'name': '1365', 'range': [267, 267], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [271, 279], 'children': [{'type': 'Tuple', 'name': '(', 'range': [275, 279], 'children': [{'type': 'Number', 'name': '1440', 'range': [276, 276], 'children': []}, {'type': 'Number', 'name': '810', 'range': [278, 278], 'children': []}]}]}, {'type': 'Comment', 'name': '# Adjusted to maintain 16:9 within 1440 limit', 'range': [281, 291], 'children': []}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [292, 300], 'children': [{'type': 'Tuple', 'name': '(', 'range': [296, 300], 'children': [{'type': 'Number', 'name': '810', 'range': [297, 297], 'children': []}, {'type': 'Number', 'name': '1440', 'range': [299, 299], 'children': []}]}]}, {'type': 'Comment', 'name': '# Adjusted to maintain 9:16 within 1440 limit', 'range': [302, 312], 'children': []}]}]}]}
2025-01-08 10:28:16,622 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:17,311 - INFO - Step 2 result: {'type': 'Program', 'name': 'ImageSize', 'range': [74, 141], 'children': [{'type': 'Enum', 'name': 'SQUARE', 'range': [88, 90], 'children': [{'type': 'Assignment', 'name': '=', 'range': [89, 90], 'children': [{'type': 'Literal', 'name': '"square"', 'range': [90, 90], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [91, 99], 'children': [{'type': 'Text', 'name': 'For profile pictures, icons, etc.', 'range': [92, 99], 'children': []}]}]}, {'type': 'Enum', 'name': 'LANDSCAPE', 'range': [101, 103], 'children': [{'type': 'Assignment', 'name': '=', 'range': [102, 103], 'children': [{'type': 'Literal', 'name': '"landscape"', 'range': [103, 103], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [104, 110], 'children': [{'type': 'Text', 'name': 'For traditional photos, scenes', 'range': [105, 110], 'children': []}]}]}, {'type': 'Enum', 'name': 'PORTRAIT', 'range': [111, 113], 'children': [{'type': 'Assignment', 'name': '=', 'range': [112, 113], 'children': [{'type': 'Literal', 'name': '"portrait"', 'range': [113, 113], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [114, 120], 'children': [{'type': 'Text', 'name': 'For vertical photos, portraits', 'range': [115, 120], 'children': []}]}]}, {'type': 'Enum', 'name': 'WIDE', 'range': [121, 123], 'children': [{'type': 'Assignment', 'name': '=', 'range': [122, 123], 'children': [{'type': 'Literal', 'name': '"wide"', 'range': [123, 123], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [124, 130], 'children': [{'type': 'Text', 'name': 'For cinematic, desktop wallpapers', 'range': [125, 130], 'children': []}]}]}, {'type': 'Enum', 'name': 'TALL', 'range': [131, 133], 'children': [{'type': 'Assignment', 'name': '=', 'range': [132, 133], 'children': [{'type': 'Literal', 'name': '"tall"', 'range': [133, 133], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [134, 140], 'children': [{'type': 'Text', 'name': 'For mobile wallpapers, stories', 'range': [135, 140], 'children': []}]}]}]}
2025-01-08 10:28:17,312 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:18,290 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [142, 192], 'children': [{'type': 'MappingDeclaration', 'name': 'SIZE_TO_SD_RATIO', 'range': [152, 191], 'children': [{'type': 'KeyValuePair', 'name': 'ImageSize.SQUARE', 'range': [156, 160], 'children': [{'type': 'Key', 'name': 'ImageSize.SQUARE', 'range': [156, 158], 'children': []}, {'type': 'Value', 'name': '"1:1"', 'range': [160, 160], 'children': []}]}, {'type': 'KeyValuePair', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 167], 'children': [{'type': 'Key', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 165], 'children': []}, {'type': 'Value', 'name': '"4:3"', 'range': [167, 167], 'children': []}]}, {'type': 'KeyValuePair', 'name': 'ImageSize.PORTRAIT', 'range': [170, 174], 'children': [{'type': 'Key', 'name': 'ImageSize.PORTRAIT', 'range': [170, 172], 'children': []}, {'type': 'Value', 'name': '"3:4"', 'range': [174, 174], 'children': []}]}, {'type': 'KeyValuePair', 'name': 'ImageSize.WIDE', 'range': [177, 181], 'children': [{'type': 'Key', 'name': 'ImageSize.WIDE', 'range': [177, 179], 'children': []}, {'type': 'Value', 'name': '"16:9"', 'range': [181, 181], 'children': []}]}, {'type': 'KeyValuePair', 'name': 'ImageSize.TALL', 'range': [184, 188], 'children': [{'type': 'Key', 'name': 'ImageSize.TALL', 'range': [184, 186], 'children': []}, {'type': 'Value', 'name': '"9:16"', 'range': [188, 188], 'children': []}]}]}]}
2025-01-08 10:28:18,291 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:18,664 - INFO - Step 3 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_RATIO', 'range': [193, 233], 'children': [{'type': 'Assignment', 'name': '=', 'range': [194, 232], 'children': [{'type': 'ObjectLiteral', 'name': '{}', 'range': [195, 232], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [197, 201], 'children': [{'type': 'Literal', 'name': '"1:1"', 'range': [201, 201], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [204, 208], 'children': [{'type': 'Literal', 'name': '"4:3"', 'range': [208, 208], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [211, 215], 'children': [{'type': 'Literal', 'name': '"3:4"', 'range': [215, 215], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [218, 222], 'children': [{'type': 'Literal', 'name': '"16:9"', 'range': [222, 222], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [225, 229], 'children': [{'type': 'Literal', 'name': '"9:16"', 'range': [229, 229], 'children': []}]}]}]}]}
2025-01-08 10:28:18,664 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:20,063 - INFO - Step 2 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1722], 'children': [{'type': 'Assignment', 'name': '=', 'range': [1689, 1721], 'children': [{'type': 'Variable', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1688], 'children': []}, {'type': 'FunctionCall', 'name': 'APIKeyCredentials', 'range': [1690, 1721], 'children': [{'type': 'Argument', 'name': 'id', 'range': [1693, 1695], 'children': [{'type': 'StringLiteral', 'name': '"01234567-89ab-cdef-0123-456789abcdef"', 'range': [1695, 1695], 'children': []}]}, {'type': 'Argument', 'name': 'provider', 'range': [1698, 1700], 'children': [{'type': 'StringLiteral', 'name': '"replicate"', 'range': [1700, 1700], 'children': []}]}, {'type': 'Argument', 'name': 'api_key', 'range': [1703, 1708], 'children': [{'type': 'FunctionCall', 'name': 'SecretStr', 'range': [1705, 1708], 'children': [{'type': 'StringLiteral', 'name': '"mock-replicate-api-key"', 'range': [1707, 1707], 'children': []}]}]}, {'type': 'Argument', 'name': 'title', 'range': [1711, 1713], 'children': [{'type': 'StringLiteral', 'name': '"Mock Replicate API key"', 'range': [1713, 1713], 'children': []}]}, {'type': 'Argument', 'name': 'expires_at', 'range': [1716, 1718], 'children': [{'type': 'NullLiteral', 'name': 'None', 'range': [1718, 1718], 'children': []}]}]}]}]}
2025-01-08 10:28:20,064 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:20,155 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': [{'type': 'FromImport', 'name': 'enum', 'range': [0, 1], 'children': []}, {'type': 'Import', 'name': 'Enum', 'range': [2, 3], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 9], 'children': [{'type': 'FromImport', 'name': 'typing', 'range': [5, 6], 'children': []}, {'type': 'Import', 'name': 'Literal', 'range': [7, 8], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [11, 13], 'children': [{'type': 'Import', 'name': 'replicate', 'range': [11, 12], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 18], 'children': [{'type': 'FromImport', 'name': 'pydantic', 'range': [14, 15], 'children': []}, {'type': 'Import', 'name': 'SecretStr', 'range': [16, 17], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [19, 25], 'children': [{'type': 'FromImport', 'name': 'replicate.helpers', 'range': [19, 22], 'children': []}, {'type': 'Import', 'name': 'FileOutput', 'range': [23, 24], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 39], 'children': [{'type': 'FromImport', 'name': 'backend.data.block', 'range': [27, 32], 'children': []}, {'type': 'Import', 'name': 'Block', 'range': [33, 34], 'children': []}, {'type': 'Import', 'name': 'BlockCategory', 'range': [35, 36], 'children': []}, {'type': 'Import', 'name': 'BlockSchema', 'range': [37, 38], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [40, 62], 'children': [{'type': 'FromImport', 'name': 'backend.data.model', 'range': [40, 45], 'children': []}, {'type': 'Import', 'name': 'APIKeyCredentials', 'range': [49, 50], 'children': []}, {'type': 'Import', 'name': 'CredentialsField', 'range': [52, 53], 'children': []}, {'type': 'Import', 'name': 'CredentialsMetaInput', 'range': [55, 56], 'children': []}, {'type': 'Import', 'name': 'SchemaField', 'range': [58, 59], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 71], 'children': [{'type': 'FromImport', 'name': 'backend.integrations.providers', 'range': [63, 68], 'children': []}, {'type': 'Import', 'name': 'ProviderName', 'range': [69, 70], 'children': []}]}]}
2025-01-08 10:28:20,155 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:21,347 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [1723, 1756], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [1723, 1756], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [1725, 1755], 'children': [{'type': 'Property', 'name': 'provider', 'range': [1727, 1731], 'children': [{'type': 'Literal', 'name': '"provider"', 'range': [1727, 1727], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1729, 1729], 'children': []}, {'type': 'Identifier', 'name': 'provider', 'range': [1731, 1731], 'children': []}]}, {'type': 'Property', 'name': 'id', 'range': [1734, 1738], 'children': [{'type': 'Literal', 'name': '"id"', 'range': [1734, 1734], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1736, 1736], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [1738, 1738], 'children': []}]}, {'type': 'Property', 'name': 'type', 'range': [1741, 1745], 'children': [{'type': 'Literal', 'name': '"type"', 'range': [1741, 1741], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1743, 1743], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [1745, 1745], 'children': []}]}, {'type': 'Property', 'name': 'title', 'range': [1748, 1752], 'children': [{'type': 'Literal', 'name': '"title"', 'range': [1748, 1748], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1750, 1750], 'children': []}, {'type': 'Identifier', 'name': 'title', 'range': [1752, 1752], 'children': []}]}]}]}]}
2025-01-08 10:28:21,347 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:23,588 - INFO - Step 3 result: {'type': 'Program', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'ClassDeclaration', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'VariableDeclaration', 'name': 'FLUX', 'range': [471, 474], 'children': [{'type': 'Literal', 'value': '"Flux 1.1 Pro"', 'range': [473, 473], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'FLUX_ULTRA', 'range': [475, 478], 'children': [{'type': 'Literal', 'value': '"Flux 1.1 Pro Ultra"', 'range': [477, 477], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'RECRAFT', 'range': [479, 482], 'children': [{'type': 'Literal', 'value': '"Recraft v3"', 'range': [481, 481], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'SD3_5', 'range': [483, 486], 'children': [{'type': 'Literal', 'value': '"Stable Diffusion 3.5 Medium"', 'range': [485, 485], 'children': []}]}]}]}
2025-01-08 10:28:23,589 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:25,145 - INFO - Step 3 result: {'type': 'Program', 'name': 'SIZE_TO_RECRAFT_DIMENSIONS', 'range': [315, 354], 'children': [{'type': 'ImageSize', 'name': 'SQUARE', 'range': [319, 323], 'children': [{'type': 'Literal', 'name': '"1024x1024"', 'range': [323, 323], 'children': []}]}, {'type': 'ImageSize', 'name': 'LANDSCAPE', 'range': [326, 330], 'children': [{'type': 'Literal', 'name': '"1365x1024"', 'range': [330, 330], 'children': []}]}, {'type': 'ImageSize', 'name': 'PORTRAIT', 'range': [333, 337], 'children': [{'type': 'Literal', 'name': '"1024x1365"', 'range': [337, 337], 'children': []}]}, {'type': 'ImageSize', 'name': 'WIDE', 'range': [340, 344], 'children': [{'type': 'Literal', 'name': '"1536x1024"', 'range': [344, 344], 'children': []}]}, {'type': 'ImageSize', 'name': 'TALL', 'range': [347, 351], 'children': [{'type': 'Literal', 'name': '"1024x1536"', 'range': [351, 351], 'children': []}]}]}
2025-01-08 10:28:25,145 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:31,060 - INFO - Step 4 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_RATIO', 'range': [193, 233], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [194, 232], 'children': [{'type': 'ObjectExpression', 'name': '{}', 'range': [195, 232], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [197, 201], 'children': [{'type': 'Literal', 'name': '"1:1"', 'range': [201, 201], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [204, 208], 'children': [{'type': 'Literal', 'name': '"4:3"', 'range': [208, 208], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [211, 215], 'children': [{'type': 'Literal', 'name': '"3:4"', 'range': [215, 215], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [218, 222], 'children': [{'type': 'Literal', 'name': '"16:9"', 'range': [222, 222], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [225, 229], 'children': [{'type': 'Literal', 'name': '"9:16"', 'range': [229, 229], 'children': []}]}]}]}]}
2025-01-08 10:28:31,060 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:32,239 - INFO - Step 4 result: {'type': 'Program', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'ClassDecl', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'VariableDecl', 'name': 'FLUX', 'range': [471, 474], 'children': [{'type': 'Literal', 'value': '"Flux 1.1 Pro"', 'range': [473, 473], 'children': []}]}, {'type': 'VariableDecl', 'name': 'FLUX_ULTRA', 'range': [475, 478], 'children': [{'type': 'Literal', 'value': '"Flux 1.1 Pro Ultra"', 'range': [477, 477], 'children': []}]}, {'type': 'VariableDecl', 'name': 'RECRAFT', 'range': [479, 482], 'children': [{'type': 'Literal', 'value': '"Recraft v3"', 'range': [481, 481], 'children': []}]}, {'type': 'VariableDecl', 'name': 'SD3_5', 'range': [483, 486], 'children': [{'type': 'Literal', 'value': '"Stable Diffusion 3.5 Medium"', 'range': [485, 485], 'children': []}]}]}]}
2025-01-08 10:28:32,239 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:33,083 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [142, 192], 'children': [{'type': 'MappingDeclaration', 'name': 'SIZE_TO_SD_RATIO', 'range': [152, 191], 'children': [{'type': 'KeyValuePair', 'name': 'ImageSize.SQUARE', 'range': [156, 160], 'children': [{'type': 'Key', 'name': 'ImageSize.SQUARE', 'range': [156, 158], 'children': []}, {'type': 'Value', 'name': '"1:1"', 'range': [160, 160], 'children': []}]}, {'type': 'KeyValuePair', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 167], 'children': [{'type': 'Key', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 165], 'children': []}, {'type': 'Value', 'name': '"4:3"', 'range': [167, 167], 'children': []}]}, {'type': 'KeyValuePair', 'name': 'ImageSize.PORTRAIT', 'range': [170, 174], 'children': [{'type': 'Key', 'name': 'ImageSize.PORTRAIT', 'range': [170, 172], 'children': []}, {'type': 'Value', 'name': '"3:4"', 'range': [174, 174], 'children': []}]}, {'type': 'KeyValuePair', 'name': 'ImageSize.WIDE', 'range': [177, 181], 'children': [{'type': 'Key', 'name': 'ImageSize.WIDE', 'range': [177, 179], 'children': []}, {'type': 'Value', 'name': '"16:9"', 'range': [181, 181], 'children': []}]}, {'type': 'KeyValuePair', 'name': 'ImageSize.TALL', 'range': [184, 188], 'children': [{'type': 'Key', 'name': 'ImageSize.TALL', 'range': [184, 186], 'children': []}, {'type': 'Value', 'name': '"9:16"', 'range': [188, 188], 'children': []}]}]}]}
2025-01-08 10:28:33,083 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:33,266 - INFO - Step 3 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1722], 'children': [{'type': 'Assignment', 'name': '=', 'range': [1689, 1721], 'children': [{'type': 'Variable', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1688], 'children': []}, {'type': 'FunctionCall', 'name': 'APIKeyCredentials', 'range': [1690, 1721], 'children': [{'type': 'Argument', 'name': 'id', 'range': [1693, 1695], 'children': [{'type': 'StringLiteral', 'name': '"01234567-89ab-cdef-0123-456789abcdef"', 'range': [1695, 1695], 'children': []}]}, {'type': 'Argument', 'name': 'provider', 'range': [1698, 1700], 'children': [{'type': 'StringLiteral', 'name': '"replicate"', 'range': [1700, 1700], 'children': []}]}, {'type': 'Argument', 'name': 'api_key', 'range': [1703, 1708], 'children': [{'type': 'FunctionCall', 'name': 'SecretStr', 'range': [1705, 1708], 'children': [{'type': 'StringLiteral', 'name': '"mock-replicate-api-key"', 'range': [1707, 1707], 'children': []}]}]}, {'type': 'Argument', 'name': 'title', 'range': [1711, 1713], 'children': [{'type': 'StringLiteral', 'name': '"Mock Replicate API key"', 'range': [1713, 1713], 'children': []}]}, {'type': 'Argument', 'name': 'expires_at', 'range': [1716, 1718], 'children': [{'type': 'NullLiteral', 'name': 'None', 'range': [1718, 1718], 'children': []}]}]}]}]}
2025-01-08 10:28:33,266 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:34,065 - INFO - Step 4 result: {'type': 'Program', 'name': 'SIZE_TO_RECRAFT_DIMENSIONS', 'range': [315, 354], 'children': [{'type': 'VariableDeclarator', 'name': 'SQUARE', 'range': [319, 323], 'children': [{'type': 'Literal', 'name': '"1024x1024"', 'range': [323, 323], 'children': []}]}, {'type': 'VariableDeclarator', 'name': 'LANDSCAPE', 'range': [326, 330], 'children': [{'type': 'Literal', 'name': '"1365x1024"', 'range': [330, 330], 'children': []}]}, {'type': 'VariableDeclarator', 'name': 'PORTRAIT', 'range': [333, 337], 'children': [{'type': 'Literal', 'name': '"1024x1365"', 'range': [337, 337], 'children': []}]}, {'type': 'VariableDeclarator', 'name': 'WIDE', 'range': [340, 344], 'children': [{'type': 'Literal', 'name': '"1536x1024"', 'range': [344, 344], 'children': []}]}, {'type': 'VariableDeclarator', 'name': 'TALL', 'range': [347, 351], 'children': [{'type': 'Literal', 'name': '"1024x1536"', 'range': [351, 351], 'children': []}]}]}
2025-01-08 10:28:34,065 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:36,005 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [1723, 1756], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [1723, 1756], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [1725, 1755], 'children': [{'type': 'Property', 'name': 'provider', 'range': [1727, 1731], 'children': [{'type': 'Literal', 'name': '"provider"', 'range': [1727, 1727], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1729, 1729], 'children': []}, {'type': 'Identifier', 'name': 'provider', 'range': [1731, 1731], 'children': []}]}, {'type': 'Property', 'name': 'id', 'range': [1734, 1738], 'children': [{'type': 'Literal', 'name': '"id"', 'range': [1734, 1734], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1736, 1736], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [1738, 1738], 'children': []}]}, {'type': 'Property', 'name': 'type', 'range': [1741, 1745], 'children': [{'type': 'Literal', 'name': '"type"', 'range': [1741, 1741], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1743, 1743], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [1745, 1745], 'children': []}]}, {'type': 'Property', 'name': 'title', 'range': [1748, 1752], 'children': [{'type': 'Literal', 'name': '"title"', 'range': [1748, 1748], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1750, 1750], 'children': []}, {'type': 'Identifier', 'name': 'title', 'range': [1752, 1752], 'children': []}]}]}]}]}
2025-01-08 10:28:36,010 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:37,927 - INFO - Step 3 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_DIMENSIONS', 'range': [234, 314], 'children': [{'type': 'Assignment', 'name': '=', 'range': [235, 313], 'children': [{'type': 'Object', 'name': '{', 'range': [236, 313], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [238, 246], 'children': [{'type': 'Tuple', 'name': '(', 'range': [242, 246], 'children': [{'type': 'Number', 'name': '1024', 'range': [243, 243], 'children': []}, {'type': 'Number', 'name': '1024', 'range': [245, 245], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [249, 257], 'children': [{'type': 'Tuple', 'name': '(', 'range': [253, 257], 'children': [{'type': 'Number', 'name': '1365', 'range': [254, 254], 'children': []}, {'type': 'Number', 'name': '1024', 'range': [256, 256], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [260, 268], 'children': [{'type': 'Tuple', 'name': '(', 'range': [264, 268], 'children': [{'type': 'Number', 'name': '1024', 'range': [265, 265], 'children': []}, {'type': 'Number', 'name': '1365', 'range': [267, 267], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [271, 279], 'children': [{'type': 'Tuple', 'name': '(', 'range': [275, 279], 'children': [{'type': 'Number', 'name': '1440', 'range': [276, 276], 'children': []}, {'type': 'Number', 'name': '810', 'range': [278, 278], 'children': []}]}]}, {'type': 'Comment', 'name': '# Adjusted to maintain 16:9 within 1440 limit', 'range': [281, 291], 'children': []}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [292, 300], 'children': [{'type': 'Tuple', 'name': '(', 'range': [296, 300], 'children': [{'type': 'Number', 'name': '810', 'range': [297, 297], 'children': []}, {'type': 'Number', 'name': '1440', 'range': [299, 299], 'children': []}]}]}, {'type': 'Comment', 'name': '# Adjusted to maintain 9:16 within 1440 limit', 'range': [302, 312], 'children': []}]}]}]}
2025-01-08 10:28:37,927 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:38,341 - INFO - Step 3 result: {'type': 'Program', 'name': 'ImageSize', 'range': [74, 141], 'children': [{'type': 'Enum', 'name': 'SQUARE', 'range': [88, 90], 'children': [{'type': 'Assignment', 'name': '=', 'range': [89, 90], 'children': [{'type': 'Literal', 'name': '"square"', 'range': [90, 90], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [91, 99], 'children': [{'type': 'Text', 'name': 'For profile pictures, icons, etc.', 'range': [92, 99], 'children': []}]}]}, {'type': 'Enum', 'name': 'LANDSCAPE', 'range': [101, 103], 'children': [{'type': 'Assignment', 'name': '=', 'range': [102, 103], 'children': [{'type': 'Literal', 'name': '"landscape"', 'range': [103, 103], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [104, 110], 'children': [{'type': 'Text', 'name': 'For traditional photos, scenes', 'range': [105, 110], 'children': []}]}]}, {'type': 'Enum', 'name': 'PORTRAIT', 'range': [111, 113], 'children': [{'type': 'Assignment', 'name': '=', 'range': [112, 113], 'children': [{'type': 'Literal', 'name': '"portrait"', 'range': [113, 113], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [114, 120], 'children': [{'type': 'Text', 'name': 'For vertical photos, portraits', 'range': [115, 120], 'children': []}]}]}, {'type': 'Enum', 'name': 'WIDE', 'range': [121, 123], 'children': [{'type': 'Assignment', 'name': '=', 'range': [122, 123], 'children': [{'type': 'Literal', 'name': '"wide"', 'range': [123, 123], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [124, 130], 'children': [{'type': 'Text', 'name': 'For cinematic, desktop wallpapers', 'range': [125, 130], 'children': []}]}]}, {'type': 'Enum', 'name': 'TALL', 'range': [131, 133], 'children': [{'type': 'Assignment', 'name': '=', 'range': [132, 133], 'children': [{'type': 'Literal', 'name': '"tall"', 'range': [133, 133], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [134, 140], 'children': [{'type': 'Text', 'name': 'For mobile wallpapers, stories', 'range': [135, 140], 'children': []}]}]}]}
2025-01-08 10:28:38,342 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:41,214 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': [{'type': 'FromImport', 'name': 'enum', 'range': [0, 1], 'children': []}, {'type': 'Import', 'name': 'Enum', 'range': [2, 3], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 9], 'children': [{'type': 'FromImport', 'name': 'typing', 'range': [5, 6], 'children': []}, {'type': 'Import', 'name': 'Literal', 'range': [7, 8], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [11, 13], 'children': [{'type': 'Import', 'name': 'replicate', 'range': [11, 12], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 18], 'children': [{'type': 'FromImport', 'name': 'pydantic', 'range': [14, 15], 'children': []}, {'type': 'Import', 'name': 'SecretStr', 'range': [16, 17], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [19, 25], 'children': [{'type': 'FromImport', 'name': 'replicate.helpers', 'range': [19, 22], 'children': []}, {'type': 'Import', 'name': 'FileOutput', 'range': [23, 24], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 39], 'children': [{'type': 'FromImport', 'name': 'backend.data.block', 'range': [27, 32], 'children': []}, {'type': 'Import', 'name': 'Block', 'range': [33, 34], 'children': []}, {'type': 'Import', 'name': 'BlockCategory', 'range': [35, 36], 'children': []}, {'type': 'Import', 'name': 'BlockSchema', 'range': [37, 38], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [40, 62], 'children': [{'type': 'FromImport', 'name': 'backend.data.model', 'range': [40, 45], 'children': []}, {'type': 'Import', 'name': 'APIKeyCredentials', 'range': [49, 50], 'children': []}, {'type': 'Import', 'name': 'CredentialsField', 'range': [52, 53], 'children': []}, {'type': 'Import', 'name': 'CredentialsMetaInput', 'range': [55, 56], 'children': []}, {'type': 'Import', 'name': 'SchemaField', 'range': [58, 59], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 71], 'children': [{'type': 'FromImport', 'name': 'backend.integrations.providers', 'range': [63, 68], 'children': []}, {'type': 'Import', 'name': 'ProviderName', 'range': [69, 70], 'children': []}]}]}
2025-01-08 10:28:41,214 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:41,339 - INFO - Step 5 result: {'type': 'Program', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'ClassDecl', 'name': 'ImageGenModel', 'range': [457, 487], 'children': [{'type': 'VariableDecl', 'name': 'FLUX', 'range': [471, 474], 'children': [{'type': 'Literal', 'value': '"Flux 1.1 Pro"', 'range': [473, 473], 'children': []}]}, {'type': 'VariableDecl', 'name': 'FLUX_ULTRA', 'range': [475, 478], 'children': [{'type': 'Literal', 'value': '"Flux 1.1 Pro Ultra"', 'range': [477, 477], 'children': []}]}, {'type': 'VariableDecl', 'name': 'RECRAFT', 'range': [479, 482], 'children': [{'type': 'Literal', 'value': '"Recraft v3"', 'range': [481, 481], 'children': []}]}, {'type': 'VariableDecl', 'name': 'SD3_5', 'range': [483, 486], 'children': [{'type': 'Literal', 'value': '"Stable Diffusion 3.5 Medium"', 'range': [485, 485], 'children': []}]}]}]}
2025-01-08 10:28:41,340 - INFO - Completed main AST analysis flow
2025-01-08 10:28:41,340 - INFO - Successfully processed chunk
2025-01-08 10:28:41,985 - INFO - Step 5 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_RATIO', 'range': [193, 233], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [194, 232], 'children': [{'type': 'ObjectExpression', 'name': '{}', 'range': [195, 232], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [197, 201], 'children': [{'type': 'Literal', 'name': '"1:1"', 'range': [201, 201], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [204, 208], 'children': [{'type': 'Literal', 'name': '"4:3"', 'range': [208, 208], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [211, 215], 'children': [{'type': 'Literal', 'name': '"3:4"', 'range': [215, 215], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [218, 222], 'children': [{'type': 'Literal', 'name': '"16:9"', 'range': [222, 222], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [225, 229], 'children': [{'type': 'Literal', 'name': '"9:16"', 'range': [229, 229], 'children': []}]}]}]}]}
2025-01-08 10:28:41,986 - INFO - Completed main AST analysis flow
2025-01-08 10:28:41,986 - INFO - Successfully processed chunk
2025-01-08 10:28:44,161 - INFO - Step 5 result: {'type': 'Program', 'name': 'SIZE_TO_RECRAFT_DIMENSIONS', 'range': [315, 354], 'children': [{'type': 'VariableDeclarator', 'name': 'SQUARE', 'range': [319, 323], 'children': [{'type': 'Literal', 'name': '"1024x1024"', 'range': [323, 323], 'children': []}]}, {'type': 'VariableDeclarator', 'name': 'LANDSCAPE', 'range': [326, 330], 'children': [{'type': 'Literal', 'name': '"1365x1024"', 'range': [330, 330], 'children': []}]}, {'type': 'VariableDeclarator', 'name': 'PORTRAIT', 'range': [333, 337], 'children': [{'type': 'Literal', 'name': '"1024x1365"', 'range': [337, 337], 'children': []}]}, {'type': 'VariableDeclarator', 'name': 'WIDE', 'range': [340, 344], 'children': [{'type': 'Literal', 'name': '"1536x1024"', 'range': [344, 344], 'children': []}]}, {'type': 'VariableDeclarator', 'name': 'TALL', 'range': [347, 351], 'children': [{'type': 'Literal', 'name': '"1024x1536"', 'range': [351, 351], 'children': []}]}]}
2025-01-08 10:28:44,161 - INFO - Completed main AST analysis flow
2025-01-08 10:28:44,161 - INFO - Successfully processed chunk
2025-01-08 10:28:45,380 - INFO - Step 4 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1722], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [1689, 1721], 'children': [{'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1688], 'children': []}, {'type': 'CallExpression', 'name': 'APIKeyCredentials', 'range': [1690, 1721], 'children': [{'type': 'Argument', 'name': 'id', 'range': [1693, 1695], 'children': [{'type': 'Literal', 'name': '"01234567-89ab-cdef-0123-456789abcdef"', 'range': [1695, 1695], 'children': []}]}, {'type': 'Argument', 'name': 'provider', 'range': [1698, 1700], 'children': [{'type': 'Literal', 'name': '"replicate"', 'range': [1700, 1700], 'children': []}]}, {'type': 'Argument', 'name': 'api_key', 'range': [1703, 1708], 'children': [{'type': 'CallExpression', 'name': 'SecretStr', 'range': [1705, 1708], 'children': [{'type': 'Literal', 'name': '"mock-replicate-api-key"', 'range': [1707, 1707], 'children': []}]}]}, {'type': 'Argument', 'name': 'title', 'range': [1711, 1713], 'children': [{'type': 'Literal', 'name': '"Mock Replicate API key"', 'range': [1713, 1713], 'children': []}]}, {'type': 'Argument', 'name': 'expires_at', 'range': [1716, 1718], 'children': [{'type': 'Literal', 'name': 'None', 'range': [1718, 1718], 'children': []}]}]}]}]}
2025-01-08 10:28:45,380 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:47,074 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [142, 192], 'children': [{'type': 'VariableDeclaration', 'name': 'SIZE_TO_SD_RATIO', 'range': [152, 191], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [156, 160], 'children': [{'type': 'Identifier', 'name': 'ImageSize.SQUARE', 'range': [156, 158], 'children': []}, {'type': 'Literal', 'name': '"1:1"', 'range': [160, 160], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 167], 'children': [{'type': 'Identifier', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 165], 'children': []}, {'type': 'Literal', 'name': '"4:3"', 'range': [167, 167], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [170, 174], 'children': [{'type': 'Identifier', 'name': 'ImageSize.PORTRAIT', 'range': [170, 172], 'children': []}, {'type': 'Literal', 'name': '"3:4"', 'range': [174, 174], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [177, 181], 'children': [{'type': 'Identifier', 'name': 'ImageSize.WIDE', 'range': [177, 179], 'children': []}, {'type': 'Literal', 'name': '"16:9"', 'range': [181, 181], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [184, 188], 'children': [{'type': 'Identifier', 'name': 'ImageSize.TALL', 'range': [184, 186], 'children': []}, {'type': 'Literal', 'name': '"9:16"', 'range': [188, 188], 'children': []}]}]}]}
2025-01-08 10:28:47,074 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:50,779 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [1723, 1756], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [1723, 1756], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [1725, 1755], 'children': [{'type': 'Property', 'name': 'provider', 'range': [1727, 1731], 'children': [{'type': 'Literal', 'name': '"provider"', 'range': [1727, 1727], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1729, 1729], 'children': []}, {'type': 'Identifier', 'name': 'provider', 'range': [1731, 1731], 'children': []}]}, {'type': 'Property', 'name': 'id', 'range': [1734, 1738], 'children': [{'type': 'Literal', 'name': '"id"', 'range': [1734, 1734], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1736, 1736], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [1738, 1738], 'children': []}]}, {'type': 'Property', 'name': 'type', 'range': [1741, 1745], 'children': [{'type': 'Literal', 'name': '"type"', 'range': [1741, 1741], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1743, 1743], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [1745, 1745], 'children': []}]}, {'type': 'Property', 'name': 'title', 'range': [1748, 1752], 'children': [{'type': 'Literal', 'name': '"title"', 'range': [1748, 1748], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1750, 1750], 'children': []}, {'type': 'Identifier', 'name': 'title', 'range': [1752, 1752], 'children': []}]}]}]}]}
2025-01-08 10:28:50,779 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:55,893 - INFO - Step 4 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_DIMENSIONS', 'range': [234, 314], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [235, 313], 'children': [{'type': 'ObjectExpression', 'name': '{', 'range': [236, 313], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [238, 246], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [242, 246], 'children': [{'type': 'Literal', 'name': '1024', 'range': [243, 243], 'children': []}, {'type': 'Literal', 'name': '1024', 'range': [245, 245], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [249, 257], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [253, 257], 'children': [{'type': 'Literal', 'name': '1365', 'range': [254, 254], 'children': []}, {'type': 'Literal', 'name': '1024', 'range': [256, 256], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [260, 268], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [264, 268], 'children': [{'type': 'Literal', 'name': '1024', 'range': [265, 265], 'children': []}, {'type': 'Literal', 'name': '1365', 'range': [267, 267], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [271, 279], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [275, 279], 'children': [{'type': 'Literal', 'name': '1440', 'range': [276, 276], 'children': []}, {'type': 'Literal', 'name': '810', 'range': [278, 278], 'children': []}]}]}, {'type': 'Comment', 'name': '# Adjusted to maintain 16:9 within 1440 limit', 'range': [281, 291], 'children': []}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [292, 300], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [296, 300], 'children': [{'type': 'Literal', 'name': '810', 'range': [297, 297], 'children': []}, {'type': 'Literal', 'name': '1440', 'range': [299, 299], 'children': []}]}]}, {'type': 'Comment', 'name': '# Adjusted to maintain 9:16 within 1440 limit', 'range': [302, 312], 'children': []}]}]}]}
2025-01-08 10:28:55,893 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:56,751 - INFO - Step 4 result: {'type': 'Program', 'name': 'ImageSize', 'range': [74, 141], 'children': [{'type': 'EnumDeclaration', 'name': 'SQUARE', 'range': [88, 90], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [89, 90], 'children': [{'type': 'Literal', 'name': '"square"', 'range': [90, 90], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [91, 99], 'children': [{'type': 'Text', 'name': 'For profile pictures, icons, etc.', 'range': [92, 99], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'LANDSCAPE', 'range': [101, 103], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [102, 103], 'children': [{'type': 'Literal', 'name': '"landscape"', 'range': [103, 103], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [104, 110], 'children': [{'type': 'Text', 'name': 'For traditional photos, scenes', 'range': [105, 110], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'PORTRAIT', 'range': [111, 113], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [112, 113], 'children': [{'type': 'Literal', 'name': '"portrait"', 'range': [113, 113], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [114, 120], 'children': [{'type': 'Text', 'name': 'For vertical photos, portraits', 'range': [115, 120], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'WIDE', 'range': [121, 123], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [122, 123], 'children': [{'type': 'Literal', 'name': '"wide"', 'range': [123, 123], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [124, 130], 'children': [{'type': 'Text', 'name': 'For cinematic, desktop wallpapers', 'range': [125, 130], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'TALL', 'range': [131, 133], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [132, 133], 'children': [{'type': 'Literal', 'name': '"tall"', 'range': [133, 133], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [134, 140], 'children': [{'type': 'Text', 'name': 'For mobile wallpapers, stories', 'range': [135, 140], 'children': []}]}]}]}
2025-01-08 10:28:56,752 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:56,805 - INFO - Step 5 result: {'type': 'Program', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1722], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [1689, 1721], 'children': [{'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1688, 1688], 'children': []}, {'type': 'CallExpression', 'name': 'APIKeyCredentials', 'range': [1690, 1721], 'children': [{'type': 'Argument', 'name': 'id', 'range': [1693, 1695], 'children': [{'type': 'Literal', 'name': '"01234567-89ab-cdef-0123-456789abcdef"', 'range': [1695, 1695], 'children': []}]}, {'type': 'Argument', 'name': 'provider', 'range': [1698, 1700], 'children': [{'type': 'Literal', 'name': '"replicate"', 'range': [1700, 1700], 'children': []}]}, {'type': 'Argument', 'name': 'api_key', 'range': [1703, 1708], 'children': [{'type': 'CallExpression', 'name': 'SecretStr', 'range': [1705, 1708], 'children': [{'type': 'Literal', 'name': '"mock-replicate-api-key"', 'range': [1707, 1707], 'children': []}]}]}, {'type': 'Argument', 'name': 'title', 'range': [1711, 1713], 'children': [{'type': 'Literal', 'name': '"Mock Replicate API key"', 'range': [1713, 1713], 'children': []}]}, {'type': 'Argument', 'name': 'expires_at', 'range': [1716, 1718], 'children': [{'type': 'Literal', 'name': 'None', 'range': [1718, 1718], 'children': []}]}]}]}]}
2025-01-08 10:28:56,805 - INFO - Completed main AST analysis flow
2025-01-08 10:28:56,805 - INFO - Successfully processed chunk
2025-01-08 10:28:59,568 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [142, 192], 'children': [{'type': 'VariableDeclaration', 'name': 'SIZE_TO_SD_RATIO', 'range': [152, 191], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [156, 160], 'children': [{'type': 'Identifier', 'name': 'ImageSize.SQUARE', 'range': [156, 158], 'children': []}, {'type': 'Literal', 'name': '"1:1"', 'range': [160, 160], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 167], 'children': [{'type': 'Identifier', 'name': 'ImageSize.LANDSCAPE', 'range': [163, 165], 'children': []}, {'type': 'Literal', 'name': '"4:3"', 'range': [167, 167], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [170, 174], 'children': [{'type': 'Identifier', 'name': 'ImageSize.PORTRAIT', 'range': [170, 172], 'children': []}, {'type': 'Literal', 'name': '"3:4"', 'range': [174, 174], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [177, 181], 'children': [{'type': 'Identifier', 'name': 'ImageSize.WIDE', 'range': [177, 179], 'children': []}, {'type': 'Literal', 'name': '"16:9"', 'range': [181, 181], 'children': []}]}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [184, 188], 'children': [{'type': 'Identifier', 'name': 'ImageSize.TALL', 'range': [184, 186], 'children': []}, {'type': 'Literal', 'name': '"9:16"', 'range': [188, 188], 'children': []}]}]}]}
2025-01-08 10:28:59,569 - INFO - Completed main AST analysis flow
2025-01-08 10:28:59,569 - INFO - Successfully processed chunk
2025-01-08 10:28:59,910 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': [{'type': 'FromImport', 'name': 'enum', 'range': [0, 1], 'children': []}, {'type': 'Import', 'name': 'Enum', 'range': [2, 3], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 9], 'children': [{'type': 'FromImport', 'name': 'typing', 'range': [5, 6], 'children': []}, {'type': 'Import', 'name': 'Literal', 'range': [7, 8], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [11, 13], 'children': [{'type': 'Import', 'name': 'replicate', 'range': [11, 12], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 18], 'children': [{'type': 'FromImport', 'name': 'pydantic', 'range': [14, 15], 'children': []}, {'type': 'Import', 'name': 'SecretStr', 'range': [16, 17], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [19, 25], 'children': [{'type': 'FromImport', 'name': 'replicate.helpers', 'range': [19, 22], 'children': []}, {'type': 'Import', 'name': 'FileOutput', 'range': [23, 24], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 39], 'children': [{'type': 'FromImport', 'name': 'backend.data.block', 'range': [27, 32], 'children': []}, {'type': 'Import', 'name': 'Block', 'range': [33, 34], 'children': []}, {'type': 'Import', 'name': 'BlockCategory', 'range': [35, 36], 'children': []}, {'type': 'Import', 'name': 'BlockSchema', 'range': [37, 38], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [40, 62], 'children': [{'type': 'FromImport', 'name': 'backend.data.model', 'range': [40, 45], 'children': []}, {'type': 'Import', 'name': 'APIKeyCredentials', 'range': [49, 50], 'children': []}, {'type': 'Import', 'name': 'CredentialsField', 'range': [52, 53], 'children': []}, {'type': 'Import', 'name': 'CredentialsMetaInput', 'range': [55, 56], 'children': []}, {'type': 'Import', 'name': 'SchemaField', 'range': [58, 59], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 71], 'children': [{'type': 'FromImport', 'name': 'backend.integrations.providers', 'range': [63, 68], 'children': []}, {'type': 'Import', 'name': 'ProviderName', 'range': [69, 70], 'children': []}]}]}
2025-01-08 10:28:59,910 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:59,980 - INFO - Step 2 result: {'type': 'Program', 'name': 'ImageStyle', 'range': [356, 456], 'children': [{'type': 'ClassDeclaration', 'name': 'ImageStyle', 'range': [356, 362], 'children': [{'type': 'Inheritance', 'name': 'str, Enum', 'range': [358, 362], 'children': []}]}, {'type': 'Docstring', 'name': 'Complete set of supported styles', 'range': [365, 367], 'children': []}, {'type': 'EnumDeclaration', 'name': 'ANY', 'range': [370, 372], 'children': [{'type': 'Assignment', 'name': '=', 'range': [371, 372], 'children': [{'type': 'StringLiteral', 'name': '"any"', 'range': [372, 372], 'children': []}]}]}, {'type': 'Comment', 'name': 'Realistic image styles', 'range': [374, 378], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC', 'range': [379, 381], 'children': [{'type': 'Assignment', 'name': '=', 'range': [380, 381], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image"', 'range': [381, 381], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_BW', 'range': [383, 385], 'children': [{'type': 'Assignment', 'name': '=', 'range': [384, 385], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/b_and_w"', 'range': [385, 385], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_HDR', 'range': [387, 389], 'children': [{'type': 'Assignment', 'name': '=', 'range': [388, 389], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/hdr"', 'range': [389, 389], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_NATURAL', 'range': [391, 393], 'children': [{'type': 'Assignment', 'name': '=', 'range': [392, 393], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/natural_light"', 'range': [393, 393], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_STUDIO', 'range': [395, 397], 'children': [{'type': 'Assignment', 'name': '=', 'range': [396, 397], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/studio_portrait"', 'range': [397, 397], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_ENTERPRISE', 'range': [399, 401], 'children': [{'type': 'Assignment', 'name': '=', 'range': [400, 401], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/enterprise"', 'range': [401, 401], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_HARD_FLASH', 'range': [403, 405], 'children': [{'type': 'Assignment', 'name': '=', 'range': [404, 405], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/hard_flash"', 'range': [405, 405], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_MOTION_BLUR', 'range': [407, 409], 'children': [{'type': 'Assignment', 'name': '=', 'range': [408, 409], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/motion_blur"', 'range': [409, 409], 'children': []}]}]}, {'type': 'Comment', 'name': 'Digital illustration styles', 'range': [411, 415], 'children': []}, {'type': 'EnumDeclaration', 'name': 'DIGITAL_ART', 'range': [416, 418], 'children': [{'type': 'Assignment', 'name': '=', 'range': [417, 418], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration"', 'range': [418, 418], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'PIXEL_ART', 'range': [420, 422], 'children': [{'type': 'Assignment', 'name': '=', 'range': [421, 422], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/pixel_art"', 'range': [422, 422], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'HAND_DRAWN', 'range': [424, 426], 'children': [{'type': 'Assignment', 'name': '=', 'range': [425, 426], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/hand_drawn"', 'range': [426, 426], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'GRAIN', 'range': [428, 430], 'children': [{'type': 'Assignment', 'name': '=', 'range': [429, 430], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/grain"', 'range': [430, 430], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'SKETCH', 'range': [432, 434], 'children': [{'type': 'Assignment', 'name': '=', 'range': [433, 434], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/infantile_sketch"', 'range': [434, 434], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'POSTER', 'range': [436, 438], 'children': [{'type': 'Assignment', 'name': '=', 'range': [437, 438], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/2d_art_poster"', 'range': [438, 438], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'POSTER_2', 'range': [440, 442], 'children': [{'type': 'Assignment', 'name': '=', 'range': [441, 442], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/2d_art_poster_2"', 'range': [442, 442], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'HANDMADE_3D', 'range': [444, 446], 'children': [{'type': 'Assignment', 'name': '=', 'range': [445, 446], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/handmade_3d"', 'range': [446, 446], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'HAND_DRAWN_OUTLINE', 'range': [448, 450], 'children': [{'type': 'Assignment', 'name': '=', 'range': [449, 450], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/hand_drawn_outline"', 'range': [450, 450], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'ENGRAVING_COLOR', 'range': [452, 454], 'children': [{'type': 'Assignment', 'name': '=', 'range': [453, 454], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/engraving_color"', 'range': [454, 454], 'children': []}]}]}]}
2025-01-08 10:28:59,982 - INFO - Starting Step 3: AST simplification
2025-01-08 10:29:04,530 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [1723, 1756], 'children': [{'type': 'VariableDeclaration', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [1723, 1756], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [1725, 1755], 'children': [{'type': 'Property', 'name': 'provider', 'range': [1727, 1731], 'children': [{'type': 'Literal', 'name': '"provider"', 'range': [1727, 1727], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1729, 1729], 'children': []}, {'type': 'Identifier', 'name': 'provider', 'range': [1731, 1731], 'children': []}]}, {'type': 'Property', 'name': 'id', 'range': [1734, 1738], 'children': [{'type': 'Literal', 'name': '"id"', 'range': [1734, 1734], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1736, 1736], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [1738, 1738], 'children': []}]}, {'type': 'Property', 'name': 'type', 'range': [1741, 1745], 'children': [{'type': 'Literal', 'name': '"type"', 'range': [1741, 1741], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1743, 1743], 'children': []}, {'type': 'Identifier', 'name': 'type', 'range': [1745, 1745], 'children': []}]}, {'type': 'Property', 'name': 'title', 'range': [1748, 1752], 'children': [{'type': 'Literal', 'name': '"title"', 'range': [1748, 1748], 'children': []}, {'type': 'Identifier', 'name': 'TEST_CREDENTIALS', 'range': [1750, 1750], 'children': []}, {'type': 'Identifier', 'name': 'title', 'range': [1752, 1752], 'children': []}]}]}]}]}
2025-01-08 10:29:04,530 - INFO - Completed main AST analysis flow
2025-01-08 10:29:04,530 - INFO - Successfully processed chunk
2025-01-08 10:29:12,522 - INFO - Step 5 result: {'type': 'Program', 'name': 'SIZE_TO_FLUX_DIMENSIONS', 'range': [234, 314], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [235, 313], 'children': [{'type': 'ObjectExpression', 'name': '{', 'range': [236, 313], 'children': [{'type': 'Property', 'name': 'ImageSize.SQUARE', 'range': [238, 246], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [242, 246], 'children': [{'type': 'Literal', 'name': '1024', 'range': [243, 243], 'children': []}, {'type': 'Literal', 'name': '1024', 'range': [245, 245], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.LANDSCAPE', 'range': [249, 257], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [253, 257], 'children': [{'type': 'Literal', 'name': '1365', 'range': [254, 254], 'children': []}, {'type': 'Literal', 'name': '1024', 'range': [256, 256], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.PORTRAIT', 'range': [260, 268], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [264, 268], 'children': [{'type': 'Literal', 'name': '1024', 'range': [265, 265], 'children': []}, {'type': 'Literal', 'name': '1365', 'range': [267, 267], 'children': []}]}]}, {'type': 'Property', 'name': 'ImageSize.WIDE', 'range': [271, 279], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [275, 279], 'children': [{'type': 'Literal', 'name': '1440', 'range': [276, 276], 'children': []}, {'type': 'Literal', 'name': '810', 'range': [278, 278], 'children': []}]}]}, {'type': 'Comment', 'name': '# Adjusted to maintain 16:9 within 1440 limit', 'range': [281, 291], 'children': []}, {'type': 'Property', 'name': 'ImageSize.TALL', 'range': [292, 300], 'children': [{'type': 'ArrayExpression', 'name': '[', 'range': [296, 300], 'children': [{'type': 'Literal', 'name': '810', 'range': [297, 297], 'children': []}, {'type': 'Literal', 'name': '1440', 'range': [299, 299], 'children': []}]}]}, {'type': 'Comment', 'name': '# Adjusted to maintain 9:16 within 1440 limit', 'range': [302, 312], 'children': []}]}]}]}
2025-01-08 10:29:12,522 - INFO - Completed main AST analysis flow
2025-01-08 10:29:12,523 - INFO - Successfully processed chunk
2025-01-08 10:29:14,414 - INFO - Step 5 result: {'type': 'Program', 'name': 'ImageSize', 'range': [74, 141], 'children': [{'type': 'EnumDeclaration', 'name': 'SQUARE', 'range': [88, 90], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [89, 90], 'children': [{'type': 'Literal', 'name': '"square"', 'range': [90, 90], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [91, 99], 'children': [{'type': 'Text', 'name': 'For profile pictures, icons, etc.', 'range': [92, 99], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'LANDSCAPE', 'range': [101, 103], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [102, 103], 'children': [{'type': 'Literal', 'name': '"landscape"', 'range': [103, 103], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [104, 110], 'children': [{'type': 'Text', 'name': 'For traditional photos, scenes', 'range': [105, 110], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'PORTRAIT', 'range': [111, 113], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [112, 113], 'children': [{'type': 'Literal', 'name': '"portrait"', 'range': [113, 113], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [114, 120], 'children': [{'type': 'Text', 'name': 'For vertical photos, portraits', 'range': [115, 120], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'WIDE', 'range': [121, 123], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [122, 123], 'children': [{'type': 'Literal', 'name': '"wide"', 'range': [123, 123], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [124, 130], 'children': [{'type': 'Text', 'name': 'For cinematic, desktop wallpapers', 'range': [125, 130], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'TALL', 'range': [131, 133], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [132, 133], 'children': [{'type': 'Literal', 'name': '"tall"', 'range': [133, 133], 'children': []}]}, {'type': 'Comment', 'name': '#', 'range': [134, 140], 'children': [{'type': 'Text', 'name': 'For mobile wallpapers, stories', 'range': [135, 140], 'children': []}]}]}]}
2025-01-08 10:29:14,414 - INFO - Completed main AST analysis flow
2025-01-08 10:29:14,415 - INFO - Successfully processed chunk
2025-01-08 10:29:19,825 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainProgram', 'range': [0, 71], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': [{'type': 'FromImport', 'name': 'enum', 'range': [0, 1], 'children': []}, {'type': 'Import', 'name': 'Enum', 'range': [2, 3], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [5, 9], 'children': [{'type': 'FromImport', 'name': 'typing', 'range': [5, 6], 'children': []}, {'type': 'Import', 'name': 'Literal', 'range': [7, 8], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [11, 13], 'children': [{'type': 'Import', 'name': 'replicate', 'range': [11, 12], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 18], 'children': [{'type': 'FromImport', 'name': 'pydantic', 'range': [14, 15], 'children': []}, {'type': 'Import', 'name': 'SecretStr', 'range': [16, 17], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [19, 25], 'children': [{'type': 'FromImport', 'name': 'replicate.helpers', 'range': [19, 22], 'children': []}, {'type': 'Import', 'name': 'FileOutput', 'range': [23, 24], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 39], 'children': [{'type': 'FromImport', 'name': 'backend.data.block', 'range': [27, 32], 'children': []}, {'type': 'Import', 'name': 'Block', 'range': [33, 34], 'children': []}, {'type': 'Import', 'name': 'BlockCategory', 'range': [35, 36], 'children': []}, {'type': 'Import', 'name': 'BlockSchema', 'range': [37, 38], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [40, 62], 'children': [{'type': 'FromImport', 'name': 'backend.data.model', 'range': [40, 45], 'children': []}, {'type': 'Import', 'name': 'APIKeyCredentials', 'range': [49, 50], 'children': []}, {'type': 'Import', 'name': 'CredentialsField', 'range': [52, 53], 'children': []}, {'type': 'Import', 'name': 'CredentialsMetaInput', 'range': [55, 56], 'children': []}, {'type': 'Import', 'name': 'SchemaField', 'range': [58, 59], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 71], 'children': [{'type': 'FromImport', 'name': 'backend.integrations.providers', 'range': [63, 68], 'children': []}, {'type': 'Import', 'name': 'ProviderName', 'range': [69, 70], 'children': []}]}]}]}
2025-01-08 10:29:19,825 - INFO - Completed main AST analysis flow
2025-01-08 10:29:19,826 - INFO - Successfully processed chunk
2025-01-08 10:29:46,421 - INFO - Step 3 result: {'type': 'Program', 'name': 'ImageStyle', 'range': [356, 456], 'children': [{'type': 'ClassDeclaration', 'name': 'ImageStyle', 'range': [356, 362], 'children': [{'type': 'Inheritance', 'name': 'str, Enum', 'range': [358, 362], 'children': []}]}, {'type': 'Docstring', 'name': 'Complete set of supported styles', 'range': [365, 367], 'children': []}, {'type': 'EnumDeclaration', 'name': 'ANY', 'range': [370, 372], 'children': [{'type': 'Assignment', 'name': '=', 'range': [371, 372], 'children': [{'type': 'StringLiteral', 'name': '"any"', 'range': [372, 372], 'children': []}]}]}, {'type': 'Comment', 'name': 'Realistic image styles', 'range': [374, 378], 'children': []}, {'type': 'EnumDeclaration', 'name': 'REALISTIC', 'range': [379, 381], 'children': [{'type': 'Assignment', 'name': '=', 'range': [380, 381], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image"', 'range': [381, 381], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_BW', 'range': [383, 385], 'children': [{'type': 'Assignment', 'name': '=', 'range': [384, 385], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/b_and_w"', 'range': [385, 385], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_HDR', 'range': [387, 389], 'children': [{'type': 'Assignment', 'name': '=', 'range': [388, 389], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/hdr"', 'range': [389, 389], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_NATURAL', 'range': [391, 393], 'children': [{'type': 'Assignment', 'name': '=', 'range': [392, 393], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/natural_light"', 'range': [393, 393], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_STUDIO', 'range': [395, 397], 'children': [{'type': 'Assignment', 'name': '=', 'range': [396, 397], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/studio_portrait"', 'range': [397, 397], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_ENTERPRISE', 'range': [399, 401], 'children': [{'type': 'Assignment', 'name': '=', 'range': [400, 401], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/enterprise"', 'range': [401, 401], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_HARD_FLASH', 'range': [403, 405], 'children': [{'type': 'Assignment', 'name': '=', 'range': [404, 405], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/hard_flash"', 'range': [405, 405], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'REALISTIC_MOTION_BLUR', 'range': [407, 409], 'children': [{'type': 'Assignment', 'name': '=', 'range': [408, 409], 'children': [{'type': 'StringLiteral', 'name': '"realistic_image/motion_blur"', 'range': [409, 409], 'children': []}]}]}, {'type': 'Comment', 'name': 'Digital illustration styles', 'range': [411, 415], 'children': []}, {'type': 'EnumDeclaration', 'name': 'DIGITAL_ART', 'range': [416, 418], 'children': [{'type': 'Assignment', 'name': '=', 'range': [417, 418], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration"', 'range': [418, 418], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'PIXEL_ART', 'range': [420, 422], 'children': [{'type': 'Assignment', 'name': '=', 'range': [421, 422], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/pixel_art"', 'range': [422, 422], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'HAND_DRAWN', 'range': [424, 426], 'children': [{'type': 'Assignment', 'name': '=', 'range': [425, 426], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/hand_drawn"', 'range': [426, 426], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'GRAIN', 'range': [428, 430], 'children': [{'type': 'Assignment', 'name': '=', 'range': [429, 430], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/grain"', 'range': [430, 430], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'SKETCH', 'range': [432, 434], 'children': [{'type': 'Assignment', 'name': '=', 'range': [433, 434], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/infantile_sketch"', 'range': [434, 434], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'POSTER', 'range': [436, 438], 'children': [{'type': 'Assignment', 'name': '=', 'range': [437, 438], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/2d_art_poster"', 'range': [438, 438], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'POSTER_2', 'range': [440, 442], 'children': [{'type': 'Assignment', 'name': '=', 'range': [441, 442], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/2d_art_poster_2"', 'range': [442, 442], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'HANDMADE_3D', 'range': [444, 446], 'children': [{'type': 'Assignment', 'name': '=', 'range': [445, 446], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/handmade_3d"', 'range': [446, 446], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'HAND_DRAWN_OUTLINE', 'range': [448, 450], 'children': [{'type': 'Assignment', 'name': '=', 'range': [449, 450], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/hand_drawn_outline"', 'range': [450, 450], 'children': []}]}]}, {'type': 'EnumDeclaration', 'name': 'ENGRAVING_COLOR', 'range': [452, 454], 'children': [{'type': 'Assignment', 'name': '=', 'range': [453, 454], 'children': [{'type': 'StringLiteral', 'name': '"digital_illustration/engraving_color"', 'range': [454, 454], 'children': []}]}]}]}
2025-01-08 10:29:46,422 - INFO - Starting Step 4: AST normalization
2025-01-08 10:30:30,418 - INFO - Step 4 result: {'type': 'Program', 'name': 'ImageStyle', 'range': [356, 456], 'children': [{'type': 'ClassDecl', 'name': 'ImageStyle', 'range': [356, 362], 'children': [{'type': 'Inheritance', 'name': 'str, Enum', 'range': [358, 362], 'children': []}]}, {'type': 'Docstring', 'name': 'Complete set of supported styles', 'range': [365, 367], 'children': []}, {'type': 'EnumDecl', 'name': 'ANY', 'range': [370, 372], 'children': [{'type': 'Assignment', 'name': '=', 'range': [371, 372], 'children': [{'type': 'Literal', 'name': '"any"', 'range': [372, 372], 'children': []}]}]}, {'type': 'Comment', 'name': 'Realistic image styles', 'range': [374, 378], 'children': []}, {'type': 'EnumDecl', 'name': 'REALISTIC', 'range': [379, 381], 'children': [{'type': 'Assignment', 'name': '=', 'range': [380, 381], 'children': [{'type': 'Literal', 'name': '"realistic_image"', 'range': [381, 381], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_BW', 'range': [383, 385], 'children': [{'type': 'Assignment', 'name': '=', 'range': [384, 385], 'children': [{'type': 'Literal', 'name': '"realistic_image/b_and_w"', 'range': [385, 385], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_HDR', 'range': [387, 389], 'children': [{'type': 'Assignment', 'name': '=', 'range': [388, 389], 'children': [{'type': 'Literal', 'name': '"realistic_image/hdr"', 'range': [389, 389], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_NATURAL', 'range': [391, 393], 'children': [{'type': 'Assignment', 'name': '=', 'range': [392, 393], 'children': [{'type': 'Literal', 'name': '"realistic_image/natural_light"', 'range': [393, 393], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_STUDIO', 'range': [395, 397], 'children': [{'type': 'Assignment', 'name': '=', 'range': [396, 397], 'children': [{'type': 'Literal', 'name': '"realistic_image/studio_portrait"', 'range': [397, 397], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_ENTERPRISE', 'range': [399, 401], 'children': [{'type': 'Assignment', 'name': '=', 'range': [400, 401], 'children': [{'type': 'Literal', 'name': '"realistic_image/enterprise"', 'range': [401, 401], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_HARD_FLASH', 'range': [403, 405], 'children': [{'type': 'Assignment', 'name': '=', 'range': [404, 405], 'children': [{'type': 'Literal', 'name': '"realistic_image/hard_flash"', 'range': [405, 405], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_MOTION_BLUR', 'range': [407, 409], 'children': [{'type': 'Assignment', 'name': '=', 'range': [408, 409], 'children': [{'type': 'Literal', 'name': '"realistic_image/motion_blur"', 'range': [409, 409], 'children': []}]}]}, {'type': 'Comment', 'name': 'Digital illustration styles', 'range': [411, 415], 'children': []}, {'type': 'EnumDecl', 'name': 'DIGITAL_ART', 'range': [416, 418], 'children': [{'type': 'Assignment', 'name': '=', 'range': [417, 418], 'children': [{'type': 'Literal', 'name': '"digital_illustration"', 'range': [418, 418], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'PIXEL_ART', 'range': [420, 422], 'children': [{'type': 'Assignment', 'name': '=', 'range': [421, 422], 'children': [{'type': 'Literal', 'name': '"digital_illustration/pixel_art"', 'range': [422, 422], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'HAND_DRAWN', 'range': [424, 426], 'children': [{'type': 'Assignment', 'name': '=', 'range': [425, 426], 'children': [{'type': 'Literal', 'name': '"digital_illustration/hand_drawn"', 'range': [426, 426], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'GRAIN', 'range': [428, 430], 'children': [{'type': 'Assignment', 'name': '=', 'range': [429, 430], 'children': [{'type': 'Literal', 'name': '"digital_illustration/grain"', 'range': [430, 430], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'SKETCH', 'range': [432, 434], 'children': [{'type': 'Assignment', 'name': '=', 'range': [433, 434], 'children': [{'type': 'Literal', 'name': '"digital_illustration/infantile_sketch"', 'range': [434, 434], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'POSTER', 'range': [436, 438], 'children': [{'type': 'Assignment', 'name': '=', 'range': [437, 438], 'children': [{'type': 'Literal', 'name': '"digital_illustration/2d_art_poster"', 'range': [438, 438], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'POSTER_2', 'range': [440, 442], 'children': [{'type': 'Assignment', 'name': '=', 'range': [441, 442], 'children': [{'type': 'Literal', 'name': '"digital_illustration/2d_art_poster_2"', 'range': [442, 442], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'HANDMADE_3D', 'range': [444, 446], 'children': [{'type': 'Assignment', 'name': '=', 'range': [445, 446], 'children': [{'type': 'Literal', 'name': '"digital_illustration/handmade_3d"', 'range': [446, 446], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'HAND_DRAWN_OUTLINE', 'range': [448, 450], 'children': [{'type': 'Assignment', 'name': '=', 'range': [449, 450], 'children': [{'type': 'Literal', 'name': '"digital_illustration/hand_drawn_outline"', 'range': [450, 450], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'ENGRAVING_COLOR', 'range': [452, 454], 'children': [{'type': 'Assignment', 'name': '=', 'range': [453, 454], 'children': [{'type': 'Literal', 'name': '"digital_illustration/engraving_color"', 'range': [454, 454], 'children': []}]}]}]}
2025-01-08 10:30:30,418 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:30:34,995 - ERROR - Failed to parse Step 2 result
2025-01-08 10:30:34,996 - INFO - Starting Step 3: AST simplification
2025-01-08 10:31:15,524 - INFO - Step 5 result: {'type': 'Program', 'name': 'ImageStyle', 'range': [356, 456], 'children': [{'type': 'ClassDecl', 'name': 'ImageStyle', 'range': [356, 362], 'children': [{'type': 'Inheritance', 'name': 'str, Enum', 'range': [358, 362], 'children': []}]}, {'type': 'Docstring', 'name': 'Complete set of supported styles', 'range': [365, 367], 'children': []}, {'type': 'EnumDecl', 'name': 'ANY', 'range': [370, 372], 'children': [{'type': 'Assignment', 'name': '=', 'range': [371, 372], 'children': [{'type': 'Literal', 'name': '"any"', 'range': [372, 372], 'children': []}]}]}, {'type': 'Comment', 'name': 'Realistic image styles', 'range': [374, 378], 'children': []}, {'type': 'EnumDecl', 'name': 'REALISTIC', 'range': [379, 381], 'children': [{'type': 'Assignment', 'name': '=', 'range': [380, 381], 'children': [{'type': 'Literal', 'name': '"realistic_image"', 'range': [381, 381], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_BW', 'range': [383, 385], 'children': [{'type': 'Assignment', 'name': '=', 'range': [384, 385], 'children': [{'type': 'Literal', 'name': '"realistic_image/b_and_w"', 'range': [385, 385], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_HDR', 'range': [387, 389], 'children': [{'type': 'Assignment', 'name': '=', 'range': [388, 389], 'children': [{'type': 'Literal', 'name': '"realistic_image/hdr"', 'range': [389, 389], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_NATURAL', 'range': [391, 393], 'children': [{'type': 'Assignment', 'name': '=', 'range': [392, 393], 'children': [{'type': 'Literal', 'name': '"realistic_image/natural_light"', 'range': [393, 393], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_STUDIO', 'range': [395, 397], 'children': [{'type': 'Assignment', 'name': '=', 'range': [396, 397], 'children': [{'type': 'Literal', 'name': '"realistic_image/studio_portrait"', 'range': [397, 397], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_ENTERPRISE', 'range': [399, 401], 'children': [{'type': 'Assignment', 'name': '=', 'range': [400, 401], 'children': [{'type': 'Literal', 'name': '"realistic_image/enterprise"', 'range': [401, 401], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_HARD_FLASH', 'range': [403, 405], 'children': [{'type': 'Assignment', 'name': '=', 'range': [404, 405], 'children': [{'type': 'Literal', 'name': '"realistic_image/hard_flash"', 'range': [405, 405], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'REALISTIC_MOTION_BLUR', 'range': [407, 409], 'children': [{'type': 'Assignment', 'name': '=', 'range': [408, 409], 'children': [{'type': 'Literal', 'name': '"realistic_image/motion_blur"', 'range': [409, 409], 'children': []}]}]}, {'type': 'Comment', 'name': 'Digital illustration styles', 'range': [411, 415], 'children': []}, {'type': 'EnumDecl', 'name': 'DIGITAL_ART', 'range': [416, 418], 'children': [{'type': 'Assignment', 'name': '=', 'range': [417, 418], 'children': [{'type': 'Literal', 'name': '"digital_illustration"', 'range': [418, 418], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'PIXEL_ART', 'range': [420, 422], 'children': [{'type': 'Assignment', 'name': '=', 'range': [421, 422], 'children': [{'type': 'Literal', 'name': '"digital_illustration/pixel_art"', 'range': [422, 422], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'HAND_DRAWN', 'range': [424, 426], 'children': [{'type': 'Assignment', 'name': '=', 'range': [425, 426], 'children': [{'type': 'Literal', 'name': '"digital_illustration/hand_drawn"', 'range': [426, 426], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'GRAIN', 'range': [428, 430], 'children': [{'type': 'Assignment', 'name': '=', 'range': [429, 430], 'children': [{'type': 'Literal', 'name': '"digital_illustration/grain"', 'range': [430, 430], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'SKETCH', 'range': [432, 434], 'children': [{'type': 'Assignment', 'name': '=', 'range': [433, 434], 'children': [{'type': 'Literal', 'name': '"digital_illustration/infantile_sketch"', 'range': [434, 434], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'POSTER', 'range': [436, 438], 'children': [{'type': 'Assignment', 'name': '=', 'range': [437, 438], 'children': [{'type': 'Literal', 'name': '"digital_illustration/2d_art_poster"', 'range': [438, 438], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'POSTER_2', 'range': [440, 442], 'children': [{'type': 'Assignment', 'name': '=', 'range': [441, 442], 'children': [{'type': 'Literal', 'name': '"digital_illustration/2d_art_poster_2"', 'range': [442, 442], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'HANDMADE_3D', 'range': [444, 446], 'children': [{'type': 'Assignment', 'name': '=', 'range': [445, 446], 'children': [{'type': 'Literal', 'name': '"digital_illustration/handmade_3d"', 'range': [446, 446], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'HAND_DRAWN_OUTLINE', 'range': [448, 450], 'children': [{'type': 'Assignment', 'name': '=', 'range': [449, 450], 'children': [{'type': 'Literal', 'name': '"digital_illustration/hand_drawn_outline"', 'range': [450, 450], 'children': []}]}]}, {'type': 'EnumDecl', 'name': 'ENGRAVING_COLOR', 'range': [452, 454], 'children': [{'type': 'Assignment', 'name': '=', 'range': [453, 454], 'children': [{'type': 'Literal', 'name': '"digital_illustration/engraving_color"', 'range': [454, 454], 'children': []}]}]}]}
2025-01-08 10:31:15,524 - INFO - Completed main AST analysis flow
2025-01-08 10:31:15,527 - INFO - Successfully processed chunk
2025-01-08 10:32:48,484 - ERROR - Failed to parse Step 3 result
2025-01-08 10:32:48,485 - INFO - Starting Step 4: AST normalization
2025-01-08 10:32:49,979 - INFO - Step 4 result: {'type': 'Program', 'name': 'Program', 'range': [0, 0], 'children': []}
2025-01-08 10:32:49,979 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:32:51,728 - INFO - Step 5 result: {'type': 'Program', 'name': 'Program', 'range': [0, 0], 'children': []}
2025-01-08 10:32:51,753 - INFO - Completed main AST analysis flow
2025-01-08 10:32:51,754 - INFO - Successfully processed chunk
2025-01-08 10:32:51,804 - INFO - Starting code generation from AST
2025-01-08 10:33:43,273 - INFO - Successfully generated code from AST
2025-01-08 10:33:43,273 - INFO - Starting static code similarity comparison
2025-01-08 10:33:43,323 - INFO - Static similarity result: {'final_score': 99.1, 'length_similarity': 99.29, 'token_similarity': 98.51, 'structure_similarity': 98.61, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
