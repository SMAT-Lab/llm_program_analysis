2025-01-08 10:22:37,644 - INFO - Processing sample 157
2025-01-08 10:22:37,645 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 10:22:42,626 - INFO - Successfully split code into 7 top-level declarations
2025-01-08 10:22:42,628 - INFO - Processing chunk #0 (size=439 chars, start_index=0)
2025-01-08 10:22:42,628 - INFO - Processing chunk with 439 chars starting at index 0
2025-01-08 10:22:42,629 - INFO - Starting main AST analysis flow
2025-01-08 10:22:42,629 - INFO - Tokenized code into 105 tokens
2025-01-08 10:22:42,629 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:22:42,633 - INFO - Processing chunk #1 (size=308 chars, start_index=105)
2025-01-08 10:22:42,633 - INFO - Processing chunk with 308 chars starting at index 105
2025-01-08 10:22:42,633 - INFO - Starting main AST analysis flow
2025-01-08 10:22:42,634 - INFO - Tokenized code into 68 tokens
2025-01-08 10:22:42,634 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:22:42,635 - INFO - Processing chunk #2 (size=153 chars, start_index=173)
2025-01-08 10:22:42,635 - INFO - Processing chunk with 153 chars starting at index 173
2025-01-08 10:22:42,635 - INFO - Starting main AST analysis flow
2025-01-08 10:22:42,635 - INFO - Tokenized code into 31 tokens
2025-01-08 10:22:42,636 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:22:42,636 - INFO - Processing chunk #3 (size=204 chars, start_index=204)
2025-01-08 10:22:42,638 - INFO - Processing chunk with 204 chars starting at index 204
2025-01-08 10:22:42,638 - INFO - Starting main AST analysis flow
2025-01-08 10:22:42,639 - INFO - Processing chunk #4 (size=371 chars, start_index=240)
2025-01-08 10:22:42,644 - INFO - Processing chunk #5 (size=200 chars, start_index=310)
2025-01-08 10:22:42,645 - INFO - Tokenized code into 36 tokens
2025-01-08 10:22:42,648 - INFO - Processing chunk #6 (size=250 chars, start_index=343)
2025-01-08 10:22:42,649 - INFO - Processing chunk with 371 chars starting at index 240
2025-01-08 10:22:42,649 - INFO - Processing chunk with 200 chars starting at index 310
2025-01-08 10:22:42,651 - INFO - Starting main AST analysis flow
2025-01-08 10:22:42,650 - INFO - Processing chunk with 250 chars starting at index 343
2025-01-08 10:22:42,651 - INFO - Starting main AST analysis flow
2025-01-08 10:22:42,650 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:22:42,651 - INFO - Tokenized code into 33 tokens
2025-01-08 10:22:42,651 - INFO - Starting main AST analysis flow
2025-01-08 10:22:42,652 - INFO - Tokenized code into 70 tokens
2025-01-08 10:22:42,656 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:22:42,656 - INFO - Tokenized code into 38 tokens
2025-01-08 10:22:42,657 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:22:42,661 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:22:44,891 - INFO - Step 1 result: {'type': 'Program', 'name': 'get_redis', 'range': [204, 239], 'children': []}
2025-01-08 10:22:44,891 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:22:45,911 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [310, 342], 'children': [{'type': 'FunctionDeclaration', 'name': 'conn_retry', 'range': [310, 317], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'disconnect_async', 'range': [318, 342], 'children': []}]}
2025-01-08 10:22:45,912 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:22:51,928 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 104], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 5], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [7, 11], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 16], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 25], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 35], 'children': []}, {'type': 'VariableDeclaration', 'name': 'HOST', 'range': [42, 52], 'children': []}, {'type': 'VariableDeclaration', 'name': 'PORT', 'range': [53, 66], 'children': []}, {'type': 'VariableDeclaration', 'name': 'PASSWORD', 'range': [67, 77], 'children': []}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [79, 87], 'children': []}, {'type': 'VariableDeclaration', 'name': 'connection', 'range': [88, 95], 'children': []}, {'type': 'VariableDeclaration', 'name': 'connection_async', 'range': [96, 103], 'children': []}]}
2025-01-08 10:22:51,929 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:22:53,021 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [105, 172], 'children': [{'type': 'FunctionDeclaration', 'name': 'connect', 'range': [113, 172], 'children': [{'type': 'ReturnType', 'name': 'Redis', 'range': [117, 119], 'children': []}, {'type': 'GlobalVariableDeclaration', 'name': 'connection', 'range': [122, 123], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [125, 131], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [129, 130], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'c', 'range': [133, 168], 'children': [{'type': 'ObjectCreation', 'name': 'Redis', 'range': [135, 158], 'children': [{'type': 'PropertyAssignment', 'name': 'host', 'range': [138, 140], 'children': []}, {'type': 'PropertyAssignment', 'name': 'port', 'range': [143, 145], 'children': []}, {'type': 'PropertyAssignment', 'name': 'password', 'range': [148, 150], 'children': []}, {'type': 'PropertyAssignment', 'name': 'decode_responses', 'range': [153, 155], 'children': []}]}, {'type': 'MethodCall', 'name': 'ping', 'range': [160, 164], 'children': []}]}, {'type': 'Assignment', 'name': 'connection', 'range': [166, 168], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [170, 171], 'children': []}]}]}
2025-01-08 10:22:53,021 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:22:53,931 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [173, 203], 'children': [{'type': 'FunctionDeclaration', 'name': 'disconnect', 'range': [181, 203], 'children': [{'type': 'BlockStatement', 'range': [185, 203], 'children': [{'type': 'GlobalStatement', 'range': [187, 189], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [188, 188]}]}, {'type': 'IfStatement', 'range': [190, 203], 'children': [{'type': 'ExpressionStatement', 'range': [191, 191], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [191, 191]}]}, {'type': 'BlockStatement', 'range': [193, 203], 'children': [{'type': 'ExpressionStatement', 'range': [194, 198], 'children': [{'type': 'CallExpression', 'range': [194, 198], 'children': [{'type': 'MemberExpression', 'range': [194, 196], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [194, 194]}, {'type': 'Identifier', 'name': 'close', 'range': [196, 196]}]}]}]}, {'type': 'ExpressionStatement', 'range': [200, 202], 'children': [{'type': 'AssignmentExpression', 'range': [200, 202], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [200, 200]}, {'type': 'Identifier', 'name': 'None', 'range': [202, 202]}]}]}]}]}]}]}]}
2025-01-08 10:22:53,931 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:22:54,003 - INFO - Step 1 result: {'type': 'Program', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [347, 351], 'children': []}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [355, 355], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [357, 380], 'children': [{'type': 'IfStatement', 'name': '', 'range': [358, 364], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [359, 359], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [362, 363], 'children': []}]}, {'type': 'IfStatement', 'name': '', 'range': [365, 374], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [366, 366], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [369, 373], 'children': [{'type': 'AwaitExpression', 'name': '', 'range': [370, 373], 'children': [{'type': 'CallExpression', 'name': 'connect_async', 'range': [371, 373], 'children': []}]}]}]}, {'type': 'ThrowStatement', 'name': '', 'range': [375, 379], 'children': [{'type': 'NewExpression', 'name': 'RuntimeError', 'range': [376, 379], 'children': [{'type': 'Literal', 'name': '"AsyncRedis connection is not established"', 'range': [378, 378], 'children': []}]}]}]}]}]}
2025-01-08 10:22:54,003 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:22:55,582 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [240, 309], 'children': [{'type': 'FunctionDeclaration', 'name': 'connect_async', 'range': [248, 309], 'children': [{'type': 'FunctionParameter', 'name': '', 'range': [251, 252], 'children': []}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [253, 255], 'children': []}, {'type': 'GlobalDeclaration', 'name': 'connection_async', 'range': [258, 259], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [261, 267], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [262, 262], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [265, 266], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'c', 'range': [269, 295], 'children': [{'type': 'Assignment', 'name': '', 'range': [270, 271], 'children': []}, {'type': 'ObjectCreation', 'name': 'AsyncRedis', 'range': [271, 294], 'children': [{'type': 'Parameter', 'name': 'host', 'range': [274, 276], 'children': []}, {'type': 'Parameter', 'name': 'port', 'range': [279, 281], 'children': []}, {'type': 'Parameter', 'name': 'password', 'range': [284, 286], 'children': []}, {'type': 'Parameter', 'name': 'decode_responses', 'range': [289, 291], 'children': []}]}]}, {'type': 'AwaitExpression', 'name': '', 'range': [296, 302], 'children': [{'type': 'MemberExpression', 'name': 'c.ping', 'range': [297, 299], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async', 'range': [303, 305], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [307, 308], 'children': []}]}]}
2025-01-08 10:22:55,582 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:22:59,027 - INFO - Step 2 result: {'type': 'Program', 'name': 'get_redis', 'range': [204, 239], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_redis', 'range': [204, 239], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [207, 211], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [208, 209], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [210, 211], 'children': [{'type': 'Boolean', 'name': 'True', 'range': [211, 211], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'Redis', 'range': [213, 215], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [217, 239], 'children': [{'type': 'IfStatement', 'name': '', 'range': [218, 224], 'children': [{'type': 'Condition', 'name': 'connection', 'range': [219, 219], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [221, 224], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [222, 223], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [223, 223], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': '', 'range': [225, 233], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [226, 226], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [228, 233], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [229, 232], 'children': [{'type': 'CallExpression', 'name': 'connect', 'range': [230, 232], 'children': []}]}]}]}, {'type': 'RaiseStatement', 'name': '', 'range': [234, 238], 'children': [{'type': 'CallExpression', 'name': 'RuntimeError', 'range': [235, 238], 'children': [{'type': 'StringLiteral', 'name': '"Redis connection is not established"', 'range': [237, 237], 'children': []}]}]}]}]}]}
2025-01-08 10:22:59,027 - INFO - Starting Step 3: AST simplification
2025-01-08 10:23:03,494 - INFO - Step 2 result: {'nodes': [{'type': 'FunctionDeclaration', 'name': 'conn_retry', 'range': [310, 317], 'children': [{'type': 'Decorator', 'name': '@', 'range': [310, 310], 'children': []}, {'type': 'FunctionName', 'name': 'conn_retry', 'range': [311, 311], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [312, 316], 'children': [{'type': 'Parameter', 'name': '"AsyncRedis"', 'range': [313, 313], 'children': []}, {'type': 'Parameter', 'name': '"Releasing connection"', 'range': [315, 315], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': 'disconnect_async', 'range': [318, 342], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [318, 318], 'children': []}, {'type': 'Keyword', 'name': 'def', 'range': [319, 319], 'children': []}, {'type': 'FunctionName', 'name': 'disconnect_async', 'range': [320, 320], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [321, 322], 'children': []}, {'type': 'Block', 'name': '', 'range': [323, 342], 'children': [{'type': 'Keyword', 'name': 'global', 'range': [325, 325], 'children': []}, {'type': 'Variable', 'name': 'connection_async', 'range': [326, 326], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [328, 342], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [329, 329], 'children': []}, {'type': 'Block', 'name': '', 'range': [330, 342], 'children': [{'type': 'ExpressionStatement', 'name': '', 'range': [332, 338], 'children': [{'type': 'Keyword', 'name': 'await', 'range': [332, 332], 'children': []}, {'type': 'MemberExpression', 'name': 'connection_async.close', 'range': [333, 335], 'children': [{'type': 'Variable', 'name': 'connection_async', 'range': [333, 333], 'children': []}, {'type': 'Property', 'name': 'close', 'range': [335, 335], 'children': []}]}, {'type': 'CallExpression', 'name': '', 'range': [336, 337], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async = None', 'range': [339, 341], 'children': [{'type': 'Variable', 'name': 'connection_async', 'range': [339, 339], 'children': []}, {'type': 'Literal', 'name': 'None', 'range': [341, 341], 'children': []}]}]}]}]}]}]}
2025-01-08 10:23:03,494 - INFO - Starting Step 3: AST simplification
2025-01-08 10:23:03,647 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [173, 203], 'children': [{'type': 'FunctionDeclaration', 'name': 'disconnect', 'range': [181, 203], 'children': [{'type': 'BlockStatement', 'range': [185, 203], 'children': [{'type': 'GlobalStatement', 'range': [187, 189], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [188, 188]}]}, {'type': 'IfStatement', 'range': [190, 203], 'children': [{'type': 'ExpressionStatement', 'range': [191, 191], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [191, 191]}]}, {'type': 'BlockStatement', 'range': [193, 203], 'children': [{'type': 'ExpressionStatement', 'range': [194, 198], 'children': [{'type': 'CallExpression', 'range': [194, 198], 'children': [{'type': 'MemberExpression', 'range': [194, 196], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [194, 194]}, {'type': 'Identifier', 'name': 'close', 'range': [196, 196]}]}]}]}, {'type': 'ExpressionStatement', 'range': [200, 202], 'children': [{'type': 'AssignmentExpression', 'range': [200, 202], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [200, 200]}, {'type': 'Identifier', 'name': 'None', 'range': [202, 202]}]}]}]}]}]}]}]}
2025-01-08 10:23:03,647 - INFO - Starting Step 3: AST simplification
2025-01-08 10:23:04,600 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [105, 172], 'children': [{'type': 'FunctionDeclaration', 'name': 'connect', 'range': [113, 172], 'children': [{'type': 'ReturnType', 'name': 'Redis', 'range': [117, 119], 'children': []}, {'type': 'GlobalVariableDeclaration', 'name': 'connection', 'range': [122, 123], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [125, 131], 'children': [{'type': 'Condition', 'name': '', 'range': [126, 126], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [129, 130], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'c', 'range': [133, 168], 'children': [{'type': 'ObjectCreation', 'name': 'Redis', 'range': [135, 158], 'children': [{'type': 'PropertyAssignment', 'name': 'host', 'range': [138, 140], 'children': []}, {'type': 'PropertyAssignment', 'name': 'port', 'range': [143, 145], 'children': []}, {'type': 'PropertyAssignment', 'name': 'password', 'range': [148, 150], 'children': []}, {'type': 'PropertyAssignment', 'name': 'decode_responses', 'range': [153, 155], 'children': []}]}, {'type': 'MethodCall', 'name': 'ping', 'range': [160, 164], 'children': []}]}, {'type': 'Assignment', 'name': 'connection', 'range': [166, 168], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [170, 171], 'children': []}]}]}
2025-01-08 10:23:04,601 - INFO - Starting Step 3: AST simplification
2025-01-08 10:23:07,249 - INFO - Step 2 result: {'type': 'Program', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [347, 351], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [349, 349], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [350, 350], 'children': [{'type': 'Literal', 'name': 'True', 'range': [351, 351], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [355, 355], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [357, 380], 'children': [{'type': 'IfStatement', 'name': '', 'range': [358, 364], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [359, 359], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [362, 363], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [363, 363], 'children': []}]}]}, {'type': 'IfStatement', 'name': '', 'range': [365, 374], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [366, 366], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [369, 373], 'children': [{'type': 'AwaitExpression', 'name': '', 'range': [370, 373], 'children': [{'type': 'CallExpression', 'name': 'connect_async', 'range': [371, 373], 'children': []}]}]}]}, {'type': 'ThrowStatement', 'name': '', 'range': [375, 379], 'children': [{'type': 'NewExpression', 'name': 'RuntimeError', 'range': [376, 379], 'children': [{'type': 'Literal', 'name': '"AsyncRedis connection is not established"', 'range': [378, 378], 'children': []}]}]}]}]}]}
2025-01-08 10:23:07,249 - INFO - Starting Step 3: AST simplification
2025-01-08 10:23:07,690 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [240, 309], 'children': [{'type': 'FunctionDeclaration', 'name': 'connect_async', 'range': [248, 309], 'children': [{'type': 'FunctionParameter', 'name': '', 'range': [251, 252], 'children': []}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [253, 255], 'children': []}, {'type': 'GlobalDeclaration', 'name': 'connection_async', 'range': [258, 259], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [261, 267], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [262, 262], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [265, 266], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'c', 'range': [269, 295], 'children': [{'type': 'Assignment', 'name': '', 'range': [270, 271], 'children': []}, {'type': 'ObjectCreation', 'name': 'AsyncRedis', 'range': [271, 294], 'children': [{'type': 'Parameter', 'name': 'host', 'range': [274, 276], 'children': []}, {'type': 'Parameter', 'name': 'port', 'range': [279, 281], 'children': []}, {'type': 'Parameter', 'name': 'password', 'range': [284, 286], 'children': []}, {'type': 'Parameter', 'name': 'decode_responses', 'range': [289, 291], 'children': []}]}]}, {'type': 'AwaitExpression', 'name': '', 'range': [296, 302], 'children': [{'type': 'MemberExpression', 'name': 'c.ping', 'range': [297, 299], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async', 'range': [303, 305], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [307, 308], 'children': []}]}]}
2025-01-08 10:23:07,690 - INFO - Starting Step 3: AST simplification
2025-01-08 10:23:13,115 - INFO - Step 3 result: {'type': 'Program', 'name': 'get_redis', 'range': [204, 239], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_redis', 'range': [204, 239], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [207, 211], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [208, 209], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [210, 211], 'children': [{'type': 'Boolean', 'name': 'True', 'range': [211, 211], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'Redis', 'range': [213, 215], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [217, 239], 'children': [{'type': 'IfStatement', 'name': '', 'range': [218, 224], 'children': [{'type': 'Condition', 'name': 'connection', 'range': [219, 219], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [221, 224], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [222, 223], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [223, 223], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': '', 'range': [225, 233], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [226, 226], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [228, 233], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [229, 232], 'children': [{'type': 'CallExpression', 'name': 'connect', 'range': [230, 232], 'children': []}]}]}]}, {'type': 'RaiseStatement', 'name': '', 'range': [234, 238], 'children': [{'type': 'CallExpression', 'name': 'RuntimeError', 'range': [235, 238], 'children': [{'type': 'StringLiteral', 'name': '"Redis connection is not established"', 'range': [237, 237], 'children': []}]}]}]}]}]}
2025-01-08 10:23:13,115 - INFO - Starting Step 4: AST normalization
2025-01-08 10:23:14,820 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [173, 203], 'children': [{'type': 'FunctionDeclaration', 'name': 'disconnect', 'range': [181, 203], 'children': [{'type': 'BlockStatement', 'range': [185, 203], 'children': [{'type': 'GlobalStatement', 'range': [187, 189], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [188, 188]}]}, {'type': 'IfStatement', 'range': [190, 203], 'children': [{'type': 'ExpressionStatement', 'range': [191, 191], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [191, 191]}]}, {'type': 'BlockStatement', 'range': [193, 203], 'children': [{'type': 'ExpressionStatement', 'range': [194, 198], 'children': [{'type': 'CallExpression', 'range': [194, 198], 'children': [{'type': 'MemberExpression', 'range': [194, 196], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [194, 194]}, {'type': 'Identifier', 'name': 'close', 'range': [196, 196]}]}]}]}, {'type': 'ExpressionStatement', 'range': [200, 202], 'children': [{'type': 'AssignmentExpression', 'range': [200, 202], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [200, 200]}, {'type': 'Identifier', 'name': 'None', 'range': [202, 202]}]}]}]}]}]}]}]}
2025-01-08 10:23:14,820 - INFO - Starting Step 4: AST normalization
2025-01-08 10:23:19,564 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [105, 172], 'children': [{'type': 'FunctionDeclaration', 'name': 'connect', 'range': [113, 172], 'children': [{'type': 'ReturnType', 'name': 'Redis', 'range': [117, 119], 'children': []}, {'type': 'GlobalVariableDeclaration', 'name': 'connection', 'range': [122, 123], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [125, 131], 'children': [{'type': 'Condition', 'name': 'connection', 'range': [126, 126], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [129, 130], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [130, 130], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'c', 'range': [133, 168], 'children': [{'type': 'ObjectCreation', 'name': 'Redis', 'range': [135, 158], 'children': [{'type': 'PropertyAssignment', 'name': 'host', 'range': [138, 140], 'children': [{'type': 'Identifier', 'name': 'HOST', 'range': [140, 140], 'children': []}]}, {'type': 'PropertyAssignment', 'name': 'port', 'range': [143, 145], 'children': [{'type': 'Identifier', 'name': 'PORT', 'range': [145, 145], 'children': []}]}, {'type': 'PropertyAssignment', 'name': 'password', 'range': [148, 150], 'children': [{'type': 'Identifier', 'name': 'PASSWORD', 'range': [150, 150], 'children': []}]}, {'type': 'PropertyAssignment', 'name': 'decode_responses', 'range': [153, 155], 'children': [{'type': 'BooleanLiteral', 'name': 'True', 'range': [155, 155], 'children': []}]}]}, {'type': 'MethodCall', 'name': 'ping', 'range': [160, 164], 'children': []}]}, {'type': 'Assignment', 'name': 'connection', 'range': [166, 168], 'children': [{'type': 'Identifier', 'name': 'c', 'range': [168, 168], 'children': []}]}, {'type': 'ReturnStatement', 'name': '', 'range': [170, 171], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [171, 171], 'children': []}]}]}]}
2025-01-08 10:23:19,565 - INFO - Starting Step 4: AST normalization
2025-01-08 10:23:20,211 - INFO - Step 3 result: {'nodes': [{'type': 'FunctionDeclaration', 'name': 'conn_retry', 'range': [310, 317], 'children': [{'type': 'Decorator', 'name': '@', 'range': [310, 310], 'children': []}, {'type': 'FunctionName', 'name': 'conn_retry', 'range': [311, 311], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [312, 316], 'children': [{'type': 'Parameter', 'name': '"AsyncRedis"', 'range': [313, 313], 'children': []}, {'type': 'Parameter', 'name': '"Releasing connection"', 'range': [315, 315], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': 'disconnect_async', 'range': [318, 342], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [318, 318], 'children': []}, {'type': 'Keyword', 'name': 'def', 'range': [319, 319], 'children': []}, {'type': 'FunctionName', 'name': 'disconnect_async', 'range': [320, 320], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [321, 322], 'children': []}, {'type': 'Block', 'name': '', 'range': [323, 342], 'children': [{'type': 'Keyword', 'name': 'global', 'range': [325, 325], 'children': []}, {'type': 'Variable', 'name': 'connection_async', 'range': [326, 326], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [328, 342], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [329, 329], 'children': []}, {'type': 'Block', 'name': '', 'range': [330, 342], 'children': [{'type': 'ExpressionStatement', 'name': '', 'range': [332, 338], 'children': [{'type': 'Keyword', 'name': 'await', 'range': [332, 332], 'children': []}, {'type': 'MemberExpression', 'name': 'connection_async.close', 'range': [333, 335], 'children': [{'type': 'Variable', 'name': 'connection_async', 'range': [333, 333], 'children': []}, {'type': 'Property', 'name': 'close', 'range': [335, 335], 'children': []}]}, {'type': 'CallExpression', 'name': '', 'range': [336, 337], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async = None', 'range': [339, 341], 'children': [{'type': 'Variable', 'name': 'connection_async', 'range': [339, 339], 'children': []}, {'type': 'Literal', 'name': 'None', 'range': [341, 341], 'children': []}]}]}]}]}]}]}
2025-01-08 10:23:20,211 - INFO - Starting Step 4: AST normalization
2025-01-08 10:23:20,299 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [240, 309], 'children': [{'type': 'FunctionDeclaration', 'name': 'connect_async', 'range': [248, 309], 'children': [{'type': 'FunctionParameter', 'name': '', 'range': [251, 252], 'children': []}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [253, 255], 'children': []}, {'type': 'GlobalDeclaration', 'name': 'connection_async', 'range': [258, 259], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [261, 267], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [262, 262], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [265, 266], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'c', 'range': [269, 295], 'children': [{'type': 'Assignment', 'name': '', 'range': [270, 271], 'children': []}, {'type': 'ObjectCreation', 'name': 'AsyncRedis', 'range': [271, 294], 'children': [{'type': 'Parameter', 'name': 'host', 'range': [274, 276], 'children': []}, {'type': 'Parameter', 'name': 'port', 'range': [279, 281], 'children': []}, {'type': 'Parameter', 'name': 'password', 'range': [284, 286], 'children': []}, {'type': 'Parameter', 'name': 'decode_responses', 'range': [289, 291], 'children': []}]}]}, {'type': 'AwaitExpression', 'name': '', 'range': [296, 302], 'children': [{'type': 'MemberExpression', 'name': 'c.ping', 'range': [297, 299], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async', 'range': [303, 305], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [307, 308], 'children': []}]}]}
2025-01-08 10:23:20,299 - INFO - Starting Step 4: AST normalization
2025-01-08 10:23:20,456 - INFO - Step 3 result: {'type': 'Program', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [347, 351], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [349, 349], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [350, 350], 'children': [{'type': 'Literal', 'name': 'True', 'range': [351, 351], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [355, 355], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [357, 380], 'children': [{'type': 'IfStatement', 'name': '', 'range': [358, 364], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [359, 359], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [362, 363], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [363, 363], 'children': []}]}]}, {'type': 'IfStatement', 'name': '', 'range': [365, 374], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [366, 366], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [369, 373], 'children': [{'type': 'AwaitExpression', 'name': '', 'range': [370, 373], 'children': [{'type': 'CallExpression', 'name': 'connect_async', 'range': [371, 373], 'children': []}]}]}]}, {'type': 'ThrowStatement', 'name': '', 'range': [375, 379], 'children': [{'type': 'NewExpression', 'name': 'RuntimeError', 'range': [376, 379], 'children': [{'type': 'Literal', 'name': '"AsyncRedis connection is not established"', 'range': [378, 378], 'children': []}]}]}]}]}]}
2025-01-08 10:23:20,456 - INFO - Starting Step 4: AST normalization
2025-01-08 10:23:25,166 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [173, 203], 'children': [{'type': 'FunctionDecl', 'name': 'disconnect', 'range': [181, 203], 'children': [{'type': 'BlockStatement', 'range': [185, 203], 'children': [{'type': 'ExpressionStatement', 'range': [187, 189], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [188, 188]}]}, {'type': 'IfStatement', 'range': [190, 203], 'children': [{'type': 'ExpressionStatement', 'range': [191, 191], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [191, 191]}]}, {'type': 'BlockStatement', 'range': [193, 203], 'children': [{'type': 'ExpressionStatement', 'range': [194, 198], 'children': [{'type': 'CallExpression', 'range': [194, 198], 'children': [{'type': 'MemberExpression', 'range': [194, 196], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [194, 194]}, {'type': 'Identifier', 'name': 'close', 'range': [196, 196]}]}]}]}, {'type': 'ExpressionStatement', 'range': [200, 202], 'children': [{'type': 'AssignmentExpression', 'range': [200, 202], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [200, 200]}, {'type': 'Identifier', 'name': 'None', 'range': [202, 202]}]}]}]}]}]}]}]}
2025-01-08 10:23:25,167 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:23:26,751 - INFO - Step 4 result: {'type': 'Program', 'name': 'get_redis', 'range': [204, 239], 'children': [{'type': 'FunctionDecl', 'name': 'get_redis', 'range': [204, 239], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [207, 211], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [208, 209], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [210, 211], 'children': [{'type': 'Literal', 'name': 'True', 'range': [211, 211], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'Redis', 'range': [213, 215], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [217, 239], 'children': [{'type': 'IfStatement', 'name': '', 'range': [218, 224], 'children': [{'type': 'Condition', 'name': 'connection', 'range': [219, 219], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [221, 224], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [222, 223], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [223, 223], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': '', 'range': [225, 233], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [226, 226], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [228, 233], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [229, 232], 'children': [{'type': 'CallExpression', 'name': 'connect', 'range': [230, 232], 'children': []}]}]}]}, {'type': 'RaiseStatement', 'name': '', 'range': [234, 238], 'children': [{'type': 'CallExpression', 'name': 'RuntimeError', 'range': [235, 238], 'children': [{'type': 'Literal', 'name': '"Redis connection is not established"', 'range': [237, 237], 'children': []}]}]}]}]}]}
2025-01-08 10:23:26,752 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:23:29,006 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 5], 'children': [{'type': 'ImportSpecifier', 'name': 'os', 'range': [4, 4], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [7, 11], 'children': [{'type': 'ImportSpecifier', 'name': 'load_dotenv', 'range': [10, 10], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'Redis', 'range': [15, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 25], 'children': [{'type': 'ImportSpecifier', 'name': 'AsyncRedis', 'range': [24, 24], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 35], 'children': [{'type': 'ImportSpecifier', 'name': 'conn_retry', 'range': [34, 34], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'HOST', 'range': [42, 52], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [43, 51], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [46, 51], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [44, 46], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [44, 44], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [46, 46], 'children': []}]}, {'type': 'StringLiteral', 'name': '"REDIS_HOST"', 'range': [48, 48], 'children': []}, {'type': 'StringLiteral', 'name': '"localhost"', 'range': [50, 50], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'PORT', 'range': [53, 66], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [54, 65], 'children': [{'type': 'CallExpression', 'name': 'int', 'range': [55, 65], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [59, 64], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [57, 59], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [57, 57], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [59, 59], 'children': []}]}, {'type': 'StringLiteral', 'name': '"REDIS_PORT"', 'range': [61, 61], 'children': []}, {'type': 'StringLiteral', 'name': '"6379"', 'range': [63, 63], 'children': []}]}]}]}]}, {'type': 'VariableDeclaration', 'name': 'PASSWORD', 'range': [67, 77], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [68, 76], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [71, 76], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [69, 71], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [69, 69], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [71, 71], 'children': []}]}, {'type': 'StringLiteral', 'name': '"REDIS_PASSWORD"', 'range': [73, 73], 'children': []}, {'type': 'StringLiteral', 'name': '"password"', 'range': [75, 75], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [79, 87], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [80, 86], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [83, 86], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [81, 83], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [81, 81], 'children': []}, {'type': 'Identifier', 'name': 'getLogger', 'range': [83, 83], 'children': []}]}, {'type': 'Identifier', 'name': '__name__', 'range': [85, 85], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'connection', 'range': [88, 95], 'children': [{'type': 'TypeAnnotation', 'name': ':', 'range': [89, 92], 'children': [{'type': 'UnionType', 'name': '|', 'range': [91, 92], 'children': [{'type': 'Identifier', 'name': 'Redis', 'range': [90, 90], 'children': []}, {'type': 'Identifier', 'name': 'None', 'range': [92, 92], 'children': []}]}]}, {'type': 'AssignmentExpression', 'name': '=', 'range': [93, 94], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [94, 94], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'connection_async', 'range': [96, 103], 'children': [{'type': 'TypeAnnotation', 'name': ':', 'range': [97, 100], 'children': [{'type': 'UnionType', 'name': '|', 'range': [99, 100], 'children': [{'type': 'Identifier', 'name': 'AsyncRedis', 'range': [98, 98], 'children': []}, {'type': 'Identifier', 'name': 'None', 'range': [100, 100], 'children': []}]}]}, {'type': 'AssignmentExpression', 'name': '=', 'range': [101, 102], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [102, 102], 'children': []}]}]}]}
2025-01-08 10:23:29,007 - INFO - Starting Step 3: AST simplification
2025-01-08 10:23:32,493 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [240, 309], 'children': [{'type': 'FunctionDecl', 'name': 'connect_async', 'range': [248, 309], 'children': [{'type': 'Parameter', 'name': '', 'range': [251, 252], 'children': []}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [253, 255], 'children': []}, {'type': 'VariableDecl', 'name': 'connection_async', 'range': [258, 259], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [261, 267], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [262, 262], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [265, 266], 'children': []}]}, {'type': 'VariableDecl', 'name': 'c', 'range': [269, 295], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [270, 271], 'children': []}, {'type': 'NewExpression', 'name': 'AsyncRedis', 'range': [271, 294], 'children': [{'type': 'Literal', 'name': 'host', 'range': [274, 276], 'children': []}, {'type': 'Literal', 'name': 'port', 'range': [279, 281], 'children': []}, {'type': 'Literal', 'name': 'password', 'range': [284, 286], 'children': []}, {'type': 'Literal', 'name': 'decode_responses', 'range': [289, 291], 'children': []}]}]}, {'type': 'AwaitExpression', 'name': '', 'range': [296, 302], 'children': [{'type': 'MemberExpression', 'name': 'c.ping', 'range': [297, 299], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async', 'range': [303, 305], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [307, 308], 'children': []}]}]}
2025-01-08 10:23:32,493 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:23:34,106 - INFO - Step 4 result: {'type': 'Program', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'FunctionDecl', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [347, 351], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [349, 349], 'children': []}, {'type': 'AssignmentExpression', 'name': '=', 'range': [350, 350], 'children': [{'type': 'Literal', 'name': 'True', 'range': [351, 351], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [355, 355], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [357, 380], 'children': [{'type': 'IfStatement', 'name': '', 'range': [358, 364], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [359, 359], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [362, 363], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [363, 363], 'children': []}]}]}, {'type': 'IfStatement', 'name': '', 'range': [365, 374], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [366, 366], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [369, 373], 'children': [{'type': 'AwaitExpression', 'name': '', 'range': [370, 373], 'children': [{'type': 'CallExpression', 'name': 'connect_async', 'range': [371, 373], 'children': []}]}]}]}, {'type': 'ThrowStatement', 'name': '', 'range': [375, 379], 'children': [{'type': 'NewExpression', 'name': 'RuntimeError', 'range': [376, 379], 'children': [{'type': 'Literal', 'name': '"AsyncRedis connection is not established"', 'range': [378, 378], 'children': []}]}]}]}]}]}
2025-01-08 10:23:34,106 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:23:34,219 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [105, 172], 'children': [{'type': 'FunctionDecl', 'name': 'connect', 'range': [113, 172], 'children': [{'type': 'ReturnType', 'name': 'Redis', 'range': [117, 119], 'children': []}, {'type': 'VariableDecl', 'name': 'connection', 'range': [122, 123], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [125, 131], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [126, 126], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [129, 130], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [130, 130], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'c', 'range': [133, 168], 'children': [{'type': 'NewExpression', 'name': 'Redis', 'range': [135, 158], 'children': [{'type': 'Property', 'name': 'host', 'range': [138, 140], 'children': [{'type': 'Identifier', 'name': 'HOST', 'range': [140, 140], 'children': []}]}, {'type': 'Property', 'name': 'port', 'range': [143, 145], 'children': [{'type': 'Identifier', 'name': 'PORT', 'range': [145, 145], 'children': []}]}, {'type': 'Property', 'name': 'password', 'range': [148, 150], 'children': [{'type': 'Identifier', 'name': 'PASSWORD', 'range': [150, 150], 'children': []}]}, {'type': 'Property', 'name': 'decode_responses', 'range': [153, 155], 'children': [{'type': 'Literal', 'name': 'True', 'range': [155, 155], 'children': []}]}]}, {'type': 'CallExpression', 'name': 'ping', 'range': [160, 164], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection', 'range': [166, 168], 'children': [{'type': 'Identifier', 'name': 'c', 'range': [168, 168], 'children': []}]}, {'type': 'ReturnStatement', 'name': '', 'range': [170, 171], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [171, 171], 'children': []}]}]}]}
2025-01-08 10:23:34,219 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:23:35,406 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [173, 203], 'children': [{'type': 'FunctionDecl', 'name': 'disconnect', 'range': [181, 203], 'children': [{'type': 'BlockStatement', 'range': [185, 203], 'children': [{'type': 'ExpressionStatement', 'range': [187, 189], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [188, 188]}]}, {'type': 'IfStatement', 'range': [190, 203], 'children': [{'type': 'ExpressionStatement', 'range': [191, 191], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [191, 191]}]}, {'type': 'BlockStatement', 'range': [193, 203], 'children': [{'type': 'ExpressionStatement', 'range': [194, 198], 'children': [{'type': 'CallExpression', 'range': [194, 198], 'children': [{'type': 'MemberExpression', 'range': [194, 196], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [194, 194]}, {'type': 'Identifier', 'name': 'close', 'range': [196, 196]}]}]}]}, {'type': 'ExpressionStatement', 'range': [200, 202], 'children': [{'type': 'AssignmentExpression', 'range': [200, 202], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [200, 200]}, {'type': 'Identifier', 'name': 'None', 'range': [202, 202]}]}]}]}]}]}]}]}
2025-01-08 10:23:35,406 - INFO - Completed main AST analysis flow
2025-01-08 10:23:35,407 - INFO - Successfully processed chunk
2025-01-08 10:23:37,022 - INFO - Step 4 result: {'nodes': [{'type': 'FunctionDecl', 'name': 'conn_retry', 'range': [310, 317], 'children': [{'type': 'Decorator', 'name': '@', 'range': [310, 310], 'children': []}, {'type': 'Identifier', 'name': 'conn_retry', 'range': [311, 311], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [312, 316], 'children': [{'type': 'Parameter', 'name': '"AsyncRedis"', 'range': [313, 313], 'children': []}, {'type': 'Parameter', 'name': '"Releasing connection"', 'range': [315, 315], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': 'disconnect_async', 'range': [318, 342], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [318, 318], 'children': []}, {'type': 'Keyword', 'name': 'def', 'range': [319, 319], 'children': []}, {'type': 'Identifier', 'name': 'disconnect_async', 'range': [320, 320], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [321, 322], 'children': []}, {'type': 'Block', 'name': '', 'range': [323, 342], 'children': [{'type': 'Keyword', 'name': 'global', 'range': [325, 325], 'children': []}, {'type': 'Identifier', 'name': 'connection_async', 'range': [326, 326], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [328, 342], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [329, 329], 'children': []}, {'type': 'Block', 'name': '', 'range': [330, 342], 'children': [{'type': 'ExpressionStatement', 'name': '', 'range': [332, 338], 'children': [{'type': 'Keyword', 'name': 'await', 'range': [332, 332], 'children': []}, {'type': 'MemberExpression', 'name': 'connection_async.close', 'range': [333, 335], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [333, 333], 'children': []}, {'type': 'Identifier', 'name': 'close', 'range': [335, 335], 'children': []}]}, {'type': 'CallExpression', 'name': '', 'range': [336, 337], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async = None', 'range': [339, 341], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [339, 339], 'children': []}, {'type': 'Literal', 'name': 'None', 'range': [341, 341], 'children': []}]}]}]}]}]}]}
2025-01-08 10:23:37,023 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:23:39,656 - INFO - Step 5 result: {'type': 'Program', 'name': 'get_redis', 'range': [204, 239], 'children': [{'type': 'FunctionDecl', 'name': 'get_redis', 'range': [204, 239], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [207, 211], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [208, 209], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [210, 211], 'children': [{'type': 'Literal', 'name': 'True', 'range': [211, 211], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'Redis', 'range': [213, 215], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [217, 239], 'children': [{'type': 'IfStatement', 'name': '', 'range': [218, 224], 'children': [{'type': 'Condition', 'name': 'connection', 'range': [219, 219], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [221, 224], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [222, 223], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [223, 223], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': '', 'range': [225, 233], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [226, 226], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [228, 233], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [229, 232], 'children': [{'type': 'CallExpression', 'name': 'connect', 'range': [230, 232], 'children': []}]}]}]}, {'type': 'RaiseStatement', 'name': '', 'range': [234, 238], 'children': [{'type': 'CallExpression', 'name': 'RuntimeError', 'range': [235, 238], 'children': [{'type': 'Literal', 'name': '"Redis connection is not established"', 'range': [237, 237], 'children': []}]}]}]}]}]}
2025-01-08 10:23:39,656 - INFO - Completed main AST analysis flow
2025-01-08 10:23:39,656 - INFO - Successfully processed chunk
2025-01-08 10:23:44,278 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [240, 309], 'children': [{'type': 'FunctionDecl', 'name': 'connect_async', 'range': [248, 309], 'children': [{'type': 'Parameter', 'name': '', 'range': [251, 252], 'children': []}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [253, 255], 'children': []}, {'type': 'VariableDecl', 'name': 'connection_async', 'range': [258, 259], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [261, 267], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [262, 262], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [265, 266], 'children': []}]}, {'type': 'VariableDecl', 'name': 'c', 'range': [269, 295], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [270, 271], 'children': []}, {'type': 'NewExpression', 'name': 'AsyncRedis', 'range': [271, 294], 'children': [{'type': 'Literal', 'name': 'host', 'range': [274, 276], 'children': []}, {'type': 'Literal', 'name': 'port', 'range': [279, 281], 'children': []}, {'type': 'Literal', 'name': 'password', 'range': [284, 286], 'children': []}, {'type': 'Literal', 'name': 'decode_responses', 'range': [289, 291], 'children': []}]}]}, {'type': 'AwaitExpression', 'name': '', 'range': [296, 302], 'children': [{'type': 'MemberExpression', 'name': 'c.ping', 'range': [297, 299], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async', 'range': [303, 305], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [307, 308], 'children': []}]}]}
2025-01-08 10:23:44,279 - INFO - Completed main AST analysis flow
2025-01-08 10:23:44,279 - INFO - Successfully processed chunk
2025-01-08 10:23:47,454 - INFO - Step 5 result: {'type': 'Program', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'FunctionDecl', 'name': 'get_redis_async', 'range': [343, 380], 'children': [{'type': 'Parameter', 'name': 'auto_connect', 'range': [347, 351], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [349, 349], 'children': []}, {'type': 'AssignmentExpression', 'name': '=', 'range': [350, 350], 'children': [{'type': 'Literal', 'name': 'True', 'range': [351, 351], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'AsyncRedis', 'range': [355, 355], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [357, 380], 'children': [{'type': 'IfStatement', 'name': '', 'range': [358, 364], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [359, 359], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [362, 363], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [363, 363], 'children': []}]}]}, {'type': 'IfStatement', 'name': '', 'range': [365, 374], 'children': [{'type': 'Condition', 'name': 'auto_connect', 'range': [366, 366], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [369, 373], 'children': [{'type': 'AwaitExpression', 'name': '', 'range': [370, 373], 'children': [{'type': 'CallExpression', 'name': 'connect_async', 'range': [371, 373], 'children': []}]}]}]}, {'type': 'ThrowStatement', 'name': '', 'range': [375, 379], 'children': [{'type': 'NewExpression', 'name': 'RuntimeError', 'range': [376, 379], 'children': [{'type': 'Literal', 'name': '"AsyncRedis connection is not established"', 'range': [378, 378], 'children': []}]}]}]}]}]}
2025-01-08 10:23:47,454 - INFO - Completed main AST analysis flow
2025-01-08 10:23:47,454 - INFO - Successfully processed chunk
2025-01-08 10:23:48,876 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [105, 172], 'children': [{'type': 'FunctionDecl', 'name': 'connect', 'range': [113, 172], 'children': [{'type': 'ReturnType', 'name': 'Redis', 'range': [117, 119], 'children': []}, {'type': 'VariableDecl', 'name': 'connection', 'range': [122, 123], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [125, 131], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [126, 126], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [129, 130], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [130, 130], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'c', 'range': [133, 168], 'children': [{'type': 'NewExpression', 'name': 'Redis', 'range': [135, 158], 'children': [{'type': 'Property', 'name': 'host', 'range': [138, 140], 'children': [{'type': 'Identifier', 'name': 'HOST', 'range': [140, 140], 'children': []}]}, {'type': 'Property', 'name': 'port', 'range': [143, 145], 'children': [{'type': 'Identifier', 'name': 'PORT', 'range': [145, 145], 'children': []}]}, {'type': 'Property', 'name': 'password', 'range': [148, 150], 'children': [{'type': 'Identifier', 'name': 'PASSWORD', 'range': [150, 150], 'children': []}]}, {'type': 'Property', 'name': 'decode_responses', 'range': [153, 155], 'children': [{'type': 'Literal', 'name': 'True', 'range': [155, 155], 'children': []}]}]}, {'type': 'CallExpression', 'name': 'ping', 'range': [160, 164], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection', 'range': [166, 168], 'children': [{'type': 'Identifier', 'name': 'c', 'range': [168, 168], 'children': []}]}, {'type': 'ReturnStatement', 'name': '', 'range': [170, 171], 'children': [{'type': 'Identifier', 'name': 'connection', 'range': [171, 171], 'children': []}]}]}]}
2025-01-08 10:23:48,876 - INFO - Completed main AST analysis flow
2025-01-08 10:23:48,876 - INFO - Successfully processed chunk
2025-01-08 10:23:53,435 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainProgram', 'range': [310, 342], 'children': [{'type': 'FunctionDecl', 'name': 'conn_retry', 'range': [310, 317], 'children': [{'type': 'Decorator', 'name': '@', 'range': [310, 310], 'children': []}, {'type': 'Identifier', 'name': 'conn_retry', 'range': [311, 311], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [312, 316], 'children': [{'type': 'Parameter', 'name': '"AsyncRedis"', 'range': [313, 313], 'children': []}, {'type': 'Parameter', 'name': '"Releasing connection"', 'range': [315, 315], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': 'disconnect_async', 'range': [318, 342], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [318, 318], 'children': []}, {'type': 'Keyword', 'name': 'def', 'range': [319, 319], 'children': []}, {'type': 'Identifier', 'name': 'disconnect_async', 'range': [320, 320], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [321, 322], 'children': []}, {'type': 'Block', 'name': '', 'range': [323, 342], 'children': [{'type': 'Keyword', 'name': 'global', 'range': [325, 325], 'children': []}, {'type': 'Identifier', 'name': 'connection_async', 'range': [326, 326], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [328, 342], 'children': [{'type': 'Condition', 'name': 'connection_async', 'range': [329, 329], 'children': []}, {'type': 'Block', 'name': '', 'range': [330, 342], 'children': [{'type': 'ExpressionStatement', 'name': '', 'range': [332, 338], 'children': [{'type': 'Keyword', 'name': 'await', 'range': [332, 332], 'children': []}, {'type': 'MemberExpression', 'name': 'connection_async.close', 'range': [333, 335], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [333, 333], 'children': []}, {'type': 'Identifier', 'name': 'close', 'range': [335, 335], 'children': []}]}, {'type': 'CallExpression', 'name': '', 'range': [336, 337], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'connection_async = None', 'range': [339, 341], 'children': [{'type': 'Identifier', 'name': 'connection_async', 'range': [339, 339], 'children': []}, {'type': 'Literal', 'name': 'None', 'range': [341, 341], 'children': []}]}]}]}]}]}]}]}
2025-01-08 10:23:53,435 - INFO - Completed main AST analysis flow
2025-01-08 10:23:53,436 - INFO - Successfully processed chunk
2025-01-08 10:24:05,716 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 5], 'children': [{'type': 'ImportSpecifier', 'name': 'os', 'range': [4, 4], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [7, 11], 'children': [{'type': 'ImportSpecifier', 'name': 'load_dotenv', 'range': [10, 10], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'Redis', 'range': [15, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 25], 'children': [{'type': 'ImportSpecifier', 'name': 'AsyncRedis', 'range': [24, 24], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 35], 'children': [{'type': 'ImportSpecifier', 'name': 'conn_retry', 'range': [34, 34], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'HOST', 'range': [42, 52], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [43, 51], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [46, 51], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [44, 46], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [44, 44], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [46, 46], 'children': []}]}, {'type': 'StringLiteral', 'name': 'REDIS_HOST', 'range': [48, 48], 'children': []}, {'type': 'StringLiteral', 'name': 'localhost', 'range': [50, 50], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'PORT', 'range': [53, 66], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [54, 65], 'children': [{'type': 'CallExpression', 'name': 'int', 'range': [55, 65], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [59, 64], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [57, 59], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [57, 57], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [59, 59], 'children': []}]}, {'type': 'StringLiteral', 'name': 'REDIS_PORT', 'range': [61, 61], 'children': []}, {'type': 'StringLiteral', 'name': '6379', 'range': [63, 63], 'children': []}]}]}]}]}, {'type': 'VariableDeclaration', 'name': 'PASSWORD', 'range': [67, 77], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [68, 76], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [71, 76], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [69, 71], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [69, 69], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [71, 71], 'children': []}]}, {'type': 'StringLiteral', 'name': 'REDIS_PASSWORD', 'range': [73, 73], 'children': []}, {'type': 'StringLiteral', 'name': 'password', 'range': [75, 75], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [79, 87], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [80, 86], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [83, 86], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [81, 83], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [81, 81], 'children': []}, {'type': 'Identifier', 'name': 'getLogger', 'range': [83, 83], 'children': []}]}, {'type': 'Identifier', 'name': '__name__', 'range': [85, 85], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'connection', 'range': [88, 95], 'children': [{'type': 'TypeAnnotation', 'name': ':', 'range': [89, 92], 'children': [{'type': 'UnionType', 'name': '|', 'range': [91, 92], 'children': [{'type': 'Identifier', 'name': 'Redis', 'range': [90, 90], 'children': []}, {'type': 'Identifier', 'name': 'None', 'range': [92, 92], 'children': []}]}]}, {'type': 'AssignmentExpression', 'name': '=', 'range': [93, 94], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [94, 94], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'connection_async', 'range': [96, 103], 'children': [{'type': 'TypeAnnotation', 'name': ':', 'range': [97, 100], 'children': [{'type': 'UnionType', 'name': '|', 'range': [99, 100], 'children': [{'type': 'Identifier', 'name': 'AsyncRedis', 'range': [98, 98], 'children': []}, {'type': 'Identifier', 'name': 'None', 'range': [100, 100], 'children': []}]}]}, {'type': 'AssignmentExpression', 'name': '=', 'range': [101, 102], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [102, 102], 'children': []}]}]}]}
2025-01-08 10:24:05,716 - INFO - Starting Step 4: AST normalization
2025-01-08 10:24:40,713 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 5], 'children': [{'type': 'ImportSpecifier', 'name': 'os', 'range': [4, 4], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [7, 11], 'children': [{'type': 'ImportSpecifier', 'name': 'load_dotenv', 'range': [10, 10], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'Redis', 'range': [15, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 25], 'children': [{'type': 'ImportSpecifier', 'name': 'AsyncRedis', 'range': [24, 24], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 35], 'children': [{'type': 'ImportSpecifier', 'name': 'conn_retry', 'range': [34, 34], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'HOST', 'range': [42, 52], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [43, 51], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [46, 51], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [44, 46], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [44, 44], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [46, 46], 'children': []}]}, {'type': 'Literal', 'name': 'REDIS_HOST', 'range': [48, 48], 'children': []}, {'type': 'Literal', 'name': 'localhost', 'range': [50, 50], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'PORT', 'range': [53, 66], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [54, 65], 'children': [{'type': 'CallExpression', 'name': 'int', 'range': [55, 65], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [59, 64], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [57, 59], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [57, 57], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [59, 59], 'children': []}]}, {'type': 'Literal', 'name': 'REDIS_PORT', 'range': [61, 61], 'children': []}, {'type': 'Literal', 'name': '6379', 'range': [63, 63], 'children': []}]}]}]}]}, {'type': 'VariableDeclaration', 'name': 'PASSWORD', 'range': [67, 77], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [68, 76], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [71, 76], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [69, 71], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [69, 69], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [71, 71], 'children': []}]}, {'type': 'Literal', 'name': 'REDIS_PASSWORD', 'range': [73, 73], 'children': []}, {'type': 'Literal', 'name': 'password', 'range': [75, 75], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [79, 87], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [80, 86], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [83, 86], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [81, 83], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [81, 81], 'children': []}, {'type': 'Identifier', 'name': 'getLogger', 'range': [83, 83], 'children': []}]}, {'type': 'Identifier', 'name': '__name__', 'range': [85, 85], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'connection', 'range': [88, 95], 'children': [{'type': 'TypeAnnotation', 'name': ':', 'range': [89, 92], 'children': [{'type': 'UnionType', 'name': '|', 'range': [91, 92], 'children': [{'type': 'Identifier', 'name': 'Redis', 'range': [90, 90], 'children': []}, {'type': 'Identifier', 'name': 'None', 'range': [92, 92], 'children': []}]}]}, {'type': 'AssignmentExpression', 'name': '=', 'range': [93, 94], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [94, 94], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'connection_async', 'range': [96, 103], 'children': [{'type': 'TypeAnnotation', 'name': ':', 'range': [97, 100], 'children': [{'type': 'UnionType', 'name': '|', 'range': [99, 100], 'children': [{'type': 'Identifier', 'name': 'AsyncRedis', 'range': [98, 98], 'children': []}, {'type': 'Identifier', 'name': 'None', 'range': [100, 100], 'children': []}]}]}, {'type': 'AssignmentExpression', 'name': '=', 'range': [101, 102], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [102, 102], 'children': []}]}]}]}
2025-01-08 10:24:40,713 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:25:17,354 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainProgram', 'range': [0, 103], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 5], 'children': [{'type': 'ImportSpecifier', 'name': 'os', 'range': [4, 4], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [7, 11], 'children': [{'type': 'ImportSpecifier', 'name': 'load_dotenv', 'range': [10, 10], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'Redis', 'range': [15, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 25], 'children': [{'type': 'ImportSpecifier', 'name': 'AsyncRedis', 'range': [24, 24], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [27, 35], 'children': [{'type': 'ImportSpecifier', 'name': 'conn_retry', 'range': [34, 34], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'HOST', 'range': [42, 52], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [43, 51], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [46, 51], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [44, 46], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [44, 44], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [46, 46], 'children': []}]}, {'type': 'Literal', 'name': 'REDIS_HOST', 'range': [48, 48], 'children': []}, {'type': 'Literal', 'name': 'localhost', 'range': [50, 50], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'PORT', 'range': [53, 66], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [54, 65], 'children': [{'type': 'CallExpression', 'name': 'int', 'range': [55, 65], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [59, 64], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [57, 59], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [57, 57], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [59, 59], 'children': []}]}, {'type': 'Literal', 'name': 'REDIS_PORT', 'range': [61, 61], 'children': []}, {'type': 'Literal', 'name': '6379', 'range': [63, 63], 'children': []}]}]}]}]}, {'type': 'VariableDeclaration', 'name': 'PASSWORD', 'range': [67, 77], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [68, 76], 'children': [{'type': 'CallExpression', 'name': 'getenv', 'range': [71, 76], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [69, 71], 'children': [{'type': 'Identifier', 'name': 'os', 'range': [69, 69], 'children': []}, {'type': 'Identifier', 'name': 'getenv', 'range': [71, 71], 'children': []}]}, {'type': 'Literal', 'name': 'REDIS_PASSWORD', 'range': [73, 73], 'children': []}, {'type': 'Literal', 'name': 'password', 'range': [75, 75], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [79, 87], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [80, 86], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [83, 86], 'children': [{'type': 'MemberExpression', 'name': '.', 'range': [81, 83], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [81, 81], 'children': []}, {'type': 'Identifier', 'name': 'getLogger', 'range': [83, 83], 'children': []}]}, {'type': 'Identifier', 'name': '__name__', 'range': [85, 85], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'connection', 'range': [88, 95], 'children': [{'type': 'TypeAnnotation', 'name': ':', 'range': [89, 92], 'children': [{'type': 'UnionType', 'name': '|', 'range': [91, 92], 'children': [{'type': 'Identifier', 'name': 'Redis', 'range': [90, 90], 'children': []}, {'type': 'Identifier', 'name': 'None', 'range': [92, 92], 'children': []}]}]}, {'type': 'AssignmentExpression', 'name': '=', 'range': [93, 94], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [94, 94], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'connection_async', 'range': [96, 103], 'children': [{'type': 'TypeAnnotation', 'name': ':', 'range': [97, 100], 'children': [{'type': 'UnionType', 'name': '|', 'range': [99, 100], 'children': [{'type': 'Identifier', 'name': 'AsyncRedis', 'range': [98, 98], 'children': []}, {'type': 'Identifier', 'name': 'None', 'range': [100, 100], 'children': []}]}]}, {'type': 'AssignmentExpression', 'name': '=', 'range': [101, 102], 'children': [{'type': 'Identifier', 'name': 'None', 'range': [102, 102], 'children': []}]}]}]}
2025-01-08 10:25:17,354 - INFO - Completed main AST analysis flow
2025-01-08 10:25:17,354 - INFO - Successfully processed chunk
2025-01-08 10:25:17,380 - INFO - Starting code generation from AST
2025-01-08 10:25:26,804 - INFO - Successfully generated code from AST
2025-01-08 10:25:26,804 - INFO - Starting static code similarity comparison
2025-01-08 10:25:26,811 - INFO - Static similarity result: {'final_score': 99.17, 'length_similarity': 99.58, 'token_similarity': 100.0, 'structure_similarity': 96.92, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
