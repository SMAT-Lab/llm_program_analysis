2025-01-08 09:53:04,709 - INFO - Processing sample 90
2025-01-08 09:53:04,710 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 09:53:09,113 - INFO - Successfully split code into 5 top-level declarations
2025-01-08 09:53:09,117 - INFO - Processing chunk #0 (size=206 chars, start_index=0)
2025-01-08 09:53:09,117 - INFO - Processing chunk with 206 chars starting at index 0
2025-01-08 09:53:09,117 - INFO - Starting main AST analysis flow
2025-01-08 09:53:09,118 - INFO - Tokenized code into 43 tokens
2025-01-08 09:53:09,118 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:53:09,124 - INFO - Processing chunk #1 (size=1244 chars, start_index=43)
2025-01-08 09:53:09,134 - INFO - Processing chunk #2 (size=1986 chars, start_index=256)
2025-01-08 09:53:09,135 - INFO - Processing chunk with 1244 chars starting at index 43
2025-01-08 09:53:09,136 - INFO - Processing chunk #3 (size=1457 chars, start_index=604)
2025-01-08 09:53:09,136 - INFO - Processing chunk with 1986 chars starting at index 256
2025-01-08 09:53:09,138 - INFO - Starting main AST analysis flow
2025-01-08 09:53:09,137 - INFO - Starting main AST analysis flow
2025-01-08 09:53:09,138 - INFO - Processing chunk with 1457 chars starting at index 604
2025-01-08 09:53:09,137 - INFO - Processing chunk #4 (size=1919 chars, start_index=824)
2025-01-08 09:53:09,139 - INFO - Tokenized code into 348 tokens
2025-01-08 09:53:09,139 - INFO - Tokenized code into 213 tokens
2025-01-08 09:53:09,140 - INFO - Starting main AST analysis flow
2025-01-08 09:53:09,140 - INFO - Processing chunk with 1919 chars starting at index 824
2025-01-08 09:53:09,140 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:53:09,140 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:53:09,141 - INFO - Tokenized code into 220 tokens
2025-01-08 09:53:09,142 - INFO - Starting main AST analysis flow
2025-01-08 09:53:09,151 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:53:09,152 - INFO - Tokenized code into 343 tokens
2025-01-08 09:53:09,156 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:53:13,801 - INFO - Step 1 result: {'top_level_declarations': [{'type': 'ClassDeclaration', 'name': 'CountdownTimerBlock', 'range': [824, 830], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [831, 837], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [967, 973], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [988, 1078], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [1080, 1166], 'children': []}]}
2025-01-08 09:53:13,801 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:53:14,260 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 42], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 9], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [10, 16], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 32], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [33, 41], 'children': []}]}
2025-01-08 09:53:14,260 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:53:16,825 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [604, 823], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentDateAndTimeBlock', 'range': [604, 610], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [611, 617], 'children': []}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [618, 630], 'children': []}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [631, 649], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [651, 657], 'children': []}, {'type': 'VariableDeclaration', 'name': 'date_time', 'range': [658, 670], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [672, 787], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [789, 823], 'children': []}]}
2025-01-08 09:53:16,825 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:53:16,828 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [43, 255], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentTimeBlock', 'range': [43, 49], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [50, 56], 'children': []}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [57, 68], 'children': []}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [70, 85], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [88, 94], 'children': []}, {'type': 'VariableDeclaration', 'name': 'time', 'range': [95, 106], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [109, 219], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [221, 255], 'children': []}]}
2025-01-08 09:53:16,832 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:53:17,532 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [256, 603], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentDateBlock', 'range': [256, 262], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [263, 269], 'children': []}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [270, 281], 'children': []}, {'type': 'VariableDeclaration', 'name': 'offset', 'range': [283, 310], 'children': []}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [312, 327], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [330, 336], 'children': []}, {'type': 'VariableDeclaration', 'name': 'date', 'range': [337, 348], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [351, 536], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [538, 603], 'children': []}]}
2025-01-08 09:53:17,532 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:53:26,847 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'time', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 9], 'children': [{'type': 'ImportSpecifier', 'name': 'datetime', 'range': [4, 4], 'children': []}, {'type': 'ImportSpecifier', 'name': 'timedelta', 'range': [8, 8], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [10, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'Any', 'range': [13, 13], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Union', 'range': [15, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 32], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [25, 25], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [27, 27], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [29, 29], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [31, 31], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [33, 41], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [40, 40], 'children': []}]}]}
2025-01-08 09:53:26,848 - INFO - Starting Step 3: AST simplification
2025-01-08 09:53:38,743 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'time', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 9], 'children': [{'type': 'ImportSpecifier', 'name': 'datetime', 'range': [4, 4], 'children': []}, {'type': 'ImportSpecifier', 'name': 'timedelta', 'range': [8, 8], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [10, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'Any', 'range': [13, 13], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Union', 'range': [15, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 32], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [25, 25], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [27, 27], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [29, 29], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [31, 31], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [33, 41], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [40, 40], 'children': []}]}]}
2025-01-08 09:53:38,744 - INFO - Starting Step 4: AST normalization
2025-01-08 09:53:48,258 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [43, 255], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentTimeBlock', 'range': [43, 49], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [45, 47], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [50, 56], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [52, 54], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [57, 68], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [58, 59], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [60, 68], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [61, 68], 'children': [{'type': 'Argument', 'name': 'description', 'range': [64, 66], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [70, 85], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [71, 72], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [73, 85], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [74, 85], 'children': [{'type': 'Argument', 'name': 'description', 'range': [77, 79], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [81, 83], 'children': []}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [88, 94], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [90, 92], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'time', 'range': [95, 106], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [96, 97], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [98, 106], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [99, 106], 'children': [{'type': 'Argument', 'name': 'description', 'range': [102, 104], 'children': []}]}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [109, 219], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [112, 113], 'children': []}, {'type': 'FunctionCall', 'name': 'super', 'range': [116, 218], 'children': [{'type': 'Argument', 'name': 'id', 'range': [123, 125], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [128, 130], 'children': []}, {'type': 'Argument', 'name': 'categories', 'range': [133, 139], 'children': []}, {'type': 'Argument', 'name': 'input_schema', 'range': [142, 147], 'children': []}, {'type': 'Argument', 'name': 'output_schema', 'range': [149, 154], 'children': []}, {'type': 'Argument', 'name': 'test_input', 'range': [156, 178], 'children': []}, {'type': 'Argument', 'name': 'test_output', 'range': [181, 215], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [221, 255], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [224, 225], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [226, 228], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [230, 233], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [235, 236], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [239, 249], 'children': [{'type': 'FunctionCall', 'name': 'time.strftime', 'range': [241, 248], 'children': [{'type': 'Argument', 'name': 'input_data.format', 'range': [245, 247], 'children': []}]}]}, {'type': 'Yield', 'name': 'yield', 'range': [250, 254], 'children': [{'type': 'Literal', 'name': '"time"', 'range': [251, 251], 'children': []}, {'type': 'Identifier', 'name': 'current_time', 'range': [253, 253], 'children': []}]}]}]}
2025-01-08 09:53:48,258 - INFO - Starting Step 3: AST simplification
2025-01-08 09:53:50,256 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'time', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 9], 'children': [{'type': 'ImportSpecifier', 'name': 'datetime', 'range': [4, 4], 'children': []}, {'type': 'ImportSpecifier', 'name': 'timedelta', 'range': [8, 8], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [10, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'Any', 'range': [13, 13], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Union', 'range': [15, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 32], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [25, 25], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [27, 27], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [29, 29], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [31, 31], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [33, 41], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [40, 40], 'children': []}]}]}
2025-01-08 09:53:50,256 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:53:56,155 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [604, 823], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentDateAndTimeBlock', 'range': [604, 610], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [606, 608], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [611, 617], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [613, 615], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [618, 630], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [620, 620], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [621, 621], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [622, 629], 'children': [{'type': 'Argument', 'name': 'description', 'range': [625, 627], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [631, 649], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [633, 633], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [634, 634], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [635, 648], 'children': [{'type': 'Argument', 'name': 'description', 'range': [638, 640], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [643, 645], 'children': []}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [651, 657], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [653, 655], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'date_time', 'range': [658, 670], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [660, 660], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [661, 661], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [662, 669], 'children': [{'type': 'Argument', 'name': 'description', 'range': [665, 667], 'children': []}]}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [672, 787], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [675, 675], 'children': []}, {'type': 'FunctionCall', 'name': 'super', 'range': [679, 685], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [687, 687], 'children': [{'type': 'StringLiteral', 'name': '"716a67b3-6760-42e7-86dc-18645c6e00fc"', 'range': [688, 688], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [692, 692], 'children': [{'type': 'StringLiteral', 'name': '"This block outputs the current date and time."', 'range': [693, 693], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [697, 697], 'children': [{'type': 'ObjectLiteral', 'name': '{BlockCategory.TEXT}', 'range': [698, 702], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [706, 706], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateAndTimeBlock.Input', 'range': [707, 710], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [713, 713], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateAndTimeBlock.Output', 'range': [714, 717], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [720, 720], 'children': [{'type': 'ArrayLiteral', 'name': '[{"trigger":"Hello"}]', 'range': [721, 730], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [734, 734], 'children': [{'type': 'ArrayLiteral', 'name': '[("date_time",lambda t: abs(datetime.now() - datetime.strptime(t, "%Y-%m-%d %H:%M:%S")) < timedelta(seconds=10))]', 'range': [735, 783], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [789, 823], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [792, 792], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [794, 794], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [796, 796], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [800, 800], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [804, 804], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [808, 808], 'children': [{'type': 'FunctionCall', 'name': 'time.strftime', 'range': [809, 816], 'children': [{'type': 'Argument', 'name': 'input_data.format', 'range': [813, 815], 'children': []}]}]}, {'type': 'Yield', 'name': 'yield', 'range': [818, 818], 'children': [{'type': 'StringLiteral', 'name': '"date_time"', 'range': [819, 819], 'children': []}, {'type': 'Identifier', 'name': 'current_date_time', 'range': [821, 821], 'children': []}]}]}]}
2025-01-08 09:53:56,155 - INFO - Starting Step 3: AST simplification
2025-01-08 09:53:58,358 - INFO - Step 2 result: {'top_level_declarations': [{'type': 'ClassDeclaration', 'name': 'CountdownTimerBlock', 'range': [824, 830], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [826, 828], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [831, 837], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [833, 835], 'children': []}, {'type': 'FieldDeclaration', 'name': 'input_message', 'range': [838, 860], 'children': [{'type': 'TypeAnnotation', 'name': 'Any', 'range': [839, 840], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [841, 860], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [845, 847], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [850, 852], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [855, 857], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'seconds', 'range': [862, 886], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [863, 869], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [870, 886], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [874, 876], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [879, 881], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [882, 884], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'minutes', 'range': [888, 912], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [889, 895], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [896, 912], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [900, 902], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [905, 907], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [908, 910], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'hours', 'range': [914, 938], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [915, 921], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [922, 938], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [926, 928], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [930, 932], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [934, 936], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'days', 'range': [940, 964], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [941, 947], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [948, 964], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [952, 954], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [956, 958], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [960, 962], 'children': []}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [967, 973], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [969, 971], 'children': []}, {'type': 'FieldDeclaration', 'name': 'output_message', 'range': [974, 985], 'children': [{'type': 'TypeAnnotation', 'name': 'Any', 'range': [975, 976], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [977, 985], 'children': [{'type': 'Argument', 'name': 'description', 'range': [981, 983], 'children': []}]}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [988, 1078], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [991, 992], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [995, 1000], 'children': []}, {'type': 'Assignment', 'name': 'id', 'range': [1002, 1004], 'children': []}, {'type': 'Assignment', 'name': 'description', 'range': [1007, 1009], 'children': []}, {'type': 'Assignment', 'name': 'categories', 'range': [1012, 1018], 'children': []}, {'type': 'Assignment', 'name': 'input_schema', 'range': [1021, 1025], 'children': []}, {'type': 'Assignment', 'name': 'output_schema', 'range': [1028, 1032], 'children': []}, {'type': 'Assignment', 'name': 'test_input', 'range': [1035, 1053], 'children': []}, {'type': 'Assignment', 'name': 'test_output', 'range': [1056, 1074], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [1080, 1166], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [1083, 1084], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [1085, 1087], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [1089, 1091], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [1093, 1095], 'children': []}, {'type': 'Assignment', 'name': 'seconds', 'range': [1098, 1105], 'children': []}, {'type': 'Assignment', 'name': 'minutes', 'range': [1107, 1114], 'children': []}, {'type': 'Assignment', 'name': 'hours', 'range': [1116, 1123], 'children': []}, {'type': 'Assignment', 'name': 'days', 'range': [1125, 1132], 'children': []}, {'type': 'Assignment', 'name': 'total_seconds', 'range': [1135, 1149], 'children': []}, {'type': 'FunctionCall', 'name': 'time.sleep', 'range': [1152, 1157], 'children': []}, {'type': 'Yield', 'name': 'yield', 'range': [1159, 1165], 'children': []}]}]}
2025-01-08 09:53:58,358 - INFO - Starting Step 3: AST simplification
2025-01-08 09:54:01,753 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainOrSomething', 'range': [0, 41], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'time', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [3, 9], 'children': [{'type': 'ImportSpecifier', 'name': 'datetime', 'range': [4, 4], 'children': []}, {'type': 'ImportSpecifier', 'name': 'timedelta', 'range': [8, 8], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [10, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'Any', 'range': [13, 13], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Union', 'range': [15, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 32], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [25, 25], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [27, 27], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [29, 29], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [31, 31], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [33, 41], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [40, 40], 'children': []}]}]}]}
2025-01-08 09:54:01,753 - INFO - Completed main AST analysis flow
2025-01-08 09:54:01,754 - INFO - Successfully processed chunk
2025-01-08 09:54:07,583 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [256, 603], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentDateBlock', 'range': [256, 262], 'children': [{'type': 'ClassBody', 'name': '', 'range': [262, 262], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [263, 269], 'children': [{'type': 'ClassBody', 'name': '', 'range': [269, 269], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [270, 281], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [272, 272], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [273, 273], 'children': [{'type': 'SchemaFieldCall', 'name': 'SchemaField', 'range': [274, 281], 'children': [{'type': 'Argument', 'name': 'description', 'range': [277, 279], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'offset', 'range': [283, 310], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [285, 290], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [291, 291], 'children': [{'type': 'SchemaFieldCall', 'name': 'SchemaField', 'range': [292, 310], 'children': [{'type': 'Argument', 'name': 'title', 'range': [295, 297], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [300, 302], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [305, 307], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [312, 327], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [314, 314], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [315, 315], 'children': [{'type': 'SchemaFieldCall', 'name': 'SchemaField', 'range': [316, 327], 'children': [{'type': 'Argument', 'name': 'description', 'range': [319, 321], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [323, 325], 'children': []}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [330, 336], 'children': [{'type': 'ClassBody', 'name': '', 'range': [336, 336], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'date', 'range': [337, 348], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [339, 339], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [340, 340], 'children': [{'type': 'SchemaFieldCall', 'name': 'SchemaField', 'range': [341, 348], 'children': [{'type': 'Argument', 'name': 'description', 'range': [344, 346], 'children': []}]}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [351, 536], 'children': [{'type': 'FunctionBody', 'name': '', 'range': [357, 536], 'children': [{'type': 'SuperCall', 'name': 'super', 'range': [358, 364], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [366, 366], 'children': [{'type': 'StringLiteral', 'name': '"b29c1b50-5d0e-4d9f-8f9d-1b0e6fcbf0b1"', 'range': [367, 367], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [371, 371], 'children': [{'type': 'StringLiteral', 'name': '"This block outputs the current date with an optional offset."', 'range': [372, 372], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [376, 376], 'children': [{'type': 'ObjectLiteral', 'name': '{BlockCategory.TEXT}', 'range': [377, 381], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [385, 385], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateBlock.Input', 'range': [386, 389], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [392, 392], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateBlock.Output', 'range': [393, 396], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [399, 399], 'children': [{'type': 'ArrayLiteral', 'name': '[{...}, {...}]', 'range': [400, 428], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [432, 432], 'children': [{'type': 'ArrayLiteral', 'name': '[lambda t: abs(datetime.now() - datetime.strptime(t, "%Y-%m-%d")) < timedelta(days=8), lambda t: abs(datetime.now() - datetime.strptime(t, "%m/%d/%Y")) < timedelta(days=8)]', 'range': [433, 532], 'children': []}]}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [538, 603], 'children': [{'type': 'FunctionBody', 'name': '', 'range': [555, 603], 'children': [{'type': 'TryStatement', 'name': 'try', 'range': [556, 575], 'children': [{'type': 'Block', 'name': '', 'range': [557, 567], 'children': [{'type': 'Assignment', 'name': '=', 'range': [560, 560], 'children': [{'type': 'CallExpression', 'name': 'int', 'range': [561, 566], 'children': [{'type': 'MemberExpression', 'name': 'input_data.offset', 'range': [563, 565], 'children': []}]}]}]}, {'type': 'CatchClause', 'name': 'except ValueError', 'range': [568, 575], 'children': [{'type': 'Block', 'name': '', 'range': [571, 575], 'children': [{'type': 'Assignment', 'name': '=', 'range': [573, 573], 'children': [{'type': 'NumericLiteral', 'name': '0', 'range': [574, 574], 'children': []}]}]}]}]}, {'type': 'Assignment', 'name': '=', 'range': [577, 577], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [583, 589], 'children': [{'type': 'CallExpression', 'name': 'datetime.now', 'range': [578, 582], 'children': []}, {'type': 'CallExpression', 'name': 'timedelta', 'range': [584, 589], 'children': [{'type': 'Argument', 'name': 'days', 'range': [586, 588], 'children': []}]}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [591, 602], 'children': [{'type': 'StringLiteral', 'name': '"date"', 'range': [592, 592], 'children': []}, {'type': 'CallExpression', 'name': 'current_date.strftime', 'range': [595, 601], 'children': [{'type': 'MemberExpression', 'name': 'input_data.format', 'range': [598, 600], 'children': []}]}]}]}]}]}
2025-01-08 09:54:07,583 - INFO - Starting Step 3: AST simplification
2025-01-08 09:54:18,981 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [43, 255], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentTimeBlock', 'range': [43, 49], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [45, 47], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [50, 56], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [52, 54], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [57, 68], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [58, 59], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [60, 68], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [61, 68], 'children': [{'type': 'Argument', 'name': 'description', 'range': [64, 66], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [70, 85], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [71, 72], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [73, 85], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [74, 85], 'children': [{'type': 'Argument', 'name': 'description', 'range': [77, 79], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [81, 83], 'children': []}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [88, 94], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [90, 92], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'time', 'range': [95, 106], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [96, 97], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [98, 106], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [99, 106], 'children': [{'type': 'Argument', 'name': 'description', 'range': [102, 104], 'children': []}]}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [109, 219], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [112, 113], 'children': []}, {'type': 'FunctionCall', 'name': 'super', 'range': [116, 218], 'children': [{'type': 'Argument', 'name': 'id', 'range': [123, 125], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [128, 130], 'children': []}, {'type': 'Argument', 'name': 'categories', 'range': [133, 139], 'children': []}, {'type': 'Argument', 'name': 'input_schema', 'range': [142, 147], 'children': []}, {'type': 'Argument', 'name': 'output_schema', 'range': [149, 154], 'children': []}, {'type': 'Argument', 'name': 'test_input', 'range': [156, 178], 'children': []}, {'type': 'Argument', 'name': 'test_output', 'range': [181, 215], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [221, 255], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [224, 225], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [226, 228], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [230, 233], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [235, 236], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [239, 249], 'children': [{'type': 'FunctionCall', 'name': 'time.strftime', 'range': [241, 248], 'children': [{'type': 'Argument', 'name': 'input_data.format', 'range': [245, 247], 'children': []}]}]}, {'type': 'Yield', 'name': 'yield', 'range': [250, 254], 'children': [{'type': 'Literal', 'name': '"time"', 'range': [251, 251], 'children': []}, {'type': 'Identifier', 'name': 'current_time', 'range': [253, 253], 'children': []}]}]}]}
2025-01-08 09:54:18,981 - INFO - Starting Step 4: AST normalization
2025-01-08 09:54:34,485 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [604, 823], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentDateAndTimeBlock', 'range': [604, 610], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [606, 608], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [611, 617], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [613, 615], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [618, 630], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [620, 620], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [621, 621], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [622, 629], 'children': [{'type': 'Argument', 'name': 'description', 'range': [625, 627], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [631, 649], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [633, 633], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [634, 634], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [635, 648], 'children': [{'type': 'Argument', 'name': 'description', 'range': [638, 640], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [643, 645], 'children': []}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [651, 657], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [653, 655], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'date_time', 'range': [658, 670], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [660, 660], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [661, 661], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [662, 669], 'children': [{'type': 'Argument', 'name': 'description', 'range': [665, 667], 'children': []}]}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [672, 787], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [675, 675], 'children': []}, {'type': 'FunctionCall', 'name': 'super', 'range': [679, 685], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [687, 687], 'children': [{'type': 'StringLiteral', 'name': '"716a67b3-6760-42e7-86dc-18645c6e00fc"', 'range': [688, 688], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [692, 692], 'children': [{'type': 'StringLiteral', 'name': '"This block outputs the current date and time."', 'range': [693, 693], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [697, 697], 'children': [{'type': 'ObjectLiteral', 'name': '{BlockCategory.TEXT}', 'range': [698, 702], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [706, 706], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateAndTimeBlock.Input', 'range': [707, 710], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [713, 713], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateAndTimeBlock.Output', 'range': [714, 717], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [720, 720], 'children': [{'type': 'ArrayLiteral', 'name': '[{"trigger":"Hello"}]', 'range': [721, 730], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [734, 734], 'children': [{'type': 'ArrayLiteral', 'name': '[("date_time",lambda t: abs(datetime.now() - datetime.strptime(t, "%Y-%m-%d %H:%M:%S")) < timedelta(seconds=10))]', 'range': [735, 783], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [789, 823], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [792, 792], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [794, 794], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [796, 796], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [800, 800], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [804, 804], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [808, 808], 'children': [{'type': 'FunctionCall', 'name': 'time.strftime', 'range': [809, 816], 'children': [{'type': 'Argument', 'name': 'input_data.format', 'range': [813, 815], 'children': []}]}]}, {'type': 'Yield', 'name': 'yield', 'range': [818, 818], 'children': [{'type': 'StringLiteral', 'name': '"date_time"', 'range': [819, 819], 'children': []}, {'type': 'Identifier', 'name': 'current_date_time', 'range': [821, 821], 'children': []}]}]}]}
2025-01-08 09:54:34,486 - INFO - Starting Step 4: AST normalization
2025-01-08 09:54:41,825 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [256, 603], 'children': [{'type': 'ClassDeclaration', 'name': 'GetCurrentDateBlock', 'range': [256, 262], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [263, 269], 'children': []}, {'type': 'VariableDeclaration', 'name': 'trigger', 'range': [270, 281], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [272, 272], 'children': []}, {'type': 'SchemaFieldCall', 'name': 'SchemaField', 'range': [274, 281], 'children': [{'type': 'Argument', 'name': 'description', 'range': [277, 279], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'offset', 'range': [283, 310], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [285, 290], 'children': []}, {'type': 'SchemaFieldCall', 'name': 'SchemaField', 'range': [292, 310], 'children': [{'type': 'Argument', 'name': 'title', 'range': [295, 297], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [300, 302], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [305, 307], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'format', 'range': [312, 327], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [314, 314], 'children': []}, {'type': 'SchemaFieldCall', 'name': 'SchemaField', 'range': [316, 327], 'children': [{'type': 'Argument', 'name': 'description', 'range': [319, 321], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [323, 325], 'children': []}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [330, 336], 'children': []}, {'type': 'VariableDeclaration', 'name': 'date', 'range': [337, 348], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [339, 339], 'children': []}, {'type': 'SchemaFieldCall', 'name': 'SchemaField', 'range': [341, 348], 'children': [{'type': 'Argument', 'name': 'description', 'range': [344, 346], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [351, 536], 'children': [{'type': 'SuperCall', 'name': 'super', 'range': [358, 364], 'children': []}, {'type': 'StringLiteral', 'name': '"b29c1b50-5d0e-4d9f-8f9d-1b0e6fcbf0b1"', 'range': [367, 367], 'children': []}, {'type': 'StringLiteral', 'name': '"This block outputs the current date with an optional offset."', 'range': [372, 372], 'children': []}, {'type': 'ObjectLiteral', 'name': '{BlockCategory.TEXT}', 'range': [377, 381], 'children': []}, {'type': 'MemberExpression', 'name': 'GetCurrentDateBlock.Input', 'range': [386, 389], 'children': []}, {'type': 'MemberExpression', 'name': 'GetCurrentDateBlock.Output', 'range': [393, 396], 'children': []}, {'type': 'ArrayLiteral', 'name': '[{...}, {...}]', 'range': [400, 428], 'children': []}, {'type': 'ArrayLiteral', 'name': '[lambda t: abs(datetime.now() - datetime.strptime(t, "%Y-%m-%d")) < timedelta(days=8), lambda t: abs(datetime.now() - datetime.strptime(t, "%m/%d/%Y")) < timedelta(days=8)]', 'range': [433, 532], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [538, 603], 'children': [{'type': 'TryStatement', 'name': 'try', 'range': [556, 575], 'children': [{'type': 'CallExpression', 'name': 'int', 'range': [561, 566], 'children': [{'type': 'MemberExpression', 'name': 'input_data.offset', 'range': [563, 565], 'children': []}]}, {'type': 'NumericLiteral', 'name': '0', 'range': [574, 574], 'children': []}]}, {'type': 'BinaryExpression', 'name': '-', 'range': [583, 589], 'children': [{'type': 'CallExpression', 'name': 'datetime.now', 'range': [578, 582], 'children': []}, {'type': 'CallExpression', 'name': 'timedelta', 'range': [584, 589], 'children': [{'type': 'Argument', 'name': 'days', 'range': [586, 588], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [591, 602], 'children': [{'type': 'StringLiteral', 'name': '"date"', 'range': [592, 592], 'children': []}, {'type': 'CallExpression', 'name': 'current_date.strftime', 'range': [595, 601], 'children': [{'type': 'MemberExpression', 'name': 'input_data.format', 'range': [598, 600], 'children': []}]}]}]}]}
2025-01-08 09:54:41,825 - INFO - Starting Step 4: AST normalization
2025-01-08 09:54:41,921 - INFO - Step 3 result: {'top_level_declarations': [{'type': 'ClassDeclaration', 'name': 'CountdownTimerBlock', 'range': [824, 830], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [826, 828], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [831, 837], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [833, 835], 'children': []}, {'type': 'FieldDeclaration', 'name': 'input_message', 'range': [838, 860], 'children': [{'type': 'TypeAnnotation', 'name': 'Any', 'range': [839, 840], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [841, 860], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [845, 847], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [850, 852], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [855, 857], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'seconds', 'range': [862, 886], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [863, 869], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [870, 886], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [874, 876], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [879, 881], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [882, 884], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'minutes', 'range': [888, 912], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [889, 895], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [896, 912], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [900, 902], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [905, 907], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [908, 910], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'hours', 'range': [914, 938], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [915, 921], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [922, 938], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [926, 928], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [930, 932], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [934, 936], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'days', 'range': [940, 964], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [941, 947], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [948, 964], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [952, 954], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [956, 958], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [960, 962], 'children': []}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [967, 973], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [969, 971], 'children': []}, {'type': 'FieldDeclaration', 'name': 'output_message', 'range': [974, 985], 'children': [{'type': 'TypeAnnotation', 'name': 'Any', 'range': [975, 976], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [977, 985], 'children': [{'type': 'Argument', 'name': 'description', 'range': [981, 983], 'children': []}]}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [988, 1078], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [991, 992], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [995, 1000], 'children': []}, {'type': 'Assignment', 'name': 'id', 'range': [1002, 1004], 'children': []}, {'type': 'Assignment', 'name': 'description', 'range': [1007, 1009], 'children': []}, {'type': 'Assignment', 'name': 'categories', 'range': [1012, 1018], 'children': []}, {'type': 'Assignment', 'name': 'input_schema', 'range': [1021, 1025], 'children': []}, {'type': 'Assignment', 'name': 'output_schema', 'range': [1028, 1032], 'children': []}, {'type': 'Assignment', 'name': 'test_input', 'range': [1035, 1053], 'children': []}, {'type': 'Assignment', 'name': 'test_output', 'range': [1056, 1074], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [1080, 1166], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [1083, 1084], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [1085, 1087], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [1089, 1091], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [1093, 1095], 'children': []}, {'type': 'Assignment', 'name': 'seconds', 'range': [1098, 1105], 'children': []}, {'type': 'Assignment', 'name': 'minutes', 'range': [1107, 1114], 'children': []}, {'type': 'Assignment', 'name': 'hours', 'range': [1116, 1123], 'children': []}, {'type': 'Assignment', 'name': 'days', 'range': [1125, 1132], 'children': []}, {'type': 'Assignment', 'name': 'total_seconds', 'range': [1135, 1149], 'children': []}, {'type': 'FunctionCall', 'name': 'time.sleep', 'range': [1152, 1157], 'children': []}, {'type': 'Yield', 'name': 'yield', 'range': [1159, 1165], 'children': []}]}]}
2025-01-08 09:54:41,922 - INFO - Starting Step 4: AST normalization
2025-01-08 09:54:49,004 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [43, 255], 'children': [{'type': 'ClassDecl', 'name': 'GetCurrentTimeBlock', 'range': [43, 49], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [45, 47], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [50, 56], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [52, 54], 'children': []}]}, {'type': 'VariableDecl', 'name': 'trigger', 'range': [57, 68], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [58, 59], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [60, 68], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [61, 68], 'children': [{'type': 'Argument', 'name': 'description', 'range': [64, 66], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'format', 'range': [70, 85], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [71, 72], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [73, 85], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [74, 85], 'children': [{'type': 'Argument', 'name': 'description', 'range': [77, 79], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [81, 83], 'children': []}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [88, 94], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [90, 92], 'children': []}]}, {'type': 'VariableDecl', 'name': 'time', 'range': [95, 106], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [96, 97], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [98, 106], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [99, 106], 'children': [{'type': 'Argument', 'name': 'description', 'range': [102, 104], 'children': []}]}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [109, 219], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [112, 113], 'children': []}, {'type': 'CallExpression', 'name': 'super', 'range': [116, 218], 'children': [{'type': 'Argument', 'name': 'id', 'range': [123, 125], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [128, 130], 'children': []}, {'type': 'Argument', 'name': 'categories', 'range': [133, 139], 'children': []}, {'type': 'Argument', 'name': 'input_schema', 'range': [142, 147], 'children': []}, {'type': 'Argument', 'name': 'output_schema', 'range': [149, 154], 'children': []}, {'type': 'Argument', 'name': 'test_input', 'range': [156, 178], 'children': []}, {'type': 'Argument', 'name': 'test_output', 'range': [181, 215], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [221, 255], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [224, 225], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [226, 228], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [230, 233], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [235, 236], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [239, 249], 'children': [{'type': 'CallExpression', 'name': 'time.strftime', 'range': [241, 248], 'children': [{'type': 'Argument', 'name': 'input_data.format', 'range': [245, 247], 'children': []}]}]}, {'type': 'Yield', 'name': 'yield', 'range': [250, 254], 'children': [{'type': 'Literal', 'name': '"time"', 'range': [251, 251], 'children': []}, {'type': 'Identifier', 'name': 'current_time', 'range': [253, 253], 'children': []}]}]}]}
2025-01-08 09:54:49,004 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:55:11,921 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [604, 823], 'children': [{'type': 'ClassDecl', 'name': 'GetCurrentDateAndTimeBlock', 'range': [604, 610], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [606, 608], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [611, 617], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [613, 615], 'children': []}]}, {'type': 'VariableDecl', 'name': 'trigger', 'range': [618, 630], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [620, 620], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [621, 621], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [622, 629], 'children': [{'type': 'Argument', 'name': 'description', 'range': [625, 627], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'format', 'range': [631, 649], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [633, 633], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [634, 634], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [635, 648], 'children': [{'type': 'Argument', 'name': 'description', 'range': [638, 640], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [643, 645], 'children': []}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [651, 657], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [653, 655], 'children': []}]}, {'type': 'VariableDecl', 'name': 'date_time', 'range': [658, 670], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [660, 660], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [661, 661], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [662, 669], 'children': [{'type': 'Argument', 'name': 'description', 'range': [665, 667], 'children': []}]}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [672, 787], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [675, 675], 'children': []}, {'type': 'CallExpression', 'name': 'super', 'range': [679, 685], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [687, 687], 'children': [{'type': 'Literal', 'name': '"716a67b3-6760-42e7-86dc-18645c6e00fc"', 'range': [688, 688], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [692, 692], 'children': [{'type': 'Literal', 'name': '"This block outputs the current date and time."', 'range': [693, 693], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [697, 697], 'children': [{'type': 'ObjectLiteral', 'name': '{BlockCategory.TEXT}', 'range': [698, 702], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [706, 706], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateAndTimeBlock.Input', 'range': [707, 710], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [713, 713], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateAndTimeBlock.Output', 'range': [714, 717], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [720, 720], 'children': [{'type': 'ArrayLiteral', 'name': '[{"trigger":"Hello"}]', 'range': [721, 730], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [734, 734], 'children': [{'type': 'ArrayLiteral', 'name': '[("date_time",lambda t: abs(datetime.now() - datetime.strptime(t, "%Y-%m-%d %H:%M:%S")) < timedelta(seconds=10))]', 'range': [735, 783], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [789, 823], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [792, 792], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [794, 794], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [796, 796], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [800, 800], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [804, 804], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [808, 808], 'children': [{'type': 'CallExpression', 'name': 'time.strftime', 'range': [809, 816], 'children': [{'type': 'Argument', 'name': 'input_data.format', 'range': [813, 815], 'children': []}]}]}, {'type': 'Yield', 'name': 'yield', 'range': [818, 818], 'children': [{'type': 'Literal', 'name': '"date_time"', 'range': [819, 819], 'children': []}, {'type': 'Identifier', 'name': 'current_date_time', 'range': [821, 821], 'children': []}]}]}]}
2025-01-08 09:55:11,921 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:55:16,223 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [256, 603], 'children': [{'type': 'ClassDecl', 'name': 'GetCurrentDateBlock', 'range': [256, 262], 'children': []}, {'type': 'ClassDecl', 'name': 'Input', 'range': [263, 269], 'children': []}, {'type': 'VariableDecl', 'name': 'trigger', 'range': [270, 281], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [272, 272], 'children': []}, {'type': 'CallExpression', 'name': 'SchemaField', 'range': [274, 281], 'children': [{'type': 'Argument', 'name': 'description', 'range': [277, 279], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'offset', 'range': [283, 310], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [285, 290], 'children': []}, {'type': 'CallExpression', 'name': 'SchemaField', 'range': [292, 310], 'children': [{'type': 'Argument', 'name': 'title', 'range': [295, 297], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [300, 302], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [305, 307], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'format', 'range': [312, 327], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [314, 314], 'children': []}, {'type': 'CallExpression', 'name': 'SchemaField', 'range': [316, 327], 'children': [{'type': 'Argument', 'name': 'description', 'range': [319, 321], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [323, 325], 'children': []}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [330, 336], 'children': []}, {'type': 'VariableDecl', 'name': 'date', 'range': [337, 348], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [339, 339], 'children': []}, {'type': 'CallExpression', 'name': 'SchemaField', 'range': [341, 348], 'children': [{'type': 'Argument', 'name': 'description', 'range': [344, 346], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [351, 536], 'children': [{'type': 'CallExpression', 'name': 'super', 'range': [358, 364], 'children': []}, {'type': 'Literal', 'name': '"b29c1b50-5d0e-4d9f-8f9d-1b0e6fcbf0b1"', 'range': [367, 367], 'children': []}, {'type': 'Literal', 'name': '"This block outputs the current date with an optional offset."', 'range': [372, 372], 'children': []}, {'type': 'ObjectLiteral', 'name': '{BlockCategory.TEXT}', 'range': [377, 381], 'children': []}, {'type': 'MemberExpression', 'name': 'GetCurrentDateBlock.Input', 'range': [386, 389], 'children': []}, {'type': 'MemberExpression', 'name': 'GetCurrentDateBlock.Output', 'range': [393, 396], 'children': []}, {'type': 'ArrayLiteral', 'name': '[{...}, {...}]', 'range': [400, 428], 'children': []}, {'type': 'ArrayLiteral', 'name': '[lambda t: abs(datetime.now() - datetime.strptime(t, "%Y-%m-%d")) < timedelta(days=8), lambda t: abs(datetime.now() - datetime.strptime(t, "%m/%d/%Y")) < timedelta(days=8)]', 'range': [433, 532], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [538, 603], 'children': [{'type': 'TryStatement', 'name': 'try', 'range': [556, 575], 'children': [{'type': 'CallExpression', 'name': 'int', 'range': [561, 566], 'children': [{'type': 'MemberExpression', 'name': 'input_data.offset', 'range': [563, 565], 'children': []}]}, {'type': 'Literal', 'name': '0', 'range': [574, 574], 'children': []}]}, {'type': 'BinaryExpression', 'name': '-', 'range': [583, 589], 'children': [{'type': 'CallExpression', 'name': 'datetime.now', 'range': [578, 582], 'children': []}, {'type': 'CallExpression', 'name': 'timedelta', 'range': [584, 589], 'children': [{'type': 'Argument', 'name': 'days', 'range': [586, 588], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [591, 602], 'children': [{'type': 'Literal', 'name': '"date"', 'range': [592, 592], 'children': []}, {'type': 'CallExpression', 'name': 'current_date.strftime', 'range': [595, 601], 'children': [{'type': 'MemberExpression', 'name': 'input_data.format', 'range': [598, 600], 'children': []}]}]}]}]}
2025-01-08 09:55:16,223 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:55:19,673 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainProgram', 'range': [43, 255], 'children': [{'type': 'ClassDecl', 'name': 'GetCurrentTimeBlock', 'range': [43, 49], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [45, 47], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [50, 56], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [52, 54], 'children': []}]}, {'type': 'VariableDecl', 'name': 'trigger', 'range': [57, 68], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [58, 59], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [60, 68], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [61, 68], 'children': [{'type': 'Argument', 'name': 'description', 'range': [64, 66], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'format', 'range': [70, 85], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [71, 72], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [73, 85], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [74, 85], 'children': [{'type': 'Argument', 'name': 'description', 'range': [77, 79], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [81, 83], 'children': []}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [88, 94], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [90, 92], 'children': []}]}, {'type': 'VariableDecl', 'name': 'time', 'range': [95, 106], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [96, 97], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [98, 106], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [99, 106], 'children': [{'type': 'Argument', 'name': 'description', 'range': [102, 104], 'children': []}]}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [109, 219], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [112, 113], 'children': []}, {'type': 'CallExpression', 'name': 'super', 'range': [116, 218], 'children': [{'type': 'Argument', 'name': 'id', 'range': [123, 125], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [128, 130], 'children': []}, {'type': 'Argument', 'name': 'categories', 'range': [133, 139], 'children': []}, {'type': 'Argument', 'name': 'input_schema', 'range': [142, 147], 'children': []}, {'type': 'Argument', 'name': 'output_schema', 'range': [149, 154], 'children': []}, {'type': 'Argument', 'name': 'test_input', 'range': [156, 178], 'children': []}, {'type': 'Argument', 'name': 'test_output', 'range': [181, 215], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [221, 255], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [224, 225], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [226, 228], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [230, 233], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [235, 236], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [239, 249], 'children': [{'type': 'CallExpression', 'name': 'time.strftime', 'range': [241, 248], 'children': [{'type': 'Argument', 'name': 'input_data.format', 'range': [245, 247], 'children': []}]}]}, {'type': 'Yield', 'name': 'yield', 'range': [250, 254], 'children': [{'type': 'Literal', 'name': '"time"', 'range': [251, 251], 'children': []}, {'type': 'Identifier', 'name': 'current_time', 'range': [253, 253], 'children': []}]}]}]}
2025-01-08 09:55:19,673 - INFO - Completed main AST analysis flow
2025-01-08 09:55:19,673 - INFO - Successfully processed chunk
2025-01-08 09:55:25,248 - INFO - Step 4 result: {'top_level_declarations': [{'type': 'ClassDecl', 'name': 'CountdownTimerBlock', 'range': [824, 830], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [826, 828], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [831, 837], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [833, 835], 'children': []}, {'type': 'FieldDecl', 'name': 'input_message', 'range': [838, 860], 'children': [{'type': 'TypeAnnotation', 'name': 'Any', 'range': [839, 840], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [841, 860], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [845, 847], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [850, 852], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [855, 857], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'seconds', 'range': [862, 886], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [863, 869], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [870, 886], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [874, 876], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [879, 881], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [882, 884], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'minutes', 'range': [888, 912], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [889, 895], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [896, 912], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [900, 902], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [905, 907], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [908, 910], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'hours', 'range': [914, 938], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [915, 921], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [922, 938], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [926, 928], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [930, 932], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [934, 936], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'days', 'range': [940, 964], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [941, 947], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [948, 964], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [952, 954], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [956, 958], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [960, 962], 'children': []}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [967, 973], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [969, 971], 'children': []}, {'type': 'FieldDecl', 'name': 'output_message', 'range': [974, 985], 'children': [{'type': 'TypeAnnotation', 'name': 'Any', 'range': [975, 976], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [977, 985], 'children': [{'type': 'Argument', 'name': 'description', 'range': [981, 983], 'children': []}]}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [988, 1078], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [991, 992], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [995, 1000], 'children': []}, {'type': 'Assignment', 'name': 'id', 'range': [1002, 1004], 'children': []}, {'type': 'Assignment', 'name': 'description', 'range': [1007, 1009], 'children': []}, {'type': 'Assignment', 'name': 'categories', 'range': [1012, 1018], 'children': []}, {'type': 'Assignment', 'name': 'input_schema', 'range': [1021, 1025], 'children': []}, {'type': 'Assignment', 'name': 'output_schema', 'range': [1028, 1032], 'children': []}, {'type': 'Assignment', 'name': 'test_input', 'range': [1035, 1053], 'children': []}, {'type': 'Assignment', 'name': 'test_output', 'range': [1056, 1074], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [1080, 1166], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [1083, 1084], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [1085, 1087], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [1089, 1091], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [1093, 1095], 'children': []}, {'type': 'Assignment', 'name': 'seconds', 'range': [1098, 1105], 'children': []}, {'type': 'Assignment', 'name': 'minutes', 'range': [1107, 1114], 'children': []}, {'type': 'Assignment', 'name': 'hours', 'range': [1116, 1123], 'children': []}, {'type': 'Assignment', 'name': 'days', 'range': [1125, 1132], 'children': []}, {'type': 'Assignment', 'name': 'total_seconds', 'range': [1135, 1149], 'children': []}, {'type': 'CallExpression', 'name': 'time.sleep', 'range': [1152, 1157], 'children': []}, {'type': 'Yield', 'name': 'yield', 'range': [1159, 1165], 'children': []}]}]}
2025-01-08 09:55:25,248 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:55:49,139 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainProgram', 'range': [256, 603], 'children': [{'type': 'ClassDecl', 'name': 'GetCurrentDateBlock', 'range': [256, 262], 'children': []}, {'type': 'ClassDecl', 'name': 'Input', 'range': [263, 269], 'children': []}, {'type': 'VariableDecl', 'name': 'trigger', 'range': [270, 281], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [272, 272], 'children': []}, {'type': 'CallExpression', 'name': 'SchemaField', 'range': [274, 281], 'children': [{'type': 'Argument', 'name': 'description', 'range': [277, 279], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'offset', 'range': [283, 310], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [285, 290], 'children': []}, {'type': 'CallExpression', 'name': 'SchemaField', 'range': [292, 310], 'children': [{'type': 'Argument', 'name': 'title', 'range': [295, 297], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [300, 302], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [305, 307], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'format', 'range': [312, 327], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [314, 314], 'children': []}, {'type': 'CallExpression', 'name': 'SchemaField', 'range': [316, 327], 'children': [{'type': 'Argument', 'name': 'description', 'range': [319, 321], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [323, 325], 'children': []}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [330, 336], 'children': []}, {'type': 'VariableDecl', 'name': 'date', 'range': [337, 348], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [339, 339], 'children': []}, {'type': 'CallExpression', 'name': 'SchemaField', 'range': [341, 348], 'children': [{'type': 'Argument', 'name': 'description', 'range': [344, 346], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [351, 536], 'children': [{'type': 'CallExpression', 'name': 'super', 'range': [358, 364], 'children': []}, {'type': 'Literal', 'name': '"b29c1b50-5d0e-4d9f-8f9d-1b0e6fcbf0b1"', 'range': [367, 367], 'children': []}, {'type': 'Literal', 'name': '"This block outputs the current date with an optional offset."', 'range': [372, 372], 'children': []}, {'type': 'ObjectLiteral', 'name': '{BlockCategory.TEXT}', 'range': [377, 381], 'children': []}, {'type': 'MemberExpression', 'name': 'GetCurrentDateBlock.Input', 'range': [386, 389], 'children': []}, {'type': 'MemberExpression', 'name': 'GetCurrentDateBlock.Output', 'range': [393, 396], 'children': []}, {'type': 'ArrayLiteral', 'name': '[{...}, {...}]', 'range': [400, 428], 'children': []}, {'type': 'ArrayLiteral', 'name': '[lambda t: abs(datetime.now() - datetime.strptime(t, "%Y-%m-%d")) < timedelta(days=8), lambda t: abs(datetime.now() - datetime.strptime(t, "%m/%d/%Y")) < timedelta(days=8)]', 'range': [433, 532], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [538, 603], 'children': [{'type': 'TryStatement', 'name': 'try', 'range': [556, 575], 'children': [{'type': 'CallExpression', 'name': 'int', 'range': [561, 566], 'children': [{'type': 'MemberExpression', 'name': 'input_data.offset', 'range': [563, 565], 'children': []}]}, {'type': 'Literal', 'name': '0', 'range': [574, 574], 'children': []}]}, {'type': 'BinaryExpression', 'name': '-', 'range': [583, 589], 'children': [{'type': 'CallExpression', 'name': 'datetime.now', 'range': [578, 582], 'children': []}, {'type': 'CallExpression', 'name': 'timedelta', 'range': [584, 589], 'children': [{'type': 'Argument', 'name': 'days', 'range': [586, 588], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [591, 602], 'children': [{'type': 'Literal', 'name': '"date"', 'range': [592, 592], 'children': []}, {'type': 'CallExpression', 'name': 'current_date.strftime', 'range': [595, 601], 'children': [{'type': 'MemberExpression', 'name': 'input_data.format', 'range': [598, 600], 'children': []}]}]}]}]}
2025-01-08 09:55:49,139 - INFO - Completed main AST analysis flow
2025-01-08 09:55:49,140 - INFO - Successfully processed chunk
2025-01-08 09:55:50,072 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainProgram', 'range': [604, 823], 'children': [{'type': 'ClassDecl', 'name': 'GetCurrentDateAndTimeBlock', 'range': [604, 610], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [606, 608], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [611, 617], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [613, 615], 'children': []}]}, {'type': 'VariableDecl', 'name': 'trigger', 'range': [618, 630], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [620, 620], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [621, 621], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [622, 629], 'children': [{'type': 'Argument', 'name': 'description', 'range': [625, 627], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'format', 'range': [631, 649], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [633, 633], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [634, 634], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [635, 648], 'children': [{'type': 'Argument', 'name': 'description', 'range': [638, 640], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [643, 645], 'children': []}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [651, 657], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [653, 655], 'children': []}]}, {'type': 'VariableDecl', 'name': 'date_time', 'range': [658, 670], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [660, 660], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [661, 661], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [662, 669], 'children': [{'type': 'Argument', 'name': 'description', 'range': [665, 667], 'children': []}]}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [672, 787], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [675, 675], 'children': []}, {'type': 'CallExpression', 'name': 'super', 'range': [679, 685], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [687, 687], 'children': [{'type': 'Literal', 'name': '"716a67b3-6760-42e7-86dc-18645c6e00fc"', 'range': [688, 688], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [692, 692], 'children': [{'type': 'Literal', 'name': '"This block outputs the current date and time."', 'range': [693, 693], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [697, 697], 'children': [{'type': 'ObjectLiteral', 'name': '{BlockCategory.TEXT}', 'range': [698, 702], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [706, 706], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateAndTimeBlock.Input', 'range': [707, 710], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [713, 713], 'children': [{'type': 'MemberExpression', 'name': 'GetCurrentDateAndTimeBlock.Output', 'range': [714, 717], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [720, 720], 'children': [{'type': 'ArrayLiteral', 'name': '[{"trigger":"Hello"}]', 'range': [721, 730], 'children': []}]}, {'type': 'Assignment', 'name': '=', 'range': [734, 734], 'children': [{'type': 'ArrayLiteral', 'name': '[("date_time",lambda t: abs(datetime.now() - datetime.strptime(t, "%Y-%m-%d %H:%M:%S")) < timedelta(seconds=10))]', 'range': [735, 783], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [789, 823], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [792, 792], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [794, 794], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [796, 796], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [800, 800], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [804, 804], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [808, 808], 'children': [{'type': 'CallExpression', 'name': 'time.strftime', 'range': [809, 816], 'children': [{'type': 'Argument', 'name': 'input_data.format', 'range': [813, 815], 'children': []}]}]}, {'type': 'Yield', 'name': 'yield', 'range': [818, 818], 'children': [{'type': 'Literal', 'name': '"date_time"', 'range': [819, 819], 'children': []}, {'type': 'Identifier', 'name': 'current_date_time', 'range': [821, 821], 'children': []}]}]}]}
2025-01-08 09:55:50,073 - INFO - Completed main AST analysis flow
2025-01-08 09:55:50,073 - INFO - Successfully processed chunk
2025-01-08 09:56:08,768 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainProgram', 'range': [824, 1166], 'children': [{'type': 'ClassDecl', 'name': 'CountdownTimerBlock', 'range': [824, 830], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [826, 828], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [831, 837], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [833, 835], 'children': []}, {'type': 'FieldDecl', 'name': 'input_message', 'range': [838, 860], 'children': [{'type': 'TypeAnnotation', 'name': 'Any', 'range': [839, 840], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [841, 860], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [845, 847], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [850, 852], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [855, 857], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'seconds', 'range': [862, 886], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [863, 869], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [870, 886], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [874, 876], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [879, 881], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [882, 884], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'minutes', 'range': [888, 912], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [889, 895], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [896, 912], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [900, 902], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [905, 907], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [908, 910], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'hours', 'range': [914, 938], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [915, 921], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [922, 938], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [926, 928], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [930, 932], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [934, 936], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'days', 'range': [940, 964], 'children': [{'type': 'TypeAnnotation', 'name': 'Union[int, str]', 'range': [941, 947], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [948, 964], 'children': [{'type': 'Argument', 'name': 'advanced', 'range': [952, 954], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [956, 958], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [960, 962], 'children': []}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [967, 973], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [969, 971], 'children': []}, {'type': 'FieldDecl', 'name': 'output_message', 'range': [974, 985], 'children': [{'type': 'TypeAnnotation', 'name': 'Any', 'range': [975, 976], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [977, 985], 'children': [{'type': 'Argument', 'name': 'description', 'range': [981, 983], 'children': []}]}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [988, 1078], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [991, 992], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [995, 1000], 'children': []}, {'type': 'Assignment', 'name': 'id', 'range': [1002, 1004], 'children': []}, {'type': 'Assignment', 'name': 'description', 'range': [1007, 1009], 'children': []}, {'type': 'Assignment', 'name': 'categories', 'range': [1012, 1018], 'children': []}, {'type': 'Assignment', 'name': 'input_schema', 'range': [1021, 1025], 'children': []}, {'type': 'Assignment', 'name': 'output_schema', 'range': [1028, 1032], 'children': []}, {'type': 'Assignment', 'name': 'test_input', 'range': [1035, 1053], 'children': []}, {'type': 'Assignment', 'name': 'test_output', 'range': [1056, 1074], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [1080, 1166], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [1083, 1084], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [1085, 1087], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [1089, 1091], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [1093, 1095], 'children': []}, {'type': 'Assignment', 'name': 'seconds', 'range': [1098, 1105], 'children': []}, {'type': 'Assignment', 'name': 'minutes', 'range': [1107, 1114], 'children': []}, {'type': 'Assignment', 'name': 'hours', 'range': [1116, 1123], 'children': []}, {'type': 'Assignment', 'name': 'days', 'range': [1125, 1132], 'children': []}, {'type': 'Assignment', 'name': 'total_seconds', 'range': [1135, 1149], 'children': []}, {'type': 'CallExpression', 'name': 'time.sleep', 'range': [1152, 1157], 'children': []}, {'type': 'Yield', 'name': 'yield', 'range': [1159, 1165], 'children': []}]}]}
2025-01-08 09:56:08,769 - INFO - Completed main AST analysis flow
2025-01-08 09:56:08,770 - INFO - Successfully processed chunk
2025-01-08 09:56:08,809 - INFO - Starting code generation from AST
2025-01-08 10:26:10,237 - ERROR - Error in get_code_from_ast: Expecting value: line 30 column 1 (char 29)
2025-01-08 10:26:10,237 - INFO - Starting static code similarity comparison
2025-01-08 10:26:10,240 - INFO - Static similarity result: {'final_score': 30.0, 'length_similarity': 0.0, 'token_similarity': 0.0, 'structure_similarity': 0.0, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
