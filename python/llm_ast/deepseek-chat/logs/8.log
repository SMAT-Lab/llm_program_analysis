2025-01-08 09:16:34,906 - INFO - Processing sample 8
2025-01-08 09:16:34,907 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 09:16:44,581 - INFO - Successfully split code into 4 top-level declarations
2025-01-08 09:16:44,583 - INFO - Processing chunk #0 (size=347 chars, start_index=0)
2025-01-08 09:16:44,583 - INFO - Processing chunk with 347 chars starting at index 0
2025-01-08 09:16:44,583 - INFO - Starting main AST analysis flow
2025-01-08 09:16:44,583 - INFO - Tokenized code into 76 tokens
2025-01-08 09:16:44,583 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:16:44,584 - INFO - Processing chunk #1 (size=206 chars, start_index=76)
2025-01-08 09:16:44,584 - INFO - Processing chunk with 206 chars starting at index 76
2025-01-08 09:16:44,584 - INFO - Starting main AST analysis flow
2025-01-08 09:16:44,585 - INFO - Tokenized code into 33 tokens
2025-01-08 09:16:44,585 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:16:44,586 - INFO - Processing chunk #2 (size=136 chars, start_index=109)
2025-01-08 09:16:44,586 - INFO - Processing chunk with 136 chars starting at index 109
2025-01-08 09:16:44,586 - INFO - Starting main AST analysis flow
2025-01-08 09:16:44,586 - INFO - Tokenized code into 25 tokens
2025-01-08 09:16:44,586 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:16:44,587 - INFO - Processing chunk #3 (size=2724 chars, start_index=134)
2025-01-08 09:16:44,594 - INFO - Processing chunk with 2724 chars starting at index 134
2025-01-08 09:16:44,599 - INFO - Starting main AST analysis flow
2025-01-08 09:16:44,600 - INFO - Tokenized code into 405 tokens
2025-01-08 09:16:44,600 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:16:50,553 - INFO - Step 1 result: {'type': 'Program', 'name': 'get_event_bus', 'range': [112, 133], 'children': []}
2025-01-08 09:16:50,553 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:16:50,723 - INFO - Step 1 result: {'type': 'Program', 'name': 'get_executor_manager_client', 'range': [76, 108], 'children': []}
2025-01-08 09:16:50,723 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:16:56,732 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 75], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [4, 12], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 45], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [46, 54], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [55, 63], 'children': []}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [65, 73], 'children': []}]}
2025-01-08 09:16:56,732 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:16:56,952 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [134, 538], 'children': [{'type': 'ClassDeclaration', 'name': 'AgentExecutorBlock', 'range': [134, 140], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [141, 214], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [216, 224], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [226, 281], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [283, 538], 'children': []}]}
2025-01-08 09:16:56,952 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:17:06,018 - INFO - Step 2 result: {'type': 'Program', 'name': 'get_executor_manager_client', 'range': [76, 108], 'children': [{'type': 'Decorator', 'name': '@thread_cached', 'range': [76, 77], 'children': []}, {'type': 'FunctionDef', 'name': 'get_executor_manager_client', 'range': [79, 107], 'children': [{'type': 'ImportFrom', 'name': 'from backend.executor import ExecutionManager', 'range': [85, 90], 'children': []}, {'type': 'ImportFrom', 'name': 'from backend.util.service import get_service_client', 'range': [92, 99], 'children': []}, {'type': 'Return', 'name': 'return get_service_client(ExecutionManager)', 'range': [102, 106], 'children': [{'type': 'Call', 'name': 'get_service_client', 'range': [103, 106], 'children': [{'type': 'Name', 'name': 'ExecutionManager', 'range': [105, 105], 'children': []}]}]}]}]}
2025-01-08 09:17:06,018 - INFO - Starting Step 3: AST simplification
2025-01-08 09:17:15,595 - INFO - Step 2 result: {'type': 'Program', 'name': 'get_event_bus', 'range': [112, 133], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_event_bus', 'range': [112, 133], 'children': [{'type': 'FunctionSignature', 'name': 'get_event_bus', 'range': [112, 116], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [112, 115], 'children': []}, {'type': 'FunctionName', 'name': 'get_event_bus', 'range': [113, 115], 'children': []}, {'type': 'Parameters', 'name': '', 'range': [114, 116], 'children': []}]}, {'type': 'FunctionBody', 'name': '', 'range': [117, 133], 'children': [{'type': 'ImportStatement', 'name': '', 'range': [118, 126], 'children': [{'type': 'Keyword', 'name': 'from', 'range': [118, 122], 'children': []}, {'type': 'ModulePath', 'name': 'backend.data.execution', 'range': [119, 123], 'children': []}, {'type': 'Keyword', 'name': 'import', 'range': [124, 130], 'children': []}, {'type': 'ImportedEntity', 'name': 'RedisExecutionEventBus', 'range': [125, 130], 'children': []}]}, {'type': 'ReturnStatement', 'name': '', 'range': [128, 132], 'children': [{'type': 'Keyword', 'name': 'return', 'range': [128, 134], 'children': []}, {'type': 'FunctionCall', 'name': 'RedisExecutionEventBus', 'range': [129, 132], 'children': [{'type': 'FunctionName', 'name': 'RedisExecutionEventBus', 'range': [129, 132], 'children': []}, {'type': 'Parameters', 'name': '', 'range': [130, 132], 'children': []}]}]}]}]}]}
2025-01-08 09:17:15,595 - INFO - Starting Step 3: AST simplification
2025-01-08 09:17:24,398 - INFO - Step 3 result: {'type': 'Program', 'name': 'get_executor_manager_client', 'range': [76, 108], 'children': [{'type': 'Decorator', 'name': '@thread_cached', 'range': [76, 77], 'children': []}, {'type': 'FunctionDef', 'name': 'get_executor_manager_client', 'range': [79, 107], 'children': [{'type': 'ImportFrom', 'name': 'from backend.executor import ExecutionManager', 'range': [85, 90], 'children': []}, {'type': 'ImportFrom', 'name': 'from backend.util.service import get_service_client', 'range': [92, 99], 'children': []}, {'type': 'Return', 'name': 'return get_service_client(ExecutionManager)', 'range': [102, 106], 'children': [{'type': 'Call', 'name': 'get_service_client', 'range': [103, 106], 'children': [{'type': 'Name', 'name': 'ExecutionManager', 'range': [105, 105], 'children': []}]}]}]}]}
2025-01-08 09:17:24,398 - INFO - Starting Step 4: AST normalization
2025-01-08 09:17:26,420 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [4, 12], 'children': [{'type': 'ImportSpecifier', 'name': 'thread_cached', 'range': [11, 11], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 45], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [23, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [26, 26], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockInput', 'range': [29, 29], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [32, 32], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [35, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockType', 'range': [38, 38], 'children': []}, {'type': 'ImportSpecifier', 'name': 'get_block', 'range': [41, 41], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [46, 54], 'children': [{'type': 'ImportSpecifier', 'name': 'ExecutionStatus', 'range': [53, 53], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [55, 63], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [62, 62], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [65, 73], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [66, 72], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [69, 72], 'children': [{'type': 'Identifier', 'name': '__name__', 'range': [71, 71], 'children': []}]}]}]}]}
2025-01-08 09:17:26,421 - INFO - Starting Step 3: AST simplification
2025-01-08 09:17:35,520 - INFO - Step 3 result: {'type': 'Program', 'name': 'get_event_bus', 'range': [112, 133], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_event_bus', 'range': [112, 133], 'children': [{'type': 'FunctionSignature', 'name': 'get_event_bus', 'range': [112, 116], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [112, 115], 'children': []}, {'type': 'FunctionName', 'name': 'get_event_bus', 'range': [113, 115], 'children': []}]}, {'type': 'FunctionBody', 'name': '', 'range': [117, 133], 'children': [{'type': 'ImportStatement', 'name': '', 'range': [118, 126], 'children': [{'type': 'Keyword', 'name': 'from', 'range': [118, 122], 'children': []}, {'type': 'ModulePath', 'name': 'backend.data.execution', 'range': [119, 123], 'children': []}, {'type': 'Keyword', 'name': 'import', 'range': [124, 130], 'children': []}, {'type': 'ImportedEntity', 'name': 'RedisExecutionEventBus', 'range': [125, 130], 'children': []}]}, {'type': 'ReturnStatement', 'name': '', 'range': [128, 132], 'children': [{'type': 'Keyword', 'name': 'return', 'range': [128, 134], 'children': []}, {'type': 'FunctionCall', 'name': 'RedisExecutionEventBus', 'range': [129, 132], 'children': [{'type': 'FunctionName', 'name': 'RedisExecutionEventBus', 'range': [129, 132], 'children': []}]}]}]}]}]}
2025-01-08 09:17:35,521 - INFO - Starting Step 4: AST normalization
2025-01-08 09:17:41,537 - INFO - Step 4 result: {'type': 'Program', 'name': 'get_executor_manager_client', 'range': [76, 108], 'children': [{'type': 'Decorator', 'name': '@thread_cached', 'range': [76, 77], 'children': []}, {'type': 'FunctionDecl', 'name': 'get_executor_manager_client', 'range': [79, 107], 'children': [{'type': 'ImportFrom', 'name': 'from backend.executor import ExecutionManager', 'range': [85, 90], 'children': []}, {'type': 'ImportFrom', 'name': 'from backend.util.service import get_service_client', 'range': [92, 99], 'children': []}, {'type': 'ReturnStatement', 'name': 'return get_service_client(ExecutionManager)', 'range': [102, 106], 'children': [{'type': 'CallExpression', 'name': 'get_service_client', 'range': [103, 106], 'children': [{'type': 'Identifier', 'name': 'ExecutionManager', 'range': [105, 105], 'children': []}]}]}]}]}
2025-01-08 09:17:41,537 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:17:54,132 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [4, 12], 'children': [{'type': 'ImportSpecifier', 'name': 'thread_cached', 'range': [11, 11], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 45], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [23, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [26, 26], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockInput', 'range': [29, 29], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [32, 32], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [35, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockType', 'range': [38, 38], 'children': []}, {'type': 'ImportSpecifier', 'name': 'get_block', 'range': [41, 41], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [46, 54], 'children': [{'type': 'ImportSpecifier', 'name': 'ExecutionStatus', 'range': [53, 53], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [55, 63], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [62, 62], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [65, 73], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [66, 72], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [69, 72], 'children': [{'type': 'Identifier', 'name': '__name__', 'range': [71, 71], 'children': []}]}]}]}]}
2025-01-08 09:17:54,132 - INFO - Starting Step 4: AST normalization
2025-01-08 09:17:57,795 - INFO - Step 5 result: {'type': 'Program', 'name': 'get_executor_manager_client', 'range': [76, 108], 'children': [{'type': 'Decorator', 'name': '@thread_cached', 'range': [76, 77], 'children': []}, {'type': 'FunctionDecl', 'name': 'get_executor_manager_client', 'range': [79, 107], 'children': [{'type': 'ImportFrom', 'name': 'from backend.executor import ExecutionManager', 'range': [85, 90], 'children': []}, {'type': 'ImportFrom', 'name': 'from backend.util.service import get_service_client', 'range': [92, 99], 'children': []}, {'type': 'ReturnStatement', 'name': 'return get_service_client(ExecutionManager)', 'range': [102, 106], 'children': [{'type': 'CallExpression', 'name': 'get_service_client', 'range': [103, 106], 'children': [{'type': 'Identifier', 'name': 'ExecutionManager', 'range': [105, 105], 'children': []}]}]}]}]}
2025-01-08 09:17:57,795 - INFO - Completed main AST analysis flow
2025-01-08 09:17:57,795 - INFO - Successfully processed chunk
2025-01-08 09:18:03,535 - INFO - Step 4 result: {'type': 'Program', 'name': 'get_event_bus', 'range': [112, 133], 'children': [{'type': 'FunctionDecl', 'name': 'get_event_bus', 'range': [112, 133], 'children': [{'type': 'FunctionSignature', 'name': 'get_event_bus', 'range': [112, 116], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [112, 115], 'children': []}, {'type': 'Identifier', 'name': 'get_event_bus', 'range': [113, 115], 'children': []}]}, {'type': 'FunctionBody', 'name': '', 'range': [117, 133], 'children': [{'type': 'ImportStatement', 'name': '', 'range': [118, 126], 'children': [{'type': 'Keyword', 'name': 'from', 'range': [118, 122], 'children': []}, {'type': 'Literal', 'name': 'backend.data.execution', 'range': [119, 123], 'children': []}, {'type': 'Keyword', 'name': 'import', 'range': [124, 130], 'children': []}, {'type': 'Identifier', 'name': 'RedisExecutionEventBus', 'range': [125, 130], 'children': []}]}, {'type': 'ReturnStatement', 'name': '', 'range': [128, 132], 'children': [{'type': 'Keyword', 'name': 'return', 'range': [128, 134], 'children': []}, {'type': 'CallExpression', 'name': 'RedisExecutionEventBus', 'range': [129, 132], 'children': [{'type': 'Identifier', 'name': 'RedisExecutionEventBus', 'range': [129, 132], 'children': []}]}]}]}]}]}
2025-01-08 09:18:03,535 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:18:25,406 - INFO - Step 5 result: {'type': 'Program', 'name': 'get_event_bus', 'range': [112, 133], 'children': [{'type': 'FunctionDecl', 'name': 'get_event_bus', 'range': [112, 133], 'children': [{'type': 'FunctionSignature', 'name': 'get_event_bus', 'range': [112, 116], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [112, 115], 'children': []}, {'type': 'Identifier', 'name': 'get_event_bus', 'range': [113, 115], 'children': []}]}, {'type': 'FunctionBody', 'name': '', 'range': [117, 133], 'children': [{'type': 'ImportStatement', 'name': '', 'range': [118, 126], 'children': [{'type': 'Keyword', 'name': 'from', 'range': [118, 122], 'children': []}, {'type': 'Literal', 'name': 'backend.data.execution', 'range': [119, 123], 'children': []}, {'type': 'Keyword', 'name': 'import', 'range': [124, 130], 'children': []}, {'type': 'Identifier', 'name': 'RedisExecutionEventBus', 'range': [125, 130], 'children': []}]}, {'type': 'ReturnStatement', 'name': '', 'range': [128, 132], 'children': [{'type': 'Keyword', 'name': 'return', 'range': [128, 134], 'children': []}, {'type': 'CallExpression', 'name': 'RedisExecutionEventBus', 'range': [129, 132], 'children': [{'type': 'Identifier', 'name': 'RedisExecutionEventBus', 'range': [129, 132], 'children': []}]}]}]}]}]}
2025-01-08 09:18:25,406 - INFO - Completed main AST analysis flow
2025-01-08 09:18:25,407 - INFO - Successfully processed chunk
2025-01-08 09:18:26,310 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [4, 12], 'children': [{'type': 'ImportSpecifier', 'name': 'thread_cached', 'range': [11, 11], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 45], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [23, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [26, 26], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockInput', 'range': [29, 29], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [32, 32], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [35, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockType', 'range': [38, 38], 'children': []}, {'type': 'ImportSpecifier', 'name': 'get_block', 'range': [41, 41], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [46, 54], 'children': [{'type': 'ImportSpecifier', 'name': 'ExecutionStatus', 'range': [53, 53], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [55, 63], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [62, 62], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [65, 73], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [66, 72], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [69, 72], 'children': [{'type': 'Identifier', 'name': '__name__', 'range': [71, 71], 'children': []}]}]}]}]}
2025-01-08 09:18:26,310 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:18:59,349 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainOrSomething', 'range': [0, 73], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [4, 12], 'children': [{'type': 'ImportSpecifier', 'name': 'thread_cached', 'range': [11, 11], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [14, 45], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [23, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [26, 26], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockInput', 'range': [29, 29], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [32, 32], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [35, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockType', 'range': [38, 38], 'children': []}, {'type': 'ImportSpecifier', 'name': 'get_block', 'range': [41, 41], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [46, 54], 'children': [{'type': 'ImportSpecifier', 'name': 'ExecutionStatus', 'range': [53, 53], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [55, 63], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [62, 62], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [65, 73], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [66, 72], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [69, 72], 'children': [{'type': 'Identifier', 'name': '__name__', 'range': [71, 71], 'children': []}]}]}]}]}]}
2025-01-08 09:18:59,349 - INFO - Completed main AST analysis flow
2025-01-08 09:18:59,349 - INFO - Successfully processed chunk
2025-01-08 09:19:37,431 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [134, 538], 'children': [{'type': 'ClassDeclaration', 'name': 'AgentExecutorBlock', 'range': [134, 140], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [136, 138], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [141, 214], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [143, 145], 'children': []}, {'type': 'FieldDeclaration', 'name': 'user_id', 'range': [148, 157], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [149, 150], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [151, 152], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [152, 157], 'children': [{'type': 'Argument', 'name': 'description', 'range': [154, 156], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'graph_id', 'range': [159, 168], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [160, 161], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [162, 163], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [163, 168], 'children': [{'type': 'Argument', 'name': 'description', 'range': [165, 167], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'graph_version', 'range': [170, 179], 'children': [{'type': 'TypeAnnotation', 'name': 'int', 'range': [171, 172], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [173, 174], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [174, 179], 'children': [{'type': 'Argument', 'name': 'description', 'range': [176, 178], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'data', 'range': [182, 191], 'children': [{'type': 'TypeAnnotation', 'name': 'BlockInput', 'range': [183, 184], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [185, 186], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [186, 191], 'children': [{'type': 'Argument', 'name': 'description', 'range': [188, 190], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'input_schema', 'range': [193, 202], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [194, 195], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [196, 197], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [197, 202], 'children': [{'type': 'Argument', 'name': 'description', 'range': [199, 201], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'output_schema', 'range': [204, 213], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [205, 206], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [207, 208], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [208, 213], 'children': [{'type': 'Argument', 'name': 'description', 'range': [210, 212], 'children': []}]}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [216, 224], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [218, 220], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [226, 281], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [229, 230], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [233, 280], 'children': [{'type': 'Argument', 'name': 'id', 'range': [240, 242], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [245, 247], 'children': []}, {'type': 'Argument', 'name': 'input_schema', 'range': [250, 255], 'children': []}, {'type': 'Argument', 'name': 'output_schema', 'range': [257, 262], 'children': []}, {'type': 'Argument', 'name': 'block_type', 'range': [264, 269], 'children': []}, {'type': 'Argument', 'name': 'categories', 'range': [271, 278], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [283, 538], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [286, 287], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [288, 291], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [289, 290], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [292, 295], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [297, 298], 'children': []}, {'type': 'VariableDeclaration', 'name': 'executor_manager', 'range': [301, 306], 'children': [{'type': 'Assignment', 'name': '=', 'range': [302, 303], 'children': [{'type': 'FunctionCall', 'name': 'get_executor_manager_client', 'range': [303, 306], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'event_bus', 'range': [307, 312], 'children': [{'type': 'Assignment', 'name': '=', 'range': [308, 309], 'children': [{'type': 'FunctionCall', 'name': 'get_event_bus', 'range': [309, 312], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'graph_exec', 'range': [314, 350], 'children': [{'type': 'Assignment', 'name': '=', 'range': [315, 316], 'children': [{'type': 'FunctionCall', 'name': 'add_execution', 'range': [318, 350], 'children': [{'type': 'Argument', 'name': 'graph_id', 'range': [321, 326], 'children': []}, {'type': 'Argument', 'name': 'graph_version', 'range': [328, 333], 'children': []}, {'type': 'Argument', 'name': 'user_id', 'range': [335, 340], 'children': []}, {'type': 'Argument', 'name': 'data', 'range': [342, 347], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'log_id', 'range': [351, 355], 'children': [{'type': 'Assignment', 'name': '=', 'range': [352, 353], 'children': [{'type': 'StringLiteral', 'name': 'f', 'range': [353, 355], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [356, 363], 'children': [{'type': 'FunctionCall', 'name': 'info', 'range': [358, 363], 'children': [{'type': 'Argument', 'name': 'f', 'range': [360, 362], 'children': []}]}]}, {'type': 'ForStatement', 'name': 'for', 'range': [365, 437], 'children': [{'type': 'VariableDeclaration', 'name': 'event', 'range': [366, 367], 'children': []}, {'type': 'FunctionCall', 'name': 'listen', 'range': [370, 385], 'children': [{'type': 'Argument', 'name': 'graph_id', 'range': [373, 378], 'children': []}, {'type': 'Argument', 'name': 'graph_exec_id', 'range': [379, 384], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [387, 437], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [388, 397], 'children': [{'type': 'FunctionCall', 'name': 'info', 'range': [390, 397], 'children': [{'type': 'Argument', 'name': 'f', 'range': [393, 395], 'children': []}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [399, 436], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [400, 401], 'children': [{'type': 'MemberExpression', 'name': 'node_id', 'range': [402, 404], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [405, 436], 'children': [{'type': 'IfStatement', 'name': 'if', 'range': [406, 431], 'children': [{'type': 'BinaryExpression', 'name': 'in', 'range': [410, 411], 'children': [{'type': 'MemberExpression', 'name': 'status', 'range': [408, 410], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [411, 419], 'children': [{'type': 'MemberExpression', 'name': 'COMPLETED', 'range': [412, 414], 'children': []}, {'type': 'MemberExpression', 'name': 'FAILED', 'range': [416, 418], 'children': []}]}]}, {'type': 'BlockStatement', 'name': '', 'range': [420, 431], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [422, 429], 'children': [{'type': 'FunctionCall', 'name': 'info', 'range': [424, 429], 'children': [{'type': 'Argument', 'name': 'f', 'range': [426, 428], 'children': []}]}]}, {'type': 'BreakStatement', 'name': 'break', 'range': [430, 431], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [435, 436], 'children': []}]}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [438, 454], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [439, 440], 'children': [{'type': 'MemberExpression', 'name': 'block_id', 'range': [441, 443], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [444, 454], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.warning', 'range': [445, 452], 'children': [{'type': 'FunctionCall', 'name': 'warning', 'range': [447, 452], 'children': [{'type': 'Argument', 'name': 'f', 'range': [449, 451], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [453, 454], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'block', 'range': [456, 464], 'children': [{'type': 'Assignment', 'name': '=', 'range': [457, 458], 'children': [{'type': 'FunctionCall', 'name': 'get_block', 'range': [458, 464], 'children': [{'type': 'Argument', 'name': 'event.block_id', 'range': [460, 463], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [465, 480], 'children': [{'type': 'LogicalExpression', 'name': 'or', 'range': [466, 467], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [466, 467], 'children': [{'type': 'Identifier', 'name': 'block', 'range': [466, 467], 'children': []}]}, {'type': 'BinaryExpression', 'name': '!=', 'range': [472, 473], 'children': [{'type': 'MemberExpression', 'name': 'block_type', 'range': [470, 472], 'children': []}, {'type': 'MemberExpression', 'name': 'OUTPUT', 'range': [474, 476], 'children': []}]}]}, {'type': 'BlockStatement', 'name': '', 'range': [477, 480], 'children': [{'type': 'ContinueStatement', 'name': 'continue', 'range': [479, 480], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'output_name', 'range': [482, 492], 'children': [{'type': 'Assignment', 'name': '=', 'range': [483, 484], 'children': [{'type': 'FunctionCall', 'name': 'get', 'range': [488, 492], 'children': [{'type': 'Argument', 'name': '"name"', 'range': [490, 491], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [493, 507], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [494, 495], 'children': [{'type': 'Identifier', 'name': 'output_name', 'range': [494, 495], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [496, 507], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.warning', 'range': [498, 505], 'children': [{'type': 'FunctionCall', 'name': 'warning', 'range': [500, 505], 'children': [{'type': 'Argument', 'name': 'f', 'range': [502, 504], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [506, 507], 'children': []}]}]}, {'type': 'ForStatement', 'name': 'for', 'range': [509, 538], 'children': [{'type': 'VariableDeclaration', 'name': 'output_data', 'range': [510, 511], 'children': []}, {'type': 'FunctionCall', 'name': 'get', 'range': [516, 523], 'children': [{'type': 'Argument', 'name': '"output"', 'range': [518, 520], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [520, 522], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [524, 538], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [525, 532], 'children': [{'type': 'FunctionCall', 'name': 'info', 'range': [527, 532], 'children': [{'type': 'Argument', 'name': 'f', 'range': [529, 531], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [533, 537], 'children': [{'type': 'Identifier', 'name': 'output_name', 'range': [534, 535], 'children': []}, {'type': 'Identifier', 'name': 'output_data', 'range': [536, 537], 'children': []}]}]}]}]}]}
2025-01-08 09:19:37,431 - INFO - Starting Step 3: AST simplification
2025-01-08 09:22:17,210 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [134, 538], 'children': [{'type': 'ClassDeclaration', 'name': 'AgentExecutorBlock', 'range': [134, 140], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [136, 138], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [141, 214], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [143, 145], 'children': []}, {'type': 'FieldDeclaration', 'name': 'user_id', 'range': [148, 157], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [149, 150], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [151, 152], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [152, 157], 'children': [{'type': 'Argument', 'name': 'description', 'range': [154, 156], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'graph_id', 'range': [159, 168], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [160, 161], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [162, 163], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [163, 168], 'children': [{'type': 'Argument', 'name': 'description', 'range': [165, 167], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'graph_version', 'range': [170, 179], 'children': [{'type': 'TypeAnnotation', 'name': 'int', 'range': [171, 172], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [173, 174], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [174, 179], 'children': [{'type': 'Argument', 'name': 'description', 'range': [176, 178], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'data', 'range': [182, 191], 'children': [{'type': 'TypeAnnotation', 'name': 'BlockInput', 'range': [183, 184], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [185, 186], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [186, 191], 'children': [{'type': 'Argument', 'name': 'description', 'range': [188, 190], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'input_schema', 'range': [193, 202], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [194, 195], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [196, 197], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [197, 202], 'children': [{'type': 'Argument', 'name': 'description', 'range': [199, 201], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'output_schema', 'range': [204, 213], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [205, 206], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [207, 208], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [208, 213], 'children': [{'type': 'Argument', 'name': 'description', 'range': [210, 212], 'children': []}]}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [216, 224], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [218, 220], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [226, 281], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [229, 230], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [233, 280], 'children': [{'type': 'Argument', 'name': 'id', 'range': [240, 242], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [245, 247], 'children': []}, {'type': 'Argument', 'name': 'input_schema', 'range': [250, 255], 'children': []}, {'type': 'Argument', 'name': 'output_schema', 'range': [257, 262], 'children': []}, {'type': 'Argument', 'name': 'block_type', 'range': [264, 269], 'children': []}, {'type': 'Argument', 'name': 'categories', 'range': [271, 278], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [283, 538], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [286, 287], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [288, 291], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [289, 290], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [292, 295], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [297, 298], 'children': []}, {'type': 'VariableDeclaration', 'name': 'executor_manager', 'range': [301, 306], 'children': [{'type': 'Assignment', 'name': '=', 'range': [302, 303], 'children': [{'type': 'FunctionCall', 'name': 'get_executor_manager_client', 'range': [303, 306], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'event_bus', 'range': [307, 312], 'children': [{'type': 'Assignment', 'name': '=', 'range': [308, 309], 'children': [{'type': 'FunctionCall', 'name': 'get_event_bus', 'range': [309, 312], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'graph_exec', 'range': [314, 350], 'children': [{'type': 'Assignment', 'name': '=', 'range': [315, 316], 'children': [{'type': 'FunctionCall', 'name': 'add_execution', 'range': [318, 350], 'children': [{'type': 'Argument', 'name': 'graph_id', 'range': [321, 326], 'children': []}, {'type': 'Argument', 'name': 'graph_version', 'range': [328, 333], 'children': []}, {'type': 'Argument', 'name': 'user_id', 'range': [335, 340], 'children': []}, {'type': 'Argument', 'name': 'data', 'range': [342, 347], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'log_id', 'range': [351, 355], 'children': [{'type': 'Assignment', 'name': '=', 'range': [352, 353], 'children': [{'type': 'StringLiteral', 'name': 'f', 'range': [353, 355], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [356, 363], 'children': [{'type': 'FunctionCall', 'name': 'info', 'range': [358, 363], 'children': [{'type': 'Argument', 'name': 'f', 'range': [360, 362], 'children': []}]}]}, {'type': 'ForStatement', 'name': 'for', 'range': [365, 437], 'children': [{'type': 'VariableDeclaration', 'name': 'event', 'range': [366, 367], 'children': []}, {'type': 'FunctionCall', 'name': 'listen', 'range': [370, 385], 'children': [{'type': 'Argument', 'name': 'graph_id', 'range': [373, 378], 'children': []}, {'type': 'Argument', 'name': 'graph_exec_id', 'range': [379, 384], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [387, 437], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [388, 397], 'children': [{'type': 'FunctionCall', 'name': 'info', 'range': [390, 397], 'children': [{'type': 'Argument', 'name': 'f', 'range': [393, 395], 'children': []}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [399, 436], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [400, 401], 'children': [{'type': 'MemberExpression', 'name': 'node_id', 'range': [402, 404], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [405, 436], 'children': [{'type': 'IfStatement', 'name': 'if', 'range': [406, 431], 'children': [{'type': 'BinaryExpression', 'name': 'in', 'range': [410, 411], 'children': [{'type': 'MemberExpression', 'name': 'status', 'range': [408, 410], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [411, 419], 'children': [{'type': 'MemberExpression', 'name': 'COMPLETED', 'range': [412, 414], 'children': []}, {'type': 'MemberExpression', 'name': 'FAILED', 'range': [416, 418], 'children': []}]}]}, {'type': 'BlockStatement', 'name': '', 'range': [420, 431], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [422, 429], 'children': [{'type': 'FunctionCall', 'name': 'info', 'range': [424, 429], 'children': [{'type': 'Argument', 'name': 'f', 'range': [426, 428], 'children': []}]}]}, {'type': 'BreakStatement', 'name': 'break', 'range': [430, 431], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [435, 436], 'children': []}]}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [438, 454], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [439, 440], 'children': [{'type': 'MemberExpression', 'name': 'block_id', 'range': [441, 443], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [444, 454], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.warning', 'range': [445, 452], 'children': [{'type': 'FunctionCall', 'name': 'warning', 'range': [447, 452], 'children': [{'type': 'Argument', 'name': 'f', 'range': [449, 451], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [453, 454], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'block', 'range': [456, 464], 'children': [{'type': 'Assignment', 'name': '=', 'range': [457, 458], 'children': [{'type': 'FunctionCall', 'name': 'get_block', 'range': [458, 464], 'children': [{'type': 'Argument', 'name': 'event.block_id', 'range': [460, 463], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [465, 480], 'children': [{'type': 'LogicalExpression', 'name': 'or', 'range': [466, 467], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [466, 467], 'children': [{'type': 'Identifier', 'name': 'block', 'range': [466, 467], 'children': []}]}, {'type': 'BinaryExpression', 'name': '!=', 'range': [472, 473], 'children': [{'type': 'MemberExpression', 'name': 'block_type', 'range': [470, 472], 'children': []}, {'type': 'MemberExpression', 'name': 'OUTPUT', 'range': [474, 476], 'children': []}]}]}, {'type': 'BlockStatement', 'name': '', 'range': [477, 480], 'children': [{'type': 'ContinueStatement', 'name': 'continue', 'range': [479, 480], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'output_name', 'range': [482, 492], 'children': [{'type': 'Assignment', 'name': '=', 'range': [483, 484], 'children': [{'type': 'FunctionCall', 'name': 'get', 'range': [488, 492], 'children': [{'type': 'Argument', 'name': '"name"', 'range': [490, 491], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [493, 507], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [494, 495], 'children': [{'type': 'Identifier', 'name': 'output_name', 'range': [494, 495], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [496, 507], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.warning', 'range': [498, 505], 'children': [{'type': 'FunctionCall', 'name': 'warning', 'range': [500, 505], 'children': [{'type': 'Argument', 'name': 'f', 'range': [502, 504], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [506, 507], 'children': []}]}]}, {'type': 'ForStatement', 'name': 'for', 'range': [509, 538], 'children': [{'type': 'VariableDeclaration', 'name': 'output_data', 'range': [510, 511], 'children': []}, {'type': 'FunctionCall', 'name': 'get', 'range': [516, 523], 'children': [{'type': 'Argument', 'name': '"output"', 'range': [518, 520], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [520, 522], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [524, 538], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [525, 532], 'children': [{'type': 'FunctionCall', 'name': 'info', 'range': [527, 532], 'children': [{'type': 'Argument', 'name': 'f', 'range': [529, 531], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [533, 537], 'children': [{'type': 'Identifier', 'name': 'output_name', 'range': [534, 535], 'children': []}, {'type': 'Identifier', 'name': 'output_data', 'range': [536, 537], 'children': []}]}]}]}]}]}
2025-01-08 09:22:17,210 - INFO - Starting Step 4: AST normalization
2025-01-08 09:24:59,985 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [134, 538], 'children': [{'type': 'ClassDecl', 'name': 'AgentExecutorBlock', 'range': [134, 140], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [136, 138], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [141, 214], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [143, 145], 'children': []}, {'type': 'FieldDecl', 'name': 'user_id', 'range': [148, 157], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [149, 150], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [151, 152], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [152, 157], 'children': [{'type': 'Argument', 'name': 'description', 'range': [154, 156], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'graph_id', 'range': [159, 168], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [160, 161], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [162, 163], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [163, 168], 'children': [{'type': 'Argument', 'name': 'description', 'range': [165, 167], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'graph_version', 'range': [170, 179], 'children': [{'type': 'TypeAnnotation', 'name': 'int', 'range': [171, 172], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [173, 174], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [174, 179], 'children': [{'type': 'Argument', 'name': 'description', 'range': [176, 178], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'data', 'range': [182, 191], 'children': [{'type': 'TypeAnnotation', 'name': 'BlockInput', 'range': [183, 184], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [185, 186], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [186, 191], 'children': [{'type': 'Argument', 'name': 'description', 'range': [188, 190], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'input_schema', 'range': [193, 202], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [194, 195], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [196, 197], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [197, 202], 'children': [{'type': 'Argument', 'name': 'description', 'range': [199, 201], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'output_schema', 'range': [204, 213], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [205, 206], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [207, 208], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [208, 213], 'children': [{'type': 'Argument', 'name': 'description', 'range': [210, 212], 'children': []}]}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [216, 224], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [218, 220], 'children': []}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [226, 281], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [229, 230], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [233, 280], 'children': [{'type': 'Argument', 'name': 'id', 'range': [240, 242], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [245, 247], 'children': []}, {'type': 'Argument', 'name': 'input_schema', 'range': [250, 255], 'children': []}, {'type': 'Argument', 'name': 'output_schema', 'range': [257, 262], 'children': []}, {'type': 'Argument', 'name': 'block_type', 'range': [264, 269], 'children': []}, {'type': 'Argument', 'name': 'categories', 'range': [271, 278], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [283, 538], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [286, 287], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [288, 291], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [289, 290], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [292, 295], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [297, 298], 'children': []}, {'type': 'VariableDecl', 'name': 'executor_manager', 'range': [301, 306], 'children': [{'type': 'Assignment', 'name': '=', 'range': [302, 303], 'children': [{'type': 'CallExpression', 'name': 'get_executor_manager_client', 'range': [303, 306], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'event_bus', 'range': [307, 312], 'children': [{'type': 'Assignment', 'name': '=', 'range': [308, 309], 'children': [{'type': 'CallExpression', 'name': 'get_event_bus', 'range': [309, 312], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'graph_exec', 'range': [314, 350], 'children': [{'type': 'Assignment', 'name': '=', 'range': [315, 316], 'children': [{'type': 'CallExpression', 'name': 'add_execution', 'range': [318, 350], 'children': [{'type': 'Argument', 'name': 'graph_id', 'range': [321, 326], 'children': []}, {'type': 'Argument', 'name': 'graph_version', 'range': [328, 333], 'children': []}, {'type': 'Argument', 'name': 'user_id', 'range': [335, 340], 'children': []}, {'type': 'Argument', 'name': 'data', 'range': [342, 347], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'log_id', 'range': [351, 355], 'children': [{'type': 'Assignment', 'name': '=', 'range': [352, 353], 'children': [{'type': 'Literal', 'name': 'f', 'range': [353, 355], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [356, 363], 'children': [{'type': 'CallExpression', 'name': 'info', 'range': [358, 363], 'children': [{'type': 'Argument', 'name': 'f', 'range': [360, 362], 'children': []}]}]}, {'type': 'ForStatement', 'name': 'for', 'range': [365, 437], 'children': [{'type': 'VariableDecl', 'name': 'event', 'range': [366, 367], 'children': []}, {'type': 'CallExpression', 'name': 'listen', 'range': [370, 385], 'children': [{'type': 'Argument', 'name': 'graph_id', 'range': [373, 378], 'children': []}, {'type': 'Argument', 'name': 'graph_exec_id', 'range': [379, 384], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [387, 437], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [388, 397], 'children': [{'type': 'CallExpression', 'name': 'info', 'range': [390, 397], 'children': [{'type': 'Argument', 'name': 'f', 'range': [393, 395], 'children': []}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [399, 436], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [400, 401], 'children': [{'type': 'MemberExpression', 'name': 'node_id', 'range': [402, 404], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [405, 436], 'children': [{'type': 'IfStatement', 'name': 'if', 'range': [406, 431], 'children': [{'type': 'BinaryExpression', 'name': 'in', 'range': [410, 411], 'children': [{'type': 'MemberExpression', 'name': 'status', 'range': [408, 410], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [411, 419], 'children': [{'type': 'MemberExpression', 'name': 'COMPLETED', 'range': [412, 414], 'children': []}, {'type': 'MemberExpression', 'name': 'FAILED', 'range': [416, 418], 'children': []}]}]}, {'type': 'BlockStatement', 'name': '', 'range': [420, 431], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [422, 429], 'children': [{'type': 'CallExpression', 'name': 'info', 'range': [424, 429], 'children': [{'type': 'Argument', 'name': 'f', 'range': [426, 428], 'children': []}]}]}, {'type': 'BreakStatement', 'name': 'break', 'range': [430, 431], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [435, 436], 'children': []}]}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [438, 454], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [439, 440], 'children': [{'type': 'MemberExpression', 'name': 'block_id', 'range': [441, 443], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [444, 454], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.warning', 'range': [445, 452], 'children': [{'type': 'CallExpression', 'name': 'warning', 'range': [447, 452], 'children': [{'type': 'Argument', 'name': 'f', 'range': [449, 451], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [453, 454], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'block', 'range': [456, 464], 'children': [{'type': 'Assignment', 'name': '=', 'range': [457, 458], 'children': [{'type': 'CallExpression', 'name': 'get_block', 'range': [458, 464], 'children': [{'type': 'Argument', 'name': 'event.block_id', 'range': [460, 463], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [465, 480], 'children': [{'type': 'LogicalExpression', 'name': 'or', 'range': [466, 467], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [466, 467], 'children': [{'type': 'Identifier', 'name': 'block', 'range': [466, 467], 'children': []}]}, {'type': 'BinaryExpression', 'name': '!=', 'range': [472, 473], 'children': [{'type': 'MemberExpression', 'name': 'block_type', 'range': [470, 472], 'children': []}, {'type': 'MemberExpression', 'name': 'OUTPUT', 'range': [474, 476], 'children': []}]}]}, {'type': 'BlockStatement', 'name': '', 'range': [477, 480], 'children': [{'type': 'ContinueStatement', 'name': 'continue', 'range': [479, 480], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'output_name', 'range': [482, 492], 'children': [{'type': 'Assignment', 'name': '=', 'range': [483, 484], 'children': [{'type': 'CallExpression', 'name': 'get', 'range': [488, 492], 'children': [{'type': 'Argument', 'name': '"name"', 'range': [490, 491], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [493, 507], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [494, 495], 'children': [{'type': 'Identifier', 'name': 'output_name', 'range': [494, 495], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [496, 507], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.warning', 'range': [498, 505], 'children': [{'type': 'CallExpression', 'name': 'warning', 'range': [500, 505], 'children': [{'type': 'Argument', 'name': 'f', 'range': [502, 504], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [506, 507], 'children': []}]}]}, {'type': 'ForStatement', 'name': 'for', 'range': [509, 538], 'children': [{'type': 'VariableDecl', 'name': 'output_data', 'range': [510, 511], 'children': []}, {'type': 'CallExpression', 'name': 'get', 'range': [516, 523], 'children': [{'type': 'Argument', 'name': '"output"', 'range': [518, 520], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [520, 522], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [524, 538], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [525, 532], 'children': [{'type': 'CallExpression', 'name': 'info', 'range': [527, 532], 'children': [{'type': 'Argument', 'name': 'f', 'range': [529, 531], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [533, 537], 'children': [{'type': 'Identifier', 'name': 'output_name', 'range': [534, 535], 'children': []}, {'type': 'Identifier', 'name': 'output_data', 'range': [536, 537], 'children': []}]}]}]}]}]}
2025-01-08 09:24:59,985 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:27:37,987 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [134, 538], 'children': [{'type': 'ClassDecl', 'name': 'AgentExecutorBlock', 'range': [134, 140], 'children': [{'type': 'Inheritance', 'name': 'Block', 'range': [136, 138], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [141, 214], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [143, 145], 'children': []}, {'type': 'FieldDecl', 'name': 'user_id', 'range': [148, 157], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [149, 150], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [151, 152], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [152, 157], 'children': [{'type': 'Argument', 'name': 'description', 'range': [154, 156], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'graph_id', 'range': [159, 168], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [160, 161], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [162, 163], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [163, 168], 'children': [{'type': 'Argument', 'name': 'description', 'range': [165, 167], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'graph_version', 'range': [170, 179], 'children': [{'type': 'TypeAnnotation', 'name': 'int', 'range': [171, 172], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [173, 174], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [174, 179], 'children': [{'type': 'Argument', 'name': 'description', 'range': [176, 178], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'data', 'range': [182, 191], 'children': [{'type': 'TypeAnnotation', 'name': 'BlockInput', 'range': [183, 184], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [185, 186], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [186, 191], 'children': [{'type': 'Argument', 'name': 'description', 'range': [188, 190], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'input_schema', 'range': [193, 202], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [194, 195], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [196, 197], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [197, 202], 'children': [{'type': 'Argument', 'name': 'description', 'range': [199, 201], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'output_schema', 'range': [204, 213], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [205, 206], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [207, 208], 'children': [{'type': 'SchemaField', 'name': 'SchemaField', 'range': [208, 213], 'children': [{'type': 'Argument', 'name': 'description', 'range': [210, 212], 'children': []}]}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [216, 224], 'children': [{'type': 'Inheritance', 'name': 'BlockSchema', 'range': [218, 220], 'children': []}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [226, 281], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [229, 230], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [233, 280], 'children': [{'type': 'Argument', 'name': 'id', 'range': [240, 242], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [245, 247], 'children': []}, {'type': 'Argument', 'name': 'input_schema', 'range': [250, 255], 'children': []}, {'type': 'Argument', 'name': 'output_schema', 'range': [257, 262], 'children': []}, {'type': 'Argument', 'name': 'block_type', 'range': [264, 269], 'children': []}, {'type': 'Argument', 'name': 'categories', 'range': [271, 278], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [283, 538], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [286, 287], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [288, 291], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [289, 290], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [292, 295], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [297, 298], 'children': []}, {'type': 'VariableDecl', 'name': 'executor_manager', 'range': [301, 306], 'children': [{'type': 'Assignment', 'name': '=', 'range': [302, 303], 'children': [{'type': 'CallExpression', 'name': 'get_executor_manager_client', 'range': [303, 306], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'event_bus', 'range': [307, 312], 'children': [{'type': 'Assignment', 'name': '=', 'range': [308, 309], 'children': [{'type': 'CallExpression', 'name': 'get_event_bus', 'range': [309, 312], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'graph_exec', 'range': [314, 350], 'children': [{'type': 'Assignment', 'name': '=', 'range': [315, 316], 'children': [{'type': 'CallExpression', 'name': 'add_execution', 'range': [318, 350], 'children': [{'type': 'Argument', 'name': 'graph_id', 'range': [321, 326], 'children': []}, {'type': 'Argument', 'name': 'graph_version', 'range': [328, 333], 'children': []}, {'type': 'Argument', 'name': 'user_id', 'range': [335, 340], 'children': []}, {'type': 'Argument', 'name': 'data', 'range': [342, 347], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'log_id', 'range': [351, 355], 'children': [{'type': 'Assignment', 'name': '=', 'range': [352, 353], 'children': [{'type': 'Literal', 'name': 'f', 'range': [353, 355], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [356, 363], 'children': [{'type': 'CallExpression', 'name': 'info', 'range': [358, 363], 'children': [{'type': 'Argument', 'name': 'f', 'range': [360, 362], 'children': []}]}]}, {'type': 'ForStatement', 'name': 'for', 'range': [365, 437], 'children': [{'type': 'VariableDecl', 'name': 'event', 'range': [366, 367], 'children': []}, {'type': 'CallExpression', 'name': 'listen', 'range': [370, 385], 'children': [{'type': 'Argument', 'name': 'graph_id', 'range': [373, 378], 'children': []}, {'type': 'Argument', 'name': 'graph_exec_id', 'range': [379, 384], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [387, 437], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [388, 397], 'children': [{'type': 'CallExpression', 'name': 'info', 'range': [390, 397], 'children': [{'type': 'Argument', 'name': 'f', 'range': [393, 395], 'children': []}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [399, 436], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [400, 401], 'children': [{'type': 'MemberExpression', 'name': 'node_id', 'range': [402, 404], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [405, 436], 'children': [{'type': 'IfStatement', 'name': 'if', 'range': [406, 431], 'children': [{'type': 'BinaryExpression', 'name': 'in', 'range': [410, 411], 'children': [{'type': 'MemberExpression', 'name': 'status', 'range': [408, 410], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [411, 419], 'children': [{'type': 'MemberExpression', 'name': 'COMPLETED', 'range': [412, 414], 'children': []}, {'type': 'MemberExpression', 'name': 'FAILED', 'range': [416, 418], 'children': []}]}]}, {'type': 'BlockStatement', 'name': '', 'range': [420, 431], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [422, 429], 'children': [{'type': 'CallExpression', 'name': 'info', 'range': [424, 429], 'children': [{'type': 'Argument', 'name': 'f', 'range': [426, 428], 'children': []}]}]}, {'type': 'BreakStatement', 'name': 'break', 'range': [430, 431], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [435, 436], 'children': []}]}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [438, 454], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [439, 440], 'children': [{'type': 'MemberExpression', 'name': 'block_id', 'range': [441, 443], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [444, 454], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.warning', 'range': [445, 452], 'children': [{'type': 'CallExpression', 'name': 'warning', 'range': [447, 452], 'children': [{'type': 'Argument', 'name': 'f', 'range': [449, 451], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [453, 454], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'block', 'range': [456, 464], 'children': [{'type': 'Assignment', 'name': '=', 'range': [457, 458], 'children': [{'type': 'CallExpression', 'name': 'get_block', 'range': [458, 464], 'children': [{'type': 'Argument', 'name': 'event.block_id', 'range': [460, 463], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [465, 480], 'children': [{'type': 'LogicalExpression', 'name': 'or', 'range': [466, 467], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [466, 467], 'children': [{'type': 'Identifier', 'name': 'block', 'range': [466, 467], 'children': []}]}, {'type': 'BinaryExpression', 'name': '!=', 'range': [472, 473], 'children': [{'type': 'MemberExpression', 'name': 'block_type', 'range': [470, 472], 'children': []}, {'type': 'MemberExpression', 'name': 'OUTPUT', 'range': [474, 476], 'children': []}]}]}, {'type': 'BlockStatement', 'name': '', 'range': [477, 480], 'children': [{'type': 'ContinueStatement', 'name': 'continue', 'range': [479, 480], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'output_name', 'range': [482, 492], 'children': [{'type': 'Assignment', 'name': '=', 'range': [483, 484], 'children': [{'type': 'CallExpression', 'name': 'get', 'range': [488, 492], 'children': [{'type': 'Argument', 'name': '"name"', 'range': [490, 491], 'children': []}]}]}]}, {'type': 'IfStatement', 'name': 'if', 'range': [493, 507], 'children': [{'type': 'UnaryExpression', 'name': 'not', 'range': [494, 495], 'children': [{'type': 'Identifier', 'name': 'output_name', 'range': [494, 495], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [496, 507], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.warning', 'range': [498, 505], 'children': [{'type': 'CallExpression', 'name': 'warning', 'range': [500, 505], 'children': [{'type': 'Argument', 'name': 'f', 'range': [502, 504], 'children': []}]}]}, {'type': 'ContinueStatement', 'name': 'continue', 'range': [506, 507], 'children': []}]}]}, {'type': 'ForStatement', 'name': 'for', 'range': [509, 538], 'children': [{'type': 'VariableDecl', 'name': 'output_data', 'range': [510, 511], 'children': []}, {'type': 'CallExpression', 'name': 'get', 'range': [516, 523], 'children': [{'type': 'Argument', 'name': '"output"', 'range': [518, 520], 'children': []}, {'type': 'ArrayExpression', 'name': '', 'range': [520, 522], 'children': []}]}, {'type': 'BlockStatement', 'name': '', 'range': [524, 538], 'children': [{'type': 'ExpressionStatement', 'name': 'logger.info', 'range': [525, 532], 'children': [{'type': 'CallExpression', 'name': 'info', 'range': [527, 532], 'children': [{'type': 'Argument', 'name': 'f', 'range': [529, 531], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [533, 537], 'children': [{'type': 'Identifier', 'name': 'output_name', 'range': [534, 535], 'children': []}, {'type': 'Identifier', 'name': 'output_data', 'range': [536, 537], 'children': []}]}]}]}]}]}
2025-01-08 09:27:37,987 - INFO - Completed main AST analysis flow
2025-01-08 09:27:37,988 - INFO - Successfully processed chunk
2025-01-08 09:27:38,016 - INFO - Starting code generation from AST
2025-01-08 09:57:39,468 - ERROR - Error in get_code_from_ast: Expecting value: line 30 column 1 (char 29)
2025-01-08 09:57:39,479 - INFO - Starting static code similarity comparison
2025-01-08 09:57:39,481 - INFO - Static similarity result: {'final_score': 20.91, 'length_similarity': 0.0, 'token_similarity': 0.0, 'structure_similarity': 0.0, 'function_similarity': 100, 'complexity_similarity': 9.09, 'variable_similarity': 100}
