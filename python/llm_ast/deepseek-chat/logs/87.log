2025-01-08 09:52:18,577 - INFO - Processing sample 87
2025-01-08 09:52:18,577 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 09:52:22,620 - INFO - Successfully split code into 5 top-level declarations
2025-01-08 09:52:22,623 - INFO - Processing chunk #0 (size=428 chars, start_index=0)
2025-01-08 09:52:22,623 - INFO - Processing chunk with 428 chars starting at index 0
2025-01-08 09:52:22,623 - INFO - Starting main AST analysis flow
2025-01-08 09:52:22,623 - INFO - Tokenized code into 76 tokens
2025-01-08 09:52:22,623 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:52:22,625 - INFO - Processing chunk #1 (size=4015 chars, start_index=76)
2025-01-08 09:52:22,625 - INFO - Processing chunk with 4015 chars starting at index 76
2025-01-08 09:52:22,625 - INFO - Starting main AST analysis flow
2025-01-08 09:52:22,626 - INFO - Tokenized code into 451 tokens
2025-01-08 09:52:22,626 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:52:22,628 - INFO - Processing chunk #2 (size=260 chars, start_index=527)
2025-01-08 09:52:22,628 - INFO - Processing chunk with 260 chars starting at index 527
2025-01-08 09:52:22,628 - INFO - Starting main AST analysis flow
2025-01-08 09:52:22,629 - INFO - Tokenized code into 42 tokens
2025-01-08 09:52:22,629 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:52:22,638 - INFO - Processing chunk #3 (size=515 chars, start_index=569)
2025-01-08 09:52:22,639 - INFO - Processing chunk with 515 chars starting at index 569
2025-01-08 09:52:22,639 - INFO - Starting main AST analysis flow
2025-01-08 09:52:22,639 - INFO - Tokenized code into 101 tokens
2025-01-08 09:52:22,639 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:52:22,644 - INFO - Processing chunk #4 (size=90 chars, start_index=670)
2025-01-08 09:52:22,644 - INFO - Processing chunk with 90 chars starting at index 670
2025-01-08 09:52:22,644 - INFO - Starting main AST analysis flow
2025-01-08 09:52:22,644 - INFO - Tokenized code into 21 tokens
2025-01-08 09:52:22,644 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:52:24,541 - INFO - Step 1 result: {'type': 'Program', 'name': 'create_test_user', 'range': [527, 568], 'children': []}
2025-01-08 09:52:24,541 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:52:25,123 - INFO - Step 1 result: {'type': 'Program', 'name': 'create_test_graph', 'range': [76, 526], 'children': []}
2025-01-08 09:52:25,123 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:52:27,941 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [670, 690], 'children': [{'type': 'IfStatement', 'name': '', 'range': [670, 676], 'children': []}, {'type': 'ImportStatement', 'name': 'asyncio', 'range': [677, 679], 'children': []}, {'type': 'ExpressionStatement', 'name': '', 'range': [681, 689], 'children': [{'type': 'CallExpression', 'name': 'run', 'range': [681, 688], 'children': [{'type': 'CallExpression', 'name': 'reddit_marketing_agent', 'range': [685, 687], 'children': []}]}]}]}
2025-01-08 09:52:27,941 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:52:38,147 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 75], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'ImportSpecifier', 'name': 'User', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 16], 'children': [{'type': 'ImportSpecifier', 'name': 'AIStructuredResponseGeneratorBlock', 'range': [14, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 27], 'children': [{'type': 'ImportSpecifier', 'name': 'GetRedditPostsBlock', 'range': [23, 24], 'children': []}, {'type': 'ImportSpecifier', 'name': 'PostRedditCommentBlock', 'range': [25, 26], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [28, 38], 'children': [{'type': 'ImportSpecifier', 'name': 'FillTextTemplateBlock', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'MatchTextPatternBlock', 'range': [36, 37], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [39, 53], 'children': [{'type': 'ImportSpecifier', 'name': 'Graph', 'range': [45, 46], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Link', 'range': [47, 48], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Node', 'range': [49, 50], 'children': []}, {'type': 'ImportSpecifier', 'name': 'create_graph', 'range': [51, 52], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'ImportSpecifier', 'name': 'get_or_create_user', 'range': [60, 61], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 73], 'children': [{'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [69, 70], 'children': []}, {'type': 'ImportSpecifier', 'name': 'wait_execution', 'range': [71, 72], 'children': []}]}]}
2025-01-08 09:52:38,148 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:52:38,197 - INFO - Step 2 result: {'nodes': [{'type': 'IfStatement', 'name': '', 'range': [670, 676], 'children': [{'type': 'Condition', 'name': '', 'range': [670, 675], 'children': [{'type': 'Identifier', 'name': '__name__', 'range': [671, 671], 'children': []}, {'type': 'Operator', 'name': '==', 'range': [672, 673], 'children': []}, {'type': 'StringLiteral', 'name': '"__main__"', 'range': [674, 674], 'children': []}]}]}, {'type': 'ImportStatement', 'name': 'asyncio', 'range': [677, 679], 'children': [{'type': 'Module', 'name': 'asyncio', 'range': [678, 678], 'children': []}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [681, 689], 'children': [{'type': 'CallExpression', 'name': 'run', 'range': [681, 688], 'children': [{'type': 'MemberExpression', 'name': 'asyncio.run', 'range': [681, 683], 'children': [{'type': 'Identifier', 'name': 'asyncio', 'range': [681, 681], 'children': []}, {'type': 'Operator', 'name': '.', 'range': [682, 682], 'children': []}, {'type': 'Identifier', 'name': 'run', 'range': [683, 683], 'children': []}]}, {'type': 'CallExpression', 'name': 'reddit_marketing_agent', 'range': [685, 687], 'children': []}]}]}]}
2025-01-08 09:52:38,197 - INFO - Starting Step 3: AST simplification
2025-01-08 09:52:39,471 - INFO - Step 2 result: {'type': 'Program', 'name': 'create_test_user', 'range': [527, 568], 'children': [{'type': 'FunctionDeclaration', 'name': 'create_test_user', 'range': [527, 568], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [527, 531], 'children': []}, {'type': 'DefKeyword', 'name': 'def', 'range': [528, 531], 'children': []}, {'type': 'FunctionName', 'name': 'create_test_user', 'range': [529, 545], 'children': []}, {'type': 'ParameterList', 'name': '', 'range': [530, 531], 'children': []}, {'type': 'ReturnType', 'name': 'User', 'range': [532, 535], 'children': []}, {'type': 'FunctionBody', 'name': '', 'range': [536, 568], 'children': [{'type': 'VariableDeclaration', 'name': 'test_user_data', 'range': [537, 556], 'children': [{'type': 'Assignment', 'name': '=', 'range': [538, 539], 'children': []}, {'type': 'ObjectLiteral', 'name': '', 'range': [539, 556], 'children': [{'type': 'Property', 'name': 'sub', 'range': [541, 543], 'children': []}, {'type': 'Property', 'name': 'email', 'range': [546, 548], 'children': []}, {'type': 'Property', 'name': 'name', 'range': [551, 553], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'user', 'range': [558, 564], 'children': [{'type': 'Assignment', 'name': '=', 'range': [559, 560], 'children': []}, {'type': 'AwaitExpression', 'name': 'await', 'range': [560, 564], 'children': [{'type': 'FunctionCall', 'name': 'get_or_create_user', 'range': [561, 564], 'children': [{'type': 'ArgumentList', 'name': '', 'range': [562, 563], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'name': 'return', 'range': [566, 568], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [567, 568], 'children': []}]}]}]}]}
2025-01-08 09:52:39,471 - INFO - Starting Step 3: AST simplification
2025-01-08 09:52:44,592 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [569, 668], 'children': [{'type': 'FunctionDeclaration', 'name': 'reddit_marketing_agent', 'range': [569, 575], 'children': []}, {'type': 'AsyncWithStatement', 'name': '', 'range': [576, 584], 'children': [{'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [578, 580], 'children': []}, {'type': 'VariableDeclaration', 'name': 'server', 'range': [582, 582], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'test_user', 'range': [585, 591], 'children': [{'type': 'CallExpression', 'name': 'create_test_user', 'range': [588, 590], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'test_graph', 'range': [592, 607], 'children': [{'type': 'CallExpression', 'name': 'create_graph', 'range': [595, 606], 'children': [{'type': 'CallExpression', 'name': 'create_test_graph', 'range': [597, 599], 'children': []}, {'type': 'AssignmentExpression', 'name': 'user_id', 'range': [601, 605], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'input_data', 'range': [608, 615], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [610, 614], 'children': [{'type': 'Property', 'name': 'subreddit', 'range': [611, 613], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'response', 'range': [616, 637], 'children': [{'type': 'CallExpression', 'name': 'test_execute_graph', 'range': [623, 636], 'children': [{'type': 'MemberExpression', 'name': 'id', 'range': [626, 628], 'children': []}, {'type': 'Identifier', 'name': 'input_data', 'range': [630, 630], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [632, 634], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [638, 642], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [638, 641], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [640, 640], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'result', 'range': [643, 663], 'children': [{'type': 'CallExpression', 'name': 'wait_execution', 'range': [646, 662], 'children': [{'type': 'MemberExpression', 'name': 'id', 'range': [648, 650], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [652, 654], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [656, 659], 'children': []}, {'type': 'Literal', 'name': '120', 'range': [661, 661], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [664, 668], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [664, 667], 'children': [{'type': 'Identifier', 'name': 'result', 'range': [666, 666], 'children': []}]}]}]}
2025-01-08 09:52:44,593 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:52:44,973 - INFO - Step 2 result: {'type': 'Program', 'name': 'create_test_graph', 'range': [76, 526], 'children': [{'type': 'FunctionDeclaration', 'name': 'create_test_graph', 'range': [76, 526], 'children': [{'type': 'FunctionSignature', 'name': 'create_test_graph', 'range': [76, 83], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [76, 79], 'children': []}, {'type': 'FunctionName', 'name': 'create_test_graph', 'range': [77, 78], 'children': []}, {'type': 'Parameters', 'name': '()', 'range': [78, 80], 'children': []}, {'type': 'ReturnType', 'name': '-> Graph', 'range': [80, 83], 'children': []}]}, {'type': 'FunctionBody', 'name': 'create_test_graph', 'range': [84, 526], 'children': [{'type': 'Docstring', 'name': 'Docstring', 'range': [84, 87], 'children': []}, {'type': 'Comment', 'name': 'Hardcoded inputs', 'range': [89, 92], 'children': []}, {'type': 'VariableDeclaration', 'name': 'reddit_get_post_input', 'range': [93, 103], 'children': []}, {'type': 'VariableDeclaration', 'name': 'text_formatter_input', 'range': [104, 120], 'children': []}, {'type': 'VariableDeclaration', 'name': 'llm_call_input', 'range': [121, 155], 'children': []}, {'type': 'VariableDeclaration', 'name': 'text_matcher_input', 'range': [156, 167], 'children': []}, {'type': 'VariableDeclaration', 'name': 'reddit_comment_input', 'range': [168, 172], 'children': []}, {'type': 'Comment', 'name': 'Nodes', 'range': [174, 176], 'children': []}, {'type': 'VariableDeclaration', 'name': 'reddit_get_post_node', 'range': [177, 197], 'children': []}, {'type': 'VariableDeclaration', 'name': 'text_formatter_node', 'range': [198, 218], 'children': []}, {'type': 'VariableDeclaration', 'name': 'llm_call_node', 'range': [219, 237], 'children': []}, {'type': 'VariableDeclaration', 'name': 'text_matcher_node', 'range': [238, 258], 'children': []}, {'type': 'VariableDeclaration', 'name': 'reddit_comment_node', 'range': [259, 279], 'children': []}, {'type': 'VariableDeclaration', 'name': 'nodes', 'range': [281, 301], 'children': []}, {'type': 'Comment', 'name': 'Links', 'range': [303, 305], 'children': []}, {'type': 'VariableDeclaration', 'name': 'links', 'range': [306, 490], 'children': []}, {'type': 'Comment', 'name': 'Create graph', 'range': [493, 496], 'children': []}, {'type': 'VariableDeclaration', 'name': 'test_graph', 'range': [497, 523], 'children': []}, {'type': 'ReturnStatement', 'name': 'return test_graph', 'range': [524, 526], 'children': []}]}]}]}
2025-01-08 09:52:44,973 - INFO - Starting Step 3: AST simplification
2025-01-08 09:52:47,779 - INFO - Step 3 result: {'nodes': [{'type': 'IfStatement', 'name': '', 'range': [670, 676], 'children': [{'type': 'Condition', 'name': '', 'range': [670, 675], 'children': [{'type': 'Identifier', 'name': '__name__', 'range': [671, 671], 'children': []}, {'type': 'Operator', 'name': '==', 'range': [672, 673], 'children': []}, {'type': 'StringLiteral', 'name': '"__main__"', 'range': [674, 674], 'children': []}]}]}, {'type': 'ImportStatement', 'name': 'asyncio', 'range': [677, 679], 'children': [{'type': 'Module', 'name': 'asyncio', 'range': [678, 678], 'children': []}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [681, 689], 'children': [{'type': 'CallExpression', 'name': 'run', 'range': [681, 688], 'children': [{'type': 'MemberExpression', 'name': 'asyncio.run', 'range': [681, 683], 'children': [{'type': 'Identifier', 'name': 'asyncio', 'range': [681, 681], 'children': []}, {'type': 'Identifier', 'name': 'run', 'range': [683, 683], 'children': []}]}, {'type': 'CallExpression', 'name': 'reddit_marketing_agent', 'range': [685, 687], 'children': []}]}]}]}
2025-01-08 09:52:47,780 - INFO - Starting Step 4: AST normalization
2025-01-08 09:52:51,897 - INFO - Step 3 result: {'type': 'Program', 'name': 'create_test_user', 'range': [527, 568], 'children': [{'type': 'FunctionDeclaration', 'name': 'create_test_user', 'range': [527, 568], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [527, 531], 'children': []}, {'type': 'DefKeyword', 'name': 'def', 'range': [528, 531], 'children': []}, {'type': 'FunctionName', 'name': 'create_test_user', 'range': [529, 545], 'children': []}, {'type': 'ReturnType', 'name': 'User', 'range': [532, 535], 'children': []}, {'type': 'FunctionBody', 'name': '', 'range': [536, 568], 'children': [{'type': 'VariableDeclaration', 'name': 'test_user_data', 'range': [537, 556], 'children': [{'type': 'ObjectLiteral', 'name': '', 'range': [539, 556], 'children': [{'type': 'Property', 'name': 'sub', 'range': [541, 543], 'children': []}, {'type': 'Property', 'name': 'email', 'range': [546, 548], 'children': []}, {'type': 'Property', 'name': 'name', 'range': [551, 553], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'user', 'range': [558, 564], 'children': [{'type': 'AwaitExpression', 'name': 'await', 'range': [560, 564], 'children': [{'type': 'FunctionCall', 'name': 'get_or_create_user', 'range': [561, 564], 'children': []}]}]}, {'type': 'ReturnStatement', 'name': 'return', 'range': [566, 568], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [567, 568], 'children': []}]}]}]}]}
2025-01-08 09:52:51,897 - INFO - Starting Step 4: AST normalization
2025-01-08 09:52:58,135 - INFO - Step 4 result: {'nodes': [{'type': 'IfStatement', 'name': '', 'range': [670, 676], 'children': [{'type': 'BinaryExpression', 'name': '', 'range': [670, 675], 'children': [{'type': 'Identifier', 'name': '__name__', 'range': [671, 671], 'children': []}, {'type': 'Operator', 'name': '==', 'range': [672, 673], 'children': []}, {'type': 'Literal', 'name': '"__main__"', 'range': [674, 674], 'children': []}]}]}, {'type': 'ImportStatement', 'name': 'asyncio', 'range': [677, 679], 'children': [{'type': 'Module', 'name': 'asyncio', 'range': [678, 678], 'children': []}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [681, 689], 'children': [{'type': 'CallExpression', 'name': 'run', 'range': [681, 688], 'children': [{'type': 'MemberExpression', 'name': 'asyncio.run', 'range': [681, 683], 'children': [{'type': 'Identifier', 'name': 'asyncio', 'range': [681, 681], 'children': []}, {'type': 'Identifier', 'name': 'run', 'range': [683, 683], 'children': []}]}, {'type': 'CallExpression', 'name': 'reddit_marketing_agent', 'range': [685, 687], 'children': []}]}]}]}
2025-01-08 09:52:58,135 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:53:02,436 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'FromClause', 'name': '', 'range': [0, 3], 'children': [{'type': 'ModuleSpecifier', 'name': 'prisma.models', 'range': [0, 3], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'User', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 16], 'children': [{'type': 'FromClause', 'name': '', 'range': [8, 13], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.llm', 'range': [8, 13], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'AIStructuredResponseGeneratorBlock', 'range': [14, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 27], 'children': [{'type': 'FromClause', 'name': '', 'range': [17, 22], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.reddit', 'range': [17, 22], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'GetRedditPostsBlock', 'range': [23, 24], 'children': []}, {'type': 'ImportSpecifier', 'name': 'PostRedditCommentBlock', 'range': [25, 26], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [28, 38], 'children': [{'type': 'FromClause', 'name': '', 'range': [28, 33], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.text', 'range': [28, 33], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'FillTextTemplateBlock', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'MatchTextPatternBlock', 'range': [36, 37], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [39, 53], 'children': [{'type': 'FromClause', 'name': '', 'range': [39, 44], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.data.graph', 'range': [39, 44], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'Graph', 'range': [45, 46], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Link', 'range': [47, 48], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Node', 'range': [49, 50], 'children': []}, {'type': 'ImportSpecifier', 'name': 'create_graph', 'range': [51, 52], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'FromClause', 'name': '', 'range': [54, 59], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.data.user', 'range': [54, 59], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'get_or_create_user', 'range': [60, 61], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 73], 'children': [{'type': 'FromClause', 'name': '', 'range': [63, 68], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.util.test', 'range': [63, 68], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [69, 70], 'children': []}, {'type': 'ImportSpecifier', 'name': 'wait_execution', 'range': [71, 72], 'children': []}]}]}
2025-01-08 09:53:02,437 - INFO - Starting Step 3: AST simplification
2025-01-08 09:53:04,965 - INFO - Step 4 result: {'type': 'Program', 'name': 'create_test_user', 'range': [527, 568], 'children': [{'type': 'FunctionDecl', 'name': 'create_test_user', 'range': [527, 568], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [527, 531], 'children': []}, {'type': 'DefKeyword', 'name': 'def', 'range': [528, 531], 'children': []}, {'type': 'Identifier', 'name': 'create_test_user', 'range': [529, 545], 'children': []}, {'type': 'ReturnType', 'name': 'User', 'range': [532, 535], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [536, 568], 'children': [{'type': 'VariableDecl', 'name': 'test_user_data', 'range': [537, 556], 'children': [{'type': 'ObjectLiteral', 'name': '', 'range': [539, 556], 'children': [{'type': 'Property', 'name': 'sub', 'range': [541, 543], 'children': []}, {'type': 'Property', 'name': 'email', 'range': [546, 548], 'children': []}, {'type': 'Property', 'name': 'name', 'range': [551, 553], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'user', 'range': [558, 564], 'children': [{'type': 'AwaitExpression', 'name': 'await', 'range': [560, 564], 'children': [{'type': 'CallExpression', 'name': 'get_or_create_user', 'range': [561, 564], 'children': []}]}]}, {'type': 'ReturnStatement', 'name': 'return', 'range': [566, 568], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [567, 568], 'children': []}]}]}]}]}
2025-01-08 09:53:04,965 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:53:06,438 - INFO - Step 3 result: {'type': 'Program', 'name': 'create_test_graph', 'range': [76, 526], 'children': [{'type': 'FunctionDeclaration', 'name': 'create_test_graph', 'range': [76, 526], 'children': [{'type': 'FunctionSignature', 'name': 'create_test_graph', 'range': [76, 83], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [76, 79], 'children': []}, {'type': 'FunctionName', 'name': 'create_test_graph', 'range': [77, 78], 'children': []}, {'type': 'Parameters', 'name': '()', 'range': [78, 80], 'children': []}, {'type': 'ReturnType', 'name': '-> Graph', 'range': [80, 83], 'children': []}]}, {'type': 'FunctionBody', 'name': 'create_test_graph', 'range': [84, 526], 'children': [{'type': 'Docstring', 'name': 'Docstring', 'range': [84, 87], 'children': []}, {'type': 'Comment', 'name': 'Hardcoded inputs', 'range': [89, 92], 'children': []}, {'type': 'VariableDeclaration', 'name': 'reddit_get_post_input', 'range': [93, 103], 'children': []}, {'type': 'VariableDeclaration', 'name': 'text_formatter_input', 'range': [104, 120], 'children': []}, {'type': 'VariableDeclaration', 'name': 'llm_call_input', 'range': [121, 155], 'children': []}, {'type': 'VariableDeclaration', 'name': 'text_matcher_input', 'range': [156, 167], 'children': []}, {'type': 'VariableDeclaration', 'name': 'reddit_comment_input', 'range': [168, 172], 'children': []}, {'type': 'Comment', 'name': 'Nodes', 'range': [174, 176], 'children': []}, {'type': 'VariableDeclaration', 'name': 'reddit_get_post_node', 'range': [177, 197], 'children': []}, {'type': 'VariableDeclaration', 'name': 'text_formatter_node', 'range': [198, 218], 'children': []}, {'type': 'VariableDeclaration', 'name': 'llm_call_node', 'range': [219, 237], 'children': []}, {'type': 'VariableDeclaration', 'name': 'text_matcher_node', 'range': [238, 258], 'children': []}, {'type': 'VariableDeclaration', 'name': 'reddit_comment_node', 'range': [259, 279], 'children': []}, {'type': 'VariableDeclaration', 'name': 'nodes', 'range': [281, 301], 'children': []}, {'type': 'Comment', 'name': 'Links', 'range': [303, 305], 'children': []}, {'type': 'VariableDeclaration', 'name': 'links', 'range': [306, 490], 'children': []}, {'type': 'Comment', 'name': 'Create graph', 'range': [493, 496], 'children': []}, {'type': 'VariableDeclaration', 'name': 'test_graph', 'range': [497, 523], 'children': []}, {'type': 'ReturnStatement', 'name': 'return test_graph', 'range': [524, 526], 'children': []}]}]}]}
2025-01-08 09:53:06,438 - INFO - Starting Step 4: AST normalization
2025-01-08 09:53:09,561 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainProgram', 'range': [670, 689], 'children': [{'type': 'IfStatement', 'name': '', 'range': [670, 676], 'children': [{'type': 'BinaryExpression', 'name': '', 'range': [670, 675], 'children': [{'type': 'Identifier', 'name': '__name__', 'range': [671, 671], 'children': []}, {'type': 'Operator', 'name': '==', 'range': [672, 673], 'children': []}, {'type': 'Literal', 'name': '"__main__"', 'range': [674, 674], 'children': []}]}]}, {'type': 'ImportStatement', 'name': 'asyncio', 'range': [677, 679], 'children': [{'type': 'Module', 'name': 'asyncio', 'range': [678, 678], 'children': []}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [681, 689], 'children': [{'type': 'CallExpression', 'name': 'run', 'range': [681, 688], 'children': [{'type': 'MemberExpression', 'name': 'asyncio.run', 'range': [681, 683], 'children': [{'type': 'Identifier', 'name': 'asyncio', 'range': [681, 681], 'children': []}, {'type': 'Identifier', 'name': 'run', 'range': [683, 683], 'children': []}]}, {'type': 'CallExpression', 'name': 'reddit_marketing_agent', 'range': [685, 687], 'children': []}]}]}]}]}
2025-01-08 09:53:09,561 - INFO - Completed main AST analysis flow
2025-01-08 09:53:09,561 - INFO - Successfully processed chunk
2025-01-08 09:53:17,573 - INFO - Step 5 result: {'type': 'Program', 'name': 'create_test_user', 'range': [527, 568], 'children': [{'type': 'FunctionDecl', 'name': 'create_test_user', 'range': [527, 568], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [527, 531], 'children': []}, {'type': 'DefKeyword', 'name': 'def', 'range': [528, 531], 'children': []}, {'type': 'Identifier', 'name': 'create_test_user', 'range': [529, 545], 'children': []}, {'type': 'ReturnType', 'name': 'User', 'range': [532, 535], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [536, 568], 'children': [{'type': 'VariableDecl', 'name': 'test_user_data', 'range': [537, 556], 'children': [{'type': 'ObjectLiteral', 'name': '', 'range': [539, 556], 'children': [{'type': 'Property', 'name': 'sub', 'range': [541, 543], 'children': []}, {'type': 'Property', 'name': 'email', 'range': [546, 548], 'children': []}, {'type': 'Property', 'name': 'name', 'range': [551, 553], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'user', 'range': [558, 564], 'children': [{'type': 'AwaitExpression', 'name': 'await', 'range': [560, 564], 'children': [{'type': 'CallExpression', 'name': 'get_or_create_user', 'range': [561, 564], 'children': []}]}]}, {'type': 'ReturnStatement', 'name': 'return', 'range': [566, 568], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [567, 568], 'children': []}]}]}]}]}
2025-01-08 09:53:17,573 - INFO - Completed main AST analysis flow
2025-01-08 09:53:17,573 - INFO - Successfully processed chunk
2025-01-08 09:53:25,996 - INFO - Step 4 result: {'type': 'Program', 'name': 'create_test_graph', 'range': [76, 526], 'children': [{'type': 'FunctionDecl', 'name': 'create_test_graph', 'range': [76, 526], 'children': [{'type': 'FunctionSignature', 'name': 'create_test_graph', 'range': [76, 83], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [76, 79], 'children': []}, {'type': 'FunctionName', 'name': 'create_test_graph', 'range': [77, 78], 'children': []}, {'type': 'Parameters', 'name': '()', 'range': [78, 80], 'children': []}, {'type': 'ReturnType', 'name': '-> Graph', 'range': [80, 83], 'children': []}]}, {'type': 'FunctionBody', 'name': 'create_test_graph', 'range': [84, 526], 'children': [{'type': 'Docstring', 'name': 'Docstring', 'range': [84, 87], 'children': []}, {'type': 'Comment', 'name': 'Hardcoded inputs', 'range': [89, 92], 'children': []}, {'type': 'VariableDecl', 'name': 'reddit_get_post_input', 'range': [93, 103], 'children': []}, {'type': 'VariableDecl', 'name': 'text_formatter_input', 'range': [104, 120], 'children': []}, {'type': 'VariableDecl', 'name': 'llm_call_input', 'range': [121, 155], 'children': []}, {'type': 'VariableDecl', 'name': 'text_matcher_input', 'range': [156, 167], 'children': []}, {'type': 'VariableDecl', 'name': 'reddit_comment_input', 'range': [168, 172], 'children': []}, {'type': 'Comment', 'name': 'Nodes', 'range': [174, 176], 'children': []}, {'type': 'VariableDecl', 'name': 'reddit_get_post_node', 'range': [177, 197], 'children': []}, {'type': 'VariableDecl', 'name': 'text_formatter_node', 'range': [198, 218], 'children': []}, {'type': 'VariableDecl', 'name': 'llm_call_node', 'range': [219, 237], 'children': []}, {'type': 'VariableDecl', 'name': 'text_matcher_node', 'range': [238, 258], 'children': []}, {'type': 'VariableDecl', 'name': 'reddit_comment_node', 'range': [259, 279], 'children': []}, {'type': 'VariableDecl', 'name': 'nodes', 'range': [281, 301], 'children': []}, {'type': 'Comment', 'name': 'Links', 'range': [303, 305], 'children': []}, {'type': 'VariableDecl', 'name': 'links', 'range': [306, 490], 'children': []}, {'type': 'Comment', 'name': 'Create graph', 'range': [493, 496], 'children': []}, {'type': 'VariableDecl', 'name': 'test_graph', 'range': [497, 523], 'children': []}, {'type': 'ReturnStatement', 'name': 'return test_graph', 'range': [524, 526], 'children': []}]}]}]}
2025-01-08 09:53:25,996 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:53:26,924 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'FromClause', 'name': '', 'range': [0, 3], 'children': [{'type': 'ModuleSpecifier', 'name': 'prisma.models', 'range': [0, 3], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'User', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 16], 'children': [{'type': 'FromClause', 'name': '', 'range': [8, 13], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.llm', 'range': [8, 13], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'AIStructuredResponseGeneratorBlock', 'range': [14, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 27], 'children': [{'type': 'FromClause', 'name': '', 'range': [17, 22], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.reddit', 'range': [17, 22], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'GetRedditPostsBlock', 'range': [23, 24], 'children': []}, {'type': 'ImportSpecifier', 'name': 'PostRedditCommentBlock', 'range': [25, 26], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [28, 38], 'children': [{'type': 'FromClause', 'name': '', 'range': [28, 33], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.text', 'range': [28, 33], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'FillTextTemplateBlock', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'MatchTextPatternBlock', 'range': [36, 37], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [39, 53], 'children': [{'type': 'FromClause', 'name': '', 'range': [39, 44], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.data.graph', 'range': [39, 44], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'Graph', 'range': [45, 46], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Link', 'range': [47, 48], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Node', 'range': [49, 50], 'children': []}, {'type': 'ImportSpecifier', 'name': 'create_graph', 'range': [51, 52], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'FromClause', 'name': '', 'range': [54, 59], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.data.user', 'range': [54, 59], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'get_or_create_user', 'range': [60, 61], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 73], 'children': [{'type': 'FromClause', 'name': '', 'range': [63, 68], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.util.test', 'range': [63, 68], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [69, 70], 'children': []}, {'type': 'ImportSpecifier', 'name': 'wait_execution', 'range': [71, 72], 'children': []}]}]}
2025-01-08 09:53:26,924 - INFO - Starting Step 4: AST normalization
2025-01-08 09:53:46,466 - INFO - Step 5 result: {'type': 'Program', 'name': 'create_test_graph', 'range': [76, 526], 'children': [{'type': 'FunctionDecl', 'name': 'create_test_graph', 'range': [76, 526], 'children': [{'type': 'FunctionSignature', 'name': 'create_test_graph', 'range': [76, 83], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [76, 79], 'children': []}, {'type': 'FunctionName', 'name': 'create_test_graph', 'range': [77, 78], 'children': []}, {'type': 'Parameters', 'name': '()', 'range': [78, 80], 'children': []}, {'type': 'ReturnType', 'name': '-> Graph', 'range': [80, 83], 'children': []}]}, {'type': 'FunctionBody', 'name': 'create_test_graph', 'range': [84, 526], 'children': [{'type': 'Docstring', 'name': 'Docstring', 'range': [84, 87], 'children': []}, {'type': 'Comment', 'name': 'Hardcoded inputs', 'range': [89, 92], 'children': []}, {'type': 'VariableDecl', 'name': 'reddit_get_post_input', 'range': [93, 103], 'children': []}, {'type': 'VariableDecl', 'name': 'text_formatter_input', 'range': [104, 120], 'children': []}, {'type': 'VariableDecl', 'name': 'llm_call_input', 'range': [121, 155], 'children': []}, {'type': 'VariableDecl', 'name': 'text_matcher_input', 'range': [156, 167], 'children': []}, {'type': 'VariableDecl', 'name': 'reddit_comment_input', 'range': [168, 172], 'children': []}, {'type': 'Comment', 'name': 'Nodes', 'range': [174, 176], 'children': []}, {'type': 'VariableDecl', 'name': 'reddit_get_post_node', 'range': [177, 197], 'children': []}, {'type': 'VariableDecl', 'name': 'text_formatter_node', 'range': [198, 218], 'children': []}, {'type': 'VariableDecl', 'name': 'llm_call_node', 'range': [219, 237], 'children': []}, {'type': 'VariableDecl', 'name': 'text_matcher_node', 'range': [238, 258], 'children': []}, {'type': 'VariableDecl', 'name': 'reddit_comment_node', 'range': [259, 279], 'children': []}, {'type': 'VariableDecl', 'name': 'nodes', 'range': [281, 301], 'children': []}, {'type': 'Comment', 'name': 'Links', 'range': [303, 305], 'children': []}, {'type': 'VariableDecl', 'name': 'links', 'range': [306, 490], 'children': []}, {'type': 'Comment', 'name': 'Create graph', 'range': [493, 496], 'children': []}, {'type': 'VariableDecl', 'name': 'test_graph', 'range': [497, 523], 'children': []}, {'type': 'ReturnStatement', 'name': 'return test_graph', 'range': [524, 526], 'children': []}]}]}]}
2025-01-08 09:53:46,467 - INFO - Completed main AST analysis flow
2025-01-08 09:53:46,468 - INFO - Successfully processed chunk
2025-01-08 09:53:52,107 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'FromClause', 'name': '', 'range': [0, 3], 'children': [{'type': 'ModuleSpecifier', 'name': 'prisma.models', 'range': [0, 3], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'User', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 16], 'children': [{'type': 'FromClause', 'name': '', 'range': [8, 13], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.llm', 'range': [8, 13], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'AIStructuredResponseGeneratorBlock', 'range': [14, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 27], 'children': [{'type': 'FromClause', 'name': '', 'range': [17, 22], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.reddit', 'range': [17, 22], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'GetRedditPostsBlock', 'range': [23, 24], 'children': []}, {'type': 'ImportSpecifier', 'name': 'PostRedditCommentBlock', 'range': [25, 26], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [28, 38], 'children': [{'type': 'FromClause', 'name': '', 'range': [28, 33], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.text', 'range': [28, 33], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'FillTextTemplateBlock', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'MatchTextPatternBlock', 'range': [36, 37], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [39, 53], 'children': [{'type': 'FromClause', 'name': '', 'range': [39, 44], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.data.graph', 'range': [39, 44], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'Graph', 'range': [45, 46], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Link', 'range': [47, 48], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Node', 'range': [49, 50], 'children': []}, {'type': 'ImportSpecifier', 'name': 'create_graph', 'range': [51, 52], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'FromClause', 'name': '', 'range': [54, 59], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.data.user', 'range': [54, 59], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'get_or_create_user', 'range': [60, 61], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 73], 'children': [{'type': 'FromClause', 'name': '', 'range': [63, 68], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.util.test', 'range': [63, 68], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [69, 70], 'children': []}, {'type': 'ImportSpecifier', 'name': 'wait_execution', 'range': [71, 72], 'children': []}]}]}
2025-01-08 09:53:52,107 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:54:05,513 - INFO - Step 2 result: {'nodes': [{'type': 'FunctionDeclaration', 'name': 'reddit_marketing_agent', 'range': [569, 575], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [569, 569], 'children': []}, {'type': 'Keyword', 'name': 'def', 'range': [570, 570], 'children': []}, {'type': 'Identifier', 'name': 'reddit_marketing_agent', 'range': [571, 571], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [572, 572], 'children': []}, {'type': 'Punctuator', 'name': ')', 'range': [573, 573], 'children': []}, {'type': 'Punctuator', 'name': ':', 'range': [574, 574], 'children': []}]}, {'type': 'AsyncWithStatement', 'name': '', 'range': [576, 584], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [576, 576], 'children': []}, {'type': 'Keyword', 'name': 'with', 'range': [577, 577], 'children': []}, {'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [578, 580], 'children': [{'type': 'Identifier', 'name': 'SpinTestServer', 'range': [578, 578], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [579, 579], 'children': []}, {'type': 'Punctuator', 'name': ')', 'range': [580, 580], 'children': []}]}, {'type': 'Keyword', 'name': 'as', 'range': [581, 581], 'children': []}, {'type': 'VariableDeclaration', 'name': 'server', 'range': [582, 582], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [582, 582], 'children': []}]}, {'type': 'Punctuator', 'name': ':', 'range': [583, 583], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'test_user', 'range': [585, 591], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [585, 585], 'children': []}, {'type': 'Punctuator', 'name': '=', 'range': [586, 586], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [587, 587], 'children': []}, {'type': 'CallExpression', 'name': 'create_test_user', 'range': [588, 590], 'children': [{'type': 'Identifier', 'name': 'create_test_user', 'range': [588, 588], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [589, 589], 'children': []}, {'type': 'Punctuator', 'name': ')', 'range': [590, 590], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'test_graph', 'range': [592, 607], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [592, 592], 'children': []}, {'type': 'Punctuator', 'name': '=', 'range': [593, 593], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [594, 594], 'children': []}, {'type': 'CallExpression', 'name': 'create_graph', 'range': [595, 606], 'children': [{'type': 'Identifier', 'name': 'create_graph', 'range': [595, 595], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [596, 596], 'children': []}, {'type': 'CallExpression', 'name': 'create_test_graph', 'range': [597, 599], 'children': [{'type': 'Identifier', 'name': 'create_test_graph', 'range': [597, 597], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [598, 598], 'children': []}, {'type': 'Punctuator', 'name': ')', 'range': [599, 599], 'children': []}]}, {'type': 'Punctuator', 'name': ',', 'range': [600, 600], 'children': []}, {'type': 'AssignmentExpression', 'name': 'user_id', 'range': [601, 605], 'children': [{'type': 'Identifier', 'name': 'user_id', 'range': [601, 601], 'children': []}, {'type': 'Punctuator', 'name': '=', 'range': [602, 602], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [603, 605], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [603, 603], 'children': []}, {'type': 'Punctuator', 'name': '.', 'range': [604, 604], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [605, 605], 'children': []}]}]}, {'type': 'Punctuator', 'name': ')', 'range': [606, 606], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'input_data', 'range': [608, 615], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [608, 608], 'children': []}, {'type': 'Punctuator', 'name': '=', 'range': [609, 609], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [610, 614], 'children': [{'type': 'Property', 'name': 'subreddit', 'range': [611, 613], 'children': [{'type': 'Literal', 'name': '"subreddit"', 'range': [611, 611], 'children': []}, {'type': 'Punctuator', 'name': ':', 'range': [612, 612], 'children': []}, {'type': 'Literal', 'name': '"AutoGPT"', 'range': [613, 613], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'response', 'range': [616, 637], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [616, 616], 'children': []}, {'type': 'Punctuator', 'name': '=', 'range': [617, 617], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [618, 618], 'children': []}, {'type': 'CallExpression', 'name': 'test_execute_graph', 'range': [623, 636], 'children': [{'type': 'MemberExpression', 'name': 'agent_server', 'range': [619, 622], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [619, 619], 'children': []}, {'type': 'Punctuator', 'name': '.', 'range': [620, 620], 'children': []}, {'type': 'Identifier', 'name': 'agent_server', 'range': [621, 621], 'children': []}]}, {'type': 'Punctuator', 'name': '.', 'range': [622, 622], 'children': []}, {'type': 'Identifier', 'name': 'test_execute_graph', 'range': [623, 623], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [624, 624], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [626, 628], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [626, 626], 'children': []}, {'type': 'Punctuator', 'name': '.', 'range': [627, 627], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [628, 628], 'children': []}]}, {'type': 'Punctuator', 'name': ',', 'range': [629, 629], 'children': []}, {'type': 'Identifier', 'name': 'input_data', 'range': [630, 630], 'children': []}, {'type': 'Punctuator', 'name': ',', 'range': [631, 631], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [632, 634], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [632, 632], 'children': []}, {'type': 'Punctuator', 'name': '.', 'range': [633, 633], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [634, 634], 'children': []}]}, {'type': 'Punctuator', 'name': ')', 'range': [636, 636], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [638, 642], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [638, 641], 'children': [{'type': 'Identifier', 'name': 'print', 'range': [638, 638], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [639, 639], 'children': []}, {'type': 'Identifier', 'name': 'response', 'range': [640, 640], 'children': []}, {'type': 'Punctuator', 'name': ')', 'range': [641, 641], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'result', 'range': [643, 663], 'children': [{'type': 'Identifier', 'name': 'result', 'range': [643, 643], 'children': []}, {'type': 'Punctuator', 'name': '=', 'range': [644, 644], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [645, 645], 'children': []}, {'type': 'CallExpression', 'name': 'wait_execution', 'range': [646, 662], 'children': [{'type': 'Identifier', 'name': 'wait_execution', 'range': [646, 646], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [647, 647], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [648, 650], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [648, 648], 'children': []}, {'type': 'Punctuator', 'name': '.', 'range': [649, 649], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [650, 650], 'children': []}]}, {'type': 'Punctuator', 'name': ',', 'range': [651, 651], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [652, 654], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [652, 652], 'children': []}, {'type': 'Punctuator', 'name': '.', 'range': [653, 653], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [654, 654], 'children': []}]}, {'type': 'Punctuator', 'name': ',', 'range': [655, 655], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [656, 659], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [656, 656], 'children': []}, {'type': 'Punctuator', 'name': '[', 'range': [657, 657], 'children': []}, {'type': 'Literal', 'name': '"id"', 'range': [658, 658], 'children': []}, {'type': 'Punctuator', 'name': ']', 'range': [659, 659], 'children': []}]}, {'type': 'Punctuator', 'name': ',', 'range': [660, 660], 'children': []}, {'type': 'Literal', 'name': '120', 'range': [661, 661], 'children': []}, {'type': 'Punctuator', 'name': ')', 'range': [662, 662], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [664, 668], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [664, 667], 'children': [{'type': 'Identifier', 'name': 'print', 'range': [664, 664], 'children': []}, {'type': 'Punctuator', 'name': '(', 'range': [665, 665], 'children': []}, {'type': 'Identifier', 'name': 'result', 'range': [666, 666], 'children': []}, {'type': 'Punctuator', 'name': ')', 'range': [667, 667], 'children': []}]}]}]}
2025-01-08 09:54:05,513 - INFO - Starting Step 3: AST simplification
2025-01-08 09:54:17,488 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainProgram', 'range': [0, 73], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'FromClause', 'name': '', 'range': [0, 3], 'children': [{'type': 'ModuleSpecifier', 'name': 'prisma.models', 'range': [0, 3], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'User', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 16], 'children': [{'type': 'FromClause', 'name': '', 'range': [8, 13], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.llm', 'range': [8, 13], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'AIStructuredResponseGeneratorBlock', 'range': [14, 15], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [17, 27], 'children': [{'type': 'FromClause', 'name': '', 'range': [17, 22], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.reddit', 'range': [17, 22], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'GetRedditPostsBlock', 'range': [23, 24], 'children': []}, {'type': 'ImportSpecifier', 'name': 'PostRedditCommentBlock', 'range': [25, 26], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [28, 38], 'children': [{'type': 'FromClause', 'name': '', 'range': [28, 33], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.blocks.text', 'range': [28, 33], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'FillTextTemplateBlock', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'MatchTextPatternBlock', 'range': [36, 37], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [39, 53], 'children': [{'type': 'FromClause', 'name': '', 'range': [39, 44], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.data.graph', 'range': [39, 44], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'Graph', 'range': [45, 46], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Link', 'range': [47, 48], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Node', 'range': [49, 50], 'children': []}, {'type': 'ImportSpecifier', 'name': 'create_graph', 'range': [51, 52], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'FromClause', 'name': '', 'range': [54, 59], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.data.user', 'range': [54, 59], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'get_or_create_user', 'range': [60, 61], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [63, 73], 'children': [{'type': 'FromClause', 'name': '', 'range': [63, 68], 'children': [{'type': 'ModuleSpecifier', 'name': 'backend.util.test', 'range': [63, 68], 'children': []}]}, {'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [69, 70], 'children': []}, {'type': 'ImportSpecifier', 'name': 'wait_execution', 'range': [71, 72], 'children': []}]}]}]}
2025-01-08 09:54:17,489 - INFO - Completed main AST analysis flow
2025-01-08 09:54:17,491 - INFO - Successfully processed chunk
2025-01-08 09:54:56,046 - INFO - Step 3 result: {'nodes': [{'type': 'FunctionDeclaration', 'name': 'reddit_marketing_agent', 'range': [569, 575], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [569, 569], 'children': []}, {'type': 'Keyword', 'name': 'def', 'range': [570, 570], 'children': []}, {'type': 'Identifier', 'name': 'reddit_marketing_agent', 'range': [571, 571], 'children': []}]}, {'type': 'AsyncWithStatement', 'name': '', 'range': [576, 584], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [576, 576], 'children': []}, {'type': 'Keyword', 'name': 'with', 'range': [577, 577], 'children': []}, {'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [578, 580], 'children': [{'type': 'Identifier', 'name': 'SpinTestServer', 'range': [578, 578], 'children': []}]}, {'type': 'Keyword', 'name': 'as', 'range': [581, 581], 'children': []}, {'type': 'VariableDeclaration', 'name': 'server', 'range': [582, 582], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [582, 582], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'test_user', 'range': [585, 591], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [585, 585], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [587, 587], 'children': []}, {'type': 'CallExpression', 'name': 'create_test_user', 'range': [588, 590], 'children': [{'type': 'Identifier', 'name': 'create_test_user', 'range': [588, 588], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'test_graph', 'range': [592, 607], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [592, 592], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [594, 594], 'children': []}, {'type': 'CallExpression', 'name': 'create_graph', 'range': [595, 606], 'children': [{'type': 'Identifier', 'name': 'create_graph', 'range': [595, 595], 'children': []}, {'type': 'CallExpression', 'name': 'create_test_graph', 'range': [597, 599], 'children': [{'type': 'Identifier', 'name': 'create_test_graph', 'range': [597, 597], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'user_id', 'range': [601, 605], 'children': [{'type': 'Identifier', 'name': 'user_id', 'range': [601, 601], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [603, 605], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [603, 603], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [605, 605], 'children': []}]}]}]}]}, {'type': 'VariableDeclaration', 'name': 'input_data', 'range': [608, 615], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [608, 608], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [610, 614], 'children': [{'type': 'Property', 'name': 'subreddit', 'range': [611, 613], 'children': [{'type': 'Literal', 'name': '"subreddit"', 'range': [611, 611], 'children': []}, {'type': 'Literal', 'name': '"AutoGPT"', 'range': [613, 613], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'response', 'range': [616, 637], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [616, 616], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [618, 618], 'children': []}, {'type': 'CallExpression', 'name': 'test_execute_graph', 'range': [623, 636], 'children': [{'type': 'MemberExpression', 'name': 'agent_server', 'range': [619, 622], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [619, 619], 'children': []}, {'type': 'Identifier', 'name': 'agent_server', 'range': [621, 621], 'children': []}]}, {'type': 'Identifier', 'name': 'test_execute_graph', 'range': [623, 623], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [626, 628], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [626, 626], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [628, 628], 'children': []}]}, {'type': 'Identifier', 'name': 'input_data', 'range': [630, 630], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [632, 634], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [632, 632], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [634, 634], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [638, 642], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [638, 641], 'children': [{'type': 'Identifier', 'name': 'print', 'range': [638, 638], 'children': []}, {'type': 'Identifier', 'name': 'response', 'range': [640, 640], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'result', 'range': [643, 663], 'children': [{'type': 'Identifier', 'name': 'result', 'range': [643, 643], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [645, 645], 'children': []}, {'type': 'CallExpression', 'name': 'wait_execution', 'range': [646, 662], 'children': [{'type': 'Identifier', 'name': 'wait_execution', 'range': [646, 646], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [648, 650], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [648, 648], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [650, 650], 'children': []}]}, {'type': 'MemberExpression', 'name': 'id', 'range': [652, 654], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [652, 652], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [654, 654], 'children': []}]}, {'type': 'MemberExpression', 'name': 'id', 'range': [656, 659], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [656, 656], 'children': []}, {'type': 'Literal', 'name': '"id"', 'range': [658, 658], 'children': []}]}, {'type': 'Literal', 'name': '120', 'range': [661, 661], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [664, 668], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [664, 667], 'children': [{'type': 'Identifier', 'name': 'print', 'range': [664, 664], 'children': []}, {'type': 'Identifier', 'name': 'result', 'range': [666, 666], 'children': []}]}]}]}
2025-01-08 09:54:56,046 - INFO - Starting Step 4: AST normalization
2025-01-08 09:55:46,273 - INFO - Step 4 result: {'nodes': [{'type': 'FunctionDecl', 'name': 'reddit_marketing_agent', 'range': [569, 575], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [569, 569], 'children': []}, {'type': 'Keyword', 'name': 'def', 'range': [570, 570], 'children': []}, {'type': 'Identifier', 'name': 'reddit_marketing_agent', 'range': [571, 571], 'children': []}]}, {'type': 'AsyncWithStatement', 'name': '', 'range': [576, 584], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [576, 576], 'children': []}, {'type': 'Keyword', 'name': 'with', 'range': [577, 577], 'children': []}, {'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [578, 580], 'children': [{'type': 'Identifier', 'name': 'SpinTestServer', 'range': [578, 578], 'children': []}]}, {'type': 'Keyword', 'name': 'as', 'range': [581, 581], 'children': []}, {'type': 'VariableDecl', 'name': 'server', 'range': [582, 582], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [582, 582], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'test_user', 'range': [585, 591], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [585, 585], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [587, 587], 'children': []}, {'type': 'CallExpression', 'name': 'create_test_user', 'range': [588, 590], 'children': [{'type': 'Identifier', 'name': 'create_test_user', 'range': [588, 588], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'test_graph', 'range': [592, 607], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [592, 592], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [594, 594], 'children': []}, {'type': 'CallExpression', 'name': 'create_graph', 'range': [595, 606], 'children': [{'type': 'Identifier', 'name': 'create_graph', 'range': [595, 595], 'children': []}, {'type': 'CallExpression', 'name': 'create_test_graph', 'range': [597, 599], 'children': [{'type': 'Identifier', 'name': 'create_test_graph', 'range': [597, 597], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'user_id', 'range': [601, 605], 'children': [{'type': 'Identifier', 'name': 'user_id', 'range': [601, 601], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [603, 605], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [603, 603], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [605, 605], 'children': []}]}]}]}]}, {'type': 'VariableDecl', 'name': 'input_data', 'range': [608, 615], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [608, 608], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [610, 614], 'children': [{'type': 'Property', 'name': 'subreddit', 'range': [611, 613], 'children': [{'type': 'Literal', 'name': '"subreddit"', 'range': [611, 611], 'children': []}, {'type': 'Literal', 'name': '"AutoGPT"', 'range': [613, 613], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'response', 'range': [616, 637], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [616, 616], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [618, 618], 'children': []}, {'type': 'CallExpression', 'name': 'test_execute_graph', 'range': [623, 636], 'children': [{'type': 'MemberExpression', 'name': 'agent_server', 'range': [619, 622], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [619, 619], 'children': []}, {'type': 'Identifier', 'name': 'agent_server', 'range': [621, 621], 'children': []}]}, {'type': 'Identifier', 'name': 'test_execute_graph', 'range': [623, 623], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [626, 628], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [626, 626], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [628, 628], 'children': []}]}, {'type': 'Identifier', 'name': 'input_data', 'range': [630, 630], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [632, 634], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [632, 632], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [634, 634], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [638, 642], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [638, 641], 'children': [{'type': 'Identifier', 'name': 'print', 'range': [638, 638], 'children': []}, {'type': 'Identifier', 'name': 'response', 'range': [640, 640], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'result', 'range': [643, 663], 'children': [{'type': 'Identifier', 'name': 'result', 'range': [643, 643], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [645, 645], 'children': []}, {'type': 'CallExpression', 'name': 'wait_execution', 'range': [646, 662], 'children': [{'type': 'Identifier', 'name': 'wait_execution', 'range': [646, 646], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [648, 650], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [648, 648], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [650, 650], 'children': []}]}, {'type': 'MemberExpression', 'name': 'id', 'range': [652, 654], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [652, 652], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [654, 654], 'children': []}]}, {'type': 'MemberExpression', 'name': 'id', 'range': [656, 659], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [656, 656], 'children': []}, {'type': 'Literal', 'name': '"id"', 'range': [658, 658], 'children': []}]}, {'type': 'Literal', 'name': '120', 'range': [661, 661], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [664, 668], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [664, 667], 'children': [{'type': 'Identifier', 'name': 'print', 'range': [664, 664], 'children': []}, {'type': 'Identifier', 'name': 'result', 'range': [666, 666], 'children': []}]}]}]}
2025-01-08 09:55:46,273 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:56:36,949 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainProgram', 'range': [569, 668], 'children': [{'type': 'FunctionDecl', 'name': 'reddit_marketing_agent', 'range': [569, 575], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [569, 569], 'children': []}, {'type': 'Keyword', 'name': 'def', 'range': [570, 570], 'children': []}, {'type': 'Identifier', 'name': 'reddit_marketing_agent', 'range': [571, 571], 'children': []}]}, {'type': 'AsyncWithStatement', 'name': '', 'range': [576, 584], 'children': [{'type': 'Keyword', 'name': 'async', 'range': [576, 576], 'children': []}, {'type': 'Keyword', 'name': 'with', 'range': [577, 577], 'children': []}, {'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [578, 580], 'children': [{'type': 'Identifier', 'name': 'SpinTestServer', 'range': [578, 578], 'children': []}]}, {'type': 'Keyword', 'name': 'as', 'range': [581, 581], 'children': []}, {'type': 'VariableDecl', 'name': 'server', 'range': [582, 582], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [582, 582], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'test_user', 'range': [585, 591], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [585, 585], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [587, 587], 'children': []}, {'type': 'CallExpression', 'name': 'create_test_user', 'range': [588, 590], 'children': [{'type': 'Identifier', 'name': 'create_test_user', 'range': [588, 588], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'test_graph', 'range': [592, 607], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [592, 592], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [594, 594], 'children': []}, {'type': 'CallExpression', 'name': 'create_graph', 'range': [595, 606], 'children': [{'type': 'Identifier', 'name': 'create_graph', 'range': [595, 595], 'children': []}, {'type': 'CallExpression', 'name': 'create_test_graph', 'range': [597, 599], 'children': [{'type': 'Identifier', 'name': 'create_test_graph', 'range': [597, 597], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'user_id', 'range': [601, 605], 'children': [{'type': 'Identifier', 'name': 'user_id', 'range': [601, 601], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [603, 605], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [603, 603], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [605, 605], 'children': []}]}]}]}]}, {'type': 'VariableDecl', 'name': 'input_data', 'range': [608, 615], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [608, 608], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [610, 614], 'children': [{'type': 'Property', 'name': 'subreddit', 'range': [611, 613], 'children': [{'type': 'Literal', 'name': '"subreddit"', 'range': [611, 611], 'children': []}, {'type': 'Literal', 'name': '"AutoGPT"', 'range': [613, 613], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'response', 'range': [616, 637], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [616, 616], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [618, 618], 'children': []}, {'type': 'CallExpression', 'name': 'test_execute_graph', 'range': [623, 636], 'children': [{'type': 'MemberExpression', 'name': 'agent_server', 'range': [619, 622], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [619, 619], 'children': []}, {'type': 'Identifier', 'name': 'agent_server', 'range': [621, 621], 'children': []}]}, {'type': 'Identifier', 'name': 'test_execute_graph', 'range': [623, 623], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [626, 628], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [626, 626], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [628, 628], 'children': []}]}, {'type': 'Identifier', 'name': 'input_data', 'range': [630, 630], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [632, 634], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [632, 632], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [634, 634], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [638, 642], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [638, 641], 'children': [{'type': 'Identifier', 'name': 'print', 'range': [638, 638], 'children': []}, {'type': 'Identifier', 'name': 'response', 'range': [640, 640], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'result', 'range': [643, 663], 'children': [{'type': 'Identifier', 'name': 'result', 'range': [643, 643], 'children': []}, {'type': 'Keyword', 'name': 'await', 'range': [645, 645], 'children': []}, {'type': 'CallExpression', 'name': 'wait_execution', 'range': [646, 662], 'children': [{'type': 'Identifier', 'name': 'wait_execution', 'range': [646, 646], 'children': []}, {'type': 'MemberExpression', 'name': 'id', 'range': [648, 650], 'children': [{'type': 'Identifier', 'name': 'test_user', 'range': [648, 648], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [650, 650], 'children': []}]}, {'type': 'MemberExpression', 'name': 'id', 'range': [652, 654], 'children': [{'type': 'Identifier', 'name': 'test_graph', 'range': [652, 652], 'children': []}, {'type': 'Identifier', 'name': 'id', 'range': [654, 654], 'children': []}]}, {'type': 'MemberExpression', 'name': 'id', 'range': [656, 659], 'children': [{'type': 'Identifier', 'name': 'response', 'range': [656, 656], 'children': []}, {'type': 'Literal', 'name': '"id"', 'range': [658, 658], 'children': []}]}, {'type': 'Literal', 'name': '120', 'range': [661, 661], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [664, 668], 'children': [{'type': 'CallExpression', 'name': 'print', 'range': [664, 667], 'children': [{'type': 'Identifier', 'name': 'print', 'range': [664, 664], 'children': []}, {'type': 'Identifier', 'name': 'result', 'range': [666, 666], 'children': []}]}]}]}
2025-01-08 09:56:36,949 - INFO - Completed main AST analysis flow
2025-01-08 09:56:36,950 - INFO - Successfully processed chunk
2025-01-08 09:56:36,975 - INFO - Starting code generation from AST
2025-01-08 10:26:38,609 - ERROR - Error in get_code_from_ast: Expecting value: line 30 column 1 (char 29)
2025-01-08 10:26:38,609 - INFO - Starting static code similarity comparison
2025-01-08 10:26:38,613 - INFO - Static similarity result: {'final_score': 22.5, 'length_similarity': 0.0, 'token_similarity': 0.0, 'structure_similarity': 0.0, 'function_similarity': 100, 'complexity_similarity': 25.0, 'variable_similarity': 100}
