2025-01-08 09:48:40,695 - INFO - Processing sample 77
2025-01-08 09:48:40,695 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 09:48:46,957 - INFO - Successfully split code into 8 top-level declarations
2025-01-08 09:48:46,960 - INFO - Processing chunk #0 (size=317 chars, start_index=0)
2025-01-08 09:48:46,960 - INFO - Processing chunk with 317 chars starting at index 0
2025-01-08 09:48:46,961 - INFO - Starting main AST analysis flow
2025-01-08 09:48:46,961 - INFO - Tokenized code into 26 tokens
2025-01-08 09:48:46,961 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:48:46,962 - INFO - Processing chunk #1 (size=719 chars, start_index=26)
2025-01-08 09:48:46,963 - INFO - Processing chunk with 719 chars starting at index 26
2025-01-08 09:48:46,963 - INFO - Starting main AST analysis flow
2025-01-08 09:48:46,963 - INFO - Tokenized code into 137 tokens
2025-01-08 09:48:46,963 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:48:46,965 - INFO - Processing chunk #2 (size=718 chars, start_index=163)
2025-01-08 09:48:46,965 - INFO - Processing chunk with 718 chars starting at index 163
2025-01-08 09:48:46,965 - INFO - Starting main AST analysis flow
2025-01-08 09:48:46,966 - INFO - Tokenized code into 138 tokens
2025-01-08 09:48:46,966 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:48:46,967 - INFO - Processing chunk #3 (size=702 chars, start_index=301)
2025-01-08 09:48:46,967 - INFO - Processing chunk with 702 chars starting at index 301
2025-01-08 09:48:46,968 - INFO - Starting main AST analysis flow
2025-01-08 09:48:46,968 - INFO - Tokenized code into 136 tokens
2025-01-08 09:48:46,968 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:48:46,970 - INFO - Processing chunk #4 (size=672 chars, start_index=437)
2025-01-08 09:48:46,970 - INFO - Processing chunk with 672 chars starting at index 437
2025-01-08 09:48:46,971 - INFO - Starting main AST analysis flow
2025-01-08 09:48:46,971 - INFO - Tokenized code into 120 tokens
2025-01-08 09:48:46,971 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:48:46,973 - INFO - Processing chunk #5 (size=806 chars, start_index=557)
2025-01-08 09:48:46,973 - INFO - Processing chunk with 806 chars starting at index 557
2025-01-08 09:48:46,973 - INFO - Starting main AST analysis flow
2025-01-08 09:48:46,973 - INFO - Tokenized code into 163 tokens
2025-01-08 09:48:46,973 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:48:46,975 - INFO - Processing chunk #6 (size=1019 chars, start_index=720)
2025-01-08 09:48:46,975 - INFO - Processing chunk with 1019 chars starting at index 720
2025-01-08 09:48:46,975 - INFO - Starting main AST analysis flow
2025-01-08 09:48:46,976 - INFO - Tokenized code into 239 tokens
2025-01-08 09:48:46,976 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:48:46,978 - INFO - Processing chunk #7 (size=1024 chars, start_index=959)
2025-01-08 09:48:46,978 - INFO - Processing chunk with 1024 chars starting at index 959
2025-01-08 09:48:46,978 - INFO - Starting main AST analysis flow
2025-01-08 09:48:46,979 - INFO - Tokenized code into 239 tokens
2025-01-08 09:48:46,979 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:48:49,108 - INFO - Step 1 result: {'type': 'Program', 'name': 'make_bandpass', 'range': [301, 436], 'children': []}
2025-01-08 09:48:49,108 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:48:49,589 - INFO - Step 1 result: {'type': 'Program', 'name': 'make_lowpass', 'range': [26, 162], 'children': []}
2025-01-08 09:48:49,589 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:48:49,660 - INFO - Step 1 result: {'type': 'Program', 'name': 'make_peak', 'range': [557, 719], 'children': []}
2025-01-08 09:48:49,660 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:48:49,699 - INFO - Step 1 result: {'type': 'Program', 'name': 'make_highshelf', 'range': [959, 1197], 'children': []}
2025-01-08 09:48:49,699 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:48:49,821 - INFO - Step 1 result: {'type': 'Program', 'name': 'make_highpass', 'range': [163, 300], 'children': []}
2025-01-08 09:48:49,821 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:48:49,854 - INFO - Step 1 result: {'type': 'Program', 'name': 'make_allpass', 'range': [437, 556], 'children': []}
2025-01-08 09:48:49,854 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:48:49,925 - INFO - Step 1 result: {'type': 'Program', 'name': 'make_lowshelf', 'range': [720, 958], 'children': []}
2025-01-08 09:48:49,925 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:48:55,445 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 25], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 10], 'children': [{'type': 'ImportSpecifier', 'name': 'cos', 'range': [3, 3], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sin', 'range': [5, 5], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sqrt', 'range': [7, 7], 'children': []}, {'type': 'ImportSpecifier', 'name': 'tau', 'range': [9, 9], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 18], 'children': [{'type': 'ImportSpecifier', 'name': 'IIRFilter', 'range': [17, 17], 'children': []}]}, {'type': 'Comment', 'name': '', 'range': [20, 22], 'children': []}]}
2025-01-08 09:48:55,445 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:49:04,200 - INFO - Step 2 result: {'type': 'Program', 'name': 'make_bandpass', 'range': [301, 436], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_bandpass', 'range': [301, 436], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [303, 327], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [305, 307], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [310, 312], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [315, 325], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [329, 330], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [333, 335], 'children': []}, {'type': 'VariableDeclaration', 'name': 'w0', 'range': [337, 344], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [345, 351], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [352, 358], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [359, 368], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [370, 375], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [376, 379], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [380, 384], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [386, 391], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [392, 398], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [399, 404], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [406, 412], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [413, 432], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [434, 436], 'children': []}]}]}
2025-01-08 09:49:04,201 - INFO - Starting Step 3: AST simplification
2025-01-08 09:49:04,210 - INFO - Step 2 result: {'type': 'Program', 'name': 'make_lowpass', 'range': [26, 162], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_lowpass', 'range': [26, 162], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [28, 52], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [30, 32], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [35, 37], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [40, 50], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [55, 55], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [58, 60], 'children': []}, {'type': 'VariableDeclaration', 'name': 'w0', 'range': [62, 69], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [70, 76], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [77, 83], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [84, 93], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [95, 104], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [105, 110], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [112, 117], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [118, 124], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [125, 130], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [132, 138], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [139, 158], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [160, 162], 'children': []}]}]}
2025-01-08 09:49:04,210 - INFO - Starting Step 3: AST simplification
2025-01-08 09:49:05,524 - INFO - Step 2 result: {'type': 'Program', 'name': 'make_highpass', 'range': [163, 300], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_highpass', 'range': [163, 300], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [165, 189], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [167, 169], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [172, 174], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [177, 187], 'children': [{'type': 'DefaultValue', 'name': 'default', 'range': [180, 186], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [192, 193], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [195, 197], 'children': []}, {'type': 'Body', 'name': 'body', 'range': [199, 300], 'children': [{'type': 'VariableDeclaration', 'name': 'w0', 'range': [199, 206], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [207, 213], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [214, 220], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [221, 230], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [232, 241], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [242, 248], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [250, 255], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [256, 262], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [263, 268], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [270, 276], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [277, 296], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [298, 300], 'children': []}]}]}]}
2025-01-08 09:49:05,524 - INFO - Starting Step 3: AST simplification
2025-01-08 09:49:05,914 - INFO - Step 2 result: {'type': 'Program', 'name': 'make_peak', 'range': [557, 719], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_peak', 'range': [557, 719], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [559, 588], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [561, 563], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [566, 568], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [571, 573], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [576, 586], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [591, 593], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [594, 596], 'children': []}, {'type': 'VariableDeclaration', 'name': 'w0', 'range': [598, 605], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [606, 612], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [613, 619], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [620, 629], 'children': []}, {'type': 'VariableDeclaration', 'name': 'big_a', 'range': [630, 640], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [642, 649], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [650, 656], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [657, 664], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [665, 672], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [673, 679], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [680, 687], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [689, 695], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [696, 715], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [717, 719], 'children': []}]}]}
2025-01-08 09:49:05,914 - INFO - Starting Step 3: AST simplification
2025-01-08 09:49:10,395 - INFO - Step 2 result: {'type': 'Program', 'name': 'make_lowshelf', 'range': [720, 958], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_lowshelf', 'range': [720, 958], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [722, 751], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [724, 726], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [729, 731], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [734, 736], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [739, 749], 'children': [{'type': 'DefaultValue', 'name': 'default', 'range': [742, 748], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [752, 754], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [757, 759], 'children': []}, {'type': 'Body', 'name': 'body', 'range': [761, 957], 'children': [{'type': 'VariableDeclaration', 'name': 'w0', 'range': [761, 768], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [769, 775], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [776, 782], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [783, 792], 'children': []}, {'type': 'VariableDeclaration', 'name': 'big_a', 'range': [793, 803], 'children': []}, {'type': 'VariableDeclaration', 'name': 'pmc', 'range': [804, 819], 'children': []}, {'type': 'VariableDeclaration', 'name': 'ppmc', 'range': [820, 835], 'children': []}, {'type': 'VariableDeclaration', 'name': 'mpc', 'range': [836, 851], 'children': []}, {'type': 'VariableDeclaration', 'name': 'pmpc', 'range': [852, 867], 'children': []}, {'type': 'VariableDeclaration', 'name': 'aa2', 'range': [868, 878], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [880, 889], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [890, 897], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [898, 907], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [908, 913], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [914, 920], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [921, 926], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [928, 934], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [935, 954], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [956, 957], 'children': []}]}]}]}
2025-01-08 09:49:10,395 - INFO - Starting Step 3: AST simplification
2025-01-08 09:49:11,627 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 10], 'children': [{'type': 'FromKeyword', 'name': 'from', 'range': [0, 0], 'children': []}, {'type': 'ModuleSpecifier', 'name': 'math', 'range': [1, 1], 'children': []}, {'type': 'ImportKeyword', 'name': 'import', 'range': [2, 2], 'children': []}, {'type': 'ImportSpecifier', 'name': 'cos', 'range': [3, 3], 'children': []}, {'type': 'CommaToken', 'name': ',', 'range': [4, 4], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sin', 'range': [5, 5], 'children': []}, {'type': 'CommaToken', 'name': ',', 'range': [6, 6], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sqrt', 'range': [7, 7], 'children': []}, {'type': 'CommaToken', 'name': ',', 'range': [8, 8], 'children': []}, {'type': 'ImportSpecifier', 'name': 'tau', 'range': [9, 9], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 18], 'children': [{'type': 'FromKeyword', 'name': 'from', 'range': [12, 12], 'children': []}, {'type': 'ModuleSpecifier', 'name': 'audio_filters', 'range': [13, 13], 'children': []}, {'type': 'DotToken', 'name': '.', 'range': [14, 14], 'children': []}, {'type': 'ImportSpecifier', 'name': 'iir_filter', 'range': [15, 15], 'children': []}, {'type': 'ImportKeyword', 'name': 'import', 'range': [16, 16], 'children': []}, {'type': 'ImportSpecifier', 'name': 'IIRFilter', 'range': [17, 17], 'children': []}]}, {'type': 'Comment', 'name': '', 'range': [20, 22], 'children': [{'type': 'StringLiteral', 'name': '""', 'range': [20, 20], 'children': []}, {'type': 'StringLiteral', 'name': '" \\n Create 2nd-order IIR filters with Butterworth design. \\n  \\n Code based on https://webaudio.github.io/Audio-EQ-Cookbook/audio-eq-cookbook.html \\n Alternatively you can use scipy.signal.butter, which should yield the same results. \\n "', 'range': [21, 21], 'children': []}, {'type': 'StringLiteral', 'name': '""', 'range': [22, 22], 'children': []}]}]}
2025-01-08 09:49:11,627 - INFO - Starting Step 3: AST simplification
2025-01-08 09:49:18,692 - INFO - Step 3 result: {'type': 'Program', 'name': 'make_bandpass', 'range': [301, 436], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_bandpass', 'range': [301, 436], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [303, 327], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [305, 307], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [310, 312], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [315, 325], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [329, 330], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [333, 335], 'children': []}, {'type': 'VariableDeclaration', 'name': 'w0', 'range': [337, 344], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [345, 351], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [352, 358], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [359, 368], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [370, 375], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [376, 379], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [380, 384], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [386, 391], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [392, 398], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [399, 404], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [406, 412], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [413, 432], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [434, 436], 'children': []}]}]}
2025-01-08 09:49:18,692 - INFO - Starting Step 4: AST normalization
2025-01-08 09:49:18,840 - INFO - Step 3 result: {'type': 'Program', 'name': 'make_lowpass', 'range': [26, 162], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_lowpass', 'range': [26, 162], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [28, 52], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [30, 32], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [35, 37], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [40, 50], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [55, 55], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [58, 60], 'children': []}, {'type': 'VariableDeclaration', 'name': 'w0', 'range': [62, 69], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [70, 76], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [77, 83], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [84, 93], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [95, 104], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [105, 110], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [112, 117], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [118, 124], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [125, 130], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [132, 138], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [139, 158], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [160, 162], 'children': []}]}]}
2025-01-08 09:49:18,840 - INFO - Starting Step 4: AST normalization
2025-01-08 09:49:20,939 - INFO - Step 3 result: {'type': 'Program', 'name': 'make_highpass', 'range': [163, 300], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_highpass', 'range': [163, 300], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [165, 189], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [167, 169], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [172, 174], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [177, 187], 'children': [{'type': 'DefaultValue', 'name': 'default', 'range': [180, 186], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [192, 193], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [195, 197], 'children': []}, {'type': 'Body', 'name': 'body', 'range': [199, 300], 'children': [{'type': 'VariableDeclaration', 'name': 'w0', 'range': [199, 206], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [207, 213], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [214, 220], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [221, 230], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [232, 241], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [242, 248], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [250, 255], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [256, 262], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [263, 268], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [270, 276], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [277, 296], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [298, 300], 'children': []}]}]}]}
2025-01-08 09:49:20,940 - INFO - Starting Step 4: AST normalization
2025-01-08 09:49:22,545 - INFO - Step 3 result: {'type': 'Program', 'name': 'make_peak', 'range': [557, 719], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_peak', 'range': [557, 719], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [559, 588], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [561, 563], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [566, 568], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [571, 573], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [576, 586], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [591, 593], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [594, 596], 'children': []}, {'type': 'VariableDeclaration', 'name': 'w0', 'range': [598, 605], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [606, 612], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [613, 619], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [620, 629], 'children': []}, {'type': 'VariableDeclaration', 'name': 'big_a', 'range': [630, 640], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [642, 649], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [650, 656], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [657, 664], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [665, 672], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [673, 679], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [680, 687], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [689, 695], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [696, 715], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [717, 719], 'children': []}]}]}
2025-01-08 09:49:22,545 - INFO - Starting Step 4: AST normalization
2025-01-08 09:49:24,549 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 10], 'children': [{'type': 'FromKeyword', 'name': 'from', 'range': [0, 0], 'children': []}, {'type': 'ModuleSpecifier', 'name': 'math', 'range': [1, 1], 'children': []}, {'type': 'ImportKeyword', 'name': 'import', 'range': [2, 2], 'children': []}, {'type': 'ImportSpecifier', 'name': 'cos', 'range': [3, 3], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sin', 'range': [5, 5], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sqrt', 'range': [7, 7], 'children': []}, {'type': 'ImportSpecifier', 'name': 'tau', 'range': [9, 9], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 18], 'children': [{'type': 'FromKeyword', 'name': 'from', 'range': [12, 12], 'children': []}, {'type': 'ModuleSpecifier', 'name': 'audio_filters', 'range': [13, 13], 'children': []}, {'type': 'ImportSpecifier', 'name': 'iir_filter', 'range': [15, 15], 'children': []}, {'type': 'ImportKeyword', 'name': 'import', 'range': [16, 16], 'children': []}, {'type': 'ImportSpecifier', 'name': 'IIRFilter', 'range': [17, 17], 'children': []}]}, {'type': 'Comment', 'name': '', 'range': [20, 22], 'children': [{'type': 'StringLiteral', 'name': '" \\n Create 2nd-order IIR filters with Butterworth design. \\n  \\n Code based on https://webaudio.github.io/Audio-EQ-Cookbook/audio-eq-cookbook.html \\n Alternatively you can use scipy.signal.butter, which should yield the same results. \\n "', 'range': [21, 21], 'children': []}]}]}
2025-01-08 09:49:24,549 - INFO - Starting Step 4: AST normalization
2025-01-08 09:49:29,519 - INFO - Step 2 result: {'type': 'Program', 'name': 'make_allpass', 'range': [437, 556], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_allpass', 'range': [437, 556], 'children': [{'type': 'ParameterList', 'range': [439, 463], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [441, 443], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [446, 448], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [451, 461], 'children': [{'type': 'DefaultValue', 'range': [454, 461], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [456, 461], 'children': [{'type': 'Literal', 'value': '1', 'range': [455, 455], 'children': []}, {'type': 'CallExpression', 'callee': 'sqrt', 'range': [457, 461], 'children': [{'type': 'Literal', 'value': '2', 'range': [459, 459], 'children': []}]}]}]}]}]}, {'type': 'ReturnType', 'range': [465, 466], 'children': [{'type': 'Type', 'name': 'IIRFilter', 'range': [466, 466], 'children': []}]}, {'type': 'BlockStatement', 'range': [468, 556], 'children': [{'type': 'Docstring', 'range': [469, 471], 'children': []}, {'type': 'VariableDeclaration', 'name': 'w0', 'range': [473, 480], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [476, 480], 'children': [{'type': 'BinaryExpression', 'operator': '*', 'range': [476, 479], 'children': [{'type': 'Identifier', 'name': 'tau', 'range': [475, 475], 'children': []}, {'type': 'Identifier', 'name': 'frequency', 'range': [477, 477], 'children': []}]}, {'type': 'Identifier', 'name': 'samplerate', 'range': [479, 479], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [481, 487], 'children': [{'type': 'CallExpression', 'callee': 'sin', 'range': [483, 487], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [485, 485], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [488, 494], 'children': [{'type': 'CallExpression', 'callee': 'cos', 'range': [490, 494], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [492, 492], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [495, 504], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [498, 504], 'children': [{'type': 'Identifier', 'name': '_sin', 'range': [497, 497], 'children': []}, {'type': 'BinaryExpression', 'operator': '*', 'range': [500, 503], 'children': [{'type': 'Literal', 'value': '2', 'range': [500, 500], 'children': []}, {'type': 'Identifier', 'name': 'q_factor', 'range': [502, 502], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [506, 511], 'children': [{'type': 'BinaryExpression', 'operator': '-', 'range': [509, 511], 'children': [{'type': 'Literal', 'value': '1', 'range': [508, 508], 'children': []}, {'type': 'Identifier', 'name': 'alpha', 'range': [510, 510], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [512, 518], 'children': [{'type': 'BinaryExpression', 'operator': '*', 'range': [516, 518], 'children': [{'type': 'UnaryExpression', 'operator': '-', 'range': [514, 515], 'children': [{'type': 'Literal', 'value': '2', 'range': [515, 515], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [517, 517], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [519, 524], 'children': [{'type': 'BinaryExpression', 'operator': '+', 'range': [522, 524], 'children': [{'type': 'Literal', 'value': '1', 'range': [521, 521], 'children': []}, {'type': 'Identifier', 'name': 'alpha', 'range': [523, 523], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [526, 532], 'children': [{'type': 'CallExpression', 'callee': 'IIRFilter', 'range': [528, 532], 'children': [{'type': 'Literal', 'value': '2', 'range': [530, 530], 'children': []}]}]}, {'type': 'ExpressionStatement', 'range': [533, 553], 'children': [{'type': 'CallExpression', 'callee': 'set_coefficients', 'range': [535, 553], 'children': [{'type': 'ArrayExpression', 'range': [537, 543], 'children': [{'type': 'Identifier', 'name': 'b2', 'range': [538, 538], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [540, 540], 'children': []}, {'type': 'Identifier', 'name': 'b0', 'range': [542, 542], 'children': []}]}, {'type': 'ArrayExpression', 'range': [545, 551], 'children': [{'type': 'Identifier', 'name': 'b0', 'range': [546, 546], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [548, 548], 'children': []}, {'type': 'Identifier', 'name': 'b2', 'range': [550, 550], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'range': [554, 556], 'children': [{'type': 'Identifier', 'name': 'filt', 'range': [555, 555], 'children': []}]}]}]}]}
2025-01-08 09:49:29,519 - INFO - Starting Step 3: AST simplification
2025-01-08 09:49:31,785 - INFO - Step 3 result: {'type': 'Program', 'name': 'make_lowshelf', 'range': [720, 958], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_lowshelf', 'range': [720, 958], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [722, 751], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [724, 726], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [729, 731], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [734, 736], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [739, 749], 'children': [{'type': 'DefaultValue', 'name': 'default', 'range': [742, 748], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [752, 754], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [757, 759], 'children': []}, {'type': 'Body', 'name': 'body', 'range': [761, 957], 'children': [{'type': 'VariableDeclaration', 'name': 'w0', 'range': [761, 768], 'children': []}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [769, 775], 'children': []}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [776, 782], 'children': []}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [783, 792], 'children': []}, {'type': 'VariableDeclaration', 'name': 'big_a', 'range': [793, 803], 'children': []}, {'type': 'VariableDeclaration', 'name': 'pmc', 'range': [804, 819], 'children': []}, {'type': 'VariableDeclaration', 'name': 'ppmc', 'range': [820, 835], 'children': []}, {'type': 'VariableDeclaration', 'name': 'mpc', 'range': [836, 851], 'children': []}, {'type': 'VariableDeclaration', 'name': 'pmpc', 'range': [852, 867], 'children': []}, {'type': 'VariableDeclaration', 'name': 'aa2', 'range': [868, 878], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [880, 889], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [890, 897], 'children': []}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [898, 907], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [908, 913], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [914, 920], 'children': []}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [921, 926], 'children': []}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [928, 934], 'children': []}, {'type': 'MethodCall', 'name': 'set_coefficients', 'range': [935, 954], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [956, 957], 'children': []}]}]}]}
2025-01-08 09:49:31,785 - INFO - Starting Step 4: AST normalization
2025-01-08 09:49:33,207 - INFO - Step 4 result: {'type': 'Program', 'name': 'make_lowpass', 'range': [26, 162], 'children': [{'type': 'FunctionDecl', 'name': 'make_lowpass', 'range': [26, 162], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [28, 52], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [30, 32], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [35, 37], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [40, 50], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [55, 55], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [58, 60], 'children': []}, {'type': 'VariableDecl', 'name': 'w0', 'range': [62, 69], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [70, 76], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [77, 83], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [84, 93], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [95, 104], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [105, 110], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [112, 117], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [118, 124], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [125, 130], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [132, 138], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [139, 158], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [160, 162], 'children': []}]}]}
2025-01-08 09:49:33,207 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:49:33,331 - INFO - Step 4 result: {'type': 'Program', 'name': 'make_bandpass', 'range': [301, 436], 'children': [{'type': 'FunctionDecl', 'name': 'make_bandpass', 'range': [301, 436], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [303, 327], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [305, 307], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [310, 312], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [315, 325], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [329, 330], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [333, 335], 'children': []}, {'type': 'VariableDecl', 'name': 'w0', 'range': [337, 344], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [345, 351], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [352, 358], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [359, 368], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [370, 375], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [376, 379], 'children': []}, {'type': 'VariableDecl', 'name': 'b2', 'range': [380, 384], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [386, 391], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [392, 398], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [399, 404], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [406, 412], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [413, 432], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [434, 436], 'children': []}]}]}
2025-01-08 09:49:33,331 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:49:35,826 - INFO - Step 4 result: {'type': 'Program', 'name': 'make_highpass', 'range': [163, 300], 'children': [{'type': 'FunctionDecl', 'name': 'make_highpass', 'range': [163, 300], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [165, 189], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [167, 169], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [172, 174], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [177, 187], 'children': [{'type': 'DefaultValue', 'name': 'default', 'range': [180, 186], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [192, 193], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [195, 197], 'children': []}, {'type': 'Body', 'name': 'body', 'range': [199, 300], 'children': [{'type': 'VariableDecl', 'name': 'w0', 'range': [199, 206], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [207, 213], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [214, 220], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [221, 230], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [232, 241], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [242, 248], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [250, 255], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [256, 262], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [263, 268], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [270, 276], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [277, 296], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [298, 300], 'children': []}]}]}]}
2025-01-08 09:49:35,827 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:49:36,813 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 10], 'children': [{'type': 'FromKeyword', 'name': 'from', 'range': [0, 0], 'children': []}, {'type': 'ModuleSpecifier', 'name': 'math', 'range': [1, 1], 'children': []}, {'type': 'ImportKeyword', 'name': 'import', 'range': [2, 2], 'children': []}, {'type': 'ImportSpecifier', 'name': 'cos', 'range': [3, 3], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sin', 'range': [5, 5], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sqrt', 'range': [7, 7], 'children': []}, {'type': 'ImportSpecifier', 'name': 'tau', 'range': [9, 9], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 18], 'children': [{'type': 'FromKeyword', 'name': 'from', 'range': [12, 12], 'children': []}, {'type': 'ModuleSpecifier', 'name': 'audio_filters', 'range': [13, 13], 'children': []}, {'type': 'ImportSpecifier', 'name': 'iir_filter', 'range': [15, 15], 'children': []}, {'type': 'ImportKeyword', 'name': 'import', 'range': [16, 16], 'children': []}, {'type': 'ImportSpecifier', 'name': 'IIRFilter', 'range': [17, 17], 'children': []}]}, {'type': 'Comment', 'name': '', 'range': [20, 22], 'children': [{'type': 'StringLiteral', 'name': '" \\n Create 2nd-order IIR filters with Butterworth design. \\n  \\n Code based on https://webaudio.github.io/Audio-EQ-Cookbook/audio-eq-cookbook.html \\n Alternatively you can use scipy.signal.butter, which should yield the same results. \\n "', 'range': [21, 21], 'children': []}]}]}
2025-01-08 09:49:36,814 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:49:38,327 - INFO - Step 4 result: {'type': 'Program', 'name': 'make_peak', 'range': [557, 719], 'children': [{'type': 'FunctionDecl', 'name': 'make_peak', 'range': [557, 719], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [559, 588], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [561, 563], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [566, 568], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [571, 573], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [576, 586], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [591, 593], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [594, 596], 'children': []}, {'type': 'VariableDecl', 'name': 'w0', 'range': [598, 605], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [606, 612], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [613, 619], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [620, 629], 'children': []}, {'type': 'VariableDecl', 'name': 'big_a', 'range': [630, 640], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [642, 649], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [650, 656], 'children': []}, {'type': 'VariableDecl', 'name': 'b2', 'range': [657, 664], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [665, 672], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [673, 679], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [680, 687], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [689, 695], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [696, 715], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [717, 719], 'children': []}]}]}
2025-01-08 09:49:38,327 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:49:48,021 - INFO - Step 5 result: {'type': 'Program', 'name': 'make_lowpass', 'range': [26, 162], 'children': [{'type': 'FunctionDecl', 'name': 'make_lowpass', 'range': [26, 162], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [28, 52], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [30, 32], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [35, 37], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [40, 50], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [55, 55], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [58, 60], 'children': []}, {'type': 'VariableDecl', 'name': 'w0', 'range': [62, 69], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [70, 76], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [77, 83], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [84, 93], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [95, 104], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [105, 110], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [112, 117], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [118, 124], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [125, 130], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [132, 138], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [139, 158], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [160, 162], 'children': []}]}]}
2025-01-08 09:49:48,022 - INFO - Completed main AST analysis flow
2025-01-08 09:49:48,022 - INFO - Successfully processed chunk
2025-01-08 09:49:48,397 - INFO - Step 5 result: {'type': 'Program', 'name': 'make_bandpass', 'range': [301, 436], 'children': [{'type': 'FunctionDecl', 'name': 'make_bandpass', 'range': [301, 436], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [303, 327], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [305, 307], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [310, 312], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [315, 325], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [329, 330], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [333, 335], 'children': []}, {'type': 'VariableDecl', 'name': 'w0', 'range': [337, 344], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [345, 351], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [352, 358], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [359, 368], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [370, 375], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [376, 379], 'children': []}, {'type': 'VariableDecl', 'name': 'b2', 'range': [380, 384], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [386, 391], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [392, 398], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [399, 404], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [406, 412], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [413, 432], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [434, 436], 'children': []}]}]}
2025-01-08 09:49:48,397 - INFO - Completed main AST analysis flow
2025-01-08 09:49:48,398 - INFO - Successfully processed chunk
2025-01-08 09:49:50,622 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainOrSomething', 'range': [0, 22], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 10], 'children': [{'type': 'FromKeyword', 'name': 'from', 'range': [0, 0], 'children': []}, {'type': 'ModuleSpecifier', 'name': 'math', 'range': [1, 1], 'children': []}, {'type': 'ImportKeyword', 'name': 'import', 'range': [2, 2], 'children': []}, {'type': 'ImportSpecifier', 'name': 'cos', 'range': [3, 3], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sin', 'range': [5, 5], 'children': []}, {'type': 'ImportSpecifier', 'name': 'sqrt', 'range': [7, 7], 'children': []}, {'type': 'ImportSpecifier', 'name': 'tau', 'range': [9, 9], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [12, 18], 'children': [{'type': 'FromKeyword', 'name': 'from', 'range': [12, 12], 'children': []}, {'type': 'ModuleSpecifier', 'name': 'audio_filters', 'range': [13, 13], 'children': []}, {'type': 'ImportSpecifier', 'name': 'iir_filter', 'range': [15, 15], 'children': []}, {'type': 'ImportKeyword', 'name': 'import', 'range': [16, 16], 'children': []}, {'type': 'ImportSpecifier', 'name': 'IIRFilter', 'range': [17, 17], 'children': []}]}, {'type': 'Comment', 'name': '', 'range': [20, 22], 'children': [{'type': 'StringLiteral', 'name': '" \\n Create 2nd-order IIR filters with Butterworth design. \\n  \\n Code based on https://webaudio.github.io/Audio-EQ-Cookbook/audio-eq-cookbook.html \\n Alternatively you can use scipy.signal.butter, which should yield the same results. \\n "', 'range': [21, 21], 'children': []}]}]}]}
2025-01-08 09:49:50,622 - INFO - Completed main AST analysis flow
2025-01-08 09:49:50,623 - INFO - Successfully processed chunk
2025-01-08 09:49:51,162 - INFO - Step 5 result: {'type': 'Program', 'name': 'make_highpass', 'range': [163, 300], 'children': [{'type': 'FunctionDecl', 'name': 'make_highpass', 'range': [163, 300], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [165, 189], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [167, 169], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [172, 174], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [177, 187], 'children': [{'type': 'DefaultValue', 'name': 'default', 'range': [180, 186], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [192, 193], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [195, 197], 'children': []}, {'type': 'Body', 'name': 'body', 'range': [199, 300], 'children': [{'type': 'VariableDecl', 'name': 'w0', 'range': [199, 206], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [207, 213], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [214, 220], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [221, 230], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [232, 241], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [242, 248], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [250, 255], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [256, 262], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [263, 268], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [270, 276], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [277, 296], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [298, 300], 'children': []}]}]}]}
2025-01-08 09:49:51,162 - INFO - Completed main AST analysis flow
2025-01-08 09:49:51,163 - INFO - Successfully processed chunk
2025-01-08 09:49:52,640 - INFO - Step 4 result: {'type': 'Program', 'name': 'make_lowshelf', 'range': [720, 958], 'children': [{'type': 'FunctionDecl', 'name': 'make_lowshelf', 'range': [720, 958], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [722, 751], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [724, 726], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [729, 731], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [734, 736], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [739, 749], 'children': [{'type': 'DefaultValue', 'name': 'default', 'range': [742, 748], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [752, 754], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [757, 759], 'children': []}, {'type': 'BlockStatement', 'name': 'body', 'range': [761, 957], 'children': [{'type': 'VariableDecl', 'name': 'w0', 'range': [761, 768], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [769, 775], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [776, 782], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [783, 792], 'children': []}, {'type': 'VariableDecl', 'name': 'big_a', 'range': [793, 803], 'children': []}, {'type': 'VariableDecl', 'name': 'pmc', 'range': [804, 819], 'children': []}, {'type': 'VariableDecl', 'name': 'ppmc', 'range': [820, 835], 'children': []}, {'type': 'VariableDecl', 'name': 'mpc', 'range': [836, 851], 'children': []}, {'type': 'VariableDecl', 'name': 'pmpc', 'range': [852, 867], 'children': []}, {'type': 'VariableDecl', 'name': 'aa2', 'range': [868, 878], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [880, 889], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [890, 897], 'children': []}, {'type': 'VariableDecl', 'name': 'b2', 'range': [898, 907], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [908, 913], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [914, 920], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [921, 926], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [928, 934], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [935, 954], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [956, 957], 'children': []}]}]}]}
2025-01-08 09:49:52,640 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:49:54,547 - INFO - Step 5 result: {'type': 'Program', 'name': 'make_peak', 'range': [557, 719], 'children': [{'type': 'FunctionDecl', 'name': 'make_peak', 'range': [557, 719], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [559, 588], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [561, 563], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [566, 568], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [571, 573], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [576, 586], 'children': []}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [591, 593], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [594, 596], 'children': []}, {'type': 'VariableDecl', 'name': 'w0', 'range': [598, 605], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [606, 612], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [613, 619], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [620, 629], 'children': []}, {'type': 'VariableDecl', 'name': 'big_a', 'range': [630, 640], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [642, 649], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [650, 656], 'children': []}, {'type': 'VariableDecl', 'name': 'b2', 'range': [657, 664], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [665, 672], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [673, 679], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [680, 687], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [689, 695], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [696, 715], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [717, 719], 'children': []}]}]}
2025-01-08 09:49:54,547 - INFO - Completed main AST analysis flow
2025-01-08 09:49:54,548 - INFO - Successfully processed chunk
2025-01-08 09:50:11,308 - INFO - Step 3 result: {'type': 'Program', 'name': 'make_allpass', 'range': [437, 556], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_allpass', 'range': [437, 556], 'children': [{'type': 'ParameterList', 'range': [439, 463], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [441, 443], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [446, 448], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [451, 461], 'children': [{'type': 'DefaultValue', 'range': [454, 461], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [456, 461], 'children': [{'type': 'Literal', 'value': '1', 'range': [455, 455], 'children': []}, {'type': 'CallExpression', 'callee': 'sqrt', 'range': [457, 461], 'children': [{'type': 'Literal', 'value': '2', 'range': [459, 459], 'children': []}]}]}]}]}]}, {'type': 'ReturnType', 'range': [465, 466], 'children': [{'type': 'Type', 'name': 'IIRFilter', 'range': [466, 466], 'children': []}]}, {'type': 'BlockStatement', 'range': [468, 556], 'children': [{'type': 'Docstring', 'range': [469, 471], 'children': []}, {'type': 'VariableDeclaration', 'name': 'w0', 'range': [473, 480], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [476, 480], 'children': [{'type': 'BinaryExpression', 'operator': '*', 'range': [476, 479], 'children': [{'type': 'Identifier', 'name': 'tau', 'range': [475, 475], 'children': []}, {'type': 'Identifier', 'name': 'frequency', 'range': [477, 477], 'children': []}]}, {'type': 'Identifier', 'name': 'samplerate', 'range': [479, 479], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [481, 487], 'children': [{'type': 'CallExpression', 'callee': 'sin', 'range': [483, 487], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [485, 485], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [488, 494], 'children': [{'type': 'CallExpression', 'callee': 'cos', 'range': [490, 494], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [492, 492], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [495, 504], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [498, 504], 'children': [{'type': 'Identifier', 'name': '_sin', 'range': [497, 497], 'children': []}, {'type': 'BinaryExpression', 'operator': '*', 'range': [500, 503], 'children': [{'type': 'Literal', 'value': '2', 'range': [500, 500], 'children': []}, {'type': 'Identifier', 'name': 'q_factor', 'range': [502, 502], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [506, 511], 'children': [{'type': 'BinaryExpression', 'operator': '-', 'range': [509, 511], 'children': [{'type': 'Literal', 'value': '1', 'range': [508, 508], 'children': []}, {'type': 'Identifier', 'name': 'alpha', 'range': [510, 510], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [512, 518], 'children': [{'type': 'BinaryExpression', 'operator': '*', 'range': [516, 518], 'children': [{'type': 'UnaryExpression', 'operator': '-', 'range': [514, 515], 'children': [{'type': 'Literal', 'value': '2', 'range': [515, 515], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [517, 517], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [519, 524], 'children': [{'type': 'BinaryExpression', 'operator': '+', 'range': [522, 524], 'children': [{'type': 'Literal', 'value': '1', 'range': [521, 521], 'children': []}, {'type': 'Identifier', 'name': 'alpha', 'range': [523, 523], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [526, 532], 'children': [{'type': 'CallExpression', 'callee': 'IIRFilter', 'range': [528, 532], 'children': [{'type': 'Literal', 'value': '2', 'range': [530, 530], 'children': []}]}]}, {'type': 'ExpressionStatement', 'range': [533, 553], 'children': [{'type': 'CallExpression', 'callee': 'set_coefficients', 'range': [535, 553], 'children': [{'type': 'ArrayExpression', 'range': [537, 543], 'children': [{'type': 'Identifier', 'name': 'b2', 'range': [538, 538], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [540, 540], 'children': []}, {'type': 'Identifier', 'name': 'b0', 'range': [542, 542], 'children': []}]}, {'type': 'ArrayExpression', 'range': [545, 551], 'children': [{'type': 'Identifier', 'name': 'b0', 'range': [546, 546], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [548, 548], 'children': []}, {'type': 'Identifier', 'name': 'b2', 'range': [550, 550], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'range': [554, 556], 'children': [{'type': 'Identifier', 'name': 'filt', 'range': [555, 555], 'children': []}]}]}]}]}
2025-01-08 09:50:11,308 - INFO - Starting Step 4: AST normalization
2025-01-08 09:50:15,380 - INFO - Step 5 result: {'type': 'Program', 'name': 'make_lowshelf', 'range': [720, 958], 'children': [{'type': 'FunctionDecl', 'name': 'make_lowshelf', 'range': [720, 958], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [722, 751], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [724, 726], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [729, 731], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [734, 736], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [739, 749], 'children': [{'type': 'DefaultValue', 'name': 'default', 'range': [742, 748], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [752, 754], 'children': []}, {'type': 'Docstring', 'name': 'docstring', 'range': [757, 759], 'children': []}, {'type': 'BlockStatement', 'name': 'body', 'range': [761, 957], 'children': [{'type': 'VariableDecl', 'name': 'w0', 'range': [761, 768], 'children': []}, {'type': 'VariableDecl', 'name': '_sin', 'range': [769, 775], 'children': []}, {'type': 'VariableDecl', 'name': '_cos', 'range': [776, 782], 'children': []}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [783, 792], 'children': []}, {'type': 'VariableDecl', 'name': 'big_a', 'range': [793, 803], 'children': []}, {'type': 'VariableDecl', 'name': 'pmc', 'range': [804, 819], 'children': []}, {'type': 'VariableDecl', 'name': 'ppmc', 'range': [820, 835], 'children': []}, {'type': 'VariableDecl', 'name': 'mpc', 'range': [836, 851], 'children': []}, {'type': 'VariableDecl', 'name': 'pmpc', 'range': [852, 867], 'children': []}, {'type': 'VariableDecl', 'name': 'aa2', 'range': [868, 878], 'children': []}, {'type': 'VariableDecl', 'name': 'b0', 'range': [880, 889], 'children': []}, {'type': 'VariableDecl', 'name': 'b1', 'range': [890, 897], 'children': []}, {'type': 'VariableDecl', 'name': 'b2', 'range': [898, 907], 'children': []}, {'type': 'VariableDecl', 'name': 'a0', 'range': [908, 913], 'children': []}, {'type': 'VariableDecl', 'name': 'a1', 'range': [914, 920], 'children': []}, {'type': 'VariableDecl', 'name': 'a2', 'range': [921, 926], 'children': []}, {'type': 'VariableDecl', 'name': 'filt', 'range': [928, 934], 'children': []}, {'type': 'CallExpression', 'name': 'set_coefficients', 'range': [935, 954], 'children': []}, {'type': 'ReturnStatement', 'name': 'return', 'range': [956, 957], 'children': []}]}]}]}
2025-01-08 09:50:15,380 - INFO - Completed main AST analysis flow
2025-01-08 09:50:15,381 - INFO - Successfully processed chunk
2025-01-08 09:50:21,428 - INFO - Step 2 result: {'type': 'Program', 'name': 'make_highshelf', 'range': [959, 1197], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_highshelf', 'range': [959, 1197], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [961, 990], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [963, 965], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [968, 970], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [973, 975], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [978, 988], 'children': [{'type': 'Assignment', 'name': 'default_value', 'range': [981, 988], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [983, 987], 'children': [{'type': 'Literal', 'name': '1', 'range': [982, 982], 'children': []}, {'type': 'CallExpression', 'name': 'sqrt', 'range': [984, 987], 'children': [{'type': 'Literal', 'name': '2', 'range': [986, 986], 'children': []}]}]}]}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [993, 994], 'children': []}, {'type': 'BlockStatement', 'name': 'body', 'range': [995, 1197], 'children': [{'type': 'VariableDeclaration', 'name': 'w0', 'range': [1000, 1007], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [1005, 1006], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1003, 1004], 'children': [{'type': 'Identifier', 'name': 'tau', 'range': [1002, 1002], 'children': []}, {'type': 'Identifier', 'name': 'frequency', 'range': [1004, 1004], 'children': []}]}, {'type': 'Identifier', 'name': 'samplerate', 'range': [1006, 1006], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [1008, 1014], 'children': [{'type': 'CallExpression', 'name': 'sin', 'range': [1010, 1013], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [1012, 1012], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [1015, 1021], 'children': [{'type': 'CallExpression', 'name': 'cos', 'range': [1017, 1020], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [1019, 1019], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [1022, 1031], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [1025, 1030], 'children': [{'type': 'Identifier', 'name': '_sin', 'range': [1024, 1024], 'children': []}, {'type': 'BinaryExpression', 'name': '*', 'range': [1028, 1029], 'children': [{'type': 'Literal', 'name': '2', 'range': [1027, 1027], 'children': []}, {'type': 'Identifier', 'name': 'q_factor', 'range': [1029, 1029], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'big_a', 'range': [1032, 1042], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1035, 1041], 'children': [{'type': 'Literal', 'name': '10', 'range': [1034, 1034], 'children': []}, {'type': 'BinaryExpression', 'name': '/', 'range': [1039, 1040], 'children': [{'type': 'Identifier', 'name': 'gain_db', 'range': [1038, 1038], 'children': []}, {'type': 'Literal', 'name': '40', 'range': [1040, 1040], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'pmc', 'range': [1043, 1058], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1050, 1057], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1047, 1048], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1046, 1046], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1048, 1048], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1056, 1057], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1053, 1054], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1052, 1052], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1054, 1054], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1057, 1057], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'ppmc', 'range': [1059, 1074], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1066, 1073], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1063, 1064], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1062, 1062], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1064, 1064], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1072, 1073], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1069, 1070], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1068, 1068], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1070, 1070], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1073, 1073], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'mpc', 'range': [1075, 1090], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1082, 1089], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1079, 1080], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1078, 1078], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1080, 1080], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1088, 1089], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1085, 1086], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1084, 1084], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1086, 1086], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1089, 1089], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'pmpc', 'range': [1091, 1106], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1098, 1105], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1095, 1096], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1094, 1094], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1096, 1096], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1104, 1105], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1101, 1102], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1100, 1100], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1102, 1102], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1105, 1105], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'aa2', 'range': [1107, 1117], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1110, 1116], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1109, 1115], 'children': [{'type': 'Literal', 'name': '2', 'range': [1109, 1109], 'children': []}, {'type': 'CallExpression', 'name': 'sqrt', 'range': [1111, 1114], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1113, 1113], 'children': []}]}]}, {'type': 'Identifier', 'name': 'alpha', 'range': [1116, 1116], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [1119, 1128], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1122, 1127], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1121, 1121], 'children': []}, {'type': 'BinaryExpression', 'name': '+', 'range': [1125, 1126], 'children': [{'type': 'Identifier', 'name': 'ppmc', 'range': [1124, 1124], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1126, 1126], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [1129, 1137], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1133, 1136], 'children': [{'type': 'UnaryExpression', 'name': '-', 'range': [1131, 1132], 'children': [{'type': 'Literal', 'name': '2', 'range': [1132, 1132], 'children': []}]}, {'type': 'Identifier', 'name': 'big_a', 'range': [1134, 1134], 'children': []}, {'type': 'Identifier', 'name': 'pmpc', 'range': [1136, 1136], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [1138, 1147], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1140, 1146], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1139, 1139], 'children': []}, {'type': 'BinaryExpression', 'name': '-', 'range': [1144, 1145], 'children': [{'type': 'Identifier', 'name': 'ppmc', 'range': [1143, 1143], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1145, 1145], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [1148, 1153], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1151, 1152], 'children': [{'type': 'Identifier', 'name': 'pmc', 'range': [1150, 1150], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1152, 1152], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [1154, 1159], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1157, 1158], 'children': [{'type': 'Literal', 'name': '2', 'range': [1156, 1156], 'children': []}, {'type': 'Identifier', 'name': 'mpc', 'range': [1158, 1158], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [1160, 1165], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1163, 1164], 'children': [{'type': 'Identifier', 'name': 'pmc', 'range': [1162, 1162], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1164, 1164], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [1167, 1173], 'children': [{'type': 'CallExpression', 'name': 'IIRFilter', 'range': [1169, 1172], 'children': [{'type': 'Literal', 'name': '2', 'range': [1171, 1171], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'set_coefficients', 'range': [1174, 1194], 'children': [{'type': 'CallExpression', 'name': 'set_coefficients', 'range': [1176, 1193], 'children': [{'type': 'ArrayExpression', 'name': 'a_coeffs', 'range': [1178, 1184], 'children': [{'type': 'Identifier', 'name': 'a0', 'range': [1179, 1179], 'children': []}, {'type': 'Identifier', 'name': 'a1', 'range': [1181, 1181], 'children': []}, {'type': 'Identifier', 'name': 'a2', 'range': [1183, 1183], 'children': []}]}, {'type': 'ArrayExpression', 'name': 'b_coeffs', 'range': [1186, 1192], 'children': [{'type': 'Identifier', 'name': 'b0', 'range': [1187, 1187], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [1189, 1189], 'children': []}, {'type': 'Identifier', 'name': 'b2', 'range': [1191, 1191], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'name': 'return', 'range': [1195, 1197], 'children': [{'type': 'Identifier', 'name': 'filt', 'range': [1196, 1196], 'children': []}]}]}]}]}
2025-01-08 09:50:21,428 - INFO - Starting Step 3: AST simplification
2025-01-08 09:50:54,435 - INFO - Step 4 result: {'type': 'Program', 'name': 'make_allpass', 'range': [437, 556], 'children': [{'type': 'FunctionDecl', 'name': 'make_allpass', 'range': [437, 556], 'children': [{'type': 'ParameterList', 'range': [439, 463], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [441, 443], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [446, 448], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [451, 461], 'children': [{'type': 'DefaultValue', 'range': [454, 461], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [456, 461], 'children': [{'type': 'Literal', 'value': '1', 'range': [455, 455], 'children': []}, {'type': 'CallExpression', 'callee': 'sqrt', 'range': [457, 461], 'children': [{'type': 'Literal', 'value': '2', 'range': [459, 459], 'children': []}]}]}]}]}]}, {'type': 'ReturnType', 'range': [465, 466], 'children': [{'type': 'Type', 'name': 'IIRFilter', 'range': [466, 466], 'children': []}]}, {'type': 'BlockStatement', 'range': [468, 556], 'children': [{'type': 'Docstring', 'range': [469, 471], 'children': []}, {'type': 'VariableDecl', 'name': 'w0', 'range': [473, 480], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [476, 480], 'children': [{'type': 'BinaryExpression', 'operator': '*', 'range': [476, 479], 'children': [{'type': 'Identifier', 'name': 'tau', 'range': [475, 475], 'children': []}, {'type': 'Identifier', 'name': 'frequency', 'range': [477, 477], 'children': []}]}, {'type': 'Identifier', 'name': 'samplerate', 'range': [479, 479], 'children': []}]}]}, {'type': 'VariableDecl', 'name': '_sin', 'range': [481, 487], 'children': [{'type': 'CallExpression', 'callee': 'sin', 'range': [483, 487], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [485, 485], 'children': []}]}]}, {'type': 'VariableDecl', 'name': '_cos', 'range': [488, 494], 'children': [{'type': 'CallExpression', 'callee': 'cos', 'range': [490, 494], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [492, 492], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [495, 504], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [498, 504], 'children': [{'type': 'Identifier', 'name': '_sin', 'range': [497, 497], 'children': []}, {'type': 'BinaryExpression', 'operator': '*', 'range': [500, 503], 'children': [{'type': 'Literal', 'value': '2', 'range': [500, 500], 'children': []}, {'type': 'Identifier', 'name': 'q_factor', 'range': [502, 502], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'b0', 'range': [506, 511], 'children': [{'type': 'BinaryExpression', 'operator': '-', 'range': [509, 511], 'children': [{'type': 'Literal', 'value': '1', 'range': [508, 508], 'children': []}, {'type': 'Identifier', 'name': 'alpha', 'range': [510, 510], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'b1', 'range': [512, 518], 'children': [{'type': 'BinaryExpression', 'operator': '*', 'range': [516, 518], 'children': [{'type': 'UnaryExpression', 'operator': '-', 'range': [514, 515], 'children': [{'type': 'Literal', 'value': '2', 'range': [515, 515], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [517, 517], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'b2', 'range': [519, 524], 'children': [{'type': 'BinaryExpression', 'operator': '+', 'range': [522, 524], 'children': [{'type': 'Literal', 'value': '1', 'range': [521, 521], 'children': []}, {'type': 'Identifier', 'name': 'alpha', 'range': [523, 523], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'filt', 'range': [526, 532], 'children': [{'type': 'CallExpression', 'callee': 'IIRFilter', 'range': [528, 532], 'children': [{'type': 'Literal', 'value': '2', 'range': [530, 530], 'children': []}]}]}, {'type': 'ExpressionStatement', 'range': [533, 553], 'children': [{'type': 'CallExpression', 'callee': 'set_coefficients', 'range': [535, 553], 'children': [{'type': 'ArrayExpression', 'range': [537, 543], 'children': [{'type': 'Identifier', 'name': 'b2', 'range': [538, 538], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [540, 540], 'children': []}, {'type': 'Identifier', 'name': 'b0', 'range': [542, 542], 'children': []}]}, {'type': 'ArrayExpression', 'range': [545, 551], 'children': [{'type': 'Identifier', 'name': 'b0', 'range': [546, 546], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [548, 548], 'children': []}, {'type': 'Identifier', 'name': 'b2', 'range': [550, 550], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'range': [554, 556], 'children': [{'type': 'Identifier', 'name': 'filt', 'range': [555, 555], 'children': []}]}]}]}]}
2025-01-08 09:50:54,435 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:51:34,570 - INFO - Step 5 result: {'type': 'Program', 'name': 'make_allpass', 'range': [437, 556], 'children': [{'type': 'FunctionDecl', 'name': 'make_allpass', 'range': [437, 556], 'children': [{'type': 'ParameterList', 'range': [439, 463], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [441, 443], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [446, 448], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [451, 461], 'children': [{'type': 'DefaultValue', 'range': [454, 461], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [456, 461], 'children': [{'type': 'Literal', 'value': '1', 'range': [455, 455], 'children': []}, {'type': 'CallExpression', 'callee': 'sqrt', 'range': [457, 461], 'children': [{'type': 'Literal', 'value': '2', 'range': [459, 459], 'children': []}]}]}]}]}]}, {'type': 'ReturnType', 'range': [465, 466], 'children': [{'type': 'Type', 'name': 'IIRFilter', 'range': [466, 466], 'children': []}]}, {'type': 'BlockStatement', 'range': [468, 556], 'children': [{'type': 'Docstring', 'range': [469, 471], 'children': []}, {'type': 'VariableDecl', 'name': 'w0', 'range': [473, 480], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [476, 480], 'children': [{'type': 'BinaryExpression', 'operator': '*', 'range': [476, 479], 'children': [{'type': 'Identifier', 'name': 'tau', 'range': [475, 475], 'children': []}, {'type': 'Identifier', 'name': 'frequency', 'range': [477, 477], 'children': []}]}, {'type': 'Identifier', 'name': 'samplerate', 'range': [479, 479], 'children': []}]}]}, {'type': 'VariableDecl', 'name': '_sin', 'range': [481, 487], 'children': [{'type': 'CallExpression', 'callee': 'sin', 'range': [483, 487], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [485, 485], 'children': []}]}]}, {'type': 'VariableDecl', 'name': '_cos', 'range': [488, 494], 'children': [{'type': 'CallExpression', 'callee': 'cos', 'range': [490, 494], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [492, 492], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [495, 504], 'children': [{'type': 'BinaryExpression', 'operator': '/', 'range': [498, 504], 'children': [{'type': 'Identifier', 'name': '_sin', 'range': [497, 497], 'children': []}, {'type': 'BinaryExpression', 'operator': '*', 'range': [500, 503], 'children': [{'type': 'Literal', 'value': '2', 'range': [500, 500], 'children': []}, {'type': 'Identifier', 'name': 'q_factor', 'range': [502, 502], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'b0', 'range': [506, 511], 'children': [{'type': 'BinaryExpression', 'operator': '-', 'range': [509, 511], 'children': [{'type': 'Literal', 'value': '1', 'range': [508, 508], 'children': []}, {'type': 'Identifier', 'name': 'alpha', 'range': [510, 510], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'b1', 'range': [512, 518], 'children': [{'type': 'BinaryExpression', 'operator': '*', 'range': [516, 518], 'children': [{'type': 'UnaryExpression', 'operator': '-', 'range': [514, 515], 'children': [{'type': 'Literal', 'value': '2', 'range': [515, 515], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [517, 517], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'b2', 'range': [519, 524], 'children': [{'type': 'BinaryExpression', 'operator': '+', 'range': [522, 524], 'children': [{'type': 'Literal', 'value': '1', 'range': [521, 521], 'children': []}, {'type': 'Identifier', 'name': 'alpha', 'range': [523, 523], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'filt', 'range': [526, 532], 'children': [{'type': 'CallExpression', 'callee': 'IIRFilter', 'range': [528, 532], 'children': [{'type': 'Literal', 'value': '2', 'range': [530, 530], 'children': []}]}]}, {'type': 'ExpressionStatement', 'range': [533, 553], 'children': [{'type': 'CallExpression', 'callee': 'set_coefficients', 'range': [535, 553], 'children': [{'type': 'ArrayExpression', 'range': [537, 543], 'children': [{'type': 'Identifier', 'name': 'b2', 'range': [538, 538], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [540, 540], 'children': []}, {'type': 'Identifier', 'name': 'b0', 'range': [542, 542], 'children': []}]}, {'type': 'ArrayExpression', 'range': [545, 551], 'children': [{'type': 'Identifier', 'name': 'b0', 'range': [546, 546], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [548, 548], 'children': []}, {'type': 'Identifier', 'name': 'b2', 'range': [550, 550], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'range': [554, 556], 'children': [{'type': 'Identifier', 'name': 'filt', 'range': [555, 555], 'children': []}]}]}]}]}
2025-01-08 09:51:34,570 - INFO - Completed main AST analysis flow
2025-01-08 09:51:34,571 - INFO - Successfully processed chunk
2025-01-08 09:51:51,103 - INFO - Step 3 result: {'type': 'Program', 'name': 'make_highshelf', 'range': [959, 1197], 'children': [{'type': 'FunctionDeclaration', 'name': 'make_highshelf', 'range': [959, 1197], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [961, 990], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [963, 965], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [968, 970], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [973, 975], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [978, 988], 'children': [{'type': 'Assignment', 'name': 'default_value', 'range': [981, 988], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [983, 987], 'children': [{'type': 'Literal', 'name': '1', 'range': [982, 982], 'children': []}, {'type': 'CallExpression', 'name': 'sqrt', 'range': [984, 987], 'children': [{'type': 'Literal', 'name': '2', 'range': [986, 986], 'children': []}]}]}]}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [993, 994], 'children': []}, {'type': 'BlockStatement', 'name': 'body', 'range': [995, 1197], 'children': [{'type': 'VariableDeclaration', 'name': 'w0', 'range': [1000, 1007], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [1005, 1006], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1003, 1004], 'children': [{'type': 'Identifier', 'name': 'tau', 'range': [1002, 1002], 'children': []}, {'type': 'Identifier', 'name': 'frequency', 'range': [1004, 1004], 'children': []}]}, {'type': 'Identifier', 'name': 'samplerate', 'range': [1006, 1006], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': '_sin', 'range': [1008, 1014], 'children': [{'type': 'CallExpression', 'name': 'sin', 'range': [1010, 1013], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [1012, 1012], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': '_cos', 'range': [1015, 1021], 'children': [{'type': 'CallExpression', 'name': 'cos', 'range': [1017, 1020], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [1019, 1019], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'alpha', 'range': [1022, 1031], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [1025, 1030], 'children': [{'type': 'Identifier', 'name': '_sin', 'range': [1024, 1024], 'children': []}, {'type': 'BinaryExpression', 'name': '*', 'range': [1028, 1029], 'children': [{'type': 'Literal', 'name': '2', 'range': [1027, 1027], 'children': []}, {'type': 'Identifier', 'name': 'q_factor', 'range': [1029, 1029], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'big_a', 'range': [1032, 1042], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1035, 1041], 'children': [{'type': 'Literal', 'name': '10', 'range': [1034, 1034], 'children': []}, {'type': 'BinaryExpression', 'name': '/', 'range': [1039, 1040], 'children': [{'type': 'Identifier', 'name': 'gain_db', 'range': [1038, 1038], 'children': []}, {'type': 'Literal', 'name': '40', 'range': [1040, 1040], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'pmc', 'range': [1043, 1058], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1050, 1057], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1047, 1048], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1046, 1046], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1048, 1048], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1056, 1057], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1053, 1054], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1052, 1052], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1054, 1054], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1057, 1057], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'ppmc', 'range': [1059, 1074], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1066, 1073], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1063, 1064], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1062, 1062], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1064, 1064], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1072, 1073], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1069, 1070], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1068, 1068], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1070, 1070], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1073, 1073], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'mpc', 'range': [1075, 1090], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1082, 1089], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1079, 1080], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1078, 1078], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1080, 1080], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1088, 1089], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1085, 1086], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1084, 1084], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1086, 1086], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1089, 1089], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'pmpc', 'range': [1091, 1106], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1098, 1105], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1095, 1096], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1094, 1094], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1096, 1096], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1104, 1105], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1101, 1102], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1100, 1100], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1102, 1102], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1105, 1105], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'aa2', 'range': [1107, 1117], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1110, 1116], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1109, 1115], 'children': [{'type': 'Literal', 'name': '2', 'range': [1109, 1109], 'children': []}, {'type': 'CallExpression', 'name': 'sqrt', 'range': [1111, 1114], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1113, 1113], 'children': []}]}]}, {'type': 'Identifier', 'name': 'alpha', 'range': [1116, 1116], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'b0', 'range': [1119, 1128], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1122, 1127], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1121, 1121], 'children': []}, {'type': 'BinaryExpression', 'name': '+', 'range': [1125, 1126], 'children': [{'type': 'Identifier', 'name': 'ppmc', 'range': [1124, 1124], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1126, 1126], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'b1', 'range': [1129, 1137], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1133, 1136], 'children': [{'type': 'UnaryExpression', 'name': '-', 'range': [1131, 1132], 'children': [{'type': 'Literal', 'name': '2', 'range': [1132, 1132], 'children': []}]}, {'type': 'Identifier', 'name': 'big_a', 'range': [1134, 1134], 'children': []}, {'type': 'Identifier', 'name': 'pmpc', 'range': [1136, 1136], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'b2', 'range': [1138, 1147], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1140, 1146], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1139, 1139], 'children': []}, {'type': 'BinaryExpression', 'name': '-', 'range': [1144, 1145], 'children': [{'type': 'Identifier', 'name': 'ppmc', 'range': [1143, 1143], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1145, 1145], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'a0', 'range': [1148, 1153], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1151, 1152], 'children': [{'type': 'Identifier', 'name': 'pmc', 'range': [1150, 1150], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1152, 1152], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'a1', 'range': [1154, 1159], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1157, 1158], 'children': [{'type': 'Literal', 'name': '2', 'range': [1156, 1156], 'children': []}, {'type': 'Identifier', 'name': 'mpc', 'range': [1158, 1158], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'a2', 'range': [1160, 1165], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1163, 1164], 'children': [{'type': 'Identifier', 'name': 'pmc', 'range': [1162, 1162], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1164, 1164], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'filt', 'range': [1167, 1173], 'children': [{'type': 'CallExpression', 'name': 'IIRFilter', 'range': [1169, 1172], 'children': [{'type': 'Literal', 'name': '2', 'range': [1171, 1171], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'set_coefficients', 'range': [1174, 1194], 'children': [{'type': 'CallExpression', 'name': 'set_coefficients', 'range': [1176, 1193], 'children': [{'type': 'ArrayExpression', 'name': 'a_coeffs', 'range': [1178, 1184], 'children': [{'type': 'Identifier', 'name': 'a0', 'range': [1179, 1179], 'children': []}, {'type': 'Identifier', 'name': 'a1', 'range': [1181, 1181], 'children': []}, {'type': 'Identifier', 'name': 'a2', 'range': [1183, 1183], 'children': []}]}, {'type': 'ArrayExpression', 'name': 'b_coeffs', 'range': [1186, 1192], 'children': [{'type': 'Identifier', 'name': 'b0', 'range': [1187, 1187], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [1189, 1189], 'children': []}, {'type': 'Identifier', 'name': 'b2', 'range': [1191, 1191], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'name': 'return', 'range': [1195, 1197], 'children': [{'type': 'Identifier', 'name': 'filt', 'range': [1196, 1196], 'children': []}]}]}]}]}
2025-01-08 09:51:51,103 - INFO - Starting Step 4: AST normalization
2025-01-08 09:53:20,740 - INFO - Step 4 result: {'type': 'Program', 'name': 'make_highshelf', 'range': [959, 1197], 'children': [{'type': 'FunctionDecl', 'name': 'make_highshelf', 'range': [959, 1197], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [961, 990], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [963, 965], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [968, 970], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [973, 975], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [978, 988], 'children': [{'type': 'AssignmentExpression', 'name': 'default_value', 'range': [981, 988], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [983, 987], 'children': [{'type': 'Literal', 'name': '1', 'range': [982, 982], 'children': []}, {'type': 'CallExpression', 'name': 'sqrt', 'range': [984, 987], 'children': [{'type': 'Literal', 'name': '2', 'range': [986, 986], 'children': []}]}]}]}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [993, 994], 'children': []}, {'type': 'BlockStatement', 'name': 'body', 'range': [995, 1197], 'children': [{'type': 'VariableDecl', 'name': 'w0', 'range': [1000, 1007], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [1005, 1006], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1003, 1004], 'children': [{'type': 'Identifier', 'name': 'tau', 'range': [1002, 1002], 'children': []}, {'type': 'Identifier', 'name': 'frequency', 'range': [1004, 1004], 'children': []}]}, {'type': 'Identifier', 'name': 'samplerate', 'range': [1006, 1006], 'children': []}]}]}, {'type': 'VariableDecl', 'name': '_sin', 'range': [1008, 1014], 'children': [{'type': 'CallExpression', 'name': 'sin', 'range': [1010, 1013], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [1012, 1012], 'children': []}]}]}, {'type': 'VariableDecl', 'name': '_cos', 'range': [1015, 1021], 'children': [{'type': 'CallExpression', 'name': 'cos', 'range': [1017, 1020], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [1019, 1019], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [1022, 1031], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [1025, 1030], 'children': [{'type': 'Identifier', 'name': '_sin', 'range': [1024, 1024], 'children': []}, {'type': 'BinaryExpression', 'name': '*', 'range': [1028, 1029], 'children': [{'type': 'Literal', 'name': '2', 'range': [1027, 1027], 'children': []}, {'type': 'Identifier', 'name': 'q_factor', 'range': [1029, 1029], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'big_a', 'range': [1032, 1042], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1035, 1041], 'children': [{'type': 'Literal', 'name': '10', 'range': [1034, 1034], 'children': []}, {'type': 'BinaryExpression', 'name': '/', 'range': [1039, 1040], 'children': [{'type': 'Identifier', 'name': 'gain_db', 'range': [1038, 1038], 'children': []}, {'type': 'Literal', 'name': '40', 'range': [1040, 1040], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'pmc', 'range': [1043, 1058], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1050, 1057], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1047, 1048], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1046, 1046], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1048, 1048], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1056, 1057], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1053, 1054], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1052, 1052], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1054, 1054], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1057, 1057], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'ppmc', 'range': [1059, 1074], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1066, 1073], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1063, 1064], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1062, 1062], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1064, 1064], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1072, 1073], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1069, 1070], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1068, 1068], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1070, 1070], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1073, 1073], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'mpc', 'range': [1075, 1090], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1082, 1089], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1079, 1080], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1078, 1078], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1080, 1080], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1088, 1089], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1085, 1086], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1084, 1084], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1086, 1086], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1089, 1089], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'pmpc', 'range': [1091, 1106], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1098, 1105], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1095, 1096], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1094, 1094], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1096, 1096], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1104, 1105], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1101, 1102], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1100, 1100], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1102, 1102], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1105, 1105], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'aa2', 'range': [1107, 1117], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1110, 1116], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1109, 1115], 'children': [{'type': 'Literal', 'name': '2', 'range': [1109, 1109], 'children': []}, {'type': 'CallExpression', 'name': 'sqrt', 'range': [1111, 1114], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1113, 1113], 'children': []}]}]}, {'type': 'Identifier', 'name': 'alpha', 'range': [1116, 1116], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'b0', 'range': [1119, 1128], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1122, 1127], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1121, 1121], 'children': []}, {'type': 'BinaryExpression', 'name': '+', 'range': [1125, 1126], 'children': [{'type': 'Identifier', 'name': 'ppmc', 'range': [1124, 1124], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1126, 1126], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'b1', 'range': [1129, 1137], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1133, 1136], 'children': [{'type': 'UnaryExpression', 'name': '-', 'range': [1131, 1132], 'children': [{'type': 'Literal', 'name': '2', 'range': [1132, 1132], 'children': []}]}, {'type': 'Identifier', 'name': 'big_a', 'range': [1134, 1134], 'children': []}, {'type': 'Identifier', 'name': 'pmpc', 'range': [1136, 1136], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'b2', 'range': [1138, 1147], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1140, 1146], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1139, 1139], 'children': []}, {'type': 'BinaryExpression', 'name': '-', 'range': [1144, 1145], 'children': [{'type': 'Identifier', 'name': 'ppmc', 'range': [1143, 1143], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1145, 1145], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'a0', 'range': [1148, 1153], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1151, 1152], 'children': [{'type': 'Identifier', 'name': 'pmc', 'range': [1150, 1150], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1152, 1152], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'a1', 'range': [1154, 1159], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1157, 1158], 'children': [{'type': 'Literal', 'name': '2', 'range': [1156, 1156], 'children': []}, {'type': 'Identifier', 'name': 'mpc', 'range': [1158, 1158], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'a2', 'range': [1160, 1165], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1163, 1164], 'children': [{'type': 'Identifier', 'name': 'pmc', 'range': [1162, 1162], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1164, 1164], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'filt', 'range': [1167, 1173], 'children': [{'type': 'CallExpression', 'name': 'IIRFilter', 'range': [1169, 1172], 'children': [{'type': 'Literal', 'name': '2', 'range': [1171, 1171], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'set_coefficients', 'range': [1174, 1194], 'children': [{'type': 'CallExpression', 'name': 'set_coefficients', 'range': [1176, 1193], 'children': [{'type': 'ArrayExpression', 'name': 'a_coeffs', 'range': [1178, 1184], 'children': [{'type': 'Identifier', 'name': 'a0', 'range': [1179, 1179], 'children': []}, {'type': 'Identifier', 'name': 'a1', 'range': [1181, 1181], 'children': []}, {'type': 'Identifier', 'name': 'a2', 'range': [1183, 1183], 'children': []}]}, {'type': 'ArrayExpression', 'name': 'b_coeffs', 'range': [1186, 1192], 'children': [{'type': 'Identifier', 'name': 'b0', 'range': [1187, 1187], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [1189, 1189], 'children': []}, {'type': 'Identifier', 'name': 'b2', 'range': [1191, 1191], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'name': 'return', 'range': [1195, 1197], 'children': [{'type': 'Identifier', 'name': 'filt', 'range': [1196, 1196], 'children': []}]}]}]}]}
2025-01-08 09:53:20,741 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:54:53,823 - INFO - Step 5 result: {'type': 'Program', 'name': 'make_highshelf', 'range': [959, 1197], 'children': [{'type': 'FunctionDecl', 'name': 'make_highshelf', 'range': [959, 1197], 'children': [{'type': 'ParameterList', 'name': 'parameters', 'range': [961, 990], 'children': [{'type': 'Parameter', 'name': 'frequency', 'range': [963, 965], 'children': []}, {'type': 'Parameter', 'name': 'samplerate', 'range': [968, 970], 'children': []}, {'type': 'Parameter', 'name': 'gain_db', 'range': [973, 975], 'children': []}, {'type': 'Parameter', 'name': 'q_factor', 'range': [978, 988], 'children': [{'type': 'AssignmentExpression', 'name': 'default_value', 'range': [981, 988], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [983, 987], 'children': [{'type': 'Literal', 'name': '1', 'range': [982, 982], 'children': []}, {'type': 'CallExpression', 'name': 'sqrt', 'range': [984, 987], 'children': [{'type': 'Literal', 'name': '2', 'range': [986, 986], 'children': []}]}]}]}]}]}, {'type': 'ReturnType', 'name': 'IIRFilter', 'range': [993, 994], 'children': []}, {'type': 'BlockStatement', 'name': 'body', 'range': [995, 1197], 'children': [{'type': 'VariableDecl', 'name': 'w0', 'range': [1000, 1007], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [1005, 1006], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1003, 1004], 'children': [{'type': 'Identifier', 'name': 'tau', 'range': [1002, 1002], 'children': []}, {'type': 'Identifier', 'name': 'frequency', 'range': [1004, 1004], 'children': []}]}, {'type': 'Identifier', 'name': 'samplerate', 'range': [1006, 1006], 'children': []}]}]}, {'type': 'VariableDecl', 'name': '_sin', 'range': [1008, 1014], 'children': [{'type': 'CallExpression', 'name': 'sin', 'range': [1010, 1013], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [1012, 1012], 'children': []}]}]}, {'type': 'VariableDecl', 'name': '_cos', 'range': [1015, 1021], 'children': [{'type': 'CallExpression', 'name': 'cos', 'range': [1017, 1020], 'children': [{'type': 'Identifier', 'name': 'w0', 'range': [1019, 1019], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'alpha', 'range': [1022, 1031], 'children': [{'type': 'BinaryExpression', 'name': '/', 'range': [1025, 1030], 'children': [{'type': 'Identifier', 'name': '_sin', 'range': [1024, 1024], 'children': []}, {'type': 'BinaryExpression', 'name': '*', 'range': [1028, 1029], 'children': [{'type': 'Literal', 'name': '2', 'range': [1027, 1027], 'children': []}, {'type': 'Identifier', 'name': 'q_factor', 'range': [1029, 1029], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'big_a', 'range': [1032, 1042], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1035, 1041], 'children': [{'type': 'Literal', 'name': '10', 'range': [1034, 1034], 'children': []}, {'type': 'BinaryExpression', 'name': '/', 'range': [1039, 1040], 'children': [{'type': 'Identifier', 'name': 'gain_db', 'range': [1038, 1038], 'children': []}, {'type': 'Literal', 'name': '40', 'range': [1040, 1040], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'pmc', 'range': [1043, 1058], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1050, 1057], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1047, 1048], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1046, 1046], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1048, 1048], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1056, 1057], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1053, 1054], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1052, 1052], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1054, 1054], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1057, 1057], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'ppmc', 'range': [1059, 1074], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1066, 1073], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1063, 1064], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1062, 1062], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1064, 1064], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1072, 1073], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1069, 1070], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1068, 1068], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1070, 1070], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1073, 1073], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'mpc', 'range': [1075, 1090], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1082, 1089], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1079, 1080], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1078, 1078], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1080, 1080], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1088, 1089], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1085, 1086], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1084, 1084], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1086, 1086], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1089, 1089], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'pmpc', 'range': [1091, 1106], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1098, 1105], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1095, 1096], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1094, 1094], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1096, 1096], 'children': []}]}, {'type': 'BinaryExpression', 'name': '*', 'range': [1104, 1105], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1101, 1102], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1100, 1100], 'children': []}, {'type': 'Literal', 'name': '1', 'range': [1102, 1102], 'children': []}]}, {'type': 'Identifier', 'name': '_cos', 'range': [1105, 1105], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'aa2', 'range': [1107, 1117], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1110, 1116], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1109, 1115], 'children': [{'type': 'Literal', 'name': '2', 'range': [1109, 1109], 'children': []}, {'type': 'CallExpression', 'name': 'sqrt', 'range': [1111, 1114], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1113, 1113], 'children': []}]}]}, {'type': 'Identifier', 'name': 'alpha', 'range': [1116, 1116], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'b0', 'range': [1119, 1128], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1122, 1127], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1121, 1121], 'children': []}, {'type': 'BinaryExpression', 'name': '+', 'range': [1125, 1126], 'children': [{'type': 'Identifier', 'name': 'ppmc', 'range': [1124, 1124], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1126, 1126], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'b1', 'range': [1129, 1137], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1133, 1136], 'children': [{'type': 'UnaryExpression', 'name': '-', 'range': [1131, 1132], 'children': [{'type': 'Literal', 'name': '2', 'range': [1132, 1132], 'children': []}]}, {'type': 'Identifier', 'name': 'big_a', 'range': [1134, 1134], 'children': []}, {'type': 'Identifier', 'name': 'pmpc', 'range': [1136, 1136], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'b2', 'range': [1138, 1147], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1140, 1146], 'children': [{'type': 'Identifier', 'name': 'big_a', 'range': [1139, 1139], 'children': []}, {'type': 'BinaryExpression', 'name': '-', 'range': [1144, 1145], 'children': [{'type': 'Identifier', 'name': 'ppmc', 'range': [1143, 1143], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1145, 1145], 'children': []}]}]}]}, {'type': 'VariableDecl', 'name': 'a0', 'range': [1148, 1153], 'children': [{'type': 'BinaryExpression', 'name': '+', 'range': [1151, 1152], 'children': [{'type': 'Identifier', 'name': 'pmc', 'range': [1150, 1150], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1152, 1152], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'a1', 'range': [1154, 1159], 'children': [{'type': 'BinaryExpression', 'name': '*', 'range': [1157, 1158], 'children': [{'type': 'Literal', 'name': '2', 'range': [1156, 1156], 'children': []}, {'type': 'Identifier', 'name': 'mpc', 'range': [1158, 1158], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'a2', 'range': [1160, 1165], 'children': [{'type': 'BinaryExpression', 'name': '-', 'range': [1163, 1164], 'children': [{'type': 'Identifier', 'name': 'pmc', 'range': [1162, 1162], 'children': []}, {'type': 'Identifier', 'name': 'aa2', 'range': [1164, 1164], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'filt', 'range': [1167, 1173], 'children': [{'type': 'CallExpression', 'name': 'IIRFilter', 'range': [1169, 1172], 'children': [{'type': 'Literal', 'name': '2', 'range': [1171, 1171], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'set_coefficients', 'range': [1174, 1194], 'children': [{'type': 'CallExpression', 'name': 'set_coefficients', 'range': [1176, 1193], 'children': [{'type': 'ArrayExpression', 'name': 'a_coeffs', 'range': [1178, 1184], 'children': [{'type': 'Identifier', 'name': 'a0', 'range': [1179, 1179], 'children': []}, {'type': 'Identifier', 'name': 'a1', 'range': [1181, 1181], 'children': []}, {'type': 'Identifier', 'name': 'a2', 'range': [1183, 1183], 'children': []}]}, {'type': 'ArrayExpression', 'name': 'b_coeffs', 'range': [1186, 1192], 'children': [{'type': 'Identifier', 'name': 'b0', 'range': [1187, 1187], 'children': []}, {'type': 'Identifier', 'name': 'b1', 'range': [1189, 1189], 'children': []}, {'type': 'Identifier', 'name': 'b2', 'range': [1191, 1191], 'children': []}]}]}]}, {'type': 'ReturnStatement', 'name': 'return', 'range': [1195, 1197], 'children': [{'type': 'Identifier', 'name': 'filt', 'range': [1196, 1196], 'children': []}]}]}]}]}
2025-01-08 09:54:53,823 - INFO - Completed main AST analysis flow
2025-01-08 09:54:53,823 - INFO - Successfully processed chunk
2025-01-08 09:54:53,876 - INFO - Starting code generation from AST
2025-01-08 10:24:55,518 - ERROR - Error in get_code_from_ast: Expecting value: line 30 column 1 (char 29)
2025-01-08 10:24:55,518 - INFO - Starting static code similarity comparison
2025-01-08 10:24:55,521 - INFO - Static similarity result: {'final_score': 30.0, 'length_similarity': 0.0, 'token_similarity': 0.0, 'structure_similarity': 0.0, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
