2025-01-08 10:27:27,397 - INFO - Processing sample 161
2025-01-08 10:27:27,397 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 10:27:34,066 - INFO - Successfully split code into 3 top-level declarations
2025-01-08 10:27:34,067 - INFO - Processing chunk #0 (size=247 chars, start_index=0)
2025-01-08 10:27:34,067 - INFO - Processing chunk with 247 chars starting at index 0
2025-01-08 10:27:34,068 - INFO - Processing chunk #1 (size=231 chars, start_index=52)
2025-01-08 10:27:34,068 - INFO - Starting main AST analysis flow
2025-01-08 10:27:34,068 - INFO - Processing chunk #2 (size=10503 chars, start_index=93)
2025-01-08 10:27:34,068 - INFO - Processing chunk with 231 chars starting at index 52
2025-01-08 10:27:34,068 - INFO - Tokenized code into 52 tokens
2025-01-08 10:27:34,069 - INFO - Processing chunk with 10503 chars starting at index 93
2025-01-08 10:27:34,069 - INFO - Starting main AST analysis flow
2025-01-08 10:27:34,069 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:34,069 - INFO - Starting main AST analysis flow
2025-01-08 10:27:34,069 - INFO - Tokenized code into 41 tokens
2025-01-08 10:27:34,071 - INFO - Tokenized code into 602 tokens
2025-01-08 10:27:34,072 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:34,078 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:41,470 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 51], 'children': [{'type': 'ImportDeclaration', 'name': 'random', 'range': [0, 2], 'children': []}, {'type': 'ImportDeclaration', 'name': 'defaultdict', 'range': [3, 7], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Enum', 'range': [8, 12], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Any, Dict, List, Optional, Union', 'range': [13, 25], 'children': []}, {'type': 'ImportDeclaration', 'name': 'Block, BlockCategory, BlockOutput, BlockSchema', 'range': [27, 41], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [42, 50], 'children': []}]}
2025-01-08 10:27:41,471 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:42,610 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [93, 694], 'children': [{'type': 'ClassDeclaration', 'name': 'DataSamplingBlock', 'range': [93, 298], 'children': [{'type': 'ClassDeclaration', 'name': 'Input', 'range': [100, 298], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [300, 346], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [348, 543], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [552, 693], 'children': []}]}
2025-01-08 10:27:42,610 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:48,386 - INFO - Step 1 result: {'type': 'Program', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumDeclaration', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumMember', 'name': 'RANDOM', 'range': [61, 63]}, {'type': 'EnumMember', 'name': 'SYSTEMATIC', 'range': [65, 67]}, {'type': 'EnumMember', 'name': 'TOP', 'range': [69, 71]}, {'type': 'EnumMember', 'name': 'BOTTOM', 'range': [73, 75]}, {'type': 'EnumMember', 'name': 'STRATIFIED', 'range': [77, 79]}, {'type': 'EnumMember', 'name': 'WEIGHTED', 'range': [81, 83]}, {'type': 'EnumMember', 'name': 'RESERVOIR', 'range': [85, 87]}, {'type': 'EnumMember', 'name': 'CLUSTER', 'range': [89, 91]}]}]}
2025-01-08 10:27:48,386 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:03,166 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'random', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'random', 'range': [0, 2], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'defaultdict', 'range': [3, 7], 'children': [{'type': 'ImportSpecifier', 'name': 'defaultdict', 'range': [3, 7], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Enum', 'range': [8, 12], 'children': [{'type': 'ImportSpecifier', 'name': 'Enum', 'range': [8, 12], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Any, Dict, List, Optional, Union', 'range': [13, 25], 'children': [{'type': 'ImportSpecifier', 'name': 'Any', 'range': [16, 17], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Dict', 'range': [18, 19], 'children': []}, {'type': 'ImportSpecifier', 'name': 'List', 'range': [20, 21], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Optional', 'range': [22, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Union', 'range': [24, 25], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Block, BlockCategory, BlockOutput, BlockSchema', 'range': [27, 41], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [36, 37], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [38, 39], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [40, 41], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [42, 50], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [49, 50], 'children': []}]}]}
2025-01-08 10:28:03,167 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:09,890 - INFO - Step 2 result: {'type': 'Program', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumDeclaration', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumMember', 'name': 'RANDOM', 'range': [61, 63], 'children': [{'type': 'Literal', 'value': '"random"', 'range': [63, 63]}]}, {'type': 'EnumMember', 'name': 'SYSTEMATIC', 'range': [65, 67], 'children': [{'type': 'Literal', 'value': '"systematic"', 'range': [67, 67]}]}, {'type': 'EnumMember', 'name': 'TOP', 'range': [69, 71], 'children': [{'type': 'Literal', 'value': '"top"', 'range': [71, 71]}]}, {'type': 'EnumMember', 'name': 'BOTTOM', 'range': [73, 75], 'children': [{'type': 'Literal', 'value': '"bottom"', 'range': [75, 75]}]}, {'type': 'EnumMember', 'name': 'STRATIFIED', 'range': [77, 79], 'children': [{'type': 'Literal', 'value': '"stratified"', 'range': [79, 79]}]}, {'type': 'EnumMember', 'name': 'WEIGHTED', 'range': [81, 83], 'children': [{'type': 'Literal', 'value': '"weighted"', 'range': [83, 83]}]}, {'type': 'EnumMember', 'name': 'RESERVOIR', 'range': [85, 87], 'children': [{'type': 'Literal', 'value': '"reservoir"', 'range': [87, 87]}]}, {'type': 'EnumMember', 'name': 'CLUSTER', 'range': [89, 91], 'children': [{'type': 'Literal', 'value': '"cluster"', 'range': [91, 91]}]}]}]}
2025-01-08 10:28:09,890 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:11,036 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [93, 694], 'children': [{'type': 'ClassDeclaration', 'name': 'DataSamplingBlock', 'range': [93, 298], 'children': [{'type': 'ClassDeclaration', 'name': 'Input', 'range': [100, 298], 'children': [{'type': 'VariableDeclaration', 'name': 'data', 'range': [107, 145], 'children': []}, {'type': 'VariableDeclaration', 'name': 'sample_size', 'range': [147, 169], 'children': []}, {'type': 'VariableDeclaration', 'name': 'sampling_method', 'range': [171, 190], 'children': []}, {'type': 'VariableDeclaration', 'name': 'accumulate', 'range': [192, 209], 'children': []}, {'type': 'VariableDeclaration', 'name': 'random_seed', 'range': [211, 231], 'children': []}, {'type': 'VariableDeclaration', 'name': 'stratify_key', 'range': [233, 253], 'children': []}, {'type': 'VariableDeclaration', 'name': 'weight_key', 'range': [255, 275], 'children': []}, {'type': 'VariableDeclaration', 'name': 'cluster_key', 'range': [277, 297], 'children': []}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [300, 346], 'children': [{'type': 'VariableDeclaration', 'name': 'sampled_data', 'range': [307, 329], 'children': []}, {'type': 'VariableDeclaration', 'name': 'sample_indices', 'range': [331, 345], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [348, 543], 'children': [{'type': 'SuperCall', 'name': '', 'range': [355, 393], 'children': []}, {'type': 'VariableDeclaration', 'name': 'accumulated_data', 'range': [544, 550], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [552, 693], 'children': [{'type': 'IfStatement', 'name': '', 'range': [570, 629], 'children': []}, {'type': 'Comment', 'name': '', 'range': [631, 635], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [636, 641], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [642, 647], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [648, 653], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [654, 659], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [660, 663], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [664, 669], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [670, 675], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [676, 681], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [682, 685], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [686, 690], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [691, 693], 'children': []}]}]}
2025-01-08 10:28:11,037 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:22,041 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'random', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'random', 'range': [0, 2], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'defaultdict', 'range': [3, 7], 'children': [{'type': 'ImportSpecifier', 'name': 'defaultdict', 'range': [3, 7], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Enum', 'range': [8, 12], 'children': [{'type': 'ImportSpecifier', 'name': 'Enum', 'range': [8, 12], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Any, Dict, List, Optional, Union', 'range': [13, 25], 'children': [{'type': 'ImportSpecifier', 'name': 'Any', 'range': [16, 17], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Dict', 'range': [18, 19], 'children': []}, {'type': 'ImportSpecifier', 'name': 'List', 'range': [20, 21], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Optional', 'range': [22, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Union', 'range': [24, 25], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Block, BlockCategory, BlockOutput, BlockSchema', 'range': [27, 41], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [36, 37], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [38, 39], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [40, 41], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [42, 50], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [49, 50], 'children': []}]}]}
2025-01-08 10:28:22,041 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:29,132 - INFO - Step 3 result: {'type': 'Program', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumDeclaration', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumMember', 'name': 'RANDOM', 'range': [61, 63], 'children': [{'type': 'Literal', 'value': '"random"', 'range': [63, 63]}]}, {'type': 'EnumMember', 'name': 'SYSTEMATIC', 'range': [65, 67], 'children': [{'type': 'Literal', 'value': '"systematic"', 'range': [67, 67]}]}, {'type': 'EnumMember', 'name': 'TOP', 'range': [69, 71], 'children': [{'type': 'Literal', 'value': '"top"', 'range': [71, 71]}]}, {'type': 'EnumMember', 'name': 'BOTTOM', 'range': [73, 75], 'children': [{'type': 'Literal', 'value': '"bottom"', 'range': [75, 75]}]}, {'type': 'EnumMember', 'name': 'STRATIFIED', 'range': [77, 79], 'children': [{'type': 'Literal', 'value': '"stratified"', 'range': [79, 79]}]}, {'type': 'EnumMember', 'name': 'WEIGHTED', 'range': [81, 83], 'children': [{'type': 'Literal', 'value': '"weighted"', 'range': [83, 83]}]}, {'type': 'EnumMember', 'name': 'RESERVOIR', 'range': [85, 87], 'children': [{'type': 'Literal', 'value': '"reservoir"', 'range': [87, 87]}]}, {'type': 'EnumMember', 'name': 'CLUSTER', 'range': [89, 91], 'children': [{'type': 'Literal', 'value': '"cluster"', 'range': [91, 91]}]}]}]}
2025-01-08 10:28:29,132 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:36,435 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'random', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'random', 'range': [0, 2], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'defaultdict', 'range': [3, 7], 'children': [{'type': 'ImportSpecifier', 'name': 'defaultdict', 'range': [3, 7], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Enum', 'range': [8, 12], 'children': [{'type': 'ImportSpecifier', 'name': 'Enum', 'range': [8, 12], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Any, Dict, List, Optional, Union', 'range': [13, 25], 'children': [{'type': 'ImportSpecifier', 'name': 'Any', 'range': [16, 17], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Dict', 'range': [18, 19], 'children': []}, {'type': 'ImportSpecifier', 'name': 'List', 'range': [20, 21], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Optional', 'range': [22, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Union', 'range': [24, 25], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Block, BlockCategory, BlockOutput, BlockSchema', 'range': [27, 41], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [36, 37], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [38, 39], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [40, 41], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [42, 50], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [49, 50], 'children': []}]}]}
2025-01-08 10:28:36,436 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:37,541 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [93, 694], 'children': [{'type': 'ClassDeclaration', 'name': 'DataSamplingBlock', 'range': [93, 298], 'children': [{'type': 'ClassDeclaration', 'name': 'Input', 'range': [100, 298], 'children': [{'type': 'VariableDeclaration', 'name': 'data', 'range': [107, 145], 'children': []}, {'type': 'VariableDeclaration', 'name': 'sample_size', 'range': [147, 169], 'children': []}, {'type': 'VariableDeclaration', 'name': 'sampling_method', 'range': [171, 190], 'children': []}, {'type': 'VariableDeclaration', 'name': 'accumulate', 'range': [192, 209], 'children': []}, {'type': 'VariableDeclaration', 'name': 'random_seed', 'range': [211, 231], 'children': []}, {'type': 'VariableDeclaration', 'name': 'stratify_key', 'range': [233, 253], 'children': []}, {'type': 'VariableDeclaration', 'name': 'weight_key', 'range': [255, 275], 'children': []}, {'type': 'VariableDeclaration', 'name': 'cluster_key', 'range': [277, 297], 'children': []}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [300, 346], 'children': [{'type': 'VariableDeclaration', 'name': 'sampled_data', 'range': [307, 329], 'children': []}, {'type': 'VariableDeclaration', 'name': 'sample_indices', 'range': [331, 345], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [348, 543], 'children': [{'type': 'SuperCall', 'name': '', 'range': [355, 393], 'children': []}, {'type': 'VariableDeclaration', 'name': 'accumulated_data', 'range': [544, 550], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [552, 693], 'children': [{'type': 'IfStatement', 'name': '', 'range': [570, 629], 'children': []}, {'type': 'Comment', 'name': '', 'range': [631, 635], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [636, 641], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [642, 647], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [648, 653], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [654, 659], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [660, 663], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [664, 669], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [670, 675], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [676, 681], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [682, 685], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [686, 690], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [691, 693], 'children': []}]}]}
2025-01-08 10:28:37,541 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:41,890 - INFO - Step 4 result: {'type': 'Program', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumDeclaration', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumMember', 'name': 'RANDOM', 'range': [61, 63], 'children': [{'type': 'Literal', 'value': '"random"', 'range': [63, 63]}]}, {'type': 'EnumMember', 'name': 'SYSTEMATIC', 'range': [65, 67], 'children': [{'type': 'Literal', 'value': '"systematic"', 'range': [67, 67]}]}, {'type': 'EnumMember', 'name': 'TOP', 'range': [69, 71], 'children': [{'type': 'Literal', 'value': '"top"', 'range': [71, 71]}]}, {'type': 'EnumMember', 'name': 'BOTTOM', 'range': [73, 75], 'children': [{'type': 'Literal', 'value': '"bottom"', 'range': [75, 75]}]}, {'type': 'EnumMember', 'name': 'STRATIFIED', 'range': [77, 79], 'children': [{'type': 'Literal', 'value': '"stratified"', 'range': [79, 79]}]}, {'type': 'EnumMember', 'name': 'WEIGHTED', 'range': [81, 83], 'children': [{'type': 'Literal', 'value': '"weighted"', 'range': [83, 83]}]}, {'type': 'EnumMember', 'name': 'RESERVOIR', 'range': [85, 87], 'children': [{'type': 'Literal', 'value': '"reservoir"', 'range': [87, 87]}]}, {'type': 'EnumMember', 'name': 'CLUSTER', 'range': [89, 91], 'children': [{'type': 'Literal', 'value': '"cluster"', 'range': [91, 91]}]}]}]}
2025-01-08 10:28:41,890 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:50,535 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainOrSomething', 'range': [0, 50], 'children': [{'type': 'ImportDeclaration', 'name': 'random', 'range': [0, 2], 'children': [{'type': 'ImportSpecifier', 'name': 'random', 'range': [0, 2], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'defaultdict', 'range': [3, 7], 'children': [{'type': 'ImportSpecifier', 'name': 'defaultdict', 'range': [3, 7], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Enum', 'range': [8, 12], 'children': [{'type': 'ImportSpecifier', 'name': 'Enum', 'range': [8, 12], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Any, Dict, List, Optional, Union', 'range': [13, 25], 'children': [{'type': 'ImportSpecifier', 'name': 'Any', 'range': [16, 17], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Dict', 'range': [18, 19], 'children': []}, {'type': 'ImportSpecifier', 'name': 'List', 'range': [20, 21], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Optional', 'range': [22, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'Union', 'range': [24, 25], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'Block, BlockCategory, BlockOutput, BlockSchema', 'range': [27, 41], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [34, 35], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [36, 37], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [38, 39], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [40, 41], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SchemaField', 'range': [42, 50], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [49, 50], 'children': []}]}]}]}
2025-01-08 10:28:50,536 - INFO - Completed main AST analysis flow
2025-01-08 10:28:50,536 - INFO - Successfully processed chunk
2025-01-08 10:28:54,161 - INFO - Step 5 result: {'type': 'Program', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumDeclaration', 'name': 'SamplingMethod', 'range': [52, 92], 'children': [{'type': 'EnumMember', 'name': 'RANDOM', 'range': [61, 63], 'children': [{'type': 'Literal', 'value': '"random"', 'range': [63, 63]}]}, {'type': 'EnumMember', 'name': 'SYSTEMATIC', 'range': [65, 67], 'children': [{'type': 'Literal', 'value': '"systematic"', 'range': [67, 67]}]}, {'type': 'EnumMember', 'name': 'TOP', 'range': [69, 71], 'children': [{'type': 'Literal', 'value': '"top"', 'range': [71, 71]}]}, {'type': 'EnumMember', 'name': 'BOTTOM', 'range': [73, 75], 'children': [{'type': 'Literal', 'value': '"bottom"', 'range': [75, 75]}]}, {'type': 'EnumMember', 'name': 'STRATIFIED', 'range': [77, 79], 'children': [{'type': 'Literal', 'value': '"stratified"', 'range': [79, 79]}]}, {'type': 'EnumMember', 'name': 'WEIGHTED', 'range': [81, 83], 'children': [{'type': 'Literal', 'value': '"weighted"', 'range': [83, 83]}]}, {'type': 'EnumMember', 'name': 'RESERVOIR', 'range': [85, 87], 'children': [{'type': 'Literal', 'value': '"reservoir"', 'range': [87, 87]}]}, {'type': 'EnumMember', 'name': 'CLUSTER', 'range': [89, 91], 'children': [{'type': 'Literal', 'value': '"cluster"', 'range': [91, 91]}]}]}]}
2025-01-08 10:28:54,161 - INFO - Completed main AST analysis flow
2025-01-08 10:28:54,161 - INFO - Successfully processed chunk
2025-01-08 10:28:58,006 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [93, 694], 'children': [{'type': 'ClassDecl', 'name': 'DataSamplingBlock', 'range': [93, 298], 'children': [{'type': 'ClassDecl', 'name': 'Input', 'range': [100, 298], 'children': [{'type': 'VariableDecl', 'name': 'data', 'range': [107, 145], 'children': []}, {'type': 'VariableDecl', 'name': 'sample_size', 'range': [147, 169], 'children': []}, {'type': 'VariableDecl', 'name': 'sampling_method', 'range': [171, 190], 'children': []}, {'type': 'VariableDecl', 'name': 'accumulate', 'range': [192, 209], 'children': []}, {'type': 'VariableDecl', 'name': 'random_seed', 'range': [211, 231], 'children': []}, {'type': 'VariableDecl', 'name': 'stratify_key', 'range': [233, 253], 'children': []}, {'type': 'VariableDecl', 'name': 'weight_key', 'range': [255, 275], 'children': []}, {'type': 'VariableDecl', 'name': 'cluster_key', 'range': [277, 297], 'children': []}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [300, 346], 'children': [{'type': 'VariableDecl', 'name': 'sampled_data', 'range': [307, 329], 'children': []}, {'type': 'VariableDecl', 'name': 'sample_indices', 'range': [331, 345], 'children': []}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [348, 543], 'children': [{'type': 'SuperCall', 'name': '', 'range': [355, 393], 'children': []}, {'type': 'VariableDecl', 'name': 'accumulated_data', 'range': [544, 550], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [552, 693], 'children': [{'type': 'IfStatement', 'name': '', 'range': [570, 629], 'children': []}, {'type': 'Comment', 'name': '', 'range': [631, 635], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [636, 641], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [642, 647], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [648, 653], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [654, 659], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [660, 663], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [664, 669], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [670, 675], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [676, 681], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [682, 685], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [686, 690], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [691, 693], 'children': []}]}]}
2025-01-08 10:28:58,006 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:29:19,717 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [93, 694], 'children': [{'type': 'ClassDecl', 'name': 'DataSamplingBlock', 'range': [93, 298], 'children': [{'type': 'ClassDecl', 'name': 'Input', 'range': [100, 298], 'children': [{'type': 'VariableDecl', 'name': 'data', 'range': [107, 145], 'children': []}, {'type': 'VariableDecl', 'name': 'sample_size', 'range': [147, 169], 'children': []}, {'type': 'VariableDecl', 'name': 'sampling_method', 'range': [171, 190], 'children': []}, {'type': 'VariableDecl', 'name': 'accumulate', 'range': [192, 209], 'children': []}, {'type': 'VariableDecl', 'name': 'random_seed', 'range': [211, 231], 'children': []}, {'type': 'VariableDecl', 'name': 'stratify_key', 'range': [233, 253], 'children': []}, {'type': 'VariableDecl', 'name': 'weight_key', 'range': [255, 275], 'children': []}, {'type': 'VariableDecl', 'name': 'cluster_key', 'range': [277, 297], 'children': []}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [300, 346], 'children': [{'type': 'VariableDecl', 'name': 'sampled_data', 'range': [307, 329], 'children': []}, {'type': 'VariableDecl', 'name': 'sample_indices', 'range': [331, 345], 'children': []}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [348, 543], 'children': [{'type': 'SuperCall', 'name': '', 'range': [355, 393], 'children': []}, {'type': 'VariableDecl', 'name': 'accumulated_data', 'range': [544, 550], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [552, 693], 'children': [{'type': 'IfStatement', 'name': '', 'range': [570, 629], 'children': []}, {'type': 'Comment', 'name': '', 'range': [631, 635], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [636, 641], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [642, 647], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [648, 653], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [654, 659], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [660, 663], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [664, 669], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [670, 675], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [676, 681], 'children': []}, {'type': 'IfStatement', 'name': '', 'range': [682, 685], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [686, 690], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [691, 693], 'children': []}]}]}
2025-01-08 10:29:19,718 - INFO - Completed main AST analysis flow
2025-01-08 10:29:19,718 - INFO - Successfully processed chunk
2025-01-08 10:29:19,770 - INFO - Starting code generation from AST
2025-01-08 10:29:58,364 - INFO - Successfully generated code from AST
2025-01-08 10:29:58,365 - INFO - Starting static code similarity comparison
2025-01-08 10:29:58,402 - INFO - Static similarity result: {'final_score': 96.69, 'length_similarity': 98.11, 'token_similarity': 92.77, 'structure_similarity': 96.58, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
