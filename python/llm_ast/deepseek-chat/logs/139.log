2025-01-08 10:16:40,428 - INFO - Processing sample 139
2025-01-08 10:16:40,428 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 10:16:43,117 - INFO - Successfully split code into 3 top-level declarations
2025-01-08 10:16:43,120 - INFO - Processing chunk #0 (size=424 chars, start_index=0)
2025-01-08 10:16:43,120 - INFO - Processing chunk with 424 chars starting at index 0
2025-01-08 10:16:43,120 - INFO - Starting main AST analysis flow
2025-01-08 10:16:43,121 - INFO - Tokenized code into 82 tokens
2025-01-08 10:16:43,121 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:16:43,126 - INFO - Processing chunk #1 (size=810 chars, start_index=82)
2025-01-08 10:16:43,132 - INFO - Processing chunk with 810 chars starting at index 82
2025-01-08 10:16:43,132 - INFO - Starting main AST analysis flow
2025-01-08 10:16:43,133 - INFO - Tokenized code into 132 tokens
2025-01-08 10:16:43,133 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:16:43,137 - INFO - Processing chunk #2 (size=3344 chars, start_index=214)
2025-01-08 10:16:43,137 - INFO - Processing chunk with 3344 chars starting at index 214
2025-01-08 10:16:43,137 - INFO - Starting main AST analysis flow
2025-01-08 10:16:43,138 - INFO - Tokenized code into 478 tokens
2025-01-08 10:16:43,138 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:16:47,976 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 81], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [6, 31], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 40], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [41, 47], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [48, 58], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [60, 79], 'children': []}]}
2025-01-08 10:16:47,976 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:16:50,585 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [82, 213], 'children': [{'type': 'ClassDeclaration', 'name': 'Slant3DTriggerBase', 'range': [82, 89], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [91, 132], 'children': [{'type': 'FieldDeclaration', 'name': 'credentials', 'range': [98, 105], 'children': []}, {'type': 'FieldDeclaration', 'name': 'payload', 'range': [116, 131], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [133, 177], 'children': [{'type': 'FieldDeclaration', 'name': 'payload', 'range': [140, 152], 'children': []}, {'type': 'FieldDeclaration', 'name': 'order_id', 'range': [153, 163], 'children': []}, {'type': 'FieldDeclaration', 'name': 'error', 'range': [164, 176], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [178, 213], 'children': []}]}
2025-01-08 10:16:50,585 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:16:51,515 - INFO - Step 1 result: {'type': 'Program', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 691], 'children': [{'type': 'ClassDeclaration', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 226], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [228, 236], 'children': []}, {'type': 'ClassDeclaration', 'name': 'EventsFilter', 'range': [237, 247], 'children': []}, {'type': 'VariableDeclaration', 'name': 'shipped', 'range': [249, 254], 'children': []}, {'type': 'VariableDeclaration', 'name': 'events', 'range': [256, 284], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [286, 294], 'children': []}, {'type': 'VariableDeclaration', 'name': 'status', 'range': [295, 305], 'children': []}, {'type': 'VariableDeclaration', 'name': 'tracking_number', 'range': [306, 318], 'children': []}, {'type': 'VariableDeclaration', 'name': 'carrier_code', 'range': [319, 329], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [331, 612], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [614, 691], 'children': []}]}
2025-01-08 10:16:51,515 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:17:05,470 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': [{'type': 'FromImport', 'name': 'pydantic', 'range': [0, 1], 'children': []}, {'type': 'ImportClause', 'name': 'BaseModel', 'range': [2, 3], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [6, 31], 'children': [{'type': 'FromImport', 'name': 'backend.data.block', 'range': [6, 11], 'children': []}, {'type': 'ImportClause', 'name': 'Block', 'range': [15, 15], 'children': []}, {'type': 'ImportClause', 'name': 'BlockCategory', 'range': [18, 18], 'children': []}, {'type': 'ImportClause', 'name': 'BlockOutput', 'range': [21, 21], 'children': []}, {'type': 'ImportClause', 'name': 'BlockSchema', 'range': [24, 24], 'children': []}, {'type': 'ImportClause', 'name': 'BlockWebhookConfig', 'range': [27, 27], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 40], 'children': [{'type': 'FromImport', 'name': 'backend.data.model', 'range': [32, 37], 'children': []}, {'type': 'ImportClause', 'name': 'SchemaField', 'range': [39, 39], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [41, 47], 'children': [{'type': 'FromImport', 'name': 'backend.util', 'range': [41, 45], 'children': []}, {'type': 'ImportClause', 'name': 'settings', 'range': [46, 46], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [48, 58], 'children': [{'type': 'FromImport', 'name': 'backend.util.settings', 'range': [48, 53], 'children': []}, {'type': 'ImportClause', 'name': 'AppEnvironment', 'range': [55, 55], 'children': []}, {'type': 'ImportClause', 'name': 'BehaveAs', 'range': [57, 57], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [60, 79], 'children': [{'type': 'FromImport', 'name': '._api', 'range': [60, 62], 'children': []}, {'type': 'ImportClause', 'name': 'TEST_CREDENTIALS', 'range': [66, 66], 'children': []}, {'type': 'ImportClause', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [69, 69], 'children': []}, {'type': 'ImportClause', 'name': 'Slant3DCredentialsField', 'range': [72, 72], 'children': []}, {'type': 'ImportClause', 'name': 'Slant3DCredentialsInput', 'range': [75, 75], 'children': []}]}]}
2025-01-08 10:17:05,470 - INFO - Starting Step 3: AST simplification
2025-01-08 10:17:19,115 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [82, 213], 'children': [{'type': 'ClassDeclaration', 'name': 'Slant3DTriggerBase', 'range': [82, 89], 'children': [{'type': 'Docstring', 'name': '', 'range': [86, 88], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [91, 132], 'children': [{'type': 'FieldDeclaration', 'name': 'credentials', 'range': [98, 105], 'children': [{'type': 'TypeAnnotation', 'name': 'Slant3DCredentialsInput', 'range': [100, 100], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [101, 101], 'children': [{'type': 'FunctionCall', 'name': 'Slant3DCredentialsField', 'range': [102, 104], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'payload', 'range': [116, 131], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [118, 118], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [119, 119], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [120, 130], 'children': [{'type': 'KeywordArgument', 'name': 'hidden', 'range': [122, 124], 'children': []}, {'type': 'KeywordArgument', 'name': 'default', 'range': [126, 129], 'children': []}]}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [133, 177], 'children': [{'type': 'FieldDeclaration', 'name': 'payload', 'range': [140, 152], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [142, 142], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [143, 143], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [144, 151], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [147, 149], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'order_id', 'range': [153, 163], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [155, 155], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [156, 156], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [157, 162], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [159, 161], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'error', 'range': [164, 176], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [166, 166], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [167, 167], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [168, 175], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [171, 173], 'children': []}]}]}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [178, 213], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [181, 181], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [183, 183], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [185, 185], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [189, 189], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [193, 193], 'children': []}, {'type': 'YieldStatement', 'name': 'yield', 'range': [196, 202], 'children': [{'type': 'StringLiteral', 'name': '"payload"', 'range': [197, 197], 'children': []}, {'type': 'MemberAccess', 'name': '.', 'range': [200, 201], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [199, 199], 'children': []}, {'type': 'Identifier', 'name': 'payload', 'range': [201, 201], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [203, 212], 'children': [{'type': 'StringLiteral', 'name': '"order_id"', 'range': [204, 204], 'children': []}, {'type': 'MemberAccess', 'name': '.', 'range': [207, 208], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [206, 206], 'children': []}, {'type': 'Identifier', 'name': 'payload', 'range': [208, 208], 'children': []}]}, {'type': 'Subscript', 'name': '[', 'range': [209, 211], 'children': [{'type': 'StringLiteral', 'name': '"orderId"', 'range': [210, 210], 'children': []}]}]}]}]}
2025-01-08 10:17:19,115 - INFO - Starting Step 3: AST simplification
2025-01-08 10:17:22,035 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': [{'type': 'FromImport', 'name': 'pydantic', 'range': [0, 1], 'children': []}, {'type': 'ImportClause', 'name': 'BaseModel', 'range': [2, 3], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [6, 31], 'children': [{'type': 'FromImport', 'name': 'backend.data.block', 'range': [6, 11], 'children': []}, {'type': 'ImportClause', 'name': 'Block', 'range': [15, 15], 'children': []}, {'type': 'ImportClause', 'name': 'BlockCategory', 'range': [18, 18], 'children': []}, {'type': 'ImportClause', 'name': 'BlockOutput', 'range': [21, 21], 'children': []}, {'type': 'ImportClause', 'name': 'BlockSchema', 'range': [24, 24], 'children': []}, {'type': 'ImportClause', 'name': 'BlockWebhookConfig', 'range': [27, 27], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 40], 'children': [{'type': 'FromImport', 'name': 'backend.data.model', 'range': [32, 37], 'children': []}, {'type': 'ImportClause', 'name': 'SchemaField', 'range': [39, 39], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [41, 47], 'children': [{'type': 'FromImport', 'name': 'backend.util', 'range': [41, 45], 'children': []}, {'type': 'ImportClause', 'name': 'settings', 'range': [46, 46], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [48, 58], 'children': [{'type': 'FromImport', 'name': 'backend.util.settings', 'range': [48, 53], 'children': []}, {'type': 'ImportClause', 'name': 'AppEnvironment', 'range': [55, 55], 'children': []}, {'type': 'ImportClause', 'name': 'BehaveAs', 'range': [57, 57], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [60, 79], 'children': [{'type': 'FromImport', 'name': '._api', 'range': [60, 62], 'children': []}, {'type': 'ImportClause', 'name': 'TEST_CREDENTIALS', 'range': [66, 66], 'children': []}, {'type': 'ImportClause', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [69, 69], 'children': []}, {'type': 'ImportClause', 'name': 'Slant3DCredentialsField', 'range': [72, 72], 'children': []}, {'type': 'ImportClause', 'name': 'Slant3DCredentialsInput', 'range': [75, 75], 'children': []}]}]}
2025-01-08 10:17:22,035 - INFO - Starting Step 4: AST normalization
2025-01-08 10:17:25,348 - INFO - Step 2 result: {'type': 'Program', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 691], 'children': [{'type': 'ClassDeclaration', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 226], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase, Block', 'range': [216, 220], 'children': []}, {'type': 'Docstring', 'name': 'Block for handling Slant3D order webhooks', 'range': [223, 225], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [228, 236], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase.Input', 'range': [230, 234], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'EventsFilter', 'range': [237, 247], 'children': [{'type': 'Inheritance', 'name': 'BaseModel', 'range': [239, 241], 'children': []}, {'type': 'Docstring', 'name': "Currently Slant3D only supports 'SHIPPED' status updates. Could be expanded in the future with more status types.", 'range': [244, 246], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'shipped', 'range': [249, 254], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [251, 251], 'children': []}, {'type': 'Assignment', 'name': 'True', 'range': [253, 253], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'events', 'range': [256, 284], 'children': [{'type': 'TypeAnnotation', 'name': 'EventsFilter', 'range': [258, 258], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [260, 283], 'children': [{'type': 'Argument', 'name': 'title', 'range': [263, 265], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [268, 270], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [273, 280], 'children': []}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [286, 294], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase.Output', 'range': [288, 292], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'status', 'range': [295, 305], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [297, 297], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [299, 304], 'children': [{'type': 'Argument', 'name': 'description', 'range': [302, 303], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'tracking_number', 'range': [306, 318], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [308, 308], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [310, 317], 'children': [{'type': 'Argument', 'name': 'description', 'range': [314, 315], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'carrier_code', 'range': [319, 329], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [321, 321], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [323, 328], 'children': [{'type': 'Argument', 'name': 'description', 'range': [326, 327], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [331, 612], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [334, 334], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [338, 343], 'children': []}, {'type': 'Assignment', 'name': 'id', 'range': [345, 347], 'children': []}, {'type': 'Assignment', 'name': 'description', 'range': [350, 358], 'children': []}, {'type': 'Comment', 'name': 'All webhooks are currently subscribed to for all orders. This works for self hosted, but not for cloud hosted prod', 'range': [361, 384], 'children': []}, {'type': 'Assignment', 'name': 'disabled', 'range': [386, 420], 'children': []}, {'type': 'Assignment', 'name': 'categories', 'range': [423, 429], 'children': []}, {'type': 'Assignment', 'name': 'input_schema', 'range': [432, 437], 'children': []}, {'type': 'Assignment', 'name': 'output_schema', 'range': [439, 444], 'children': []}, {'type': 'Assignment', 'name': 'webhook_config', 'range': [446, 487], 'children': []}, {'type': 'Assignment', 'name': 'test_input', 'range': [490, 536], 'children': []}, {'type': 'Assignment', 'name': 'test_credentials', 'range': [538, 541], 'children': []}, {'type': 'Assignment', 'name': 'test_output', 'range': [543, 608], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [614, 691], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [617, 617], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [619, 621], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [625, 625], 'children': []}, {'type': 'Comment', 'name': 'type: ignore', 'range': [631, 635], 'children': []}, {'type': 'YieldFrom', 'name': 'super().run', 'range': [636, 649], 'children': []}, {'type': 'Comment', 'name': 'Extract and normalize values from the payload', 'range': [653, 660], 'children': []}, {'type': 'Yield', 'name': 'status', 'range': [661, 670], 'children': []}, {'type': 'Yield', 'name': 'tracking_number', 'range': [671, 680], 'children': []}, {'type': 'Yield', 'name': 'carrier_code', 'range': [681, 690], 'children': []}]}]}
2025-01-08 10:17:25,348 - INFO - Starting Step 3: AST simplification
2025-01-08 10:17:38,704 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': [{'type': 'FromImport', 'name': 'pydantic', 'range': [0, 1], 'children': []}, {'type': 'ImportClause', 'name': 'BaseModel', 'range': [2, 3], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [6, 31], 'children': [{'type': 'FromImport', 'name': 'backend.data.block', 'range': [6, 11], 'children': []}, {'type': 'ImportClause', 'name': 'Block', 'range': [15, 15], 'children': []}, {'type': 'ImportClause', 'name': 'BlockCategory', 'range': [18, 18], 'children': []}, {'type': 'ImportClause', 'name': 'BlockOutput', 'range': [21, 21], 'children': []}, {'type': 'ImportClause', 'name': 'BlockSchema', 'range': [24, 24], 'children': []}, {'type': 'ImportClause', 'name': 'BlockWebhookConfig', 'range': [27, 27], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 40], 'children': [{'type': 'FromImport', 'name': 'backend.data.model', 'range': [32, 37], 'children': []}, {'type': 'ImportClause', 'name': 'SchemaField', 'range': [39, 39], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [41, 47], 'children': [{'type': 'FromImport', 'name': 'backend.util', 'range': [41, 45], 'children': []}, {'type': 'ImportClause', 'name': 'settings', 'range': [46, 46], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [48, 58], 'children': [{'type': 'FromImport', 'name': 'backend.util.settings', 'range': [48, 53], 'children': []}, {'type': 'ImportClause', 'name': 'AppEnvironment', 'range': [55, 55], 'children': []}, {'type': 'ImportClause', 'name': 'BehaveAs', 'range': [57, 57], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [60, 79], 'children': [{'type': 'FromImport', 'name': '._api', 'range': [60, 62], 'children': []}, {'type': 'ImportClause', 'name': 'TEST_CREDENTIALS', 'range': [66, 66], 'children': []}, {'type': 'ImportClause', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [69, 69], 'children': []}, {'type': 'ImportClause', 'name': 'Slant3DCredentialsField', 'range': [72, 72], 'children': []}, {'type': 'ImportClause', 'name': 'Slant3DCredentialsInput', 'range': [75, 75], 'children': []}]}]}
2025-01-08 10:17:38,704 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:17:47,647 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [82, 213], 'children': [{'type': 'ClassDeclaration', 'name': 'Slant3DTriggerBase', 'range': [82, 89], 'children': [{'type': 'Docstring', 'name': '', 'range': [86, 88], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [91, 132], 'children': [{'type': 'FieldDeclaration', 'name': 'credentials', 'range': [98, 105], 'children': [{'type': 'TypeAnnotation', 'name': 'Slant3DCredentialsInput', 'range': [100, 100], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [101, 101], 'children': [{'type': 'FunctionCall', 'name': 'Slant3DCredentialsField', 'range': [102, 104], 'children': []}]}]}, {'type': 'FieldDeclaration', 'name': 'payload', 'range': [116, 131], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [118, 118], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [119, 119], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [120, 130], 'children': [{'type': 'KeywordArgument', 'name': 'hidden', 'range': [122, 124], 'children': []}, {'type': 'KeywordArgument', 'name': 'default', 'range': [126, 129], 'children': []}]}]}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [133, 177], 'children': [{'type': 'FieldDeclaration', 'name': 'payload', 'range': [140, 152], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [142, 142], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [143, 143], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [144, 151], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [147, 149], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'order_id', 'range': [153, 163], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [155, 155], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [156, 156], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [157, 162], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [159, 161], 'children': []}]}]}]}, {'type': 'FieldDeclaration', 'name': 'error', 'range': [164, 176], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [166, 166], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [167, 167], 'children': [{'type': 'FunctionCall', 'name': 'SchemaField', 'range': [168, 175], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [171, 173], 'children': []}]}]}]}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [178, 213], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [181, 181], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [183, 183], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [185, 185], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [189, 189], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [193, 193], 'children': []}, {'type': 'YieldStatement', 'name': 'yield', 'range': [196, 202], 'children': [{'type': 'StringLiteral', 'name': '"payload"', 'range': [197, 197], 'children': []}, {'type': 'MemberAccess', 'name': '.', 'range': [200, 201], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [199, 199], 'children': []}, {'type': 'Identifier', 'name': 'payload', 'range': [201, 201], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [203, 212], 'children': [{'type': 'StringLiteral', 'name': '"order_id"', 'range': [204, 204], 'children': []}, {'type': 'MemberAccess', 'name': '.', 'range': [207, 208], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [206, 206], 'children': []}, {'type': 'Identifier', 'name': 'payload', 'range': [208, 208], 'children': []}]}, {'type': 'Subscript', 'name': '[', 'range': [209, 211], 'children': [{'type': 'StringLiteral', 'name': '"orderId"', 'range': [210, 210], 'children': []}]}]}]}]}
2025-01-08 10:17:47,647 - INFO - Starting Step 4: AST normalization
2025-01-08 10:17:56,783 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainProgram', 'range': [0, 79], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 4], 'children': [{'type': 'FromImport', 'name': 'pydantic', 'range': [0, 1], 'children': []}, {'type': 'ImportClause', 'name': 'BaseModel', 'range': [2, 3], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [6, 31], 'children': [{'type': 'FromImport', 'name': 'backend.data.block', 'range': [6, 11], 'children': []}, {'type': 'ImportClause', 'name': 'Block', 'range': [15, 15], 'children': []}, {'type': 'ImportClause', 'name': 'BlockCategory', 'range': [18, 18], 'children': []}, {'type': 'ImportClause', 'name': 'BlockOutput', 'range': [21, 21], 'children': []}, {'type': 'ImportClause', 'name': 'BlockSchema', 'range': [24, 24], 'children': []}, {'type': 'ImportClause', 'name': 'BlockWebhookConfig', 'range': [27, 27], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [32, 40], 'children': [{'type': 'FromImport', 'name': 'backend.data.model', 'range': [32, 37], 'children': []}, {'type': 'ImportClause', 'name': 'SchemaField', 'range': [39, 39], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [41, 47], 'children': [{'type': 'FromImport', 'name': 'backend.util', 'range': [41, 45], 'children': []}, {'type': 'ImportClause', 'name': 'settings', 'range': [46, 46], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [48, 58], 'children': [{'type': 'FromImport', 'name': 'backend.util.settings', 'range': [48, 53], 'children': []}, {'type': 'ImportClause', 'name': 'AppEnvironment', 'range': [55, 55], 'children': []}, {'type': 'ImportClause', 'name': 'BehaveAs', 'range': [57, 57], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [60, 79], 'children': [{'type': 'FromImport', 'name': '._api', 'range': [60, 62], 'children': []}, {'type': 'ImportClause', 'name': 'TEST_CREDENTIALS', 'range': [66, 66], 'children': []}, {'type': 'ImportClause', 'name': 'TEST_CREDENTIALS_INPUT', 'range': [69, 69], 'children': []}, {'type': 'ImportClause', 'name': 'Slant3DCredentialsField', 'range': [72, 72], 'children': []}, {'type': 'ImportClause', 'name': 'Slant3DCredentialsInput', 'range': [75, 75], 'children': []}]}]}]}
2025-01-08 10:17:56,783 - INFO - Completed main AST analysis flow
2025-01-08 10:17:56,784 - INFO - Successfully processed chunk
2025-01-08 10:18:02,210 - INFO - Step 3 result: {'type': 'Program', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 691], 'children': [{'type': 'ClassDeclaration', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 226], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase, Block', 'range': [216, 220], 'children': []}, {'type': 'Docstring', 'name': 'Block for handling Slant3D order webhooks', 'range': [223, 225], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [228, 236], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase.Input', 'range': [230, 234], 'children': []}]}, {'type': 'ClassDeclaration', 'name': 'EventsFilter', 'range': [237, 247], 'children': [{'type': 'Inheritance', 'name': 'BaseModel', 'range': [239, 241], 'children': []}, {'type': 'Docstring', 'name': "Currently Slant3D only supports 'SHIPPED' status updates. Could be expanded in the future with more status types.", 'range': [244, 246], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'shipped', 'range': [249, 254], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [251, 251], 'children': []}, {'type': 'Assignment', 'name': 'True', 'range': [253, 253], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'events', 'range': [256, 284], 'children': [{'type': 'TypeAnnotation', 'name': 'EventsFilter', 'range': [258, 258], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [260, 283], 'children': [{'type': 'Argument', 'name': 'title', 'range': [263, 265], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [268, 270], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [273, 280], 'children': []}]}]}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [286, 294], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase.Output', 'range': [288, 292], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'status', 'range': [295, 305], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [297, 297], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [299, 304], 'children': [{'type': 'Argument', 'name': 'description', 'range': [302, 303], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'tracking_number', 'range': [306, 318], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [308, 308], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [310, 317], 'children': [{'type': 'Argument', 'name': 'description', 'range': [314, 315], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'carrier_code', 'range': [319, 329], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [321, 321], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [323, 328], 'children': [{'type': 'Argument', 'name': 'description', 'range': [326, 327], 'children': []}]}]}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [331, 612], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [334, 334], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [338, 343], 'children': []}, {'type': 'Assignment', 'name': 'id', 'range': [345, 347], 'children': []}, {'type': 'Assignment', 'name': 'description', 'range': [350, 358], 'children': []}, {'type': 'Comment', 'name': 'All webhooks are currently subscribed to for all orders. This works for self hosted, but not for cloud hosted prod', 'range': [361, 384], 'children': []}, {'type': 'Assignment', 'name': 'disabled', 'range': [386, 420], 'children': []}, {'type': 'Assignment', 'name': 'categories', 'range': [423, 429], 'children': []}, {'type': 'Assignment', 'name': 'input_schema', 'range': [432, 437], 'children': []}, {'type': 'Assignment', 'name': 'output_schema', 'range': [439, 444], 'children': []}, {'type': 'Assignment', 'name': 'webhook_config', 'range': [446, 487], 'children': []}, {'type': 'Assignment', 'name': 'test_input', 'range': [490, 536], 'children': []}, {'type': 'Assignment', 'name': 'test_credentials', 'range': [538, 541], 'children': []}, {'type': 'Assignment', 'name': 'test_output', 'range': [543, 608], 'children': []}]}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [614, 691], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [617, 617], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [619, 621], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [625, 625], 'children': []}, {'type': 'Comment', 'name': 'type: ignore', 'range': [631, 635], 'children': []}, {'type': 'YieldFrom', 'name': 'super().run', 'range': [636, 649], 'children': []}, {'type': 'Comment', 'name': 'Extract and normalize values from the payload', 'range': [653, 660], 'children': []}, {'type': 'Yield', 'name': 'status', 'range': [661, 670], 'children': []}, {'type': 'Yield', 'name': 'tracking_number', 'range': [671, 680], 'children': []}, {'type': 'Yield', 'name': 'carrier_code', 'range': [681, 690], 'children': []}]}]}
2025-01-08 10:18:02,210 - INFO - Starting Step 4: AST normalization
2025-01-08 10:18:18,813 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [82, 213], 'children': [{'type': 'ClassDecl', 'name': 'Slant3DTriggerBase', 'range': [82, 89], 'children': [{'type': 'Docstring', 'name': '', 'range': [86, 88], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [91, 132], 'children': [{'type': 'FieldDecl', 'name': 'credentials', 'range': [98, 105], 'children': [{'type': 'TypeAnnotation', 'name': 'Slant3DCredentialsInput', 'range': [100, 100], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [101, 101], 'children': [{'type': 'CallExpression', 'name': 'Slant3DCredentialsField', 'range': [102, 104], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'payload', 'range': [116, 131], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [118, 118], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [119, 119], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [120, 130], 'children': [{'type': 'KeywordArgument', 'name': 'hidden', 'range': [122, 124], 'children': []}, {'type': 'KeywordArgument', 'name': 'default', 'range': [126, 129], 'children': []}]}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [133, 177], 'children': [{'type': 'FieldDecl', 'name': 'payload', 'range': [140, 152], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [142, 142], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [143, 143], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [144, 151], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [147, 149], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'order_id', 'range': [153, 163], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [155, 155], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [156, 156], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [157, 162], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [159, 161], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'error', 'range': [164, 176], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [166, 166], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [167, 167], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [168, 175], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [171, 173], 'children': []}]}]}]}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [178, 213], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [181, 181], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [183, 183], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [185, 185], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [189, 189], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [193, 193], 'children': []}, {'type': 'YieldStatement', 'name': 'yield', 'range': [196, 202], 'children': [{'type': 'Literal', 'name': '"payload"', 'range': [197, 197], 'children': []}, {'type': 'MemberExpression', 'name': '.', 'range': [200, 201], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [199, 199], 'children': []}, {'type': 'Identifier', 'name': 'payload', 'range': [201, 201], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [203, 212], 'children': [{'type': 'Literal', 'name': '"order_id"', 'range': [204, 204], 'children': []}, {'type': 'MemberExpression', 'name': '.', 'range': [207, 208], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [206, 206], 'children': []}, {'type': 'Identifier', 'name': 'payload', 'range': [208, 208], 'children': []}]}, {'type': 'SubscriptExpression', 'name': '[', 'range': [209, 211], 'children': [{'type': 'Literal', 'name': '"orderId"', 'range': [210, 210], 'children': []}]}]}]}]}
2025-01-08 10:18:18,814 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:18:38,911 - INFO - Step 4 result: {'type': 'Program', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 691], 'children': [{'type': 'ClassDecl', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 226], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase, Block', 'range': [216, 220], 'children': []}, {'type': 'Docstring', 'name': 'Block for handling Slant3D order webhooks', 'range': [223, 225], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [228, 236], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase.Input', 'range': [230, 234], 'children': []}]}, {'type': 'ClassDecl', 'name': 'EventsFilter', 'range': [237, 247], 'children': [{'type': 'Inheritance', 'name': 'BaseModel', 'range': [239, 241], 'children': []}, {'type': 'Docstring', 'name': "Currently Slant3D only supports 'SHIPPED' status updates. Could be expanded in the future with more status types.", 'range': [244, 246], 'children': []}]}, {'type': 'VariableDecl', 'name': 'shipped', 'range': [249, 254], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [251, 251], 'children': []}, {'type': 'Assignment', 'name': 'True', 'range': [253, 253], 'children': []}]}, {'type': 'VariableDecl', 'name': 'events', 'range': [256, 284], 'children': [{'type': 'TypeAnnotation', 'name': 'EventsFilter', 'range': [258, 258], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [260, 283], 'children': [{'type': 'Argument', 'name': 'title', 'range': [263, 265], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [268, 270], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [273, 280], 'children': []}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [286, 294], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase.Output', 'range': [288, 292], 'children': []}]}, {'type': 'VariableDecl', 'name': 'status', 'range': [295, 305], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [297, 297], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [299, 304], 'children': [{'type': 'Argument', 'name': 'description', 'range': [302, 303], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'tracking_number', 'range': [306, 318], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [308, 308], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [310, 317], 'children': [{'type': 'Argument', 'name': 'description', 'range': [314, 315], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'carrier_code', 'range': [319, 329], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [321, 321], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [323, 328], 'children': [{'type': 'Argument', 'name': 'description', 'range': [326, 327], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [331, 612], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [334, 334], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [338, 343], 'children': []}, {'type': 'Assignment', 'name': 'id', 'range': [345, 347], 'children': []}, {'type': 'Assignment', 'name': 'description', 'range': [350, 358], 'children': []}, {'type': 'Comment', 'name': 'All webhooks are currently subscribed to for all orders. This works for self hosted, but not for cloud hosted prod', 'range': [361, 384], 'children': []}, {'type': 'Assignment', 'name': 'disabled', 'range': [386, 420], 'children': []}, {'type': 'Assignment', 'name': 'categories', 'range': [423, 429], 'children': []}, {'type': 'Assignment', 'name': 'input_schema', 'range': [432, 437], 'children': []}, {'type': 'Assignment', 'name': 'output_schema', 'range': [439, 444], 'children': []}, {'type': 'Assignment', 'name': 'webhook_config', 'range': [446, 487], 'children': []}, {'type': 'Assignment', 'name': 'test_input', 'range': [490, 536], 'children': []}, {'type': 'Assignment', 'name': 'test_credentials', 'range': [538, 541], 'children': []}, {'type': 'Assignment', 'name': 'test_output', 'range': [543, 608], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [614, 691], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [617, 617], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [619, 621], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [625, 625], 'children': []}, {'type': 'Comment', 'name': 'type: ignore', 'range': [631, 635], 'children': []}, {'type': 'YieldFrom', 'name': 'super().run', 'range': [636, 649], 'children': []}, {'type': 'Comment', 'name': 'Extract and normalize values from the payload', 'range': [653, 660], 'children': []}, {'type': 'Yield', 'name': 'status', 'range': [661, 670], 'children': []}, {'type': 'Yield', 'name': 'tracking_number', 'range': [671, 680], 'children': []}, {'type': 'Yield', 'name': 'carrier_code', 'range': [681, 690], 'children': []}]}]}
2025-01-08 10:18:38,911 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:18:48,594 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainOrSomething', 'range': [82, 213], 'children': [{'type': 'ClassDecl', 'name': 'Slant3DTriggerBase', 'range': [82, 89], 'children': [{'type': 'Docstring', 'name': '', 'range': [86, 88], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [91, 132], 'children': [{'type': 'FieldDecl', 'name': 'credentials', 'range': [98, 105], 'children': [{'type': 'TypeAnnotation', 'name': 'Slant3DCredentialsInput', 'range': [100, 100], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [101, 101], 'children': [{'type': 'CallExpression', 'name': 'Slant3DCredentialsField', 'range': [102, 104], 'children': []}]}]}, {'type': 'FieldDecl', 'name': 'payload', 'range': [116, 131], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [118, 118], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [119, 119], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [120, 130], 'children': [{'type': 'KeywordArgument', 'name': 'hidden', 'range': [122, 124], 'children': []}, {'type': 'KeywordArgument', 'name': 'default', 'range': [126, 129], 'children': []}]}]}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [133, 177], 'children': [{'type': 'FieldDecl', 'name': 'payload', 'range': [140, 152], 'children': [{'type': 'TypeAnnotation', 'name': 'dict', 'range': [142, 142], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [143, 143], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [144, 151], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [147, 149], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'order_id', 'range': [153, 163], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [155, 155], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [156, 156], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [157, 162], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [159, 161], 'children': []}]}]}]}, {'type': 'FieldDecl', 'name': 'error', 'range': [164, 176], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [166, 166], 'children': []}, {'type': 'Assignment', 'name': '=', 'range': [167, 167], 'children': [{'type': 'CallExpression', 'name': 'SchemaField', 'range': [168, 175], 'children': [{'type': 'KeywordArgument', 'name': 'description', 'range': [171, 173], 'children': []}]}]}]}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [178, 213], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [181, 181], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [183, 183], 'children': [{'type': 'TypeAnnotation', 'name': 'Input', 'range': [185, 185], 'children': []}]}, {'type': 'Parameter', 'name': 'kwargs', 'range': [189, 189], 'children': []}, {'type': 'ReturnType', 'name': 'BlockOutput', 'range': [193, 193], 'children': []}, {'type': 'YieldStatement', 'name': 'yield', 'range': [196, 202], 'children': [{'type': 'Literal', 'name': '"payload"', 'range': [197, 197], 'children': []}, {'type': 'MemberExpression', 'name': '.', 'range': [200, 201], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [199, 199], 'children': []}, {'type': 'Identifier', 'name': 'payload', 'range': [201, 201], 'children': []}]}]}, {'type': 'YieldStatement', 'name': 'yield', 'range': [203, 212], 'children': [{'type': 'Literal', 'name': '"order_id"', 'range': [204, 204], 'children': []}, {'type': 'MemberExpression', 'name': '.', 'range': [207, 208], 'children': [{'type': 'Identifier', 'name': 'input_data', 'range': [206, 206], 'children': []}, {'type': 'Identifier', 'name': 'payload', 'range': [208, 208], 'children': []}]}, {'type': 'SubscriptExpression', 'name': '[', 'range': [209, 211], 'children': [{'type': 'Literal', 'name': '"orderId"', 'range': [210, 210], 'children': []}]}]}]}]}
2025-01-08 10:18:48,595 - INFO - Completed main AST analysis flow
2025-01-08 10:18:48,595 - INFO - Successfully processed chunk
2025-01-08 10:19:13,819 - INFO - Step 5 result: {'type': 'Program', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 691], 'children': [{'type': 'ClassDecl', 'name': 'Slant3DOrderWebhookBlock', 'range': [214, 226], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase, Block', 'range': [216, 220], 'children': []}, {'type': 'Docstring', 'name': 'Block for handling Slant3D order webhooks', 'range': [223, 225], 'children': []}]}, {'type': 'ClassDecl', 'name': 'Input', 'range': [228, 236], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase.Input', 'range': [230, 234], 'children': []}]}, {'type': 'ClassDecl', 'name': 'EventsFilter', 'range': [237, 247], 'children': [{'type': 'Inheritance', 'name': 'BaseModel', 'range': [239, 241], 'children': []}, {'type': 'Docstring', 'name': "Currently Slant3D only supports 'SHIPPED' status updates. Could be expanded in the future with more status types.", 'range': [244, 246], 'children': []}]}, {'type': 'VariableDecl', 'name': 'shipped', 'range': [249, 254], 'children': [{'type': 'TypeAnnotation', 'name': 'bool', 'range': [251, 251], 'children': []}, {'type': 'Assignment', 'name': 'True', 'range': [253, 253], 'children': []}]}, {'type': 'VariableDecl', 'name': 'events', 'range': [256, 284], 'children': [{'type': 'TypeAnnotation', 'name': 'EventsFilter', 'range': [258, 258], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [260, 283], 'children': [{'type': 'Argument', 'name': 'title', 'range': [263, 265], 'children': []}, {'type': 'Argument', 'name': 'description', 'range': [268, 270], 'children': []}, {'type': 'Argument', 'name': 'default', 'range': [273, 280], 'children': []}]}]}, {'type': 'ClassDecl', 'name': 'Output', 'range': [286, 294], 'children': [{'type': 'Inheritance', 'name': 'Slant3DTriggerBase.Output', 'range': [288, 292], 'children': []}]}, {'type': 'VariableDecl', 'name': 'status', 'range': [295, 305], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [297, 297], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [299, 304], 'children': [{'type': 'Argument', 'name': 'description', 'range': [302, 303], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'tracking_number', 'range': [306, 318], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [308, 308], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [310, 317], 'children': [{'type': 'Argument', 'name': 'description', 'range': [314, 315], 'children': []}]}]}, {'type': 'VariableDecl', 'name': 'carrier_code', 'range': [319, 329], 'children': [{'type': 'TypeAnnotation', 'name': 'str', 'range': [321, 321], 'children': []}, {'type': 'Assignment', 'name': 'SchemaField', 'range': [323, 328], 'children': [{'type': 'Argument', 'name': 'description', 'range': [326, 327], 'children': []}]}]}, {'type': 'FunctionDecl', 'name': '__init__', 'range': [331, 612], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [334, 334], 'children': []}, {'type': 'SuperCall', 'name': 'super', 'range': [338, 343], 'children': []}, {'type': 'Assignment', 'name': 'id', 'range': [345, 347], 'children': []}, {'type': 'Assignment', 'name': 'description', 'range': [350, 358], 'children': []}, {'type': 'Comment', 'name': 'All webhooks are currently subscribed to for all orders. This works for self hosted, but not for cloud hosted prod', 'range': [361, 384], 'children': []}, {'type': 'Assignment', 'name': 'disabled', 'range': [386, 420], 'children': []}, {'type': 'Assignment', 'name': 'categories', 'range': [423, 429], 'children': []}, {'type': 'Assignment', 'name': 'input_schema', 'range': [432, 437], 'children': []}, {'type': 'Assignment', 'name': 'output_schema', 'range': [439, 444], 'children': []}, {'type': 'Assignment', 'name': 'webhook_config', 'range': [446, 487], 'children': []}, {'type': 'Assignment', 'name': 'test_input', 'range': [490, 536], 'children': []}, {'type': 'Assignment', 'name': 'test_credentials', 'range': [538, 541], 'children': []}, {'type': 'Assignment', 'name': 'test_output', 'range': [543, 608], 'children': []}]}, {'type': 'FunctionDecl', 'name': 'run', 'range': [614, 691], 'children': [{'type': 'Parameter', 'name': 'self', 'range': [617, 617], 'children': []}, {'type': 'Parameter', 'name': 'input_data', 'range': [619, 621], 'children': []}, {'type': 'Parameter', 'name': 'kwargs', 'range': [625, 625], 'children': []}, {'type': 'Comment', 'name': 'type: ignore', 'range': [631, 635], 'children': []}, {'type': 'YieldFrom', 'name': 'super().run', 'range': [636, 649], 'children': []}, {'type': 'Comment', 'name': 'Extract and normalize values from the payload', 'range': [653, 660], 'children': []}, {'type': 'Yield', 'name': 'status', 'range': [661, 670], 'children': []}, {'type': 'Yield', 'name': 'tracking_number', 'range': [671, 680], 'children': []}, {'type': 'Yield', 'name': 'carrier_code', 'range': [681, 690], 'children': []}]}]}
2025-01-08 10:19:13,819 - INFO - Completed main AST analysis flow
2025-01-08 10:19:13,821 - INFO - Successfully processed chunk
2025-01-08 10:19:13,842 - INFO - Starting code generation from AST
2025-01-08 10:19:28,829 - INFO - Successfully generated code from AST
2025-01-08 10:19:28,830 - INFO - Starting static code similarity comparison
2025-01-08 10:19:28,843 - INFO - Static similarity result: {'final_score': 91.87, 'length_similarity': 89.39, 'token_similarity': 95.03, 'structure_similarity': 79.82, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
