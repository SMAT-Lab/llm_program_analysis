2025-01-08 09:22:20,697 - INFO - Processing sample 43
2025-01-08 09:22:20,697 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 09:22:27,196 - INFO - Successfully split code into 2 top-level declarations
2025-01-08 09:22:27,197 - INFO - Processing chunk #0 (size=190 chars, start_index=0)
2025-01-08 09:22:27,197 - INFO - Processing chunk with 190 chars starting at index 0
2025-01-08 09:22:27,197 - INFO - Starting main AST analysis flow
2025-01-08 09:22:27,198 - INFO - Tokenized code into 41 tokens
2025-01-08 09:22:27,198 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:22:27,199 - INFO - Processing chunk #1 (size=85 chars, start_index=41)
2025-01-08 09:22:27,199 - INFO - Processing chunk with 85 chars starting at index 41
2025-01-08 09:22:27,199 - INFO - Starting main AST analysis flow
2025-01-08 09:22:27,199 - INFO - Tokenized code into 22 tokens
2025-01-08 09:22:27,199 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:22:37,408 - INFO - Step 1 result: {'type': 'Program', 'name': 'get_user_id', 'range': [41, 62], 'children': []}
2025-01-08 09:22:37,408 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:22:41,943 - INFO - Step 1 result: {'top_level_declarations': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 8], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [9, 17], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 22], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [24, 32], 'children': []}, {'type': 'VariableDeclaration', 'name': 'settings', 'range': [34, 39], 'children': []}]}
2025-01-08 09:22:41,943 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:22:55,044 - INFO - Step 2 result: {'type': 'Program', 'name': 'get_user_id', 'range': [41, 62], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_user_id', 'range': [41, 62], 'children': [{'type': 'Parameter', 'name': 'user', 'range': [44, 51], 'children': [{'type': 'TypeAnnotation', 'name': 'User', 'range': [46, 46], 'children': []}, {'type': 'DefaultValue', 'name': 'Depends', 'range': [48, 51], 'children': [{'type': 'FunctionCall', 'name': 'requires_user', 'range': [50, 50], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'str', 'range': [55, 55], 'children': []}, {'type': 'FunctionBody', 'name': '', 'range': [57, 62], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [58, 62], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [59, 61], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [59, 59], 'children': []}, {'type': 'Property', 'name': 'user_id', 'range': [61, 61], 'children': []}]}]}]}]}]}
2025-01-08 09:22:55,045 - INFO - Starting Step 3: AST simplification
2025-01-08 09:23:03,104 - INFO - Step 2 result: {'top_level_declarations': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 8], 'children': [{'type': 'FromImport', 'name': 'autogpt_libs.auth.depends', 'range': [0, 5], 'children': []}, {'type': 'Import', 'name': 'requires_user', 'range': [6, 7], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [9, 17], 'children': [{'type': 'FromImport', 'name': 'autogpt_libs.auth.models', 'range': [9, 14], 'children': []}, {'type': 'Import', 'name': 'User', 'range': [15, 16], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 22], 'children': [{'type': 'FromImport', 'name': 'fastapi', 'range': [18, 19], 'children': []}, {'type': 'Import', 'name': 'Depends', 'range': [20, 21], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [24, 32], 'children': [{'type': 'FromImport', 'name': 'backend.util.settings', 'range': [24, 29], 'children': []}, {'type': 'Import', 'name': 'Settings', 'range': [30, 31], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'settings', 'range': [34, 39], 'children': [{'type': 'Assignment', 'name': '=', 'range': [35, 36], 'children': []}, {'type': 'CallExpression', 'name': 'Settings', 'range': [36, 38], 'children': []}]}]}
2025-01-08 09:23:03,104 - INFO - Starting Step 3: AST simplification
2025-01-08 09:23:14,751 - INFO - Step 3 result: {'type': 'Program', 'name': 'get_user_id', 'range': [41, 62], 'children': [{'type': 'FunctionDeclaration', 'name': 'get_user_id', 'range': [41, 62], 'children': [{'type': 'Parameter', 'name': 'user', 'range': [44, 51], 'children': [{'type': 'TypeAnnotation', 'name': 'User', 'range': [46, 46], 'children': []}, {'type': 'DefaultValue', 'name': 'Depends', 'range': [48, 51], 'children': [{'type': 'FunctionCall', 'name': 'requires_user', 'range': [50, 50], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'str', 'range': [55, 55], 'children': []}, {'type': 'FunctionBody', 'name': '', 'range': [57, 62], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [58, 62], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [59, 61], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [59, 59], 'children': []}, {'type': 'Property', 'name': 'user_id', 'range': [61, 61], 'children': []}]}]}]}]}]}
2025-01-08 09:23:14,751 - INFO - Starting Step 4: AST normalization
2025-01-08 09:23:24,210 - INFO - Step 3 result: {'top_level_declarations': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 8], 'children': [{'type': 'FromImport', 'name': 'autogpt_libs.auth.depends', 'range': [0, 5], 'children': []}, {'type': 'Import', 'name': 'requires_user', 'range': [6, 7], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [9, 17], 'children': [{'type': 'FromImport', 'name': 'autogpt_libs.auth.models', 'range': [9, 14], 'children': []}, {'type': 'Import', 'name': 'User', 'range': [15, 16], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 22], 'children': [{'type': 'FromImport', 'name': 'fastapi', 'range': [18, 19], 'children': []}, {'type': 'Import', 'name': 'Depends', 'range': [20, 21], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [24, 32], 'children': [{'type': 'FromImport', 'name': 'backend.util.settings', 'range': [24, 29], 'children': []}, {'type': 'Import', 'name': 'Settings', 'range': [30, 31], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'settings', 'range': [34, 39], 'children': [{'type': 'Assignment', 'name': '=', 'range': [35, 36], 'children': []}, {'type': 'CallExpression', 'name': 'Settings', 'range': [36, 38], 'children': []}]}]}
2025-01-08 09:23:24,211 - INFO - Starting Step 4: AST normalization
2025-01-08 09:23:37,467 - INFO - Step 4 result: {'type': 'Program', 'name': 'get_user_id', 'range': [41, 62], 'children': [{'type': 'FunctionDecl', 'name': 'get_user_id', 'range': [41, 62], 'children': [{'type': 'Parameter', 'name': 'user', 'range': [44, 51], 'children': [{'type': 'TypeAnnotation', 'name': 'User', 'range': [46, 46], 'children': []}, {'type': 'DefaultValue', 'name': 'Depends', 'range': [48, 51], 'children': [{'type': 'CallExpression', 'name': 'requires_user', 'range': [50, 50], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'str', 'range': [55, 55], 'children': []}, {'type': 'FunctionBody', 'name': '', 'range': [57, 62], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [58, 62], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [59, 61], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [59, 59], 'children': []}, {'type': 'Property', 'name': 'user_id', 'range': [61, 61], 'children': []}]}]}]}]}]}
2025-01-08 09:23:37,467 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:24:04,865 - INFO - Step 5 result: {'type': 'Program', 'name': 'get_user_id', 'range': [41, 62], 'children': [{'type': 'FunctionDecl', 'name': 'get_user_id', 'range': [41, 62], 'children': [{'type': 'Parameter', 'name': 'user', 'range': [44, 51], 'children': [{'type': 'TypeAnnotation', 'name': 'User', 'range': [46, 46], 'children': []}, {'type': 'DefaultValue', 'name': 'Depends', 'range': [48, 51], 'children': [{'type': 'CallExpression', 'name': 'requires_user', 'range': [50, 50], 'children': []}]}]}, {'type': 'ReturnType', 'name': 'str', 'range': [55, 55], 'children': []}, {'type': 'FunctionBody', 'name': '', 'range': [57, 62], 'children': [{'type': 'ReturnStatement', 'name': '', 'range': [58, 62], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [59, 61], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [59, 59], 'children': []}, {'type': 'Property', 'name': 'user_id', 'range': [61, 61], 'children': []}]}]}]}]}]}
2025-01-08 09:24:04,866 - INFO - Completed main AST analysis flow
2025-01-08 09:24:04,867 - INFO - Successfully processed chunk
2025-01-08 09:24:06,366 - INFO - Step 4 result: {'top_level_declarations': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 8], 'children': [{'type': 'FromImport', 'name': 'autogpt_libs.auth.depends', 'range': [0, 5], 'children': []}, {'type': 'Import', 'name': 'requires_user', 'range': [6, 7], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [9, 17], 'children': [{'type': 'FromImport', 'name': 'autogpt_libs.auth.models', 'range': [9, 14], 'children': []}, {'type': 'Import', 'name': 'User', 'range': [15, 16], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 22], 'children': [{'type': 'FromImport', 'name': 'fastapi', 'range': [18, 19], 'children': []}, {'type': 'Import', 'name': 'Depends', 'range': [20, 21], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [24, 32], 'children': [{'type': 'FromImport', 'name': 'backend.util.settings', 'range': [24, 29], 'children': []}, {'type': 'Import', 'name': 'Settings', 'range': [30, 31], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'settings', 'range': [34, 39], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [35, 36], 'children': []}, {'type': 'CallExpression', 'name': 'Settings', 'range': [36, 38], 'children': []}]}]}
2025-01-08 09:24:06,366 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:24:33,686 - INFO - Step 5 result: {'type': 'Program', 'name': 'MainOrSomething', 'range': [0, 39], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 8], 'children': [{'type': 'FromImport', 'name': 'autogpt_libs.auth.depends', 'range': [0, 5], 'children': []}, {'type': 'Import', 'name': 'requires_user', 'range': [6, 7], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [9, 17], 'children': [{'type': 'FromImport', 'name': 'autogpt_libs.auth.models', 'range': [9, 14], 'children': []}, {'type': 'Import', 'name': 'User', 'range': [15, 16], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [18, 22], 'children': [{'type': 'FromImport', 'name': 'fastapi', 'range': [18, 19], 'children': []}, {'type': 'Import', 'name': 'Depends', 'range': [20, 21], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [24, 32], 'children': [{'type': 'FromImport', 'name': 'backend.util.settings', 'range': [24, 29], 'children': []}, {'type': 'Import', 'name': 'Settings', 'range': [30, 31], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'settings', 'range': [34, 39], 'children': [{'type': 'AssignmentExpression', 'name': '=', 'range': [35, 36], 'children': []}, {'type': 'CallExpression', 'name': 'Settings', 'range': [36, 38], 'children': []}]}]}
2025-01-08 09:24:33,686 - INFO - Completed main AST analysis flow
2025-01-08 09:24:33,687 - INFO - Successfully processed chunk
2025-01-08 09:24:33,698 - INFO - Starting code generation from AST
2025-01-08 09:24:40,816 - INFO - Successfully generated code from AST
2025-01-08 09:24:40,817 - INFO - Starting static code similarity comparison
2025-01-08 09:24:40,818 - INFO - Static similarity result: {'final_score': 84.56, 'length_similarity': 87.08, 'token_similarity': 55.0, 'structure_similarity': 100.0, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
