2025-01-08 10:27:27,604 - INFO - Processing sample 193
2025-01-08 10:27:27,607 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 10:27:38,220 - INFO - Successfully split code into 10 top-level declarations
2025-01-08 10:27:42,012 - INFO - Processing chunk #0 (size=85 chars, start_index=0)
2025-01-08 10:27:42,012 - INFO - Processing chunk with 85 chars starting at index 0
2025-01-08 10:27:42,012 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,012 - INFO - Tokenized code into 15 tokens
2025-01-08 10:27:42,012 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,184 - INFO - Processing chunk #1 (size=181 chars, start_index=15)
2025-01-08 10:27:42,185 - INFO - Processing chunk with 181 chars starting at index 15
2025-01-08 10:27:42,185 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,189 - INFO - Tokenized code into 34 tokens
2025-01-08 10:27:42,189 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,189 - INFO - Processing chunk #2 (size=128 chars, start_index=49)
2025-01-08 10:27:42,193 - INFO - Processing chunk #3 (size=207 chars, start_index=78)
2025-01-08 10:27:42,194 - INFO - Processing chunk with 128 chars starting at index 49
2025-01-08 10:27:42,196 - INFO - Processing chunk with 207 chars starting at index 78
2025-01-08 10:27:42,205 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,206 - INFO - Tokenized code into 37 tokens
2025-01-08 10:27:42,206 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,205 - INFO - Starting main AST analysis flow
2025-01-08 10:27:42,216 - INFO - Tokenized code into 29 tokens
2025-01-08 10:27:42,224 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:42,975 - INFO - Processing chunk #4 (size=268 chars, start_index=115)
2025-01-08 10:27:42,975 - INFO - Processing chunk with 268 chars starting at index 115
2025-01-08 10:27:42,975 - INFO - Starting main AST analysis flow
2025-01-08 10:27:43,032 - INFO - Processing chunk #5 (size=266 chars, start_index=161)
2025-01-08 10:27:43,046 - INFO - Tokenized code into 46 tokens
2025-01-08 10:27:43,109 - INFO - Processing chunk with 266 chars starting at index 161
2025-01-08 10:27:43,153 - INFO - Processing chunk #6 (size=228 chars, start_index=207)
2025-01-08 10:27:43,179 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:43,195 - INFO - Processing chunk #7 (size=113 chars, start_index=247)
2025-01-08 10:27:43,220 - INFO - Starting main AST analysis flow
2025-01-08 10:27:43,322 - INFO - Processing chunk with 228 chars starting at index 207
2025-01-08 10:27:43,579 - INFO - Processing chunk with 113 chars starting at index 247
2025-01-08 10:27:43,693 - INFO - Starting main AST analysis flow
2025-01-08 10:27:43,692 - INFO - Starting main AST analysis flow
2025-01-08 10:27:43,693 - INFO - Tokenized code into 25 tokens
2025-01-08 10:27:43,645 - INFO - Tokenized code into 46 tokens
2025-01-08 10:27:43,902 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:43,778 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:43,749 - INFO - Tokenized code into 40 tokens
2025-01-08 10:27:44,245 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:51,345 - INFO - Processing chunk #8 (size=242 chars, start_index=272)
2025-01-08 10:27:51,345 - INFO - Processing chunk with 242 chars starting at index 272
2025-01-08 10:27:51,348 - INFO - Starting main AST analysis flow
2025-01-08 10:27:51,348 - INFO - Tokenized code into 40 tokens
2025-01-08 10:27:51,352 - INFO - Processing chunk #9 (size=193 chars, start_index=312)
2025-01-08 10:27:51,382 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:51,396 - INFO - Processing chunk with 193 chars starting at index 312
2025-01-08 10:27:51,404 - INFO - Starting main AST analysis flow
2025-01-08 10:27:51,408 - INFO - Tokenized code into 31 tokens
2025-01-08 10:27:51,411 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:51,770 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': []}
2025-01-08 10:27:51,770 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:52,121 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_verify_user_no_payload', 'range': [15, 48], 'children': []}
2025-01-08 10:27:52,121 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:57,795 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': []}
2025-01-08 10:27:57,832 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_requires_user', 'range': [207, 246], 'children': []}
2025-01-08 10:27:58,094 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:58,184 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': []}
2025-01-08 10:27:58,478 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:58,498 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_verify_user_with_user_role', 'range': [161, 206], 'children': []}
2025-01-08 10:27:58,599 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:58,696 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:58,738 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 14], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 1], 'children': []}, {'type': 'FromImportDeclaration', 'name': '', 'range': [4, 12], 'children': []}]}
2025-01-08 10:27:58,819 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:59,614 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_verify_user_with_admin_role', 'range': [115, 160], 'children': []}
2025-01-08 10:27:59,614 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:59,869 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 342], 'children': []}
2025-01-08 10:27:59,869 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:00,180 - INFO - Step 1 result: {'type': 'Program', 'name': 'test_requires_admin_user', 'range': [272, 311], 'children': []}
2025-01-08 10:28:00,180 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:28:05,664 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': [{'type': 'FunctionDef', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': [{'type': 'With', 'name': '', 'range': [55, 75], 'children': [{'type': 'Call', 'name': 'pytest.raises', 'range': [56, 61], 'children': [{'type': 'Arg', 'name': 'Exception', 'range': [60, 60], 'children': []}]}, {'type': 'Call', 'name': 'verify_user', 'range': [64, 75], 'children': [{'type': 'Arg', 'name': '{"role": "admin"}', 'range': [66, 70], 'children': []}, {'type': 'Keyword', 'name': 'admin_only', 'range': [72, 74], 'children': [{'type': 'Constant', 'name': 'False', 'range': [74, 74], 'children': []}]}]}]}]}]}
2025-01-08 10:28:05,665 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:09,042 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_verify_user_no_payload', 'range': [15, 48], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_verify_user_no_payload', 'range': [15, 20], 'children': []}, {'type': 'Assignment', 'name': 'user', 'range': [21, 30], 'children': [{'type': 'FunctionCall', 'name': 'verify_user', 'range': [23, 30], 'children': [{'type': 'Argument', 'name': 'None', 'range': [25, 25], 'children': []}, {'type': 'KeywordArgument', 'name': 'admin_only', 'range': [27, 29], 'children': []}]}]}, {'type': 'AssertStatement', 'name': 'assert', 'range': [32, 38], 'children': [{'type': 'Comparison', 'name': '==', 'range': [36, 37], 'children': [{'type': 'AttributeAccess', 'name': 'user.user_id', 'range': [33, 35], 'children': []}, {'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [38, 38], 'children': []}]}]}, {'type': 'AssertStatement', 'name': 'assert', 'range': [40, 46], 'children': [{'type': 'Comparison', 'name': '==', 'range': [44, 45], 'children': [{'type': 'AttributeAccess', 'name': 'user.role', 'range': [41, 43], 'children': []}, {'type': 'StringLiteral', 'name': '"admin"', 'range': [46, 46], 'children': []}]}]}]}
2025-01-08 10:28:09,047 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:13,998 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': [{'type': 'FunctionDef', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': [{'type': 'With', 'name': '', 'range': [84, 113], 'children': [{'type': 'Call', 'name': 'pytest.raises', 'range': [85, 90], 'children': [{'type': 'Arg', 'name': 'Exception', 'range': [89, 89], 'children': []}]}, {'type': 'Call', 'name': 'verify_user', 'range': [93, 112], 'children': [{'type': 'Dict', 'name': '', 'range': [96, 104], 'children': [{'type': 'Pair', 'name': 'sub', 'range': [97, 99], 'children': []}, {'type': 'Pair', 'name': 'role', 'range': [101, 103], 'children': []}]}, {'type': 'Keyword', 'name': 'admin_only', 'range': [107, 109], 'children': []}]}]}]}]}
2025-01-08 10:28:13,998 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:15,598 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'pytest', 'range': [1, 1], 'children': []}]}, {'type': 'FromImportDeclaration', 'name': '', 'range': [4, 12], 'children': [{'type': 'ModuleSpecifier', 'name': '.', 'range': [5, 5], 'children': []}, {'type': 'ImportSpecifier', 'name': 'depends', 'range': [6, 6], 'children': []}, {'type': 'ImportSpecifier', 'name': 'requires_admin_user', 'range': [8, 8], 'children': []}, {'type': 'ImportSpecifier', 'name': 'requires_user', 'range': [10, 10], 'children': []}, {'type': 'ImportSpecifier', 'name': 'verify_user', 'range': [12, 12], 'children': []}]}]}
2025-01-08 10:28:15,598 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:16,685 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': [{'type': 'FunctionDef', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': [{'type': 'With', 'name': '', 'range': [253, 271], 'children': [{'type': 'Call', 'name': 'pytest.raises', 'range': [254, 260], 'children': [{'type': 'Arg', 'name': 'Exception', 'range': [258, 259], 'children': []}]}, {'type': 'Call', 'name': 'requires_user', 'range': [262, 270], 'children': [{'type': 'Dict', 'name': '', 'range': [264, 268], 'children': [{'type': 'Pair', 'name': 'role', 'range': [265, 267], 'children': [{'type': 'String', 'name': 'user', 'range': [267, 267], 'children': []}]}]}]}]}]}]}
2025-01-08 10:28:16,966 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:16,984 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': [{'type': 'FunctionDef', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': [{'type': 'With', 'name': '', 'range': [55, 75], 'children': [{'type': 'Call', 'name': 'pytest.raises', 'range': [56, 61], 'children': [{'type': 'Arg', 'name': 'Exception', 'range': [60, 60], 'children': []}]}, {'type': 'Call', 'name': 'verify_user', 'range': [64, 75], 'children': [{'type': 'Arg', 'name': '{"role": "admin"}', 'range': [66, 70], 'children': []}, {'type': 'Keyword', 'name': 'admin_only', 'range': [72, 74], 'children': [{'type': 'Constant', 'name': 'False', 'range': [74, 74], 'children': []}]}]}]}]}]}
2025-01-08 10:28:17,004 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:18,307 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_verify_user_with_user_role', 'range': [161, 206], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_verify_user_with_user_role', 'range': [161, 189], 'children': [{'type': 'ParameterList', 'name': '', 'range': [163, 164], 'children': []}, {'type': 'Block', 'name': '', 'range': [166, 189], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [167, 188], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [169, 188], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [172, 180], 'children': [{'type': 'Property', 'name': 'sub', 'range': [173, 175], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [177, 179], 'children': []}]}, {'type': 'Argument', 'name': 'admin_only', 'range': [183, 185], 'children': []}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [190, 197], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [194, 196], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [191, 193], 'children': []}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [196, 196], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [198, 205], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [202, 204], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [199, 201], 'children': []}, {'type': 'Literal', 'name': '"user"', 'range': [204, 204], 'children': []}]}]}]}
2025-01-08 10:28:18,308 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:21,275 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_verify_user_with_admin_role', 'range': [115, 160], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_verify_user_with_admin_role', 'range': [115, 143], 'children': [{'type': 'ParameterList', 'name': '', 'range': [117, 118], 'children': []}, {'type': 'Block', 'name': '', 'range': [120, 143], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [121, 142], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [123, 142], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [126, 134], 'children': [{'type': 'Property', 'name': 'sub', 'range': [127, 129], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [131, 133], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'admin_only', 'range': [137, 139], 'children': []}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [144, 151], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [148, 150], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [145, 147], 'children': []}, {'type': 'Literal', 'name': '3e53486c-cf57-477e-ba2a-cb02dc828e1a', 'range': [150, 150], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [152, 159], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [156, 158], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [153, 155], 'children': []}, {'type': 'Literal', 'name': 'admin', 'range': [158, 158], 'children': []}]}]}]}
2025-01-08 10:28:21,275 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:24,996 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'pytest', 'range': [1, 1], 'children': []}]}, {'type': 'FromImportDeclaration', 'name': '', 'range': [4, 12], 'children': [{'type': 'ModuleSpecifier', 'name': '.', 'range': [5, 5], 'children': []}, {'type': 'ImportSpecifier', 'name': 'depends', 'range': [6, 6], 'children': []}, {'type': 'ImportSpecifier', 'name': 'requires_admin_user', 'range': [8, 8], 'children': []}, {'type': 'ImportSpecifier', 'name': 'requires_user', 'range': [10, 10], 'children': []}, {'type': 'ImportSpecifier', 'name': 'verify_user', 'range': [12, 12], 'children': []}]}]}
2025-01-08 10:28:24,996 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:26,229 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_verify_user_no_payload', 'range': [15, 48], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_verify_user_no_payload', 'range': [15, 20], 'children': []}, {'type': 'Assignment', 'name': 'user', 'range': [21, 30], 'children': [{'type': 'FunctionCall', 'name': 'verify_user', 'range': [23, 30], 'children': [{'type': 'Argument', 'name': 'None', 'range': [25, 25], 'children': []}, {'type': 'KeywordArgument', 'name': 'admin_only', 'range': [27, 29], 'children': []}]}]}, {'type': 'AssertStatement', 'name': 'assert', 'range': [32, 38], 'children': [{'type': 'Comparison', 'name': '==', 'range': [36, 37], 'children': [{'type': 'AttributeAccess', 'name': 'user.user_id', 'range': [33, 35], 'children': []}, {'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [38, 38], 'children': []}]}]}, {'type': 'AssertStatement', 'name': 'assert', 'range': [40, 46], 'children': [{'type': 'Comparison', 'name': '==', 'range': [44, 45], 'children': [{'type': 'AttributeAccess', 'name': 'user.role', 'range': [41, 43], 'children': []}, {'type': 'StringLiteral', 'name': '"admin"', 'range': [46, 46], 'children': []}]}]}]}
2025-01-08 10:28:26,229 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:27,175 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': [{'type': 'FunctionDef', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': [{'type': 'With', 'name': '', 'range': [84, 113], 'children': [{'type': 'Call', 'name': 'pytest.raises', 'range': [85, 90], 'children': [{'type': 'Arg', 'name': 'Exception', 'range': [89, 89], 'children': []}]}, {'type': 'Call', 'name': 'verify_user', 'range': [93, 112], 'children': [{'type': 'Dict', 'name': '', 'range': [96, 104], 'children': [{'type': 'Pair', 'name': 'sub', 'range': [97, 99], 'children': []}, {'type': 'Pair', 'name': 'role', 'range': [101, 103], 'children': []}]}, {'type': 'Keyword', 'name': 'admin_only', 'range': [107, 109], 'children': []}]}]}]}]}
2025-01-08 10:28:27,175 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:27,362 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': [{'type': 'FunctionDef', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': [{'type': 'With', 'name': '', 'range': [253, 271], 'children': [{'type': 'Call', 'name': 'pytest.raises', 'range': [254, 260], 'children': [{'type': 'Arg', 'name': 'Exception', 'range': [258, 259], 'children': []}]}, {'type': 'Call', 'name': 'requires_user', 'range': [262, 270], 'children': [{'type': 'Dict', 'name': '', 'range': [264, 268], 'children': [{'type': 'Pair', 'name': 'role', 'range': [265, 267], 'children': [{'type': 'String', 'name': 'user', 'range': [267, 267], 'children': []}]}]}]}]}]}]}
2025-01-08 10:28:27,362 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:27,409 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': [{'type': 'WithStatement', 'name': '', 'range': [55, 75], 'children': [{'type': 'CallExpression', 'name': 'pytest.raises', 'range': [56, 61], 'children': [{'type': 'Identifier', 'name': 'Exception', 'range': [60, 60], 'children': []}]}, {'type': 'CallExpression', 'name': 'verify_user', 'range': [64, 75], 'children': [{'type': 'Literal', 'name': '{"role": "admin"}', 'range': [66, 70], 'children': []}, {'type': 'Keyword', 'name': 'admin_only', 'range': [72, 74], 'children': [{'type': 'Literal', 'name': 'False', 'range': [74, 74], 'children': []}]}]}]}]}]}
2025-01-08 10:28:27,409 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:31,474 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'pytest', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [4, 12], 'children': [{'type': 'ModuleSpecifier', 'name': '.', 'range': [5, 5], 'children': []}, {'type': 'ImportSpecifier', 'name': 'depends', 'range': [6, 6], 'children': []}, {'type': 'ImportSpecifier', 'name': 'requires_admin_user', 'range': [8, 8], 'children': []}, {'type': 'ImportSpecifier', 'name': 'requires_user', 'range': [10, 10], 'children': []}, {'type': 'ImportSpecifier', 'name': 'verify_user', 'range': [12, 12], 'children': []}]}]}
2025-01-08 10:28:31,474 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:33,124 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_verify_user_with_user_role', 'range': [161, 206], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_verify_user_with_user_role', 'range': [161, 189], 'children': [{'type': 'Block', 'name': '', 'range': [166, 189], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [167, 188], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [169, 188], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [172, 180], 'children': [{'type': 'Property', 'name': 'sub', 'range': [173, 175], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [177, 179], 'children': []}]}, {'type': 'Argument', 'name': 'admin_only', 'range': [183, 185], 'children': []}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [190, 197], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [194, 196], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [191, 193], 'children': []}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [196, 196], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [198, 205], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [202, 204], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [199, 201], 'children': []}, {'type': 'Literal', 'name': '"user"', 'range': [204, 204], 'children': []}]}]}]}
2025-01-08 10:28:33,124 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:34,036 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 342], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 341], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 316], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [312, 315], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_admin_user_not_admin', 'range': [313, 315], 'children': []}, {'type': 'Punctuation', 'name': '(', 'range': [314, 315], 'children': []}, {'type': 'Punctuation', 'name': ')', 'range': [315, 316], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [316, 317], 'children': []}]}, {'type': 'Block', 'name': 'FunctionBody', 'range': [317, 341], 'children': [{'type': 'WithStatement', 'name': 'with', 'range': [318, 325], 'children': [{'type': 'Keyword', 'name': 'with', 'range': [318, 322], 'children': []}, {'type': 'CallExpression', 'name': 'pytest.raises', 'range': [319, 324], 'children': [{'type': 'MemberExpression', 'name': 'pytest.raises', 'range': [319, 321], 'children': [{'type': 'Identifier', 'name': 'pytest', 'range': [319, 320], 'children': []}, {'type': 'Punctuation', 'name': '.', 'range': [320, 321], 'children': []}, {'type': 'Identifier', 'name': 'raises', 'range': [321, 322], 'children': []}]}, {'type': 'Punctuation', 'name': '(', 'range': [322, 323], 'children': []}, {'type': 'Identifier', 'name': 'Exception', 'range': [323, 324], 'children': []}, {'type': 'Punctuation', 'name': ')', 'range': [324, 325], 'children': []}]}, {'type': 'Punctuation', 'name': ':', 'range': [325, 326], 'children': []}]}, {'type': 'ExpressionStatement', 'name': 'requires_admin_user', 'range': [327, 340], 'children': [{'type': 'CallExpression', 'name': 'requires_admin_user', 'range': [327, 340], 'children': [{'type': 'Identifier', 'name': 'requires_admin_user', 'range': [327, 328], 'children': []}, {'type': 'Punctuation', 'name': '(', 'range': [328, 329], 'children': []}, {'type': 'ObjectExpression', 'name': 'Object', 'range': [330, 338], 'children': [{'type': 'Punctuation', 'name': '{', 'range': [330, 331], 'children': []}, {'type': 'Property', 'name': 'sub', 'range': [331, 333], 'children': [{'type': 'Literal', 'name': '"sub"', 'range': [331, 332], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [332, 333], 'children': []}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [333, 334], 'children': []}]}, {'type': 'Punctuation', 'name': ',', 'range': [334, 335], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [335, 337], 'children': [{'type': 'Literal', 'name': '"role"', 'range': [335, 336], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [336, 337], 'children': []}, {'type': 'Literal', 'name': '"user"', 'range': [337, 338], 'children': []}]}, {'type': 'Punctuation', 'name': '}', 'range': [338, 339], 'children': []}]}, {'type': 'Punctuation', 'name': ')', 'range': [340, 341], 'children': []}]}]}]}]}]}
2025-01-08 10:28:34,038 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:34,978 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_verify_user_with_admin_role', 'range': [115, 160], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_verify_user_with_admin_role', 'range': [115, 143], 'children': [{'type': 'Block', 'name': '', 'range': [120, 143], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [121, 142], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [123, 142], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [126, 134], 'children': [{'type': 'Property', 'name': 'sub', 'range': [127, 129], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [131, 133], 'children': []}]}, {'type': 'AssignmentExpression', 'name': 'admin_only', 'range': [137, 139], 'children': []}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [144, 151], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [148, 150], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [145, 147], 'children': []}, {'type': 'Literal', 'name': '3e53486c-cf57-477e-ba2a-cb02dc828e1a', 'range': [150, 150], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [152, 159], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [156, 158], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [153, 155], 'children': []}, {'type': 'Literal', 'name': 'admin', 'range': [158, 158], 'children': []}]}]}]}
2025-01-08 10:28:34,998 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:35,471 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': [{'type': 'WithStatement', 'name': '', 'range': [84, 113], 'children': [{'type': 'CallExpression', 'name': 'pytest.raises', 'range': [85, 90], 'children': [{'type': 'Identifier', 'name': 'Exception', 'range': [89, 89], 'children': []}]}, {'type': 'CallExpression', 'name': 'verify_user', 'range': [93, 112], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [96, 104], 'children': [{'type': 'Property', 'name': 'sub', 'range': [97, 99], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [101, 103], 'children': []}]}, {'type': 'Identifier', 'name': 'admin_only', 'range': [107, 109], 'children': []}]}]}]}]}
2025-01-08 10:28:35,471 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:35,551 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': [{'type': 'FunctionDecl', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': [{'type': 'WithStatement', 'name': '', 'range': [253, 271], 'children': [{'type': 'CallExpression', 'name': 'pytest.raises', 'range': [254, 260], 'children': [{'type': 'Identifier', 'name': 'Exception', 'range': [258, 259], 'children': []}]}, {'type': 'CallExpression', 'name': 'requires_user', 'range': [262, 270], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [264, 268], 'children': [{'type': 'Property', 'name': 'role', 'range': [265, 267], 'children': [{'type': 'Literal', 'name': 'user', 'range': [267, 267], 'children': []}]}]}]}]}]}]}
2025-01-08 10:28:35,551 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:35,652 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_no_user_id', 'range': [49, 77], 'children': [{'type': 'WithStatement', 'name': '', 'range': [55, 75], 'children': [{'type': 'CallExpression', 'name': 'pytest.raises', 'range': [56, 61], 'children': [{'type': 'Identifier', 'name': 'Exception', 'range': [60, 60], 'children': []}]}, {'type': 'CallExpression', 'name': 'verify_user', 'range': [64, 75], 'children': [{'type': 'Literal', 'name': '{"role": "admin"}', 'range': [66, 70], 'children': []}, {'type': 'Keyword', 'name': 'admin_only', 'range': [72, 74], 'children': [{'type': 'Literal', 'name': 'False', 'range': [74, 74], 'children': []}]}]}]}]}]}
2025-01-08 10:28:35,652 - INFO - Completed main AST analysis flow
2025-01-08 10:28:35,653 - INFO - Successfully processed chunk
2025-01-08 10:28:36,530 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_verify_user_no_payload', 'range': [15, 48], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_no_payload', 'range': [15, 20], 'children': []}, {'type': 'AssignmentExpression', 'name': 'user', 'range': [21, 30], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [23, 30], 'children': [{'type': 'Literal', 'name': 'None', 'range': [25, 25], 'children': []}, {'type': 'Identifier', 'name': 'admin_only', 'range': [27, 29], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'assert', 'range': [32, 38], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [36, 37], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [33, 35], 'children': []}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [38, 38], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'assert', 'range': [40, 46], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [44, 45], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [41, 43], 'children': []}, {'type': 'Literal', 'name': '"admin"', 'range': [46, 46], 'children': []}]}]}]}
2025-01-08 10:28:36,530 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:37,555 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_requires_admin_user', 'range': [272, 311], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_requires_admin_user', 'range': [272, 294], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_admin_user', 'range': [272, 276], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [272, 272], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_admin_user', 'range': [273, 273], 'children': []}, {'type': 'Punctuation', 'name': '(', 'range': [274, 274], 'children': []}, {'type': 'Punctuation', 'name': ')', 'range': [275, 275], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [276, 276], 'children': []}]}, {'type': 'FunctionBody', 'name': '', 'range': [277, 294], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [278, 293], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [278, 278], 'children': []}, {'type': 'Operator', 'name': '=', 'range': [279, 279], 'children': []}, {'type': 'CallExpression', 'name': 'requires_admin_user', 'range': [280, 293], 'children': [{'type': 'Identifier', 'name': 'requires_admin_user', 'range': [280, 280], 'children': []}, {'type': 'Punctuation', 'name': '(', 'range': [281, 281], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [283, 291], 'children': [{'type': 'Punctuation', 'name': '{', 'range': [283, 283], 'children': []}, {'type': 'Property', 'name': 'sub', 'range': [284, 286], 'children': [{'type': 'StringLiteral', 'name': '"sub"', 'range': [284, 284], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [285, 285], 'children': []}, {'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [286, 286], 'children': []}]}, {'type': 'Punctuation', 'name': ',', 'range': [287, 287], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [288, 290], 'children': [{'type': 'StringLiteral', 'name': '"role"', 'range': [288, 288], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [289, 289], 'children': []}, {'type': 'StringLiteral', 'name': '"admin"', 'range': [290, 290], 'children': []}]}, {'type': 'Punctuation', 'name': '}', 'range': [291, 291], 'children': []}]}, {'type': 'Punctuation', 'name': ')', 'range': [293, 293], 'children': []}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [295, 302], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [295, 295], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [296, 301], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [296, 298], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [296, 296], 'children': []}, {'type': 'Punctuation', 'name': '.', 'range': [297, 297], 'children': []}, {'type': 'Identifier', 'name': 'user_id', 'range': [298, 298], 'children': []}]}, {'type': 'Operator', 'name': '==', 'range': [299, 300], 'children': []}, {'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [301, 301], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [303, 310], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [303, 303], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [304, 309], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [304, 306], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [304, 304], 'children': []}, {'type': 'Punctuation', 'name': '.', 'range': [305, 305], 'children': []}, {'type': 'Identifier', 'name': 'role', 'range': [306, 306], 'children': []}]}, {'type': 'Operator', 'name': '==', 'range': [307, 308], 'children': []}, {'type': 'StringLiteral', 'name': '"admin"', 'range': [309, 309], 'children': []}]}]}]}
2025-01-08 10:28:37,555 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:39,175 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainOrSomething', 'range': [0, 12], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'pytest', 'range': [1, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [4, 12], 'children': [{'type': 'ModuleSpecifier', 'name': '.', 'range': [5, 5], 'children': []}, {'type': 'ImportSpecifier', 'name': 'depends', 'range': [6, 6], 'children': []}, {'type': 'ImportSpecifier', 'name': 'requires_admin_user', 'range': [8, 8], 'children': []}, {'type': 'ImportSpecifier', 'name': 'requires_user', 'range': [10, 10], 'children': []}, {'type': 'ImportSpecifier', 'name': 'verify_user', 'range': [12, 12], 'children': []}]}]}]}
2025-01-08 10:28:39,175 - INFO - Completed main AST analysis flow
2025-01-08 10:28:39,175 - INFO - Successfully processed chunk
2025-01-08 10:28:39,960 - INFO - Step 2 result: {'type': 'Program', 'name': 'test_requires_user', 'range': [207, 246], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_requires_user', 'range': [207, 229], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_user', 'range': [207, 211], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [207, 207], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_user', 'range': [208, 208], 'children': []}, {'type': 'Punctuation', 'name': '(', 'range': [209, 209], 'children': []}, {'type': 'Punctuation', 'name': ')', 'range': [210, 210], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [211, 211], 'children': []}]}, {'type': 'FunctionBody', 'name': 'test_requires_user', 'range': [212, 229], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [213, 228], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [213, 213], 'children': []}, {'type': 'Operator', 'name': '=', 'range': [214, 214], 'children': []}, {'type': 'CallExpression', 'name': 'requires_user', 'range': [215, 228], 'children': [{'type': 'Identifier', 'name': 'requires_user', 'range': [215, 215], 'children': []}, {'type': 'Punctuation', 'name': '(', 'range': [216, 216], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [218, 226], 'children': [{'type': 'Punctuation', 'name': '{', 'range': [218, 218], 'children': []}, {'type': 'Property', 'name': 'sub', 'range': [219, 221], 'children': [{'type': 'StringLiteral', 'name': '"sub"', 'range': [219, 219], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [220, 220], 'children': []}, {'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [221, 221], 'children': []}]}, {'type': 'Punctuation', 'name': ',', 'range': [222, 222], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [223, 225], 'children': [{'type': 'StringLiteral', 'name': '"role"', 'range': [223, 223], 'children': []}, {'type': 'Punctuation', 'name': ':', 'range': [224, 224], 'children': []}, {'type': 'StringLiteral', 'name': '"user"', 'range': [225, 225], 'children': []}]}, {'type': 'Punctuation', 'name': '}', 'range': [226, 226], 'children': []}]}, {'type': 'Punctuation', 'name': ')', 'range': [228, 228], 'children': []}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [230, 237], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [230, 230], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [231, 236], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [231, 233], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [231, 231], 'children': []}, {'type': 'Punctuation', 'name': '.', 'range': [232, 232], 'children': []}, {'type': 'Identifier', 'name': 'user_id', 'range': [233, 233], 'children': []}]}, {'type': 'Operator', 'name': '==', 'range': [234, 235], 'children': []}, {'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [236, 236], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [238, 245], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [238, 238], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [239, 244], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [239, 241], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [239, 239], 'children': []}, {'type': 'Punctuation', 'name': '.', 'range': [240, 240], 'children': []}, {'type': 'Identifier', 'name': 'role', 'range': [241, 241], 'children': []}]}, {'type': 'Operator', 'name': '==', 'range': [242, 243], 'children': []}, {'type': 'StringLiteral', 'name': '"user"', 'range': [244, 244], 'children': []}]}]}]}
2025-01-08 10:28:39,960 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:43,912 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': [{'type': 'FunctionDecl', 'name': 'test_requires_user_no_user_id', 'range': [247, 271], 'children': [{'type': 'WithStatement', 'name': '', 'range': [253, 271], 'children': [{'type': 'CallExpression', 'name': 'pytest.raises', 'range': [254, 260], 'children': [{'type': 'Identifier', 'name': 'Exception', 'range': [258, 259], 'children': []}]}, {'type': 'CallExpression', 'name': 'requires_user', 'range': [262, 270], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [264, 268], 'children': [{'type': 'Property', 'name': 'role', 'range': [265, 267], 'children': [{'type': 'Literal', 'name': 'user', 'range': [267, 267], 'children': []}]}]}]}]}]}]}
2025-01-08 10:28:43,912 - INFO - Completed main AST analysis flow
2025-01-08 10:28:43,912 - INFO - Successfully processed chunk
2025-01-08 10:28:43,962 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_not_admin', 'range': [78, 114], 'children': [{'type': 'WithStatement', 'name': '', 'range': [84, 113], 'children': [{'type': 'CallExpression', 'name': 'pytest.raises', 'range': [85, 90], 'children': [{'type': 'Identifier', 'name': 'Exception', 'range': [89, 89], 'children': []}]}, {'type': 'CallExpression', 'name': 'verify_user', 'range': [93, 112], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [96, 104], 'children': [{'type': 'Property', 'name': 'sub', 'range': [97, 99], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [101, 103], 'children': []}]}, {'type': 'Identifier', 'name': 'admin_only', 'range': [107, 109], 'children': []}]}]}]}]}
2025-01-08 10:28:43,963 - INFO - Completed main AST analysis flow
2025-01-08 10:28:43,963 - INFO - Successfully processed chunk
2025-01-08 10:28:46,524 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_verify_user_with_user_role', 'range': [161, 206], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_with_user_role', 'range': [161, 189], 'children': [{'type': 'BlockStatement', 'name': '', 'range': [166, 189], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [167, 188], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [169, 188], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [172, 180], 'children': [{'type': 'Property', 'name': 'sub', 'range': [173, 175], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [177, 179], 'children': []}]}, {'type': 'Identifier', 'name': 'admin_only', 'range': [183, 185], 'children': []}]}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [190, 197], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [194, 196], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [191, 193], 'children': []}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [196, 196], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [198, 205], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [202, 204], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [199, 201], 'children': []}, {'type': 'Literal', 'name': '"user"', 'range': [204, 204], 'children': []}]}]}]}
2025-01-08 10:28:46,524 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:46,931 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_verify_user_no_payload', 'range': [15, 48], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_no_payload', 'range': [15, 20], 'children': []}, {'type': 'AssignmentExpression', 'name': 'user', 'range': [21, 30], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [23, 30], 'children': [{'type': 'Literal', 'name': 'None', 'range': [25, 25], 'children': []}, {'type': 'Identifier', 'name': 'admin_only', 'range': [27, 29], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'assert', 'range': [32, 38], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [36, 37], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [33, 35], 'children': []}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [38, 38], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': 'assert', 'range': [40, 46], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [44, 45], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [41, 43], 'children': []}, {'type': 'Literal', 'name': '"admin"', 'range': [46, 46], 'children': []}]}]}]}
2025-01-08 10:28:46,932 - INFO - Completed main AST analysis flow
2025-01-08 10:28:46,932 - INFO - Successfully processed chunk
2025-01-08 10:28:48,754 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_verify_user_with_admin_role', 'range': [115, 160], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_with_admin_role', 'range': [115, 143], 'children': [{'type': 'BlockStatement', 'name': '', 'range': [120, 143], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [121, 142], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [123, 142], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [126, 134], 'children': [{'type': 'Property', 'name': 'sub', 'range': [127, 129], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [131, 133], 'children': []}]}, {'type': 'Identifier', 'name': 'admin_only', 'range': [137, 139], 'children': []}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [144, 151], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [148, 150], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [145, 147], 'children': []}, {'type': 'Literal', 'name': '3e53486c-cf57-477e-ba2a-cb02dc828e1a', 'range': [150, 150], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [152, 159], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [156, 158], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [153, 155], 'children': []}, {'type': 'Literal', 'name': 'admin', 'range': [158, 158], 'children': []}]}]}]}
2025-01-08 10:28:48,754 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:51,896 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 342], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 341], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 316], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [312, 315]}, {'type': 'Identifier', 'name': 'test_requires_admin_user_not_admin', 'range': [313, 315]}]}, {'type': 'Block', 'name': 'FunctionBody', 'range': [317, 341], 'children': [{'type': 'WithStatement', 'name': 'with', 'range': [318, 325], 'children': [{'type': 'Keyword', 'name': 'with', 'range': [318, 322]}, {'type': 'CallExpression', 'name': 'pytest.raises', 'range': [319, 324], 'children': [{'type': 'MemberExpression', 'name': 'pytest.raises', 'range': [319, 321], 'children': [{'type': 'Identifier', 'name': 'pytest', 'range': [319, 320]}, {'type': 'Identifier', 'name': 'raises', 'range': [321, 322]}]}, {'type': 'Identifier', 'name': 'Exception', 'range': [323, 324]}]}]}, {'type': 'ExpressionStatement', 'name': 'requires_admin_user', 'range': [327, 340], 'children': [{'type': 'CallExpression', 'name': 'requires_admin_user', 'range': [327, 340], 'children': [{'type': 'Identifier', 'name': 'requires_admin_user', 'range': [327, 328]}, {'type': 'ObjectExpression', 'name': 'Object', 'range': [330, 338], 'children': [{'type': 'Property', 'name': 'sub', 'range': [331, 333], 'children': [{'type': 'Literal', 'name': '"sub"', 'range': [331, 332]}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [333, 334]}]}, {'type': 'Property', 'name': 'role', 'range': [335, 337], 'children': [{'type': 'Literal', 'name': '"role"', 'range': [335, 336]}, {'type': 'Literal', 'name': '"user"', 'range': [337, 338]}]}]}]}]}]}]}]}
2025-01-08 10:28:51,896 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:58,572 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_requires_admin_user', 'range': [272, 311], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_requires_admin_user', 'range': [272, 294], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_admin_user', 'range': [272, 276], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [272, 272], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_admin_user', 'range': [273, 273], 'children': []}]}, {'type': 'FunctionBody', 'name': '', 'range': [277, 294], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [278, 293], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [278, 278], 'children': []}, {'type': 'CallExpression', 'name': 'requires_admin_user', 'range': [280, 293], 'children': [{'type': 'Identifier', 'name': 'requires_admin_user', 'range': [280, 280], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [283, 291], 'children': [{'type': 'Property', 'name': 'sub', 'range': [284, 286], 'children': [{'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [286, 286], 'children': []}]}, {'type': 'Property', 'name': 'role', 'range': [288, 290], 'children': [{'type': 'StringLiteral', 'name': '"admin"', 'range': [290, 290], 'children': []}]}]}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [295, 302], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [295, 295], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [296, 301], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [296, 298], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [296, 296], 'children': []}, {'type': 'Identifier', 'name': 'user_id', 'range': [298, 298], 'children': []}]}, {'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [301, 301], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [303, 310], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [303, 303], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [304, 309], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [304, 306], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [304, 304], 'children': []}, {'type': 'Identifier', 'name': 'role', 'range': [306, 306], 'children': []}]}, {'type': 'StringLiteral', 'name': '"admin"', 'range': [309, 309], 'children': []}]}]}]}
2025-01-08 10:28:58,572 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:59,421 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_verify_user_with_user_role', 'range': [161, 206], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_with_user_role', 'range': [161, 189], 'children': [{'type': 'BlockStatement', 'name': '', 'range': [166, 189], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [167, 188], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [169, 188], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [172, 180], 'children': [{'type': 'Property', 'name': 'sub', 'range': [173, 175], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [177, 179], 'children': []}]}, {'type': 'Identifier', 'name': 'admin_only', 'range': [183, 185], 'children': []}]}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [190, 197], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [194, 196], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [191, 193], 'children': []}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [196, 196], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [198, 205], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [202, 204], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [199, 201], 'children': []}, {'type': 'Literal', 'name': '"user"', 'range': [204, 204], 'children': []}]}]}]}
2025-01-08 10:28:59,421 - INFO - Completed main AST analysis flow
2025-01-08 10:28:59,421 - INFO - Successfully processed chunk
2025-01-08 10:29:00,980 - INFO - Step 3 result: {'type': 'Program', 'name': 'test_requires_user', 'range': [207, 246], 'children': [{'type': 'FunctionDeclaration', 'name': 'test_requires_user', 'range': [207, 229], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_user', 'range': [207, 211], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [207, 207], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_user', 'range': [208, 208], 'children': []}]}, {'type': 'FunctionBody', 'name': 'test_requires_user', 'range': [212, 229], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [213, 228], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [213, 213], 'children': []}, {'type': 'CallExpression', 'name': 'requires_user', 'range': [215, 228], 'children': [{'type': 'Identifier', 'name': 'requires_user', 'range': [215, 215], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [218, 226], 'children': [{'type': 'Property', 'name': 'sub', 'range': [219, 221], 'children': [{'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [221, 221], 'children': []}]}, {'type': 'Property', 'name': 'role', 'range': [223, 225], 'children': [{'type': 'StringLiteral', 'name': '"user"', 'range': [225, 225], 'children': []}]}]}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [230, 237], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [230, 230], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [231, 236], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [231, 233], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [231, 231], 'children': []}, {'type': 'Identifier', 'name': 'user_id', 'range': [233, 233], 'children': []}]}, {'type': 'StringLiteral', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [236, 236], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [238, 245], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [238, 238], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [239, 244], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [239, 241], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [239, 239], 'children': []}, {'type': 'Identifier', 'name': 'role', 'range': [241, 241], 'children': []}]}, {'type': 'StringLiteral', 'name': '"user"', 'range': [244, 244], 'children': []}]}]}]}
2025-01-08 10:29:00,980 - INFO - Starting Step 4: AST normalization
2025-01-08 10:29:02,131 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_verify_user_with_admin_role', 'range': [115, 160], 'children': [{'type': 'FunctionDecl', 'name': 'test_verify_user_with_admin_role', 'range': [115, 143], 'children': [{'type': 'BlockStatement', 'name': '', 'range': [120, 143], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [121, 142], 'children': [{'type': 'CallExpression', 'name': 'verify_user', 'range': [123, 142], 'children': [{'type': 'ObjectExpression', 'name': '', 'range': [126, 134], 'children': [{'type': 'Property', 'name': 'sub', 'range': [127, 129], 'children': []}, {'type': 'Property', 'name': 'role', 'range': [131, 133], 'children': []}]}, {'type': 'Identifier', 'name': 'admin_only', 'range': [137, 139], 'children': []}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [144, 151], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [148, 150], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [145, 147], 'children': []}, {'type': 'Literal', 'name': '3e53486c-cf57-477e-ba2a-cb02dc828e1a', 'range': [150, 150], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [152, 159], 'children': [{'type': 'BinaryExpression', 'name': '==', 'range': [156, 158], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [153, 155], 'children': []}, {'type': 'Literal', 'name': 'admin', 'range': [158, 158], 'children': []}]}]}]}
2025-01-08 10:29:02,131 - INFO - Completed main AST analysis flow
2025-01-08 10:29:02,132 - INFO - Successfully processed chunk
2025-01-08 10:29:07,791 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 342], 'children': [{'type': 'FunctionDecl', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 341], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 316], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [312, 315]}, {'type': 'Identifier', 'name': 'test_requires_admin_user_not_admin', 'range': [313, 315]}]}, {'type': 'Block', 'name': 'FunctionBody', 'range': [317, 341], 'children': [{'type': 'WithStatement', 'name': 'with', 'range': [318, 325], 'children': [{'type': 'Keyword', 'name': 'with', 'range': [318, 322]}, {'type': 'CallExpression', 'name': 'pytest.raises', 'range': [319, 324], 'children': [{'type': 'MemberExpression', 'name': 'pytest.raises', 'range': [319, 321], 'children': [{'type': 'Identifier', 'name': 'pytest', 'range': [319, 320]}, {'type': 'Identifier', 'name': 'raises', 'range': [321, 322]}]}, {'type': 'Identifier', 'name': 'Exception', 'range': [323, 324]}]}]}, {'type': 'ExpressionStatement', 'name': 'requires_admin_user', 'range': [327, 340], 'children': [{'type': 'CallExpression', 'name': 'requires_admin_user', 'range': [327, 340], 'children': [{'type': 'Identifier', 'name': 'requires_admin_user', 'range': [327, 328]}, {'type': 'ObjectExpression', 'name': 'Object', 'range': [330, 338], 'children': [{'type': 'Property', 'name': 'sub', 'range': [331, 333], 'children': [{'type': 'Literal', 'name': '"sub"', 'range': [331, 332]}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [333, 334]}]}, {'type': 'Property', 'name': 'role', 'range': [335, 337], 'children': [{'type': 'Literal', 'name': '"role"', 'range': [335, 336]}, {'type': 'Literal', 'name': '"user"', 'range': [337, 338]}]}]}]}]}]}]}]}
2025-01-08 10:29:07,791 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:29:20,813 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_requires_admin_user', 'range': [272, 311], 'children': [{'type': 'FunctionDecl', 'name': 'test_requires_admin_user', 'range': [272, 294], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_admin_user', 'range': [272, 276], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [272, 272], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_admin_user', 'range': [273, 273], 'children': []}]}, {'type': 'FunctionBody', 'name': '', 'range': [277, 294], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [278, 293], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [278, 278], 'children': []}, {'type': 'CallExpression', 'name': 'requires_admin_user', 'range': [280, 293], 'children': [{'type': 'Identifier', 'name': 'requires_admin_user', 'range': [280, 280], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [283, 291], 'children': [{'type': 'Property', 'name': 'sub', 'range': [284, 286], 'children': [{'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [286, 286], 'children': []}]}, {'type': 'Property', 'name': 'role', 'range': [288, 290], 'children': [{'type': 'Literal', 'name': '"admin"', 'range': [290, 290], 'children': []}]}]}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [295, 302], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [295, 295], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [296, 301], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [296, 298], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [296, 296], 'children': []}, {'type': 'Identifier', 'name': 'user_id', 'range': [298, 298], 'children': []}]}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [301, 301], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [303, 310], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [303, 303], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [304, 309], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [304, 306], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [304, 304], 'children': []}, {'type': 'Identifier', 'name': 'role', 'range': [306, 306], 'children': []}]}, {'type': 'Literal', 'name': '"admin"', 'range': [309, 309], 'children': []}]}]}]}
2025-01-08 10:29:20,813 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:29:22,003 - INFO - Step 4 result: {'type': 'Program', 'name': 'test_requires_user', 'range': [207, 246], 'children': [{'type': 'FunctionDecl', 'name': 'test_requires_user', 'range': [207, 229], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_user', 'range': [207, 211], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [207, 207], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_user', 'range': [208, 208], 'children': []}]}, {'type': 'FunctionBody', 'name': 'test_requires_user', 'range': [212, 229], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [213, 228], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [213, 213], 'children': []}, {'type': 'CallExpression', 'name': 'requires_user', 'range': [215, 228], 'children': [{'type': 'Identifier', 'name': 'requires_user', 'range': [215, 215], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [218, 226], 'children': [{'type': 'Property', 'name': 'sub', 'range': [219, 221], 'children': [{'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [221, 221], 'children': []}]}, {'type': 'Property', 'name': 'role', 'range': [223, 225], 'children': [{'type': 'Literal', 'name': '"user"', 'range': [225, 225], 'children': []}]}]}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [230, 237], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [230, 230], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [231, 236], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [231, 233], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [231, 231], 'children': []}, {'type': 'Identifier', 'name': 'user_id', 'range': [233, 233], 'children': []}]}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [236, 236], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [238, 245], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [238, 238], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [239, 244], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [239, 241], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [239, 239], 'children': []}, {'type': 'Identifier', 'name': 'role', 'range': [241, 241], 'children': []}]}, {'type': 'Literal', 'name': '"user"', 'range': [244, 244], 'children': []}]}]}]}
2025-01-08 10:29:22,003 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:29:24,997 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 342], 'children': [{'type': 'FunctionDecl', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 341], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_admin_user_not_admin', 'range': [312, 316], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [312, 315]}, {'type': 'Identifier', 'name': 'test_requires_admin_user_not_admin', 'range': [313, 315]}]}, {'type': 'Block', 'name': 'FunctionBody', 'range': [317, 341], 'children': [{'type': 'WithStatement', 'name': 'with', 'range': [318, 325], 'children': [{'type': 'Keyword', 'name': 'with', 'range': [318, 322]}, {'type': 'CallExpression', 'name': 'pytest.raises', 'range': [319, 324], 'children': [{'type': 'MemberExpression', 'name': 'pytest.raises', 'range': [319, 321], 'children': [{'type': 'Identifier', 'name': 'pytest', 'range': [319, 320]}, {'type': 'Identifier', 'name': 'raises', 'range': [321, 322]}]}, {'type': 'Identifier', 'name': 'Exception', 'range': [323, 324]}]}]}, {'type': 'ExpressionStatement', 'name': 'requires_admin_user', 'range': [327, 340], 'children': [{'type': 'CallExpression', 'name': 'requires_admin_user', 'range': [327, 340], 'children': [{'type': 'Identifier', 'name': 'requires_admin_user', 'range': [327, 328]}, {'type': 'ObjectExpression', 'name': 'Object', 'range': [330, 338], 'children': [{'type': 'Property', 'name': 'sub', 'range': [331, 333], 'children': [{'type': 'Literal', 'name': '"sub"', 'range': [331, 332]}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [333, 334]}]}, {'type': 'Property', 'name': 'role', 'range': [335, 337], 'children': [{'type': 'Literal', 'name': '"role"', 'range': [335, 336]}, {'type': 'Literal', 'name': '"user"', 'range': [337, 338]}]}]}]}]}]}]}]}
2025-01-08 10:29:25,002 - INFO - Completed main AST analysis flow
2025-01-08 10:29:25,002 - INFO - Successfully processed chunk
2025-01-08 10:29:40,385 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_requires_admin_user', 'range': [272, 311], 'children': [{'type': 'FunctionDecl', 'name': 'test_requires_admin_user', 'range': [272, 294], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_admin_user', 'range': [272, 276], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [272, 272], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_admin_user', 'range': [273, 273], 'children': []}]}, {'type': 'FunctionBody', 'name': '', 'range': [277, 294], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [278, 293], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [278, 278], 'children': []}, {'type': 'CallExpression', 'name': 'requires_admin_user', 'range': [280, 293], 'children': [{'type': 'Identifier', 'name': 'requires_admin_user', 'range': [280, 280], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [283, 291], 'children': [{'type': 'Property', 'name': 'sub', 'range': [284, 286], 'children': [{'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [286, 286], 'children': []}]}, {'type': 'Property', 'name': 'role', 'range': [288, 290], 'children': [{'type': 'Literal', 'name': '"admin"', 'range': [290, 290], 'children': []}]}]}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [295, 302], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [295, 295], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [296, 301], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [296, 298], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [296, 296], 'children': []}, {'type': 'Identifier', 'name': 'user_id', 'range': [298, 298], 'children': []}]}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [301, 301], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [303, 310], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [303, 303], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [304, 309], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [304, 306], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [304, 304], 'children': []}, {'type': 'Identifier', 'name': 'role', 'range': [306, 306], 'children': []}]}, {'type': 'Literal', 'name': '"admin"', 'range': [309, 309], 'children': []}]}]}]}
2025-01-08 10:29:40,385 - INFO - Completed main AST analysis flow
2025-01-08 10:29:40,386 - INFO - Successfully processed chunk
2025-01-08 10:29:41,458 - INFO - Step 5 result: {'type': 'Program', 'name': 'test_requires_user', 'range': [207, 246], 'children': [{'type': 'FunctionDecl', 'name': 'test_requires_user', 'range': [207, 229], 'children': [{'type': 'FunctionSignature', 'name': 'test_requires_user', 'range': [207, 211], 'children': [{'type': 'Keyword', 'name': 'def', 'range': [207, 207], 'children': []}, {'type': 'Identifier', 'name': 'test_requires_user', 'range': [208, 208], 'children': []}]}, {'type': 'FunctionBody', 'name': 'test_requires_user', 'range': [212, 229], 'children': [{'type': 'AssignmentExpression', 'name': 'user', 'range': [213, 228], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [213, 213], 'children': []}, {'type': 'CallExpression', 'name': 'requires_user', 'range': [215, 228], 'children': [{'type': 'Identifier', 'name': 'requires_user', 'range': [215, 215], 'children': []}, {'type': 'ObjectExpression', 'name': '', 'range': [218, 226], 'children': [{'type': 'Property', 'name': 'sub', 'range': [219, 221], 'children': [{'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [221, 221], 'children': []}]}, {'type': 'Property', 'name': 'role', 'range': [223, 225], 'children': [{'type': 'Literal', 'name': '"user"', 'range': [225, 225], 'children': []}]}]}]}]}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [230, 237], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [230, 230], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [231, 236], 'children': [{'type': 'MemberExpression', 'name': 'user.user_id', 'range': [231, 233], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [231, 231], 'children': []}, {'type': 'Identifier', 'name': 'user_id', 'range': [233, 233], 'children': []}]}, {'type': 'Literal', 'name': '"3e53486c-cf57-477e-ba2a-cb02dc828e1a"', 'range': [236, 236], 'children': []}]}]}, {'type': 'AssertStatement', 'name': '', 'range': [238, 245], 'children': [{'type': 'Keyword', 'name': 'assert', 'range': [238, 238], 'children': []}, {'type': 'BinaryExpression', 'name': '==', 'range': [239, 244], 'children': [{'type': 'MemberExpression', 'name': 'user.role', 'range': [239, 241], 'children': [{'type': 'Identifier', 'name': 'user', 'range': [239, 239], 'children': []}, {'type': 'Identifier', 'name': 'role', 'range': [241, 241], 'children': []}]}, {'type': 'Literal', 'name': '"user"', 'range': [244, 244], 'children': []}]}]}]}
2025-01-08 10:29:41,459 - INFO - Completed main AST analysis flow
2025-01-08 10:29:41,460 - INFO - Successfully processed chunk
2025-01-08 10:29:41,494 - INFO - Starting code generation from AST
2025-01-08 10:29:53,850 - INFO - Successfully generated code from AST
2025-01-08 10:29:53,856 - INFO - Starting static code similarity comparison
2025-01-08 10:29:53,861 - INFO - Static similarity result: {'final_score': 96.18, 'length_similarity': 95.63, 'token_similarity': 92.86, 'structure_similarity': 95.92, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
