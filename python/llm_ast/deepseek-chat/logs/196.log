2025-01-08 10:27:27,638 - INFO - Processing sample 196
2025-01-08 10:27:27,638 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 10:27:32,793 - INFO - Successfully split code into 3 top-level declarations
2025-01-08 10:27:32,798 - INFO - Processing chunk #0 (size=441 chars, start_index=0)
2025-01-08 10:27:32,799 - INFO - Processing chunk with 441 chars starting at index 0
2025-01-08 10:27:32,799 - INFO - Starting main AST analysis flow
2025-01-08 10:27:32,799 - INFO - Tokenized code into 104 tokens
2025-01-08 10:27:32,799 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:32,803 - INFO - Processing chunk #1 (size=117 chars, start_index=104)
2025-01-08 10:27:32,807 - INFO - Processing chunk with 117 chars starting at index 104
2025-01-08 10:27:32,807 - INFO - Starting main AST analysis flow
2025-01-08 10:27:32,807 - INFO - Tokenized code into 29 tokens
2025-01-08 10:27:32,807 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:32,809 - INFO - Processing chunk #2 (size=1064 chars, start_index=133)
2025-01-08 10:27:32,809 - INFO - Processing chunk with 1064 chars starting at index 133
2025-01-08 10:27:32,809 - INFO - Starting main AST analysis flow
2025-01-08 10:27:32,810 - INFO - Tokenized code into 190 tokens
2025-01-08 10:27:32,810 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 10:27:35,497 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [104, 132], 'children': [{'type': 'FunctionDeclaration', 'name': 'server', 'range': [114, 132], 'children': []}]}
2025-01-08 10:27:35,497 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:41,017 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 103], 'children': [{'type': 'ImportDeclaration', 'name': 'logging', 'range': [0, 1], 'children': []}, {'type': 'ImportDeclaration', 'name': 'pytest', 'range': [4, 5], 'children': []}, {'type': 'ImportDeclaration', 'name': 'SpinTestServer', 'range': [8, 15], 'children': []}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [47, 54], 'children': []}, {'type': 'VariableDeclaration', 'name': 'ch', 'range': [64, 70], 'children': []}, {'type': 'ExpressionStatement', 'name': '', 'range': [72, 79], 'children': []}, {'type': 'VariableDeclaration', 'name': 'formatter', 'range': [81, 88], 'children': []}, {'type': 'ExpressionStatement', 'name': '', 'range': [90, 95], 'children': []}, {'type': 'ExpressionStatement', 'name': '', 'range': [97, 102], 'children': []}]}
2025-01-08 10:27:41,052 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:42,116 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [133, 322], 'children': [{'type': 'FunctionDeclaration', 'name': 'graph_cleanup', 'range': [147, 238], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'create_graph_wrapper', 'range': [169, 238], 'children': []}, {'type': 'TryStatement', 'name': '', 'range': [240, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [243, 249], 'children': []}, {'type': 'YieldExpression', 'name': '', 'range': [251, 258], 'children': []}, {'type': 'FinallyStatement', 'name': '', 'range': [259, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [262, 268], 'children': []}]}]}, {'type': 'ForStatement', 'name': '', 'range': [282, 322], 'children': [{'type': 'IfStatement', 'name': '', 'range': [290, 322], 'children': [{'type': 'CallExpression', 'name': '', 'range': [294, 306], 'children': []}, {'type': 'AssignmentExpression', 'name': '', 'range': [308, 314], 'children': []}, {'type': 'AssertStatement', 'name': '', 'range': [315, 322], 'children': []}]}]}]}
2025-01-08 10:27:42,116 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 10:27:54,521 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [104, 132], 'children': [{'type': 'FunctionDeclaration', 'name': 'server', 'range': [114, 132], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [114, 119], 'children': []}, {'type': 'DefKeyword', 'name': 'def', 'range': [115, 118], 'children': []}, {'type': 'FunctionName', 'name': 'server', 'range': [116, 122], 'children': []}, {'type': 'Parameters', 'name': '', 'range': [117, 118], 'children': []}, {'type': 'Colon', 'name': ':', 'range': [119, 120], 'children': []}, {'type': 'Block', 'name': '', 'range': [120, 132], 'children': [{'type': 'AsyncWithStatement', 'name': '', 'range': [121, 128], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [121, 126], 'children': []}, {'type': 'WithKeyword', 'name': 'with', 'range': [122, 126], 'children': []}, {'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [123, 125], 'children': [{'type': 'FunctionName', 'name': 'SpinTestServer', 'range': [123, 125], 'children': []}, {'type': 'Arguments', 'name': '', 'range': [124, 125], 'children': []}]}, {'type': 'AsKeyword', 'name': 'as', 'range': [126, 128], 'children': []}, {'type': 'VariableName', 'name': 'server', 'range': [127, 128], 'children': []}]}, {'type': 'Colon', 'name': ':', 'range': [128, 129], 'children': []}, {'type': 'YieldStatement', 'name': '', 'range': [130, 132], 'children': [{'type': 'YieldKeyword', 'name': 'yield', 'range': [130, 131], 'children': []}, {'type': 'VariableName', 'name': 'server', 'range': [131, 132], 'children': []}]}]}]}]}
2025-01-08 10:27:54,521 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:07,068 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [104, 132], 'children': [{'type': 'FunctionDeclaration', 'name': 'server', 'range': [114, 132], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [114, 119], 'children': []}, {'type': 'FunctionName', 'name': 'server', 'range': [116, 122], 'children': []}, {'type': 'Block', 'name': '', 'range': [120, 132], 'children': [{'type': 'AsyncWithStatement', 'name': '', 'range': [121, 128], 'children': [{'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [123, 125], 'children': [{'type': 'FunctionName', 'name': 'SpinTestServer', 'range': [123, 125], 'children': []}]}, {'type': 'VariableName', 'name': 'server', 'range': [127, 128], 'children': []}]}, {'type': 'YieldStatement', 'name': '', 'range': [130, 132], 'children': [{'type': 'VariableName', 'name': 'server', 'range': [131, 132], 'children': []}]}]}]}]}
2025-01-08 10:28:07,104 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:10,778 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'logging', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [0, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'pytest', 'range': [4, 5], 'children': [{'type': 'ImportSpecifier', 'name': 'pytest', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SpinTestServer', 'range': [8, 15], 'children': [{'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [8, 15], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [47, 54], 'children': [{'type': 'VariableDeclarator', 'name': 'logger', 'range': [47, 54], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [49, 54], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [49, 50], 'children': []}, {'type': 'Identifier', 'name': '__name__', 'range': [53, 54], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'ch', 'range': [64, 70], 'children': [{'type': 'VariableDeclarator', 'name': 'ch', 'range': [64, 70], 'children': [{'type': 'NewExpression', 'name': 'StreamHandler', 'range': [66, 70], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [66, 67], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [72, 79], 'children': [{'type': 'CallExpression', 'name': 'setLevel', 'range': [73, 79], 'children': [{'type': 'Identifier', 'name': 'ch', 'range': [72, 73], 'children': []}, {'type': 'Identifier', 'name': 'INFO', 'range': [78, 79], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'formatter', 'range': [81, 88], 'children': [{'type': 'VariableDeclarator', 'name': 'formatter', 'range': [81, 88], 'children': [{'type': 'NewExpression', 'name': 'Formatter', 'range': [83, 88], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [83, 84], 'children': []}, {'type': 'Literal', 'name': '"%(asctime)s - %(name)s - %(levelname)s - %(message)s"', 'range': [87, 88], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [90, 95], 'children': [{'type': 'CallExpression', 'name': 'setFormatter', 'range': [91, 95], 'children': [{'type': 'Identifier', 'name': 'ch', 'range': [90, 91], 'children': []}, {'type': 'Identifier', 'name': 'formatter', 'range': [94, 95], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [97, 102], 'children': [{'type': 'CallExpression', 'name': 'addHandler', 'range': [98, 102], 'children': [{'type': 'Identifier', 'name': 'logger', 'range': [97, 98], 'children': []}, {'type': 'Identifier', 'name': 'ch', 'range': [101, 102], 'children': []}]}]}]}
2025-01-08 10:28:10,778 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:11,184 - INFO - Step 2 result: {'type': 'Program', 'name': '', 'range': [133, 322], 'children': [{'type': 'FunctionDeclaration', 'name': 'graph_cleanup', 'range': [147, 238], 'children': [{'type': 'Parameter', 'name': 'server', 'range': [151, 152], 'children': []}, {'type': 'VariableDeclaration', 'name': 'created_graph_ids', 'range': [155, 158], 'children': []}, {'type': 'AssignmentExpression', 'name': 'original_create_graph', 'range': [160, 167], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'create_graph_wrapper', 'range': [169, 238], 'children': [{'type': 'Parameter', 'name': '*args', 'range': [173, 174], 'children': []}, {'type': 'Parameter', 'name': '**kwargs', 'range': [176, 178], 'children': []}, {'type': 'VariableDeclaration', 'name': 'created_graph', 'range': [182, 193], 'children': []}, {'type': 'VariableDeclaration', 'name': 'user_id', 'range': [200, 221], 'children': []}, {'type': 'ExpressionStatement', 'name': 'created_graph_ids.append', 'range': [223, 234], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [236, 237], 'children': []}]}]}, {'type': 'TryStatement', 'name': '', 'range': [240, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [243, 249], 'children': []}, {'type': 'YieldExpression', 'name': '', 'range': [251, 258], 'children': []}, {'type': 'FinallyStatement', 'name': '', 'range': [259, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [262, 268], 'children': []}]}]}, {'type': 'ForStatement', 'name': '', 'range': [282, 322], 'children': [{'type': 'IfStatement', 'name': '', 'range': [290, 322], 'children': [{'type': 'CallExpression', 'name': '', 'range': [294, 306], 'children': []}, {'type': 'AssignmentExpression', 'name': '', 'range': [308, 314], 'children': []}, {'type': 'AssertStatement', 'name': '', 'range': [315, 322], 'children': []}]}]}]}
2025-01-08 10:28:11,184 - INFO - Starting Step 3: AST simplification
2025-01-08 10:28:18,791 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [104, 132], 'children': [{'type': 'FunctionDecl', 'name': 'server', 'range': [114, 132], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [114, 119], 'children': []}, {'type': 'Identifier', 'name': 'server', 'range': [116, 122], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [120, 132], 'children': [{'type': 'ExpressionStatement', 'name': '', 'range': [121, 128], 'children': [{'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [123, 125], 'children': [{'type': 'Identifier', 'name': 'SpinTestServer', 'range': [123, 125], 'children': []}]}, {'type': 'Identifier', 'name': 'server', 'range': [127, 128], 'children': []}]}, {'type': 'YieldExpression', 'name': '', 'range': [130, 132], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [131, 132], 'children': []}]}]}]}]}
2025-01-08 10:28:18,791 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:28:28,872 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [104, 132], 'children': [{'type': 'FunctionDecl', 'name': 'server', 'range': [114, 132], 'children': [{'type': 'AsyncKeyword', 'name': 'async', 'range': [114, 119], 'children': []}, {'type': 'Identifier', 'name': 'server', 'range': [116, 122], 'children': []}, {'type': 'BlockStatement', 'name': '', 'range': [120, 132], 'children': [{'type': 'ExpressionStatement', 'name': '', 'range': [121, 128], 'children': [{'type': 'CallExpression', 'name': 'SpinTestServer', 'range': [123, 125], 'children': [{'type': 'Identifier', 'name': 'SpinTestServer', 'range': [123, 125], 'children': []}]}, {'type': 'Identifier', 'name': 'server', 'range': [127, 128], 'children': []}]}, {'type': 'YieldExpression', 'name': '', 'range': [130, 132], 'children': [{'type': 'Identifier', 'name': 'server', 'range': [131, 132], 'children': []}]}]}]}]}
2025-01-08 10:28:28,888 - INFO - Completed main AST analysis flow
2025-01-08 10:28:28,888 - INFO - Successfully processed chunk
2025-01-08 10:28:31,637 - INFO - Step 3 result: {'type': 'Program', 'name': '', 'range': [133, 322], 'children': [{'type': 'FunctionDeclaration', 'name': 'graph_cleanup', 'range': [147, 238], 'children': [{'type': 'Parameter', 'name': 'server', 'range': [151, 152], 'children': []}, {'type': 'VariableDeclaration', 'name': 'created_graph_ids', 'range': [155, 158], 'children': []}, {'type': 'AssignmentExpression', 'name': 'original_create_graph', 'range': [160, 167], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'create_graph_wrapper', 'range': [169, 238], 'children': [{'type': 'Parameter', 'name': '*args', 'range': [173, 174], 'children': []}, {'type': 'Parameter', 'name': '**kwargs', 'range': [176, 178], 'children': []}, {'type': 'VariableDeclaration', 'name': 'created_graph', 'range': [182, 193], 'children': []}, {'type': 'VariableDeclaration', 'name': 'user_id', 'range': [200, 221], 'children': []}, {'type': 'ExpressionStatement', 'name': 'created_graph_ids.append', 'range': [223, 234], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [236, 237], 'children': []}]}]}, {'type': 'TryStatement', 'name': '', 'range': [240, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [243, 249], 'children': []}, {'type': 'YieldExpression', 'name': '', 'range': [251, 258], 'children': []}, {'type': 'FinallyStatement', 'name': '', 'range': [259, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [262, 268], 'children': []}]}]}, {'type': 'ForStatement', 'name': '', 'range': [282, 322], 'children': [{'type': 'IfStatement', 'name': '', 'range': [290, 322], 'children': [{'type': 'CallExpression', 'name': '', 'range': [294, 306], 'children': []}, {'type': 'AssignmentExpression', 'name': '', 'range': [308, 314], 'children': []}, {'type': 'AssertStatement', 'name': '', 'range': [315, 322], 'children': []}]}]}]}
2025-01-08 10:28:31,638 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:37,819 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'logging', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [0, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'pytest', 'range': [4, 5], 'children': [{'type': 'ImportSpecifier', 'name': 'pytest', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SpinTestServer', 'range': [8, 15], 'children': [{'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [8, 15], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [47, 54], 'children': [{'type': 'VariableDeclarator', 'name': 'logger', 'range': [47, 54], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [49, 54], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [49, 50], 'children': []}, {'type': 'Identifier', 'name': '__name__', 'range': [53, 54], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'ch', 'range': [64, 70], 'children': [{'type': 'VariableDeclarator', 'name': 'ch', 'range': [64, 70], 'children': [{'type': 'NewExpression', 'name': 'StreamHandler', 'range': [66, 70], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [66, 67], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [72, 79], 'children': [{'type': 'CallExpression', 'name': 'setLevel', 'range': [73, 79], 'children': [{'type': 'Identifier', 'name': 'ch', 'range': [72, 73], 'children': []}, {'type': 'Identifier', 'name': 'INFO', 'range': [78, 79], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'formatter', 'range': [81, 88], 'children': [{'type': 'VariableDeclarator', 'name': 'formatter', 'range': [81, 88], 'children': [{'type': 'NewExpression', 'name': 'Formatter', 'range': [83, 88], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [83, 84], 'children': []}, {'type': 'Literal', 'name': '"%(asctime)s - %(name)s - %(levelname)s - %(message)s"', 'range': [87, 88], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [90, 95], 'children': [{'type': 'CallExpression', 'name': 'setFormatter', 'range': [91, 95], 'children': [{'type': 'Identifier', 'name': 'ch', 'range': [90, 91], 'children': []}, {'type': 'Identifier', 'name': 'formatter', 'range': [94, 95], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [97, 102], 'children': [{'type': 'CallExpression', 'name': 'addHandler', 'range': [98, 102], 'children': [{'type': 'Identifier', 'name': 'logger', 'range': [97, 98], 'children': []}, {'type': 'Identifier', 'name': 'ch', 'range': [101, 102], 'children': []}]}]}]}
2025-01-08 10:28:37,820 - INFO - Starting Step 4: AST normalization
2025-01-08 10:28:47,503 - INFO - Step 4 result: {'type': 'Program', 'name': '', 'range': [133, 322], 'children': [{'type': 'FunctionDecl', 'name': 'graph_cleanup', 'range': [147, 238], 'children': [{'type': 'Parameter', 'name': 'server', 'range': [151, 152], 'children': []}, {'type': 'VariableDecl', 'name': 'created_graph_ids', 'range': [155, 158], 'children': []}, {'type': 'AssignmentExpression', 'name': 'original_create_graph', 'range': [160, 167], 'children': []}, {'type': 'FunctionDecl', 'name': 'create_graph_wrapper', 'range': [169, 238], 'children': [{'type': 'Parameter', 'name': '*args', 'range': [173, 174], 'children': []}, {'type': 'Parameter', 'name': '**kwargs', 'range': [176, 178], 'children': []}, {'type': 'VariableDecl', 'name': 'created_graph', 'range': [182, 193], 'children': []}, {'type': 'VariableDecl', 'name': 'user_id', 'range': [200, 221], 'children': []}, {'type': 'ExpressionStatement', 'name': 'created_graph_ids.append', 'range': [223, 234], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [236, 237], 'children': []}]}]}, {'type': 'TryStatement', 'name': '', 'range': [240, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [243, 249], 'children': []}, {'type': 'YieldExpression', 'name': '', 'range': [251, 258], 'children': []}, {'type': 'FinallyStatement', 'name': '', 'range': [259, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [262, 268], 'children': []}]}]}, {'type': 'ForStatement', 'name': '', 'range': [282, 322], 'children': [{'type': 'IfStatement', 'name': '', 'range': [290, 322], 'children': [{'type': 'CallExpression', 'name': '', 'range': [294, 306], 'children': []}, {'type': 'AssignmentExpression', 'name': '', 'range': [308, 314], 'children': []}, {'type': 'AssertStatement', 'name': '', 'range': [315, 322], 'children': []}]}]}]}
2025-01-08 10:28:47,503 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:29:00,072 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': 'logging', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [0, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'pytest', 'range': [4, 5], 'children': [{'type': 'ImportSpecifier', 'name': 'pytest', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SpinTestServer', 'range': [8, 15], 'children': [{'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [8, 15], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [47, 54], 'children': [{'type': 'VariableDeclarator', 'name': 'logger', 'range': [47, 54], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [49, 54], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [49, 50], 'children': []}, {'type': 'Identifier', 'name': '__name__', 'range': [53, 54], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'ch', 'range': [64, 70], 'children': [{'type': 'VariableDeclarator', 'name': 'ch', 'range': [64, 70], 'children': [{'type': 'NewExpression', 'name': 'StreamHandler', 'range': [66, 70], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [66, 67], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [72, 79], 'children': [{'type': 'CallExpression', 'name': 'setLevel', 'range': [73, 79], 'children': [{'type': 'Identifier', 'name': 'ch', 'range': [72, 73], 'children': []}, {'type': 'Identifier', 'name': 'INFO', 'range': [78, 79], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'formatter', 'range': [81, 88], 'children': [{'type': 'VariableDeclarator', 'name': 'formatter', 'range': [81, 88], 'children': [{'type': 'NewExpression', 'name': 'Formatter', 'range': [83, 88], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [83, 84], 'children': []}, {'type': 'Literal', 'name': '"%(asctime)s - %(name)s - %(levelname)s - %(message)s"', 'range': [87, 88], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [90, 95], 'children': [{'type': 'CallExpression', 'name': 'setFormatter', 'range': [91, 95], 'children': [{'type': 'Identifier', 'name': 'ch', 'range': [90, 91], 'children': []}, {'type': 'Identifier', 'name': 'formatter', 'range': [94, 95], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [97, 102], 'children': [{'type': 'CallExpression', 'name': 'addHandler', 'range': [98, 102], 'children': [{'type': 'Identifier', 'name': 'logger', 'range': [97, 98], 'children': []}, {'type': 'Identifier', 'name': 'ch', 'range': [101, 102], 'children': []}]}]}]}
2025-01-08 10:29:00,072 - INFO - Starting Step 5: Final AST combination
2025-01-08 10:29:02,796 - INFO - Step 5 result: {'type': 'Program', 'name': '', 'range': [133, 322], 'children': [{'type': 'FunctionDecl', 'name': 'graph_cleanup', 'range': [147, 238], 'children': [{'type': 'Parameter', 'name': 'server', 'range': [151, 152], 'children': []}, {'type': 'VariableDecl', 'name': 'created_graph_ids', 'range': [155, 158], 'children': []}, {'type': 'AssignmentExpression', 'name': 'original_create_graph', 'range': [160, 167], 'children': []}, {'type': 'FunctionDecl', 'name': 'create_graph_wrapper', 'range': [169, 238], 'children': [{'type': 'Parameter', 'name': '*args', 'range': [173, 174], 'children': []}, {'type': 'Parameter', 'name': '**kwargs', 'range': [176, 178], 'children': []}, {'type': 'VariableDecl', 'name': 'created_graph', 'range': [182, 193], 'children': []}, {'type': 'VariableDecl', 'name': 'user_id', 'range': [200, 221], 'children': []}, {'type': 'ExpressionStatement', 'name': 'created_graph_ids.append', 'range': [223, 234], 'children': []}, {'type': 'ReturnStatement', 'name': '', 'range': [236, 237], 'children': []}]}]}, {'type': 'TryStatement', 'name': '', 'range': [240, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [243, 249], 'children': []}, {'type': 'YieldExpression', 'name': '', 'range': [251, 258], 'children': []}, {'type': 'FinallyStatement', 'name': '', 'range': [259, 269], 'children': [{'type': 'AssignmentExpression', 'name': '', 'range': [262, 268], 'children': []}]}]}, {'type': 'ForStatement', 'name': '', 'range': [282, 322], 'children': [{'type': 'IfStatement', 'name': '', 'range': [290, 322], 'children': [{'type': 'CallExpression', 'name': '', 'range': [294, 306], 'children': []}, {'type': 'AssignmentExpression', 'name': '', 'range': [308, 314], 'children': []}, {'type': 'AssertStatement', 'name': '', 'range': [315, 322], 'children': []}]}]}]}
2025-01-08 10:29:02,796 - INFO - Completed main AST analysis flow
2025-01-08 10:29:02,796 - INFO - Successfully processed chunk
2025-01-08 10:29:22,426 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainProgram', 'range': [0, 102], 'children': [{'type': 'ImportDeclaration', 'name': 'logging', 'range': [0, 1], 'children': [{'type': 'ImportSpecifier', 'name': 'logging', 'range': [0, 1], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'pytest', 'range': [4, 5], 'children': [{'type': 'ImportSpecifier', 'name': 'pytest', 'range': [4, 5], 'children': []}]}, {'type': 'ImportDeclaration', 'name': 'SpinTestServer', 'range': [8, 15], 'children': [{'type': 'ImportSpecifier', 'name': 'SpinTestServer', 'range': [8, 15], 'children': []}]}, {'type': 'VariableDeclaration', 'name': 'logger', 'range': [47, 54], 'children': [{'type': 'VariableDeclarator', 'name': 'logger', 'range': [47, 54], 'children': [{'type': 'CallExpression', 'name': 'getLogger', 'range': [49, 54], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [49, 50], 'children': []}, {'type': 'Identifier', 'name': '__name__', 'range': [53, 54], 'children': []}]}]}]}, {'type': 'VariableDeclaration', 'name': 'ch', 'range': [64, 70], 'children': [{'type': 'VariableDeclarator', 'name': 'ch', 'range': [64, 70], 'children': [{'type': 'NewExpression', 'name': 'StreamHandler', 'range': [66, 70], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [66, 67], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [72, 79], 'children': [{'type': 'CallExpression', 'name': 'setLevel', 'range': [73, 79], 'children': [{'type': 'Identifier', 'name': 'ch', 'range': [72, 73], 'children': []}, {'type': 'Identifier', 'name': 'INFO', 'range': [78, 79], 'children': []}]}]}, {'type': 'VariableDeclaration', 'name': 'formatter', 'range': [81, 88], 'children': [{'type': 'VariableDeclarator', 'name': 'formatter', 'range': [81, 88], 'children': [{'type': 'NewExpression', 'name': 'Formatter', 'range': [83, 88], 'children': [{'type': 'Identifier', 'name': 'logging', 'range': [83, 84], 'children': []}, {'type': 'Literal', 'name': '"%(asctime)s - %(name)s - %(levelname)s - %(message)s"', 'range': [87, 88], 'children': []}]}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [90, 95], 'children': [{'type': 'CallExpression', 'name': 'setFormatter', 'range': [91, 95], 'children': [{'type': 'Identifier', 'name': 'ch', 'range': [90, 91], 'children': []}, {'type': 'Identifier', 'name': 'formatter', 'range': [94, 95], 'children': []}]}]}, {'type': 'ExpressionStatement', 'name': '', 'range': [97, 102], 'children': [{'type': 'CallExpression', 'name': 'addHandler', 'range': [98, 102], 'children': [{'type': 'Identifier', 'name': 'logger', 'range': [97, 98], 'children': []}, {'type': 'Identifier', 'name': 'ch', 'range': [101, 102], 'children': []}]}]}]}]}
2025-01-08 10:29:22,426 - INFO - Completed main AST analysis flow
2025-01-08 10:29:22,428 - INFO - Successfully processed chunk
2025-01-08 10:29:22,438 - INFO - Starting code generation from AST
2025-01-08 10:29:28,616 - INFO - Successfully generated code from AST
2025-01-08 10:29:28,616 - INFO - Starting static code similarity comparison
2025-01-08 10:29:28,619 - INFO - Static similarity result: {'final_score': 71.96, 'length_similarity': 66.85, 'token_similarity': 63.64, 'structure_similarity': 51.35, 'function_similarity': 100, 'complexity_similarity': 100.0, 'variable_similarity': 100}
