2025-01-08 09:19:50,359 - INFO - Processing sample 37
2025-01-08 09:19:50,359 - INFO - Starting Step 0: Splitting code into top-level declarations
2025-01-08 09:19:57,730 - INFO - Successfully split code into 2 top-level declarations
2025-01-08 09:19:57,733 - INFO - Processing chunk #0 (size=334 chars, start_index=0)
2025-01-08 09:19:57,733 - INFO - Processing chunk with 334 chars starting at index 0
2025-01-08 09:19:57,733 - INFO - Starting main AST analysis flow
2025-01-08 09:19:57,733 - INFO - Tokenized code into 65 tokens
2025-01-08 09:19:57,733 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:19:57,738 - INFO - Processing chunk #1 (size=4437 chars, start_index=65)
2025-01-08 09:19:57,738 - INFO - Processing chunk with 4437 chars starting at index 65
2025-01-08 09:19:57,738 - INFO - Starting main AST analysis flow
2025-01-08 09:19:57,739 - INFO - Tokenized code into 676 tokens
2025-01-08 09:19:57,740 - INFO - Starting Step 1: Initial AST node identification
2025-01-08 09:20:13,247 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [0, 64], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 29], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [30, 44], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [45, 53], 'children': []}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': []}]}
2025-01-08 09:20:13,247 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:20:20,819 - INFO - Step 1 result: {'type': 'Program', 'name': '', 'range': [65, 740], 'children': [{'type': 'ClassDeclaration', 'name': 'HubSpotEngagementBlock', 'range': [65, 71], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Input', 'range': [72, 78], 'children': []}, {'type': 'VariableDeclaration', 'name': 'credentials', 'range': [79, 86], 'children': []}, {'type': 'VariableDeclaration', 'name': 'operation', 'range': [87, 105], 'children': []}, {'type': 'VariableDeclaration', 'name': 'email_data', 'range': [106, 125], 'children': []}, {'type': 'VariableDeclaration', 'name': 'contact_id', 'range': [126, 142], 'children': []}, {'type': 'VariableDeclaration', 'name': 'timeframe_days', 'range': [143, 166], 'children': []}, {'type': 'ClassDeclaration', 'name': 'Output', 'range': [168, 174], 'children': []}, {'type': 'VariableDeclaration', 'name': 'result', 'range': [175, 185], 'children': []}, {'type': 'VariableDeclaration', 'name': 'status', 'range': [186, 196], 'children': []}, {'type': 'FunctionDeclaration', 'name': '__init__', 'range': [198, 250], 'children': []}, {'type': 'FunctionDeclaration', 'name': 'run', 'range': [252, 740], 'children': []}]}
2025-01-08 09:20:20,820 - INFO - Starting Step 2: Detailed AST construction
2025-01-08 09:20:41,780 - INFO - Step 2 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'ImportFrom', 'name': 'datetime', 'range': [0, 6], 'children': [{'type': 'Import', 'name': 'datetime', 'range': [2, 3], 'children': []}, {'type': 'Import', 'name': 'timedelta', 'range': [4, 5], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 29], 'children': [{'type': 'ImportFrom', 'name': 'backend.blocks.hubspot._auth', 'range': [8, 29], 'children': [{'type': 'Import', 'name': 'HubSpotCredentials', 'range': [19, 20], 'children': []}, {'type': 'Import', 'name': 'HubSpotCredentialsField', 'range': [22, 23], 'children': []}, {'type': 'Import', 'name': 'HubSpotCredentialsInput', 'range': [25, 26], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [30, 44], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.block', 'range': [30, 44], 'children': [{'type': 'Import', 'name': 'Block', 'range': [37, 38], 'children': []}, {'type': 'Import', 'name': 'BlockCategory', 'range': [39, 40], 'children': []}, {'type': 'Import', 'name': 'BlockOutput', 'range': [41, 42], 'children': []}, {'type': 'Import', 'name': 'BlockSchema', 'range': [43, 44], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [45, 53], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.model', 'range': [45, 53], 'children': [{'type': 'Import', 'name': 'SchemaField', 'range': [52, 53], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.request', 'range': [54, 62], 'children': [{'type': 'Import', 'name': 'requests', 'range': [61, 62], 'children': []}]}]}]}
2025-01-08 09:20:41,781 - INFO - Starting Step 3: AST simplification
2025-01-08 09:21:09,987 - INFO - Step 3 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'ImportFrom', 'name': 'datetime', 'range': [0, 6], 'children': [{'type': 'Import', 'name': 'datetime', 'range': [2, 3], 'children': []}, {'type': 'Import', 'name': 'timedelta', 'range': [4, 5], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 29], 'children': [{'type': 'ImportFrom', 'name': 'backend.blocks.hubspot._auth', 'range': [8, 29], 'children': [{'type': 'Import', 'name': 'HubSpotCredentials', 'range': [19, 20], 'children': []}, {'type': 'Import', 'name': 'HubSpotCredentialsField', 'range': [22, 23], 'children': []}, {'type': 'Import', 'name': 'HubSpotCredentialsInput', 'range': [25, 26], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [30, 44], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.block', 'range': [30, 44], 'children': [{'type': 'Import', 'name': 'Block', 'range': [37, 38], 'children': []}, {'type': 'Import', 'name': 'BlockCategory', 'range': [39, 40], 'children': []}, {'type': 'Import', 'name': 'BlockOutput', 'range': [41, 42], 'children': []}, {'type': 'Import', 'name': 'BlockSchema', 'range': [43, 44], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [45, 53], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.model', 'range': [45, 53], 'children': [{'type': 'Import', 'name': 'SchemaField', 'range': [52, 53], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.request', 'range': [54, 62], 'children': [{'type': 'Import', 'name': 'requests', 'range': [61, 62], 'children': []}]}]}]}
2025-01-08 09:21:09,987 - INFO - Starting Step 4: AST normalization
2025-01-08 09:21:35,939 - INFO - Step 4 result: {'nodes': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'ImportFrom', 'name': 'datetime', 'range': [0, 6], 'children': [{'type': 'ImportSpecifier', 'name': 'datetime', 'range': [2, 3], 'children': []}, {'type': 'ImportSpecifier', 'name': 'timedelta', 'range': [4, 5], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 29], 'children': [{'type': 'ImportFrom', 'name': 'backend.blocks.hubspot._auth', 'range': [8, 29], 'children': [{'type': 'ImportSpecifier', 'name': 'HubSpotCredentials', 'range': [19, 20], 'children': []}, {'type': 'ImportSpecifier', 'name': 'HubSpotCredentialsField', 'range': [22, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'HubSpotCredentialsInput', 'range': [25, 26], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [30, 44], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.block', 'range': [30, 44], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [37, 38], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [39, 40], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [41, 42], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [43, 44], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [45, 53], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.model', 'range': [45, 53], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [52, 53], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.request', 'range': [54, 62], 'children': [{'type': 'ImportSpecifier', 'name': 'requests', 'range': [61, 62], 'children': []}]}]}]}
2025-01-08 09:21:35,939 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:22:04,591 - INFO - Step 5 result: {'nodes': [{'type': 'Program', 'name': 'MainOrSomething', 'range': [0, 62], 'children': [{'type': 'ImportDeclaration', 'name': '', 'range': [0, 6], 'children': [{'type': 'ImportFrom', 'name': 'datetime', 'range': [0, 6], 'children': [{'type': 'ImportSpecifier', 'name': 'datetime', 'range': [2, 3], 'children': []}, {'type': 'ImportSpecifier', 'name': 'timedelta', 'range': [4, 5], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [8, 29], 'children': [{'type': 'ImportFrom', 'name': 'backend.blocks.hubspot._auth', 'range': [8, 29], 'children': [{'type': 'ImportSpecifier', 'name': 'HubSpotCredentials', 'range': [19, 20], 'children': []}, {'type': 'ImportSpecifier', 'name': 'HubSpotCredentialsField', 'range': [22, 23], 'children': []}, {'type': 'ImportSpecifier', 'name': 'HubSpotCredentialsInput', 'range': [25, 26], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [30, 44], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.block', 'range': [30, 44], 'children': [{'type': 'ImportSpecifier', 'name': 'Block', 'range': [37, 38], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockCategory', 'range': [39, 40], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockOutput', 'range': [41, 42], 'children': []}, {'type': 'ImportSpecifier', 'name': 'BlockSchema', 'range': [43, 44], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [45, 53], 'children': [{'type': 'ImportFrom', 'name': 'backend.data.model', 'range': [45, 53], 'children': [{'type': 'ImportSpecifier', 'name': 'SchemaField', 'range': [52, 53], 'children': []}]}]}, {'type': 'ImportDeclaration', 'name': '', 'range': [54, 62], 'children': [{'type': 'ImportFrom', 'name': 'backend.util.request', 'range': [54, 62], 'children': [{'type': 'ImportSpecifier', 'name': 'requests', 'range': [61, 62], 'children': []}]}]}]}]}
2025-01-08 09:22:04,591 - INFO - Completed main AST analysis flow
2025-01-08 09:22:04,592 - INFO - Successfully processed chunk
2025-01-08 09:24:24,604 - ERROR - Failed to parse Step 2 result
2025-01-08 09:24:24,604 - INFO - Starting Step 3: AST simplification
2025-01-08 09:28:23,280 - ERROR - Failed to parse Step 3 result
2025-01-08 09:28:23,281 - INFO - Starting Step 4: AST normalization
2025-01-08 09:28:37,403 - INFO - Step 4 result: {'type': 'Program', 'name': 'Program', 'range': [0, 0], 'children': []}
2025-01-08 09:28:37,404 - INFO - Starting Step 5: Final AST combination
2025-01-08 09:28:44,244 - INFO - Step 5 result: {'type': 'Program', 'name': 'Program', 'range': [0, 0], 'children': []}
2025-01-08 09:28:44,244 - INFO - Completed main AST analysis flow
2025-01-08 09:28:44,245 - INFO - Successfully processed chunk
2025-01-08 09:28:44,249 - INFO - Starting code generation from AST
2025-01-08 09:28:53,142 - INFO - Successfully generated code from AST
2025-01-08 09:28:53,142 - INFO - Starting static code similarity comparison
2025-01-08 09:28:53,145 - INFO - Static similarity result: {'final_score': 21.69, 'length_similarity': 0.08, 'token_similarity': 0.62, 'structure_similarity': 0.95, 'function_similarity': 100, 'complexity_similarity': 12.5, 'variable_similarity': 100}
