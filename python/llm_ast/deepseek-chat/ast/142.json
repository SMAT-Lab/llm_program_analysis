{
    "type": "Program",
    "name": "Global",
    "range": [
        0,
        581
    ],
    "children": [
        {
            "type": "ImportDeclaration",
            "name": "",
            "range": [
                0,
                2
            ],
            "children": [
                {
                    "type": "ImportSpecifier",
                    "name": "smtplib",
                    "range": [
                        1,
                        1
                    ],
                    "children": [],
                    "content": "smtplib"
                }
            ],
            "content": "import smtplib\n"
        },
        {
            "type": "ImportDeclaration",
            "name": "",
            "range": [
                3,
                11
            ],
            "children": [
                {
                    "type": "ImportSpecifier",
                    "name": "MIMEMultipart",
                    "range": [
                        10,
                        10
                    ],
                    "children": [],
                    "content": "MIMEMultipart"
                }
            ],
            "content": "from email.mime.multipart import MIMEMultipart\n"
        },
        {
            "type": "ImportDeclaration",
            "name": "",
            "range": [
                12,
                20
            ],
            "children": [
                {
                    "type": "ImportSpecifier",
                    "name": "MIMEText",
                    "range": [
                        19,
                        19
                    ],
                    "children": [],
                    "content": "MIMEText"
                }
            ],
            "content": "from email.mime.text import MIMEText\n"
        },
        {
            "type": "ImportDeclaration",
            "name": "",
            "range": [
                22,
                28
            ],
            "children": [
                {
                    "type": "ImportSpecifier",
                    "name": "BaseModel",
                    "range": [
                        25,
                        25
                    ],
                    "children": [],
                    "content": "BaseModel"
                },
                {
                    "type": "ImportSpecifier",
                    "name": "ConfigModel",
                    "range": [
                        27,
                        27
                    ],
                    "children": [],
                    "content": "ConfigDict"
                }
            ],
            "content": "from pydantic import BaseModel,ConfigDict\n"
        },
        {
            "type": "ImportDeclaration",
            "name": "",
            "range": [
                30,
                44
            ],
            "children": [
                {
                    "type": "ImportSpecifier",
                    "name": "Block",
                    "range": [
                        37,
                        37
                    ],
                    "children": [],
                    "content": "Block"
                },
                {
                    "type": "ImportSpecifier",
                    "name": "BlockCategory",
                    "range": [
                        39,
                        39
                    ],
                    "children": [],
                    "content": "BlockCategory"
                },
                {
                    "type": "ImportSpecifier",
                    "name": "BlockOutput",
                    "range": [
                        41,
                        41
                    ],
                    "children": [],
                    "content": "BlockOutput"
                },
                {
                    "type": "ImportSpecifier",
                    "name": "BlockSchema",
                    "range": [
                        43,
                        43
                    ],
                    "children": [],
                    "content": "BlockSchema"
                }
            ],
            "content": "from backend.data.block import Block,BlockCategory,BlockOutput,BlockSchema\n"
        },
        {
            "type": "ImportDeclaration",
            "name": "",
            "range": [
                45,
                57
            ],
            "children": [
                {
                    "type": "ImportSpecifier",
                    "name": "BlockSecret",
                    "range": [
                        52,
                        52
                    ],
                    "children": [],
                    "content": "BlockSecret"
                },
                {
                    "type": "ImportSpecifier",
                    "name": "SchemaField",
                    "range": [
                        54,
                        54
                    ],
                    "children": [],
                    "content": "SchemaField"
                },
                {
                    "type": "ImportSpecifier",
                    "name": "SecretField",
                    "range": [
                        56,
                        56
                    ],
                    "children": [],
                    "content": "SecretField"
                }
            ],
            "content": "from backend.data.model import BlockSecret,SchemaField,SecretField\n"
        },
        {
            "type": "ClassDecl",
            "name": "EmailCredentials",
            "range": [
                60,
                131
            ],
            "children": [
                {
                    "type": "Inheritance",
                    "name": "BaseModel",
                    "range": [
                        62,
                        64
                    ],
                    "children": [],
                    "content": "(BaseModel)"
                },
                {
                    "type": "FieldDecl",
                    "name": "smtp_server",
                    "range": [
                        67,
                        82
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                68,
                                69
                            ],
                            "children": [],
                            "content": ":str"
                        },
                        {
                            "type": "Assignment",
                            "name": "SchemaField",
                            "range": [
                                70,
                                82
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "default",
                                    "range": [
                                        74,
                                        76
                                    ],
                                    "children": [],
                                    "content": "default=\"smtp.gmail.com\""
                                },
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        78,
                                        80
                                    ],
                                    "children": [],
                                    "content": "description=\"SMTP server address\""
                                }
                            ],
                            "content": "=SchemaField(\ndefault=\"smtp.gmail.com\",description=\"SMTP server address\"\n)"
                        }
                    ],
                    "content": "smtp_server:str=SchemaField(\ndefault=\"smtp.gmail.com\",description=\"SMTP server address\"\n)"
                },
                {
                    "type": "FieldDecl",
                    "name": "smtp_port",
                    "range": [
                        84,
                        97
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "int",
                            "range": [
                                85,
                                86
                            ],
                            "children": [],
                            "content": ":int"
                        },
                        {
                            "type": "Assignment",
                            "name": "SchemaField",
                            "range": [
                                87,
                                97
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "default",
                                    "range": [
                                        90,
                                        92
                                    ],
                                    "children": [],
                                    "content": "default=25"
                                },
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        94,
                                        96
                                    ],
                                    "children": [],
                                    "content": "description=\"SMTP port number\""
                                }
                            ],
                            "content": "=SchemaField(default=25,description=\"SMTP port number\")"
                        }
                    ],
                    "content": "smtp_port:int=SchemaField(default=25,description=\"SMTP port number\")"
                },
                {
                    "type": "FieldDecl",
                    "name": "smtp_username",
                    "range": [
                        99,
                        108
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "BlockSecret",
                            "range": [
                                100,
                                101
                            ],
                            "children": [],
                            "content": ":BlockSecret"
                        },
                        {
                            "type": "Assignment",
                            "name": "SecretField",
                            "range": [
                                102,
                                108
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "key",
                                    "range": [
                                        105,
                                        107
                                    ],
                                    "children": [],
                                    "content": "key=\"smtp_username\""
                                }
                            ],
                            "content": "=SecretField(key=\"smtp_username\")"
                        }
                    ],
                    "content": "smtp_username:BlockSecret=SecretField(key=\"smtp_username\")"
                },
                {
                    "type": "FieldDecl",
                    "name": "smtp_password",
                    "range": [
                        110,
                        119
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "BlockSecret",
                            "range": [
                                111,
                                112
                            ],
                            "children": [],
                            "content": ":BlockSecret"
                        },
                        {
                            "type": "Assignment",
                            "name": "SecretField",
                            "range": [
                                113,
                                119
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "key",
                                    "range": [
                                        116,
                                        118
                                    ],
                                    "children": [],
                                    "content": "key=\"smtp_password\""
                                }
                            ],
                            "content": "=SecretField(key=\"smtp_password\")"
                        }
                    ],
                    "content": "smtp_password:BlockSecret=SecretField(key=\"smtp_password\")"
                },
                {
                    "type": "FieldDecl",
                    "name": "model_config",
                    "range": [
                        122,
                        129
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "ConfigDict",
                            "range": [
                                123,
                                129
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "title",
                                    "range": [
                                        126,
                                        128
                                    ],
                                    "children": [],
                                    "content": "title=\"Email Credentials\""
                                }
                            ],
                            "content": "=ConfigDict(title=\"Email Credentials\")"
                        }
                    ],
                    "content": "model_config=ConfigDict(title=\"Email Credentials\")"
                }
            ],
            "content": "class EmailCredentials(BaseModel):\nsmtp_server:str=SchemaField(\ndefault=\"smtp.gmail.com\",description=\"SMTP server address\"\n)\nsmtp_port:int=SchemaField(default=25,description=\"SMTP port number\")\nsmtp_username:BlockSecret=SecretField(key=\"smtp_username\")\nsmtp_password:BlockSecret=SecretField(key=\"smtp_password\")\n\nmodel_config=ConfigDict(title=\"Email Credentials\")\n\n"
        },
        {
            "type": "ClassDecl",
            "name": "SendEmailBlock",
            "range": [
                132,
                196
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "Block",
                    "range": [
                        134,
                        136
                    ],
                    "children": [],
                    "content": "SendEmailBlock(Block"
                }
            ],
            "content": "\nclass SendEmailBlock(Block):\nclass Input(BlockSchema):\nto_email:str=SchemaField(\ndescription=\"Recipient email address\",placeholder=\"recipient@example.com\"\n)\nsubject:str=SchemaField(\ndescription=\"Subject of the email\",placeholder=\"Enter the email subject\"\n)\nbody:str=SchemaField(\ndescription=\"Body of the email\",placeholder=\"Enter the email body\"\n)"
        },
        {
            "type": "ClassDecl",
            "name": "Input",
            "range": [
                139,
                196
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "BlockSchema",
                    "range": [
                        141,
                        143
                    ],
                    "children": [],
                    "content": "Input(BlockSchema"
                },
                {
                    "type": "FieldDecl",
                    "name": "to_email",
                    "range": [
                        146,
                        161
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                147,
                                148
                            ],
                            "children": [],
                            "content": "to_email:"
                        },
                        {
                            "type": "SchemaField",
                            "name": "SchemaField",
                            "range": [
                                150,
                                161
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        153,
                                        155
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        157,
                                        159
                                    ],
                                    "children": [],
                                    "content": ",placeholder="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"Recipient email address\",placeholder=\"recipient@example.com\"\n"
                        }
                    ],
                    "content": "\nto_email:str=SchemaField(\ndescription=\"Recipient email address\",placeholder=\"recipient@example.com\"\n"
                },
                {
                    "type": "FieldDecl",
                    "name": "subject",
                    "range": [
                        163,
                        178
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                164,
                                165
                            ],
                            "children": [],
                            "content": "subject:"
                        },
                        {
                            "type": "SchemaField",
                            "name": "SchemaField",
                            "range": [
                                167,
                                178
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        170,
                                        172
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        174,
                                        176
                                    ],
                                    "children": [],
                                    "content": ",placeholder="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"Subject of the email\",placeholder=\"Enter the email subject\"\n"
                        }
                    ],
                    "content": "\nsubject:str=SchemaField(\ndescription=\"Subject of the email\",placeholder=\"Enter the email subject\"\n"
                },
                {
                    "type": "FieldDecl",
                    "name": "body",
                    "range": [
                        180,
                        195
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                181,
                                182
                            ],
                            "children": [],
                            "content": "body:"
                        },
                        {
                            "type": "SchemaField",
                            "name": "SchemaField",
                            "range": [
                                184,
                                195
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        187,
                                        189
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        191,
                                        193
                                    ],
                                    "children": [],
                                    "content": ",placeholder="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"Body of the email\",placeholder=\"Enter the email body\"\n"
                        }
                    ],
                    "content": "\nbody:str=SchemaField(\ndescription=\"Body of the email\",placeholder=\"Enter the email body\"\n"
                },
                {
                    "type": "FieldDecl",
                    "name": "creds",
                    "range": [
                        197,
                        216
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "EmailCredentials",
                            "range": [
                                198,
                                199
                            ],
                            "children": [],
                            "content": "creds:"
                        },
                        {
                            "type": "SchemaField",
                            "name": "SchemaField",
                            "range": [
                                201,
                                216
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        204,
                                        206
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                },
                                {
                                    "type": "Argument",
                                    "name": "default",
                                    "range": [
                                        209,
                                        211
                                    ],
                                    "children": [
                                        {
                                            "type": "EmailCredentials",
                                            "name": "EmailCredentials",
                                            "range": [
                                                211,
                                                213
                                            ],
                                            "children": [],
                                            "content": "=EmailCredentials("
                                        }
                                    ],
                                    "content": "\ndefault="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"SMTP credentials\",\ndefault=EmailCredentials(),\n"
                        }
                    ],
                    "content": "\ncreds:EmailCredentials=SchemaField(\ndescription=\"SMTP credentials\",\ndefault=EmailCredentials(),\n"
                }
            ],
            "content": "\nclass Input(BlockSchema):\nto_email:str=SchemaField(\ndescription=\"Recipient email address\",placeholder=\"recipient@example.com\"\n)\nsubject:str=SchemaField(\ndescription=\"Subject of the email\",placeholder=\"Enter the email subject\"\n)\nbody:str=SchemaField(\ndescription=\"Body of the email\",placeholder=\"Enter the email body\"\n)"
        },
        {
            "type": "ClassDecl",
            "name": "Output",
            "range": [
                219,
                249
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "BlockSchema",
                    "range": [
                        221,
                        223
                    ],
                    "children": [],
                    "content": "Output(BlockSchema"
                },
                {
                    "type": "FieldDecl",
                    "name": "status",
                    "range": [
                        226,
                        235
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                227,
                                228
                            ],
                            "children": [],
                            "content": "status:"
                        },
                        {
                            "type": "SchemaField",
                            "name": "SchemaField",
                            "range": [
                                230,
                                235
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        232,
                                        234
                                    ],
                                    "children": [],
                                    "content": "(description="
                                }
                            ],
                            "content": "=SchemaField(description=\"Status of the email sending operation\""
                        }
                    ],
                    "content": "\nstatus:str=SchemaField(description=\"Status of the email sending operation\""
                },
                {
                    "type": "FieldDecl",
                    "name": "error",
                    "range": [
                        237,
                        248
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                238,
                                239
                            ],
                            "children": [],
                            "content": "error:"
                        },
                        {
                            "type": "SchemaField",
                            "name": "SchemaField",
                            "range": [
                                241,
                                248
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        244,
                                        246
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"Error message if the email sending failed\"\n"
                        }
                    ],
                    "content": "\nerror:str=SchemaField(\ndescription=\"Error message if the email sending failed\"\n"
                }
            ],
            "content": "\nclass Output(BlockSchema):\nstatus:str=SchemaField(description=\"Status of the email sending operation\")\nerror:str=SchemaField(\ndescription=\"Error message if the email sending failed\"\n)"
        },
        {
            "type": "FunctionDecl",
            "name": "__init__",
            "range": [
                251,
                381
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        254,
                        255
                    ],
                    "children": [],
                    "content": "(self"
                },
                {
                    "type": "SuperCall",
                    "name": "super",
                    "range": [
                        258,
                        264
                    ],
                    "children": [],
                    "content": "\nsuper().__init__("
                },
                {
                    "type": "Assignment",
                    "name": "disabled",
                    "range": [
                        265,
                        267
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "True",
                            "range": [
                                267,
                                267
                            ],
                            "children": [],
                            "content": "="
                        }
                    ],
                    "content": "\ndisabled="
                },
                {
                    "type": "Assignment",
                    "name": "id",
                    "range": [
                        270,
                        272
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "\"4335878a-394e-4e67-adf2-919877ff49ae\"",
                            "range": [
                                272,
                                272
                            ],
                            "children": [],
                            "content": "="
                        }
                    ],
                    "content": "\nid="
                },
                {
                    "type": "Assignment",
                    "name": "description",
                    "range": [
                        275,
                        277
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "\"This block sends an email using the provided SMTP credentials.\"",
                            "range": [
                                277,
                                277
                            ],
                            "children": [],
                            "content": "="
                        }
                    ],
                    "content": "\ndescription="
                },
                {
                    "type": "Assignment",
                    "name": "categories",
                    "range": [
                        280,
                        286
                    ],
                    "children": [
                        {
                            "type": "BlockCategory",
                            "name": "BlockCategory.OUTPUT",
                            "range": [
                                283,
                                286
                            ],
                            "children": [],
                            "content": "{BlockCategory.OUTPUT"
                        }
                    ],
                    "content": "\ncategories={BlockCategory.OUTPUT"
                },
                {
                    "type": "Assignment",
                    "name": "input_schema",
                    "range": [
                        289,
                        294
                    ],
                    "children": [
                        {
                            "type": "SendEmailBlock",
                            "name": "SendEmailBlock.Input",
                            "range": [
                                291,
                                294
                            ],
                            "children": [],
                            "content": "=SendEmailBlock.Input"
                        }
                    ],
                    "content": "\ninput_schema=SendEmailBlock.Input"
                },
                {
                    "type": "Assignment",
                    "name": "output_schema",
                    "range": [
                        296,
                        300
                    ],
                    "children": [
                        {
                            "type": "SendEmailBlock",
                            "name": "SendEmailBlock.Output",
                            "range": [
                                298,
                                300
                            ],
                            "children": [],
                            "content": "=SendEmailBlock."
                        }
                    ],
                    "content": "\noutput_schema=SendEmailBlock."
                },
                {
                    "type": "Assignment",
                    "name": "test_input",
                    "range": [
                        303,
                        349
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "\"to_email\"",
                            "range": [
                                307,
                                307
                            ],
                            "children": [],
                            "content": "\n"
                        },
                        {
                            "type": "Literal",
                            "name": "\"recipient@example.com\"",
                            "range": [
                                309,
                                309
                            ],
                            "children": [],
                            "content": ":"
                        },
                        {
                            "type": "Literal",
                            "name": "\"subject\"",
                            "range": [
                                312,
                                312
                            ],
                            "children": [],
                            "content": "\n"
                        },
                        {
                            "type": "Literal",
                            "name": "\"Test Email\"",
                            "range": [
                                314,
                                314
                            ],
                            "children": [],
                            "content": ":"
                        },
                        {
                            "type": "Literal",
                            "name": "\"body\"",
                            "range": [
                                317,
                                317
                            ],
                            "children": [],
                            "content": "\n"
                        },
                        {
                            "type": "Literal",
                            "name": "\"This is a test email.\"",
                            "range": [
                                319,
                                319
                            ],
                            "children": [],
                            "content": ":"
                        },
                        {
                            "type": "Literal",
                            "name": "\"creds\"",
                            "range": [
                                322,
                                322
                            ],
                            "children": [],
                            "content": "\n"
                        },
                        {
                            "type": "ObjectLiteral",
                            "name": "",
                            "range": [
                                324,
                                346
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"smtp_server\"",
                                    "range": [
                                        326,
                                        326
                                    ],
                                    "children": [],
                                    "content": "\n"
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"smtp.gmail.com\"",
                                    "range": [
                                        328,
                                        328
                                    ],
                                    "children": [],
                                    "content": ":"
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"smtp_port\"",
                                    "range": [
                                        331,
                                        331
                                    ],
                                    "children": [],
                                    "content": "\n"
                                },
                                {
                                    "type": "Literal",
                                    "name": "25",
                                    "range": [
                                        333,
                                        333
                                    ],
                                    "children": [],
                                    "content": ":"
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"smtp_username\"",
                                    "range": [
                                        336,
                                        336
                                    ],
                                    "children": [],
                                    "content": "\n"
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"your-email@gmail.com\"",
                                    "range": [
                                        338,
                                        338
                                    ],
                                    "children": [],
                                    "content": ":"
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"smtp_password\"",
                                    "range": [
                                        341,
                                        341
                                    ],
                                    "children": [],
                                    "content": "\n"
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"your-gmail-password\"",
                                    "range": [
                                        343,
                                        343
                                    ],
                                    "children": [],
                                    "content": ":"
                                }
                            ],
                            "content": ":{\n\"smtp_server\":\"smtp.gmail.com\",\n\"smtp_port\":25,\n\"smtp_username\":\"your-email@gmail.com\",\n\"smtp_password\":\"your-gmail-password\",\n"
                        }
                    ],
                    "content": "\ntest_input={\n\"to_email\":\"recipient@example.com\",\n\"subject\":\"Test Email\",\n\"body\":\"This is a test email.\",\n\"creds\":{\n\"smtp_server\":\"smtp.gmail.com\",\n\"smtp_port\":25,\n\"smtp_username\":\"your-email@gmail.com\",\n\"smtp_password\":\"your-gmail-password\",\n},\n"
                },
                {
                    "type": "Assignment",
                    "name": "test_output",
                    "range": [
                        352,
                        360
                    ],
                    "children": [
                        {
                            "type": "ArrayLiteral",
                            "name": "",
                            "range": [
                                354,
                                360
                            ],
                            "children": [
                                {
                                    "type": "TupleLiteral",
                                    "name": "",
                                    "range": [
                                        355,
                                        359
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "\"status\"",
                                            "range": [
                                                356,
                                                356
                                            ],
                                            "children": [],
                                            "content": "("
                                        },
                                        {
                                            "type": "Literal",
                                            "name": "\"Email sent successfully\"",
                                            "range": [
                                                358,
                                                358
                                            ],
                                            "children": [],
                                            "content": ","
                                        }
                                    ],
                                    "content": "[(\"status\",\"Email sent successfully\""
                                }
                            ],
                            "content": "=[(\"status\",\"Email sent successfully\")"
                        }
                    ],
                    "content": "\ntest_output=[(\"status\",\"Email sent successfully\")"
                },
                {
                    "type": "Assignment",
                    "name": "test_mock",
                    "range": [
                        363,
                        377
                    ],
                    "children": [
                        {
                            "type": "ObjectLiteral",
                            "name": "",
                            "range": [
                                365,
                                377
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"send_email\"",
                                    "range": [
                                        366,
                                        366
                                    ],
                                    "children": [],
                                    "content": "{"
                                },
                                {
                                    "type": "Lambda",
                                    "name": "",
                                    "range": [
                                        368,
                                        376
                                    ],
                                    "children": [
                                        {
                                            "type": "Parameter",
                                            "name": "*args",
                                            "range": [
                                                369,
                                                370
                                            ],
                                            "children": [],
                                            "content": "lambda*"
                                        },
                                        {
                                            "type": "Parameter",
                                            "name": "**kwargs",
                                            "range": [
                                                372,
                                                374
                                            ],
                                            "children": [],
                                            "content": ",**"
                                        },
                                        {
                                            "type": "Literal",
                                            "name": "\"Email sent successfully\"",
                                            "range": [
                                                376,
                                                376
                                            ],
                                            "children": [],
                                            "content": ":"
                                        }
                                    ],
                                    "content": ":lambda*args,**kwargs:"
                                }
                            ],
                            "content": "={\"send_email\":lambda*args,**kwargs:\"Email sent successfully\""
                        }
                    ],
                    "content": "\ntest_mock={\"send_email\":lambda*args,**kwargs:\"Email sent successfully\""
                }
            ],
            "content": "\ndef __init__(self):\nsuper().__init__(\ndisabled=True,\nid=\"4335878a-394e-4e67-adf2-919877ff49ae\",\ndescription=\"This block sends an email using the provided SMTP credentials.\",\ncategories={BlockCategory.OUTPUT},\ninput_schema=SendEmailBlock.Input,\noutput_schema=SendEmailBlock.Output,\ntest_input={\n\"to_email\":\"recipient@example.com\",\n\"subject\":\"Test Email\",\n\"body\":\"This is a test email.\",\n\"creds\":{\n\"smtp_server\":\"smtp.gmail.com\",\n\"smtp_port\":25,\n\"smtp_username\":\"your-email@gmail.com\",\n\"smtp_password\":\"your-gmail-password\",\n},\n},\ntest_output=[(\"status\",\"Email sent successfully\")],\ntest_mock={\"send_email\":lambda*args,**kwargs:\"Email sent successfully\"},\n)"
        },
        {
            "type": "FunctionDecl",
            "name": "send_email",
            "range": [
                386,
                531
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "creds",
                    "range": [
                        390,
                        392
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "EmailCredentials",
                            "range": [
                                391,
                                392
                            ],
                            "children": [],
                            "content": "creds:"
                        }
                    ],
                    "content": "\ncreds:"
                },
                {
                    "type": "Parameter",
                    "name": "to_email",
                    "range": [
                        394,
                        396
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                395,
                                396
                            ],
                            "children": [],
                            "content": "to_email:"
                        }
                    ],
                    "content": ",to_email:"
                },
                {
                    "type": "Parameter",
                    "name": "subject",
                    "range": [
                        398,
                        400
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                399,
                                400
                            ],
                            "children": [],
                            "content": "subject:"
                        }
                    ],
                    "content": ",subject:"
                },
                {
                    "type": "Parameter",
                    "name": "body",
                    "range": [
                        402,
                        404
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                403,
                                404
                            ],
                            "children": [],
                            "content": "body:"
                        }
                    ],
                    "content": ",body:"
                },
                {
                    "type": "ReturnType",
                    "name": "str",
                    "range": [
                        407,
                        409
                    ],
                    "children": [],
                    "content": ")->"
                },
                {
                    "type": "Assignment",
                    "name": "smtp_server",
                    "range": [
                        412,
                        417
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "creds.smtp_server",
                            "range": [
                                414,
                                417
                            ],
                            "children": [],
                            "content": "=creds.smtp_server"
                        }
                    ],
                    "content": "\nsmtp_server=creds.smtp_server"
                },
                {
                    "type": "Assignment",
                    "name": "smtp_port",
                    "range": [
                        418,
                        423
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "creds.smtp_port",
                            "range": [
                                420,
                                423
                            ],
                            "children": [],
                            "content": "=creds.smtp_port"
                        }
                    ],
                    "content": "\nsmtp_port=creds.smtp_port"
                },
                {
                    "type": "Assignment",
                    "name": "smtp_username",
                    "range": [
                        424,
                        433
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "creds.smtp_username",
                            "range": [
                                426,
                                429
                            ],
                            "children": [],
                            "content": "=creds.smtp_username"
                        },
                        {
                            "type": "CallExpression",
                            "name": "get_secret_value",
                            "range": [
                                430,
                                433
                            ],
                            "children": [],
                            "content": ".get_secret_value()"
                        }
                    ],
                    "content": "\nsmtp_username=creds.smtp_username.get_secret_value()"
                },
                {
                    "type": "Assignment",
                    "name": "smtp_password",
                    "range": [
                        434,
                        443
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "creds.smtp_password",
                            "range": [
                                436,
                                439
                            ],
                            "children": [],
                            "content": "=creds.smtp_password"
                        },
                        {
                            "type": "CallExpression",
                            "name": "get_secret_value",
                            "range": [
                                440,
                                443
                            ],
                            "children": [],
                            "content": ".get_secret_value()"
                        }
                    ],
                    "content": "\nsmtp_password=creds.smtp_password.get_secret_value()"
                },
                {
                    "type": "Assignment",
                    "name": "msg",
                    "range": [
                        445,
                        450
                    ],
                    "children": [
                        {
                            "type": "MIMEMultipart",
                            "name": "MIMEMultipart",
                            "range": [
                                447,
                                450
                            ],
                            "children": [],
                            "content": "=MIMEMultipart()"
                        }
                    ],
                    "content": "\nmsg=MIMEMultipart()"
                },
                {
                    "type": "Assignment",
                    "name": "msg[\"From\"]",
                    "range": [
                        451,
                        457
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "smtp_username",
                            "range": [
                                456,
                                457
                            ],
                            "children": [],
                            "content": "=smtp_username"
                        }
                    ],
                    "content": "\nmsg[\"From\"]=smtp_username"
                },
                {
                    "type": "Assignment",
                    "name": "msg[\"To\"]",
                    "range": [
                        458,
                        464
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "to_email",
                            "range": [
                                463,
                                464
                            ],
                            "children": [],
                            "content": "=to_email"
                        }
                    ],
                    "content": "\nmsg[\"To\"]=to_email"
                },
                {
                    "type": "Assignment",
                    "name": "msg[\"Subject\"]",
                    "range": [
                        465,
                        471
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "subject",
                            "range": [
                                470,
                                471
                            ],
                            "children": [],
                            "content": "=subject"
                        }
                    ],
                    "content": "\nmsg[\"Subject\"]=subject"
                },
                {
                    "type": "CallExpression",
                    "name": "msg.attach",
                    "range": [
                        472,
                        483
                    ],
                    "children": [
                        {
                            "type": "MIMEText",
                            "name": "MIMEText",
                            "range": [
                                476,
                                481
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "body",
                                    "range": [
                                        478,
                                        478
                                    ],
                                    "children": [],
                                    "content": "("
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"plain\"",
                                    "range": [
                                        480,
                                        480
                                    ],
                                    "children": [],
                                    "content": ","
                                }
                            ],
                            "content": "(MIMEText(body,\"plain\""
                        }
                    ],
                    "content": "\nmsg.attach(MIMEText(body,\"plain\"))"
                },
                {
                    "type": "WithStatement",
                    "name": "with",
                    "range": [
                        485,
                        527
                    ],
                    "children": [
                        {
                            "type": "SMTP",
                            "name": "smtplib.SMTP",
                            "range": [
                                486,
                                493
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "smtp_server",
                                    "range": [
                                        490,
                                        490
                                    ],
                                    "children": [],
                                    "content": "("
                                },
                                {
                                    "type": "Literal",
                                    "name": "smtp_port",
                                    "range": [
                                        492,
                                        492
                                    ],
                                    "children": [],
                                    "content": ","
                                }
                            ],
                            "content": "with smtplib.SMTP(smtp_server,smtp_port"
                        },
                        {
                            "type": "CallExpression",
                            "name": "server.starttls",
                            "range": [
                                498,
                                503
                            ],
                            "children": [],
                            "content": "\nserver.starttls()"
                        },
                        {
                            "type": "CallExpression",
                            "name": "server.login",
                            "range": [
                                504,
                                512
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "smtp_username",
                                    "range": [
                                        508,
                                        508
                                    ],
                                    "children": [],
                                    "content": "("
                                },
                                {
                                    "type": "Literal",
                                    "name": "smtp_password",
                                    "range": [
                                        510,
                                        510
                                    ],
                                    "children": [],
                                    "content": ","
                                }
                            ],
                            "content": "\nserver.login(smtp_username,smtp_password)"
                        },
                        {
                            "type": "CallExpression",
                            "name": "server.sendmail",
                            "range": [
                                513,
                                527
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "smtp_username",
                                    "range": [
                                        517,
                                        517
                                    ],
                                    "children": [],
                                    "content": "("
                                },
                                {
                                    "type": "Literal",
                                    "name": "to_email",
                                    "range": [
                                        519,
                                        519
                                    ],
                                    "children": [],
                                    "content": ","
                                },
                                {
                                    "type": "CallExpression",
                                    "name": "msg.as_string",
                                    "range": [
                                        522,
                                        526
                                    ],
                                    "children": [],
                                    "content": "msg.as_string()"
                                }
                            ],
                            "content": "\nserver.sendmail(smtp_username,to_email,msg.as_string())"
                        }
                    ],
                    "content": "\nwith smtplib.SMTP(smtp_server,smtp_port)as server:\nserver.starttls()\nserver.login(smtp_username,smtp_password)\nserver.sendmail(smtp_username,to_email,msg.as_string())"
                },
                {
                    "type": "ReturnStatement",
                    "name": "return",
                    "range": [
                        529,
                        531
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "\"Email sent successfully\"",
                            "range": [
                                530,
                                531
                            ],
                            "children": [],
                            "content": "return \"Email sent successfully\""
                        }
                    ],
                    "content": "\nreturn \"Email sent successfully\""
                }
            ],
            "content": "\ndef send_email(\ncreds:EmailCredentials,to_email:str,subject:str,body:str\n)->str:\nsmtp_server=creds.smtp_server\nsmtp_port=creds.smtp_port\nsmtp_username=creds.smtp_username.get_secret_value()\nsmtp_password=creds.smtp_password.get_secret_value()\n\nmsg=MIMEMultipart()\nmsg[\"From\"]=smtp_username\nmsg[\"To\"]=to_email\nmsg[\"Subject\"]=subject\nmsg.attach(MIMEText(body,\"plain\"))\n\nwith smtplib.SMTP(smtp_server,smtp_port)as server:\nserver.starttls()\nserver.login(smtp_username,smtp_password)\nserver.sendmail(smtp_username,to_email,msg.as_string())\n\nreturn \"Email sent successfully\""
        },
        {
            "type": "FunctionDecl",
            "name": "run",
            "range": [
                533,
                581
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        536,
                        537
                    ],
                    "children": [],
                    "content": "(self"
                },
                {
                    "type": "Parameter",
                    "name": "input_data",
                    "range": [
                        538,
                        540
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "Input",
                            "range": [
                                539,
                                540
                            ],
                            "children": [],
                            "content": "input_data:"
                        }
                    ],
                    "content": ",input_data:"
                },
                {
                    "type": "Parameter",
                    "name": "**kwargs",
                    "range": [
                        542,
                        544
                    ],
                    "children": [],
                    "content": ",**"
                },
                {
                    "type": "ReturnType",
                    "name": "BlockOutput",
                    "range": [
                        546,
                        548
                    ],
                    "children": [],
                    "content": ")->"
                },
                {
                    "type": "YieldStatement",
                    "name": "yield",
                    "range": [
                        551,
                        580
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "\"status\"",
                            "range": [
                                552,
                                552
                            ],
                            "children": [],
                            "content": "yield"
                        },
                        {
                            "type": "CallExpression",
                            "name": "self.send_email",
                            "range": [
                                554,
                                579
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "input_data.creds",
                                    "range": [
                                        560,
                                        562
                                    ],
                                    "children": [],
                                    "content": "input_data.creds"
                                },
                                {
                                    "type": "MemberExpression",
                                    "name": "input_data.to_email",
                                    "range": [
                                        565,
                                        567
                                    ],
                                    "children": [],
                                    "content": "input_data.to_email"
                                },
                                {
                                    "type": "MemberExpression",
                                    "name": "input_data.subject",
                                    "range": [
                                        570,
                                        572
                                    ],
                                    "children": [],
                                    "content": "input_data.subject"
                                },
                                {
                                    "type": "MemberExpression",
                                    "name": "input_data.body",
                                    "range": [
                                        575,
                                        577
                                    ],
                                    "children": [],
                                    "content": "input_data.body"
                                }
                            ],
                            "content": ",self.send_email(\ninput_data.creds,\ninput_data.to_email,\ninput_data.subject,\ninput_data.body,\n"
                        }
                    ],
                    "content": "\nyield \"status\",self.send_email(\ninput_data.creds,\ninput_data.to_email,\ninput_data.subject,\ninput_data.body,\n)"
                }
            ],
            "content": "\ndef run(self,input_data:Input,**kwargs)->BlockOutput:\nyield \"status\",self.send_email(\ninput_data.creds,\ninput_data.to_email,\ninput_data.subject,\ninput_data.body,\n)\n"
        }
    ],
    "content": "import smtplib\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\n\nfrom pydantic import BaseModel,ConfigDict\n\nfrom backend.data.block import Block,BlockCategory,BlockOutput,BlockSchema\nfrom backend.data.model import BlockSecret,SchemaField,SecretField\n\n\nclass EmailCredentials(BaseModel):\nsmtp_server:str=SchemaField(\ndefault=\"smtp.gmail.com\",description=\"SMTP server address\"\n)\nsmtp_port:int=SchemaField(default=25,description=\"SMTP port number\")\nsmtp_username:BlockSecret=SecretField(key=\"smtp_username\")\nsmtp_password:BlockSecret=SecretField(key=\"smtp_password\")\n\nmodel_config=ConfigDict(title=\"Email Credentials\")\n\n\nclass SendEmailBlock(Block):\nclass Input(BlockSchema):\nto_email:str=SchemaField(\ndescription=\"Recipient email address\",placeholder=\"recipient@example.com\"\n)\nsubject:str=SchemaField(\ndescription=\"Subject of the email\",placeholder=\"Enter the email subject\"\n)\nbody:str=SchemaField(\ndescription=\"Body of the email\",placeholder=\"Enter the email body\"\n)\ncreds:EmailCredentials=SchemaField(\ndescription=\"SMTP credentials\",\ndefault=EmailCredentials(),\n)\n\nclass Output(BlockSchema):\nstatus:str=SchemaField(description=\"Status of the email sending operation\")\nerror:str=SchemaField(\ndescription=\"Error message if the email sending failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\ndisabled=True,\nid=\"4335878a-394e-4e67-adf2-919877ff49ae\",\ndescription=\"This block sends an email using the provided SMTP credentials.\",\ncategories={BlockCategory.OUTPUT},\ninput_schema=SendEmailBlock.Input,\noutput_schema=SendEmailBlock.Output,\ntest_input={\n\"to_email\":\"recipient@example.com\",\n\"subject\":\"Test Email\",\n\"body\":\"This is a test email.\",\n\"creds\":{\n\"smtp_server\":\"smtp.gmail.com\",\n\"smtp_port\":25,\n\"smtp_username\":\"your-email@gmail.com\",\n\"smtp_password\":\"your-gmail-password\",\n},\n},\ntest_output=[(\"status\",\"Email sent successfully\")],\ntest_mock={\"send_email\":lambda*args,**kwargs:\"Email sent successfully\"},\n)\n\n@staticmethod\ndef send_email(\ncreds:EmailCredentials,to_email:str,subject:str,body:str\n)->str:\nsmtp_server=creds.smtp_server\nsmtp_port=creds.smtp_port\nsmtp_username=creds.smtp_username.get_secret_value()\nsmtp_password=creds.smtp_password.get_secret_value()\n\nmsg=MIMEMultipart()\nmsg[\"From\"]=smtp_username\nmsg[\"To\"]=to_email\nmsg[\"Subject\"]=subject\nmsg.attach(MIMEText(body,\"plain\"))\n\nwith smtplib.SMTP(smtp_server,smtp_port)as server:\nserver.starttls()\nserver.login(smtp_username,smtp_password)\nserver.sendmail(smtp_username,to_email,msg.as_string())\n\nreturn \"Email sent successfully\"\n\ndef run(self,input_data:Input,**kwargs)->BlockOutput:\nyield \"status\",self.send_email(\ninput_data.creds,\ninput_data.to_email,\ninput_data.subject,\ninput_data.body,\n)\n"
}