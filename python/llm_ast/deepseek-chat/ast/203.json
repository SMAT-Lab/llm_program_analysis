{
    "type": "Program",
    "name": "Global",
    "range": [
        131,
        608
    ],
    "children": [
        {
            "type": "IfStatement",
            "name": "",
            "range": [
                131,
                140
            ],
            "children": [
                {
                    "type": "Condition",
                    "name": "",
                    "range": [
                        132,
                        139
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "os",
                            "range": [
                                132,
                                134
                            ],
                            "children": [],
                            "content": "os.environ"
                        },
                        {
                            "type": "CallExpression",
                            "name": "get",
                            "range": [
                                136,
                                139
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "",
                                    "range": [
                                        138,
                                        138
                                    ],
                                    "children": [],
                                    "content": "\"SENTRY_DSN\""
                                }
                            ],
                            "content": "get(\"SENTRY_DSN\")"
                        }
                    ],
                    "content": "os.environ.get(\"SENTRY_DSN\")"
                }
            ],
            "content": "if os.environ.get(\"SENTRY_DSN\"):"
        },
        {
            "type": "ExpressionStatement",
            "name": "",
            "range": [
                142,
                246
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "init",
                    "range": [
                        142,
                        246
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "sentry_sdk",
                            "range": [
                                142,
                                144
                            ],
                            "children": [],
                            "content": "sentry_sdk.init"
                        },
                        {
                            "type": "Argument",
                            "name": "dsn",
                            "range": [
                                147,
                                156
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "os",
                                    "range": [
                                        149,
                                        151
                                    ],
                                    "children": [],
                                    "content": "os.environ"
                                },
                                {
                                    "type": "CallExpression",
                                    "name": "get",
                                    "range": [
                                        153,
                                        156
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "",
                                            "range": [
                                                155,
                                                155
                                            ],
                                            "children": [],
                                            "content": "\"SENTRY_DSN\""
                                        }
                                    ],
                                    "content": "get(\"SENTRY_DSN\")"
                                }
                            ],
                            "content": "dsn=os.environ.get(\"SENTRY_DSN\")"
                        },
                        {
                            "type": "Argument",
                            "name": "traces_sample_rate",
                            "range": [
                                159,
                                163
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "",
                                    "range": [
                                        161,
                                        163
                                    ],
                                    "children": [],
                                    "content": "1.0"
                                }
                            ],
                            "content": "traces_sample_rate=1.0"
                        },
                        {
                            "type": "Argument",
                            "name": "profiles_sample_rate",
                            "range": [
                                166,
                                170
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "",
                                    "range": [
                                        168,
                                        170
                                    ],
                                    "children": [],
                                    "content": "1.0"
                                }
                            ],
                            "content": "profiles_sample_rate=1.0"
                        },
                        {
                            "type": "Argument",
                            "name": "enable_tracing",
                            "range": [
                                173,
                                175
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "",
                                    "range": [
                                        175,
                                        175
                                    ],
                                    "children": [],
                                    "content": "True"
                                }
                            ],
                            "content": "enable_tracing=True"
                        },
                        {
                            "type": "Argument",
                            "name": "environment",
                            "range": [
                                178,
                                196
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "os",
                                    "range": [
                                        180,
                                        182
                                    ],
                                    "children": [],
                                    "content": "os.environ"
                                },
                                {
                                    "type": "CallExpression",
                                    "name": "get",
                                    "range": [
                                        184,
                                        191
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "",
                                            "range": [
                                                186,
                                                190
                                            ],
                                            "children": [],
                                            "content": "\"RUN_ENV\",default=\"CLOUD\""
                                        }
                                    ],
                                    "content": "get(\"RUN_ENV\",default=\"CLOUD\")"
                                },
                                {
                                    "type": "CallExpression",
                                    "name": "lower",
                                    "range": [
                                        193,
                                        195
                                    ],
                                    "children": [],
                                    "content": "lower()"
                                }
                            ],
                            "content": "environment=os.environ.get(\"RUN_ENV\",default=\"CLOUD\").lower(),"
                        },
                        {
                            "type": "Argument",
                            "name": "integrations",
                            "range": [
                                198,
                                243
                            ],
                            "children": [
                                {
                                    "type": "ArrayExpression",
                                    "name": "",
                                    "range": [
                                        200,
                                        243
                                    ],
                                    "children": [
                                        {
                                            "type": "NewExpression",
                                            "name": "StarletteIntegration",
                                            "range": [
                                                202,
                                                215
                                            ],
                                            "children": [
                                                {
                                                    "type": "MemberExpression",
                                                    "name": "sentry_sdk",
                                                    "range": [
                                                        202,
                                                        208
                                                    ],
                                                    "children": [],
                                                    "content": "sentry_sdk.integrations.starlette.StarletteIntegration"
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "transaction_style",
                                                    "range": [
                                                        211,
                                                        213
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Literal",
                                                            "name": "",
                                                            "range": [
                                                                213,
                                                                213
                                                            ],
                                                            "children": [],
                                                            "content": "\"url\""
                                                        }
                                                    ],
                                                    "content": "transaction_style=\"url\""
                                                }
                                            ],
                                            "content": "sentry_sdk.integrations.starlette.StarletteIntegration(\ntransaction_style=\"url\"\n)"
                                        },
                                        {
                                            "type": "NewExpression",
                                            "name": "FastApiIntegration",
                                            "range": [
                                                218,
                                                229
                                            ],
                                            "children": [
                                                {
                                                    "type": "MemberExpression",
                                                    "name": "sentry_sdk",
                                                    "range": [
                                                        218,
                                                        224
                                                    ],
                                                    "children": [],
                                                    "content": "sentry_sdk.integrations.fastapi.FastApiIntegration"
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "transaction_style",
                                                    "range": [
                                                        226,
                                                        228
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Literal",
                                                            "name": "",
                                                            "range": [
                                                                228,
                                                                228
                                                            ],
                                                            "children": [],
                                                            "content": "\"url\""
                                                        }
                                                    ],
                                                    "content": "transaction_style=\"url\""
                                                }
                                            ],
                                            "content": "sentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\")"
                                        },
                                        {
                                            "type": "NewExpression",
                                            "name": "AsyncioIntegration",
                                            "range": [
                                                232,
                                                240
                                            ],
                                            "children": [
                                                {
                                                    "type": "MemberExpression",
                                                    "name": "sentry_sdk",
                                                    "range": [
                                                        232,
                                                        238
                                                    ],
                                                    "children": [],
                                                    "content": "sentry_sdk.integrations.asyncio.AsyncioIntegration"
                                                }
                                            ],
                                            "content": "sentry_sdk.integrations.asyncio.AsyncioIntegration()"
                                        }
                                    ],
                                    "content": "[\nsentry_sdk.integrations.starlette.StarletteIntegration(\ntransaction_style=\"url\"\n),\nsentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\nsentry_sdk.integrations.asyncio.AsyncioIntegration(),\n]"
                                }
                            ],
                            "content": "integrations=[\nsentry_sdk.integrations.starlette.StarletteIntegration(\ntransaction_style=\"url\"\n),\nsentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\nsentry_sdk.integrations.asyncio.AsyncioIntegration(),\n]"
                        }
                    ],
                    "content": "sentry_sdk.init(\ndsn=os.environ.get(\"SENTRY_DSN\"),\ntraces_sample_rate=1.0,\nprofiles_sample_rate=1.0,\nenable_tracing=True,\nenvironment=os.environ.get(\"RUN_ENV\",default=\"CLOUD\").lower(),\nintegrations=[\nsentry_sdk.integrations.starlette.StarletteIntegration(\ntransaction_style=\"url\"\n),\nsentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\nsentry_sdk.integrations.asyncio.AsyncioIntegration(),\n],\n)"
                }
            ],
            "content": "sentry_sdk.init(\ndsn=os.environ.get(\"SENTRY_DSN\"),\ntraces_sample_rate=1.0,\nprofiles_sample_rate=1.0,\nenable_tracing=True,\nenvironment=os.environ.get(\"RUN_ENV\",default=\"CLOUD\").lower(),\nintegrations=[\nsentry_sdk.integrations.starlette.StarletteIntegration(\ntransaction_style=\"url\"\n),\nsentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\nsentry_sdk.integrations.asyncio.AsyncioIntegration(),\n],\n)"
        },
        {
            "type": "VariableDeclaration",
            "name": "db_client",
            "range": [
                249,
                258
            ],
            "children": [
                {
                    "type": "AssignmentExpression",
                    "name": "",
                    "range": [
                        250,
                        258
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "",
                            "range": [
                                251,
                                253
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "prisma",
                                    "range": [
                                        251,
                                        251
                                    ],
                                    "children": [],
                                    "content": "prisma"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "Prisma",
                                    "range": [
                                        253,
                                        253
                                    ],
                                    "children": [],
                                    "content": "Prisma"
                                }
                            ],
                            "content": "prisma.Prisma"
                        },
                        {
                            "type": "CallExpression",
                            "name": "",
                            "range": [
                                254,
                                258
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "auto_register",
                                    "range": [
                                        255,
                                        255
                                    ],
                                    "children": [],
                                    "content": "auto_register"
                                },
                                {
                                    "type": "Literal",
                                    "name": "True",
                                    "range": [
                                        257,
                                        257
                                    ],
                                    "children": [],
                                    "content": "True"
                                }
                            ],
                            "content": "(auto_register=True)"
                        }
                    ],
                    "content": "=prisma.Prisma(auto_register=True)"
                }
            ],
            "content": "db_client=prisma.Prisma(auto_register=True)"
        },
        {
            "type": "ImportDeclaration",
            "name": "contextlib.asynccontextmanager",
            "range": [
                262,
                265
            ],
            "children": [],
            "content": "@contextlib.asynccontextmanager"
        },
        {
            "type": "FunctionDecl",
            "name": "lifespan",
            "range": [
                267,
                294
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "app",
                    "range": [
                        271,
                        275
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "fastapi.FastAPI",
                            "range": [
                                273,
                                275
                            ],
                            "children": [],
                            "content": "fastapi.FastAPI"
                        }
                    ],
                    "content": "app:fastapi.FastAPI"
                },
                {
                    "type": "AwaitExpression",
                    "name": "db_client.connect",
                    "range": [
                        279,
                        284
                    ],
                    "children": [],
                    "content": "await db_client.connect()"
                },
                {
                    "type": "YieldExpression",
                    "name": "",
                    "range": [
                        286,
                        286
                    ],
                    "children": [],
                    "content": "yield"
                },
                {
                    "type": "AwaitExpression",
                    "name": "db_client.disconnect",
                    "range": [
                        288,
                        293
                    ],
                    "children": [],
                    "content": "await db_client.disconnect()"
                }
            ],
            "content": "async def lifespan(app:fastapi.FastAPI):\nawait db_client.connect()\nyield\nawait db_client.disconnect()\n"
        },
        {
            "type": "VariableDecl",
            "name": "docs_url",
            "range": [
                297,
                299
            ],
            "children": [
                {
                    "type": "Literal",
                    "name": "\"/docs\"",
                    "range": [
                        299,
                        299
                    ],
                    "children": [],
                    "content": "\"/docs\""
                }
            ],
            "content": "docs_url=\"/docs\""
        },
        {
            "type": "VariableDecl",
            "name": "app",
            "range": [
                301,
                343
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "FastAPI",
                    "range": [
                        303,
                        343
                    ],
                    "children": [
                        {
                            "type": "Argument",
                            "name": "title",
                            "range": [
                                308,
                                310
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"Marketplace API\"",
                                    "range": [
                                        310,
                                        310
                                    ],
                                    "children": [],
                                    "content": "\"Marketplace API\""
                                }
                            ],
                            "content": "title=\"Marketplace API\""
                        },
                        {
                            "type": "Argument",
                            "name": "description",
                            "range": [
                                313,
                                315
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"AutoGPT Marketplace API is a service that allows users to share AI agents.\"",
                                    "range": [
                                        315,
                                        315
                                    ],
                                    "children": [],
                                    "content": "\"AutoGPT Marketplace API is a service that allows users to share AI agents.\""
                                }
                            ],
                            "content": "description=\"AutoGPT Marketplace API is a service that allows users to share AI agents.\""
                        },
                        {
                            "type": "Argument",
                            "name": "summary",
                            "range": [
                                318,
                                320
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"Maketplace API\"",
                                    "range": [
                                        320,
                                        320
                                    ],
                                    "children": [],
                                    "content": "\"Maketplace API\""
                                }
                            ],
                            "content": "summary=\"Maketplace API\""
                        },
                        {
                            "type": "Argument",
                            "name": "version",
                            "range": [
                                323,
                                325
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"0.1\"",
                                    "range": [
                                        325,
                                        325
                                    ],
                                    "children": [],
                                    "content": "\"0.1\""
                                }
                            ],
                            "content": "version=\"0.1\""
                        },
                        {
                            "type": "Argument",
                            "name": "lifespan",
                            "range": [
                                328,
                                330
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "lifespan",
                                    "range": [
                                        330,
                                        330
                                    ],
                                    "children": [],
                                    "content": "lifespan"
                                }
                            ],
                            "content": "lifespan=lifespan"
                        },
                        {
                            "type": "Argument",
                            "name": "root_path",
                            "range": [
                                333,
                                335
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"/api/v1/market\"",
                                    "range": [
                                        335,
                                        335
                                    ],
                                    "children": [],
                                    "content": "\"/api/v1/market\""
                                }
                            ],
                            "content": "root_path=\"/api/v1/market\""
                        },
                        {
                            "type": "Argument",
                            "name": "docs_url",
                            "range": [
                                338,
                                340
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "docs_url",
                                    "range": [
                                        340,
                                        340
                                    ],
                                    "children": [],
                                    "content": "docs_url"
                                }
                            ],
                            "content": "docs_url=docs_url"
                        }
                    ],
                    "content": "fastapi.FastAPI(\ntitle=\"Marketplace API\",\ndescription=\"AutoGPT Marketplace API is a service that allows users to share AI agents.\",\nsummary=\"Maketplace API\",\nversion=\"0.1\",\nlifespan=lifespan,\nroot_path=\"/api/v1/market\",\ndocs_url=docs_url,\n)"
                }
            ],
            "content": "app=fastapi.FastAPI(\ntitle=\"Marketplace API\",\ndescription=\"AutoGPT Marketplace API is a service that allows users to share AI agents.\",\nsummary=\"Maketplace API\",\nversion=\"0.1\",\nlifespan=lifespan,\nroot_path=\"/api/v1/market\",\ndocs_url=docs_url,\n)"
        },
        {
            "type": "CallExpression",
            "name": "add_middleware",
            "range": [
                346,
                361
            ],
            "children": [
                {
                    "type": "Argument",
                    "name": "minimum_size",
                    "range": [
                        358,
                        360
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "1000",
                            "range": [
                                360,
                                360
                            ],
                            "children": [],
                            "content": "1000"
                        }
                    ],
                    "content": "minimum_size=1000"
                }
            ],
            "content": "app.add_middleware(fastapi.middleware.gzip.GZipMiddleware,minimum_size=1000)"
        },
        {
            "type": "CallExpression",
            "name": "add_middleware",
            "range": [
                363,
                419
            ],
            "children": [
                {
                    "type": "Argument",
                    "name": "middleware_class",
                    "range": [
                        368,
                        376
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "CORSMiddleware",
                            "range": [
                                370,
                                376
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "fastapi",
                                    "range": [
                                        370,
                                        370
                                    ],
                                    "children": [],
                                    "content": "fastapi"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "middleware",
                                    "range": [
                                        372,
                                        372
                                    ],
                                    "children": [],
                                    "content": "middleware"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "cors",
                                    "range": [
                                        374,
                                        374
                                    ],
                                    "children": [],
                                    "content": "cors"
                                }
                            ],
                            "content": "fastapi.middleware.cors.CORSMiddleware"
                        }
                    ],
                    "content": "middleware_class=fastapi.middleware.cors.CORSMiddleware"
                },
                {
                    "type": "Argument",
                    "name": "allow_origins",
                    "range": [
                        379,
                        397
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "split",
                            "range": [
                                381,
                                397
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "get",
                                    "range": [
                                        381,
                                        385
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "os",
                                            "range": [
                                                381,
                                                381
                                            ],
                                            "children": [],
                                            "content": "os"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "environ",
                                            "range": [
                                                383,
                                                383
                                            ],
                                            "children": [],
                                            "content": "environ"
                                        }
                                    ],
                                    "content": "os.environ.get"
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"BACKEND_CORS_ALLOW_ORIGINS\"",
                                    "range": [
                                        388,
                                        388
                                    ],
                                    "children": [],
                                    "content": "\"BACKEND_CORS_ALLOW_ORIGINS\""
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"http://localhost:3000,http://127.0.0.1:3000\"",
                                    "range": [
                                        390,
                                        390
                                    ],
                                    "children": [],
                                    "content": "\"http://localhost:3000,http://127.0.0.1:3000\""
                                }
                            ],
                            "content": "os.environ.get(\n\"BACKEND_CORS_ALLOW_ORIGINS\",\"http://localhost:3000,http://127.0.0.1:3000\"\n).split(\",\")"
                        }
                    ],
                    "content": "allow_origins=os.environ.get(\n\"BACKEND_CORS_ALLOW_ORIGINS\",\"http://localhost:3000,http://127.0.0.1:3000\"\n).split(\",\")"
                },
                {
                    "type": "Argument",
                    "name": "allow_credentials",
                    "range": [
                        400,
                        402
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "True",
                            "range": [
                                402,
                                402
                            ],
                            "children": [],
                            "content": "True"
                        }
                    ],
                    "content": "allow_credentials=True"
                },
                {
                    "type": "Argument",
                    "name": "allow_methods",
                    "range": [
                        405,
                        409
                    ],
                    "children": [
                        {
                            "type": "ArrayExpression",
                            "name": "",
                            "range": [
                                407,
                                409
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"*\"",
                                    "range": [
                                        408,
                                        408
                                    ],
                                    "children": [],
                                    "content": "\"*\""
                                }
                            ],
                            "content": "[\"*\"]"
                        }
                    ],
                    "content": "allow_methods=[\"*\"]"
                },
                {
                    "type": "Argument",
                    "name": "allow_headers",
                    "range": [
                        412,
                        416
                    ],
                    "children": [
                        {
                            "type": "ArrayExpression",
                            "name": "",
                            "range": [
                                414,
                                416
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"*\"",
                                    "range": [
                                        415,
                                        415
                                    ],
                                    "children": [],
                                    "content": "\"*\""
                                }
                            ],
                            "content": "[\"*\"]"
                        }
                    ],
                    "content": "allow_headers=[\"*\"]"
                }
            ],
            "content": "app.add_middleware(\nmiddleware_class=fastapi.middleware.cors.CORSMiddleware,\nallow_origins=os.environ.get(\n\"BACKEND_CORS_ALLOW_ORIGINS\",\"http://localhost:3000,http://127.0.0.1:3000\"\n).split(\",\"),\nallow_credentials=True,\nallow_methods=[\"*\"],\nallow_headers=[\"*\"],\n)"
        },
        {
            "type": "FunctionDecl",
            "name": "include_router",
            "range": [
                421,
                438
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "include_router",
                    "range": [
                        421,
                        438
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "app.include_router",
                            "range": [
                                421,
                                423
                            ],
                            "children": [],
                            "content": "app.include_router"
                        },
                        {
                            "type": "ArgumentList",
                            "name": "",
                            "range": [
                                424,
                                438
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "market.routes.agents.router",
                                    "range": [
                                        425,
                                        431
                                    ],
                                    "children": [],
                                    "content": "market.routes.agents.router"
                                },
                                {
                                    "type": "KeywordArgument",
                                    "name": "tags",
                                    "range": [
                                        433,
                                        437
                                    ],
                                    "children": [
                                        {
                                            "type": "ListLiteral",
                                            "name": "",
                                            "range": [
                                                435,
                                                437
                                            ],
                                            "children": [
                                                {
                                                    "type": "StringLiteral",
                                                    "name": "\"agents\"",
                                                    "range": [
                                                        436,
                                                        436
                                                    ],
                                                    "children": [],
                                                    "content": "\"agents\""
                                                }
                                            ],
                                            "content": "[\"agents\"]"
                                        }
                                    ],
                                    "content": "tags=[\"agents\"]"
                                }
                            ],
                            "content": "(market.routes.agents.router,tags=[\"agents\"])"
                        }
                    ],
                    "content": "app.include_router(market.routes.agents.router,tags=[\"agents\"])"
                }
            ],
            "content": "app.include_router(market.routes.agents.router,tags=[\"agents\"])"
        },
        {
            "type": "FunctionDecl",
            "name": "include_router",
            "range": [
                440,
                457
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "include_router",
                    "range": [
                        440,
                        457
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "app.include_router",
                            "range": [
                                440,
                                442
                            ],
                            "children": [],
                            "content": "app.include_router"
                        },
                        {
                            "type": "ArgumentList",
                            "name": "",
                            "range": [
                                443,
                                457
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "market.routes.search.router",
                                    "range": [
                                        444,
                                        450
                                    ],
                                    "children": [],
                                    "content": "market.routes.search.router"
                                },
                                {
                                    "type": "KeywordArgument",
                                    "name": "tags",
                                    "range": [
                                        452,
                                        456
                                    ],
                                    "children": [
                                        {
                                            "type": "ListLiteral",
                                            "name": "",
                                            "range": [
                                                454,
                                                456
                                            ],
                                            "children": [
                                                {
                                                    "type": "StringLiteral",
                                                    "name": "\"search\"",
                                                    "range": [
                                                        455,
                                                        455
                                                    ],
                                                    "children": [],
                                                    "content": "\"search\""
                                                }
                                            ],
                                            "content": "[\"search\"]"
                                        }
                                    ],
                                    "content": "tags=[\"search\"]"
                                }
                            ],
                            "content": "(market.routes.search.router,tags=[\"search\"])"
                        }
                    ],
                    "content": "app.include_router(market.routes.search.router,tags=[\"search\"])"
                }
            ],
            "content": "app.include_router(market.routes.search.router,tags=[\"search\"])"
        },
        {
            "type": "FunctionDecl",
            "name": "include_router",
            "range": [
                459,
                476
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "include_router",
                    "range": [
                        459,
                        476
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "app.include_router",
                            "range": [
                                459,
                                461
                            ],
                            "children": [],
                            "content": "app.include_router"
                        },
                        {
                            "type": "ArgumentList",
                            "name": "",
                            "range": [
                                462,
                                476
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "market.routes.submissions.router",
                                    "range": [
                                        463,
                                        469
                                    ],
                                    "children": [],
                                    "content": "market.routes.submissions.router"
                                },
                                {
                                    "type": "KeywordArgument",
                                    "name": "tags",
                                    "range": [
                                        471,
                                        475
                                    ],
                                    "children": [
                                        {
                                            "type": "ListLiteral",
                                            "name": "",
                                            "range": [
                                                473,
                                                475
                                            ],
                                            "children": [
                                                {
                                                    "type": "StringLiteral",
                                                    "name": "\"submissions\"",
                                                    "range": [
                                                        474,
                                                        474
                                                    ],
                                                    "children": [],
                                                    "content": "\"submissions\""
                                                }
                                            ],
                                            "content": "[\"submissions\"]"
                                        }
                                    ],
                                    "content": "tags=[\"submissions\"]"
                                }
                            ],
                            "content": "(market.routes.submissions.router,tags=[\"submissions\"])"
                        }
                    ],
                    "content": "app.include_router(market.routes.submissions.router,tags=[\"submissions\"])"
                }
            ],
            "content": "app.include_router(market.routes.submissions.router,tags=[\"submissions\"])"
        },
        {
            "type": "FunctionDecl",
            "name": "include_router",
            "range": [
                478,
                499
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "include_router",
                    "range": [
                        478,
                        499
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "app.include_router",
                            "range": [
                                478,
                                480
                            ],
                            "children": [],
                            "content": "app.include_router"
                        },
                        {
                            "type": "ArgumentList",
                            "name": "",
                            "range": [
                                481,
                                499
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "market.routes.admin.router",
                                    "range": [
                                        482,
                                        488
                                    ],
                                    "children": [],
                                    "content": "market.routes.admin.router"
                                },
                                {
                                    "type": "KeywordArgument",
                                    "name": "prefix",
                                    "range": [
                                        490,
                                        492
                                    ],
                                    "children": [
                                        {
                                            "type": "StringLiteral",
                                            "name": "\"/admin\"",
                                            "range": [
                                                492,
                                                492
                                            ],
                                            "children": [],
                                            "content": "\"/admin\""
                                        }
                                    ],
                                    "content": "prefix=\"/admin\""
                                },
                                {
                                    "type": "KeywordArgument",
                                    "name": "tags",
                                    "range": [
                                        494,
                                        498
                                    ],
                                    "children": [
                                        {
                                            "type": "ListLiteral",
                                            "name": "",
                                            "range": [
                                                496,
                                                498
                                            ],
                                            "children": [
                                                {
                                                    "type": "StringLiteral",
                                                    "name": "\"admin\"",
                                                    "range": [
                                                        497,
                                                        497
                                                    ],
                                                    "children": [],
                                                    "content": "\"admin\""
                                                }
                                            ],
                                            "content": "[\"admin\"]"
                                        }
                                    ],
                                    "content": "tags=[\"admin\"]"
                                }
                            ],
                            "content": "(market.routes.admin.router,prefix=\"/admin\",tags=[\"admin\"])"
                        }
                    ],
                    "content": "app.include_router(market.routes.admin.router,prefix=\"/admin\",tags=[\"admin\"])"
                }
            ],
            "content": "app.include_router(market.routes.admin.router,prefix=\"/admin\",tags=[\"admin\"])"
        },
        {
            "type": "FunctionDecl",
            "name": "include_router",
            "range": [
                501,
                524
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "include_router",
                    "range": [
                        501,
                        524
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "app.include_router",
                            "range": [
                                501,
                                503
                            ],
                            "children": [],
                            "content": "app.include_router"
                        },
                        {
                            "type": "ArgumentList",
                            "name": "",
                            "range": [
                                504,
                                524
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "market.routes.analytics.router",
                                    "range": [
                                        506,
                                        512
                                    ],
                                    "children": [],
                                    "content": "market.routes.analytics.router"
                                },
                                {
                                    "type": "KeywordArgument",
                                    "name": "prefix",
                                    "range": [
                                        514,
                                        516
                                    ],
                                    "children": [
                                        {
                                            "type": "StringLiteral",
                                            "name": "\"/analytics\"",
                                            "range": [
                                                516,
                                                516
                                            ],
                                            "children": [],
                                            "content": "\"/analytics\""
                                        }
                                    ],
                                    "content": "prefix=\"/analytics\""
                                },
                                {
                                    "type": "KeywordArgument",
                                    "name": "tags",
                                    "range": [
                                        518,
                                        522
                                    ],
                                    "children": [
                                        {
                                            "type": "ListLiteral",
                                            "name": "",
                                            "range": [
                                                520,
                                                522
                                            ],
                                            "children": [
                                                {
                                                    "type": "StringLiteral",
                                                    "name": "\"analytics\"",
                                                    "range": [
                                                        521,
                                                        521
                                                    ],
                                                    "children": [],
                                                    "content": "\"analytics\""
                                                }
                                            ],
                                            "content": "[\"analytics\"]"
                                        }
                                    ],
                                    "content": "tags=[\"analytics\"]"
                                }
                            ],
                            "content": "(\nmarket.routes.analytics.router,prefix=\"/analytics\",tags=[\"analytics\"]\n)"
                        }
                    ],
                    "content": "app.include_router(\nmarket.routes.analytics.router,prefix=\"/analytics\",tags=[\"analytics\"]\n)"
                }
            ],
            "content": "app.include_router(\nmarket.routes.analytics.router,prefix=\"/analytics\",tags=[\"analytics\"]\n)"
        },
        {
            "type": "FunctionDecl",
            "name": "health",
            "range": [
                534,
                556
            ],
            "children": [
                {
                    "type": "ReturnStatement",
                    "range": [
                        540,
                        556
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "range": [
                                541,
                                556
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "range": [
                                        541,
                                        545
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "fastapi",
                                            "range": [
                                                541,
                                                541
                                            ],
                                            "content": "\n"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "responses",
                                            "range": [
                                                543,
                                                543
                                            ],
                                            "content": "fastapi"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "HTMLResponse",
                                            "range": [
                                                545,
                                                545
                                            ],
                                            "content": "responses"
                                        }
                                    ],
                                    "content": "\nreturn fastapi.responses"
                                },
                                {
                                    "type": "ObjectExpression",
                                    "range": [
                                        546,
                                        556
                                    ],
                                    "children": [
                                        {
                                            "type": "Property",
                                            "key": {
                                                "type": "Identifier",
                                                "name": "content",
                                                "range": [
                                                    548,
                                                    548
                                                ],
                                                "content": "("
                                            },
                                            "value": {
                                                "type": "Literal",
                                                "value": "<h1>Marketplace API</h1>",
                                                "range": [
                                                    550,
                                                    550
                                                ],
                                                "content": "content"
                                            },
                                            "range": [
                                                548,
                                                550
                                            ],
                                            "content": "(\ncontent"
                                        },
                                        {
                                            "type": "Property",
                                            "key": {
                                                "type": "Identifier",
                                                "name": "status_code",
                                                "range": [
                                                    552,
                                                    552
                                                ],
                                                "content": "\"<h1>Marketplace API</h1>\""
                                            },
                                            "value": {
                                                "type": "Literal",
                                                "value": 200,
                                                "range": [
                                                    554,
                                                    554
                                                ],
                                                "content": "status_code"
                                            },
                                            "range": [
                                                552,
                                                554
                                            ],
                                            "content": "\"<h1>Marketplace API</h1>\",status_code"
                                        }
                                    ],
                                    "content": ".HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code=200"
                                }
                            ],
                            "content": "\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code=200"
                        }
                    ],
                    "content": ":\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code=200"
                }
            ],
            "content": ")\ndef health():\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code=200"
        },
        {
            "type": "FunctionDecl",
            "name": "default",
            "range": [
                567,
                590
            ],
            "children": [
                {
                    "type": "BlockStatement",
                    "range": [
                        571,
                        590
                    ],
                    "children": [
                        {
                            "type": "ReturnStatement",
                            "range": [
                                573,
                                589
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "range": [
                                        574,
                                        589
                                    ],
                                    "children": [
                                        {
                                            "type": "MemberExpression",
                                            "range": [
                                                574,
                                                578
                                            ],
                                            "children": [
                                                {
                                                    "type": "Identifier",
                                                    "name": "fastapi",
                                                    "range": [
                                                        574,
                                                        574
                                                    ],
                                                    "content": ":"
                                                },
                                                {
                                                    "type": "Identifier",
                                                    "name": "responses",
                                                    "range": [
                                                        576,
                                                        576
                                                    ],
                                                    "content": "return"
                                                },
                                                {
                                                    "type": "Identifier",
                                                    "name": "HTMLResponse",
                                                    "range": [
                                                        578,
                                                        578
                                                    ],
                                                    "content": "."
                                                }
                                            ],
                                            "content": ":\nreturn fastapi."
                                        },
                                        {
                                            "type": "ObjectExpression",
                                            "range": [
                                                579,
                                                589
                                            ],
                                            "children": [
                                                {
                                                    "type": "Property",
                                                    "range": [
                                                        581,
                                                        583
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "content",
                                                            "range": [
                                                                581,
                                                                581
                                                            ],
                                                            "content": "HTMLResponse"
                                                        },
                                                        {
                                                            "type": "Literal",
                                                            "value": "<h1>Marketplace API</h1>",
                                                            "range": [
                                                                583,
                                                                583
                                                            ],
                                                            "content": "\n"
                                                        }
                                                    ],
                                                    "content": "HTMLResponse(\n"
                                                },
                                                {
                                                    "type": "Property",
                                                    "range": [
                                                        585,
                                                        587
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "status_code",
                                                            "range": [
                                                                585,
                                                                585
                                                            ],
                                                            "content": "="
                                                        },
                                                        {
                                                            "type": "Literal",
                                                            "value": 200,
                                                            "range": [
                                                                587,
                                                                587
                                                            ],
                                                            "content": ","
                                                        }
                                                    ],
                                                    "content": "=\"<h1>Marketplace API</h1>\","
                                                }
                                            ],
                                            "content": "responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code="
                                        }
                                    ],
                                    "content": ":\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code="
                                }
                            ],
                            "content": "):\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code="
                        }
                    ],
                    "content": "default():\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code=200"
                }
            ],
            "content": "\"/\")\ndef default():\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code=200"
        },
        {
            "type": "ExpressionStatement",
            "name": "",
            "range": [
                592,
                606
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "expose",
                    "range": [
                        592,
                        606
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "instrument",
                            "range": [
                                592,
                                601
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "Instrumentator",
                                    "range": [
                                        592,
                                        596
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "prometheus_fastapi_instrumentator",
                                            "range": [
                                                592,
                                                592
                                            ],
                                            "children": [],
                                            "content": ")"
                                        }
                                    ],
                                    "content": ")\n\n\nprometheus_fastapi_instrumentator"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "app",
                                    "range": [
                                        600,
                                        600
                                    ],
                                    "children": [],
                                    "content": ")"
                                }
                            ],
                            "content": ")\n\n\nprometheus_fastapi_instrumentator.Instrumentator()."
                        },
                        {
                            "type": "Identifier",
                            "name": "app",
                            "range": [
                                605,
                                605
                            ],
                            "children": [],
                            "content": ")"
                        }
                    ],
                    "content": ")\n\n\nprometheus_fastapi_instrumentator.Instrumentator().instrument(app)."
                }
            ],
            "content": ")\n\n\nprometheus_fastapi_instrumentator.Instrumentator().instrument(app)."
        }
    ],
    "content": "if os.environ.get(\"SENTRY_DSN\"):\nsentry_sdk.init(\ndsn=os.environ.get(\"SENTRY_DSN\"),\ntraces_sample_rate=1.0,\nprofiles_sample_rate=1.0,\nenable_tracing=True,\nenvironment=os.environ.get(\"RUN_ENV\",default=\"CLOUD\").lower(),\nintegrations=[\nsentry_sdk.integrations.starlette.StarletteIntegration(\ntransaction_style=\"url\"\n),\nsentry_sdk.integrations.fastapi.FastApiIntegration(transaction_style=\"url\"),\nsentry_sdk.integrations.asyncio.AsyncioIntegration(),\n],\n)\n\ndb_client=prisma.Prisma(auto_register=True)\n\n\n@contextlib.asynccontextmanager\nasync def lifespan(app:fastapi.FastAPI):\nawait db_client.connect()\nyield\nawait db_client.disconnect()\n\n\ndocs_url=\"/docs\"\napp=fastapi.FastAPI(\ntitle=\"Marketplace API\",\ndescription=\"AutoGPT Marketplace API is a service that allows users to share AI agents.\",\nsummary=\"Maketplace API\",\nversion=\"0.1\",\nlifespan=lifespan,\nroot_path=\"/api/v1/market\",\ndocs_url=docs_url,\n)\n\napp.add_middleware(fastapi.middleware.gzip.GZipMiddleware,minimum_size=1000)\napp.add_middleware(\nmiddleware_class=fastapi.middleware.cors.CORSMiddleware,\nallow_origins=os.environ.get(\n\"BACKEND_CORS_ALLOW_ORIGINS\",\"http://localhost:3000,http://127.0.0.1:3000\"\n).split(\",\"),\nallow_credentials=True,\nallow_methods=[\"*\"],\nallow_headers=[\"*\"],\n)\napp.include_router(market.routes.agents.router,tags=[\"agents\"])\napp.include_router(market.routes.search.router,tags=[\"search\"])\napp.include_router(market.routes.submissions.router,tags=[\"submissions\"])\napp.include_router(market.routes.admin.router,prefix=\"/admin\",tags=[\"admin\"])\napp.include_router(\nmarket.routes.analytics.router,prefix=\"/analytics\",tags=[\"analytics\"]\n)\n\n\n@app.get(\"/health\")\ndef health():\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code=200\n)\n\n\n@app.get(\"/\")\ndef default():\nreturn fastapi.responses.HTMLResponse(\ncontent=\"<h1>Marketplace API</h1>\",status_code=200\n)\n\n\nprometheus_fastapi_instrumentator.Instrumentator().instrument(app).expose("
}