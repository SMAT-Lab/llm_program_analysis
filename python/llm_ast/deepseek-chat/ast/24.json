{
    "type": "Program",
    "name": "Global",
    "range": [
        51,
        351
    ],
    "children": [
        {
            "type": "ClassDecl",
            "name": "Slant3DSlicerBlock",
            "range": [
                51,
                62
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "Slant3DBlockBase",
                    "range": [
                        53,
                        55
                    ],
                    "children": [],
                    "content": "(Slant3DBlockBase)"
                },
                {
                    "type": "Docstring",
                    "name": "Block for slicing 3D model files",
                    "range": [
                        58,
                        60
                    ],
                    "children": [],
                    "content": "\"\"\"Block for slicing 3D model files\"\"\""
                }
            ],
            "content": "class Slant3DSlicerBlock(Slant3DBlockBase):\n\"\"\"Block for slicing 3D model files\"\"\"\n\n"
        },
        {
            "type": "ClassDecl",
            "name": "Input",
            "range": [
                63,
                91
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "BlockSchema",
                    "range": [
                        65,
                        67
                    ],
                    "children": [],
                    "content": "(BlockSchema)"
                },
                {
                    "type": "FieldDecl",
                    "name": "credentials",
                    "range": [
                        70,
                        76
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "Slant3DCredentialsInput",
                            "range": [
                                72,
                                72
                            ],
                            "children": [],
                            "content": "Slant3DCredentialsInput"
                        },
                        {
                            "type": "Assignment",
                            "name": "Slant3DCredentialsField",
                            "range": [
                                74,
                                76
                            ],
                            "children": [],
                            "content": "Slant3DCredentialsField()"
                        }
                    ],
                    "content": "credentials:Slant3DCredentialsInput=Slant3DCredentialsField()"
                },
                {
                    "type": "FieldDecl",
                    "name": "file_url",
                    "range": [
                        78,
                        89
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                80,
                                80
                            ],
                            "children": [],
                            "content": "str"
                        },
                        {
                            "type": "Assignment",
                            "name": "SchemaField",
                            "range": [
                                82,
                                89
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        85,
                                        87
                                    ],
                                    "children": [],
                                    "content": "description=\"URL of the 3D model file to slice (STL)\""
                                }
                            ],
                            "content": "SchemaField(\ndescription=\"URL of the 3D model file to slice (STL)\"\n)"
                        }
                    ],
                    "content": "file_url:str=SchemaField(\ndescription=\"URL of the 3D model file to slice (STL)\"\n)"
                }
            ],
            "content": "class Input(BlockSchema):\ncredentials:Slant3DCredentialsInput=Slant3DCredentialsField()\nfile_url:str=SchemaField(\ndescription=\"URL of the 3D model file to slice (STL)\"\n)\n\n"
        },
        {
            "type": "ClassDecl",
            "name": "Output",
            "range": [
                92,
                131
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "BlockSchema",
                    "range": [
                        94,
                        96
                    ],
                    "children": [],
                    "content": "(BlockSchema)"
                },
                {
                    "type": "FieldDecl",
                    "name": "message",
                    "range": [
                        99,
                        108
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                101,
                                101
                            ],
                            "children": [],
                            "content": "str"
                        },
                        {
                            "type": "Assignment",
                            "name": "SchemaField",
                            "range": [
                                103,
                                108
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        105,
                                        107
                                    ],
                                    "children": [],
                                    "content": "description=\"Response message\""
                                }
                            ],
                            "content": "SchemaField(description=\"Response message\")"
                        }
                    ],
                    "content": "message:str=SchemaField(description=\"Response message\")"
                },
                {
                    "type": "FieldDecl",
                    "name": "price",
                    "range": [
                        110,
                        119
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "float",
                            "range": [
                                112,
                                112
                            ],
                            "children": [],
                            "content": "float"
                        },
                        {
                            "type": "Assignment",
                            "name": "SchemaField",
                            "range": [
                                114,
                                119
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        116,
                                        118
                                    ],
                                    "children": [],
                                    "content": "description=\"Calculated price for printing\""
                                }
                            ],
                            "content": "SchemaField(description=\"Calculated price for printing\")"
                        }
                    ],
                    "content": "price:float=SchemaField(description=\"Calculated price for printing\")"
                },
                {
                    "type": "FieldDecl",
                    "name": "error",
                    "range": [
                        121,
                        130
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                123,
                                123
                            ],
                            "children": [],
                            "content": "str"
                        },
                        {
                            "type": "Assignment",
                            "name": "SchemaField",
                            "range": [
                                125,
                                130
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        127,
                                        129
                                    ],
                                    "children": [],
                                    "content": "description=\"Error message if slicing failed\""
                                }
                            ],
                            "content": "SchemaField(description=\"Error message if slicing failed\")"
                        }
                    ],
                    "content": "error:str=SchemaField(description=\"Error message if slicing failed\")"
                }
            ],
            "content": "class Output(BlockSchema):\nmessage:str=SchemaField(description=\"Response message\")\nprice:float=SchemaField(description=\"Calculated price for printing\")\nerror:str=SchemaField(description=\"Error message if slicing failed\")\n"
        },
        {
            "type": "FunctionDecl",
            "name": "__init__",
            "range": [
                133,
                250
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        136,
                        136
                    ],
                    "children": [],
                    "content": "self"
                },
                {
                    "type": "SuperCall",
                    "name": "super",
                    "range": [
                        140,
                        146
                    ],
                    "children": [],
                    "content": "super().__init__(\n"
                },
                {
                    "type": "Assignment",
                    "name": "id",
                    "range": [
                        147,
                        149
                    ],
                    "children": [],
                    "content": "id=\"f8a12c8d-3e4b-4d5f-b6a7-8c9d0e1f2g3h\""
                },
                {
                    "type": "Assignment",
                    "name": "description",
                    "range": [
                        152,
                        154
                    ],
                    "children": [],
                    "content": "description=\"Slice a 3D model file and get pricing information\""
                },
                {
                    "type": "Assignment",
                    "name": "input_schema",
                    "range": [
                        157,
                        162
                    ],
                    "children": [],
                    "content": "input_schema=self.Input,"
                },
                {
                    "type": "Assignment",
                    "name": "output_schema",
                    "range": [
                        164,
                        169
                    ],
                    "children": [],
                    "content": "output_schema=self.Output,"
                },
                {
                    "type": "Assignment",
                    "name": "test_input",
                    "range": [
                        171,
                        185
                    ],
                    "children": [
                        {
                            "type": "KeyValuePair",
                            "name": "credentials",
                            "range": [
                                175,
                                178
                            ],
                            "children": [],
                            "content": "\"credentials\":TEST_CREDENTIALS_INPUT,"
                        },
                        {
                            "type": "KeyValuePair",
                            "name": "file_url",
                            "range": [
                                180,
                                183
                            ],
                            "children": [],
                            "content": "\"file_url\":\"https://example.com/model.stl\","
                        }
                    ],
                    "content": "test_input={\n\"credentials\":TEST_CREDENTIALS_INPUT,\n\"file_url\":\"https://example.com/model.stl\",\n}"
                },
                {
                    "type": "Assignment",
                    "name": "test_credentials",
                    "range": [
                        188,
                        190
                    ],
                    "children": [],
                    "content": "test_credentials=TEST_CREDENTIALS"
                },
                {
                    "type": "Assignment",
                    "name": "test_output",
                    "range": [
                        193,
                        209
                    ],
                    "children": [
                        {
                            "type": "Tuple",
                            "name": "message",
                            "range": [
                                197,
                                200
                            ],
                            "children": [],
                            "content": "\"message\",\"Slicing successful\")"
                        },
                        {
                            "type": "Tuple",
                            "name": "price",
                            "range": [
                                203,
                                208
                            ],
                            "children": [],
                            "content": "\"price\",8.23)"
                        }
                    ],
                    "content": "test_output=[(\"message\",\"Slicing successful\"),(\"price\",8.23)]"
                },
                {
                    "type": "Assignment",
                    "name": "test_mock",
                    "range": [
                        212,
                        246
                    ],
                    "children": [
                        {
                            "type": "KeyValuePair",
                            "name": "_make_request",
                            "range": [
                                216,
                                244
                            ],
                            "children": [
                                {
                                    "type": "Lambda",
                                    "name": "lambda",
                                    "range": [
                                        218,
                                        244
                                    ],
                                    "children": [
                                        {
                                            "type": "Parameter",
                                            "name": "args",
                                            "range": [
                                                220,
                                                220
                                            ],
                                            "children": [],
                                            "content": "args"
                                        },
                                        {
                                            "type": "Parameter",
                                            "name": "kwargs",
                                            "range": [
                                                224,
                                                224
                                            ],
                                            "children": [],
                                            "content": "kwargs"
                                        },
                                        {
                                            "type": "ReturnStatement",
                                            "name": "return",
                                            "range": [
                                                226,
                                                244
                                            ],
                                            "children": [
                                                {
                                                    "type": "KeyValuePair",
                                                    "name": "message",
                                                    "range": [
                                                        228,
                                                        231
                                                    ],
                                                    "children": [],
                                                    "content": "\"message\":\"Slicing successful\","
                                                },
                                                {
                                                    "type": "KeyValuePair",
                                                    "name": "data",
                                                    "range": [
                                                        233,
                                                        241
                                                    ],
                                                    "children": [],
                                                    "content": "\"data\":{\"price\":8.23}"
                                                }
                                            ],
                                            "content": "{\n\"message\":\"Slicing successful\",\n\"data\":{\"price\":8.23},\n}"
                                        }
                                    ],
                                    "content": "lambda*args,**kwargs:{\n\"message\":\"Slicing successful\",\n\"data\":{\"price\":8.23},\n}"
                                }
                            ],
                            "content": "\"_make_request\":lambda*args,**kwargs:{\n\"message\":\"Slicing successful\",\n\"data\":{\"price\":8.23},\n}"
                        }
                    ],
                    "content": "test_mock={\n\"_make_request\":lambda*args,**kwargs:{\n\"message\":\"Slicing successful\",\n\"data\":{\"price\":8.23},\n}\n}"
                }
            ],
            "content": "def __init__(self):\nsuper().__init__(\nid=\"f8a12c8d-3e4b-4d5f-b6a7-8c9d0e1f2g3h\",\ndescription=\"Slice a 3D model file and get pricing information\",\ninput_schema=self.Input,\noutput_schema=self.Output,\ntest_input={\n\"credentials\":TEST_CREDENTIALS_INPUT,\n\"file_url\":\"https://example.com/model.stl\",\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[(\"message\",\"Slicing successful\"),(\"price\",8.23)],\ntest_mock={\n\"_make_request\":lambda*args,**kwargs:{\n\"message\":\"Slicing successful\",\n\"data\":{\"price\":8.23},\n}\n},\n)\n"
        },
        {
            "type": "FunctionDecl",
            "name": "run",
            "range": [
                252,
                351
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        256,
                        256
                    ],
                    "children": [],
                    "content": "self"
                },
                {
                    "type": "Parameter",
                    "name": "input_data",
                    "range": [
                        258,
                        260
                    ],
                    "children": [],
                    "content": "input_data:Input"
                },
                {
                    "type": "Parameter",
                    "name": "credentials",
                    "range": [
                        264,
                        266
                    ],
                    "children": [],
                    "content": "credentials:APIKeyCredentials"
                },
                {
                    "type": "TryStatement",
                    "name": "try",
                    "range": [
                        278,
                        350
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "result",
                            "range": [
                                281,
                                314
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "_make_request",
                                    "range": [
                                        285,
                                        314
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "POST",
                                            "range": [
                                                288,
                                                288
                                            ],
                                            "children": [],
                                            "content": "\"POST\""
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "slicer",
                                            "range": [
                                                291,
                                                291
                                            ],
                                            "children": [],
                                            "content": "\"slicer\""
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "api_key",
                                            "range": [
                                                296,
                                                301
                                            ],
                                            "children": [],
                                            "content": "api_key.get_secret_value(),"
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "json",
                                            "range": [
                                                303,
                                                312
                                            ],
                                            "children": [],
                                            "content": "json={\"fileURL\":input_data.file_url},"
                                        }
                                    ],
                                    "content": "_make_request(\n\"POST\",\n\"slicer\",\ncredentials.api_key.get_secret_value(),\njson={\"fileURL\":input_data.file_url},\n)"
                                }
                            ],
                            "content": "result=self._make_request(\n\"POST\",\n\"slicer\",\ncredentials.api_key.get_secret_value(),\njson={\"fileURL\":input_data.file_url},\n)"
                        },
                        {
                            "type": "YieldStatement",
                            "name": "yield",
                            "range": [
                                316,
                                323
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "message",
                                    "range": [
                                        317,
                                        317
                                    ],
                                    "children": [],
                                    "content": "\"message\""
                                },
                                {
                                    "type": "Argument",
                                    "name": "result",
                                    "range": [
                                        319,
                                        322
                                    ],
                                    "children": [],
                                    "content": "result[\"message\"]"
                                }
                            ],
                            "content": "yield \"message\",result[\"message\"]\n"
                        },
                        {
                            "type": "YieldStatement",
                            "name": "yield",
                            "range": [
                                324,
                                334
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "price",
                                    "range": [
                                        325,
                                        325
                                    ],
                                    "children": [],
                                    "content": "\"price\""
                                },
                                {
                                    "type": "Argument",
                                    "name": "result",
                                    "range": [
                                        327,
                                        333
                                    ],
                                    "children": [],
                                    "content": "result[\"data\"][\"price\"]"
                                }
                            ],
                            "content": "yield \"price\",result[\"data\"][\"price\"]\n"
                        },
                        {
                            "type": "ExceptClause",
                            "name": "except",
                            "range": [
                                335,
                                348
                            ],
                            "children": [
                                {
                                    "type": "Parameter",
                                    "name": "e",
                                    "range": [
                                        338,
                                        338
                                    ],
                                    "children": [],
                                    "content": "e"
                                },
                                {
                                    "type": "YieldStatement",
                                    "name": "yield",
                                    "range": [
                                        341,
                                        348
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "error",
                                            "range": [
                                                342,
                                                342
                                            ],
                                            "children": [],
                                            "content": "\"error\""
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "str",
                                            "range": [
                                                344,
                                                347
                                            ],
                                            "children": [],
                                            "content": "str(e)"
                                        }
                                    ],
                                    "content": "yield \"error\",str(e)\n"
                                }
                            ],
                            "content": "except Exception as e:\nyield \"error\",str(e)\n"
                        }
                    ],
                    "content": "try:\nresult=self._make_request(\n\"POST\",\n\"slicer\",\ncredentials.api_key.get_secret_value(),\njson={\"fileURL\":input_data.file_url},\n)\nyield \"message\",result[\"message\"]\nyield \"price\",result[\"data\"][\"price\"]\nexcept Exception as e:\nyield \"error\",str(e)\nraise\n"
                }
            ],
            "content": "def run(\nself,input_data:Input,*,credentials:APIKeyCredentials,**kwargs\n)->BlockOutput:\ntry:\nresult=self._make_request(\n\"POST\",\n\"slicer\",\ncredentials.api_key.get_secret_value(),\njson={\"fileURL\":input_data.file_url},\n)\nyield \"message\",result[\"message\"]\nyield \"price\",result[\"data\"][\"price\"]\nexcept Exception as e:\nyield \"error\",str(e)\nraise\n"
        }
    ],
    "content": "class Slant3DSlicerBlock(Slant3DBlockBase):\n\"\"\"Block for slicing 3D model files\"\"\"\n\nclass Input(BlockSchema):\ncredentials:Slant3DCredentialsInput=Slant3DCredentialsField()\nfile_url:str=SchemaField(\ndescription=\"URL of the 3D model file to slice (STL)\"\n)\n\nclass Output(BlockSchema):\nmessage:str=SchemaField(description=\"Response message\")\nprice:float=SchemaField(description=\"Calculated price for printing\")\nerror:str=SchemaField(description=\"Error message if slicing failed\")\n\ndef __init__(self):\nsuper().__init__(\nid=\"f8a12c8d-3e4b-4d5f-b6a7-8c9d0e1f2g3h\",\ndescription=\"Slice a 3D model file and get pricing information\",\ninput_schema=self.Input,\noutput_schema=self.Output,\ntest_input={\n\"credentials\":TEST_CREDENTIALS_INPUT,\n\"file_url\":\"https://example.com/model.stl\",\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[(\"message\",\"Slicing successful\"),(\"price\",8.23)],\ntest_mock={\n\"_make_request\":lambda*args,**kwargs:{\n\"message\":\"Slicing successful\",\n\"data\":{\"price\":8.23},\n}\n},\n)\n\ndef run(\nself,input_data:Input,*,credentials:APIKeyCredentials,**kwargs\n)->BlockOutput:\ntry:\nresult=self._make_request(\n\"POST\",\n\"slicer\",\ncredentials.api_key.get_secret_value(),\njson={\"fileURL\":input_data.file_url},\n)\nyield \"message\",result[\"message\"]\nyield \"price\",result[\"data\"][\"price\"]\nexcept Exception as e:\nyield \"error\",str(e)\nraise\n"
}