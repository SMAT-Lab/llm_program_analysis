{
    "type": "Program",
    "name": "Global",
    "range": [
        0,
        2756
    ],
    "children": [
        {
            "type": "ClassDecl",
            "name": "GithubListPullRequestsBlock",
            "range": [
                66,
                71
            ],
            "children": [
                {
                    "type": "Inheritance",
                    "name": "Block",
                    "range": [
                        68,
                        70
                    ],
                    "children": [],
                    "content": "(Block)"
                }
            ],
            "content": "class GithubListPullRequestsBlock(Block):"
        },
        {
            "type": "ClassDecl",
            "name": "Input",
            "range": [
                73,
                78
            ],
            "children": [
                {
                    "type": "Inheritance",
                    "name": "BlockSchema",
                    "range": [
                        75,
                        77
                    ],
                    "children": [],
                    "content": "(BlockSchema)"
                }
            ],
            "content": "class Input(BlockSchema):"
        },
        {
            "type": "VariableDecl",
            "name": "credentials",
            "range": [
                80,
                88
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "GithubCredentialsInput",
                    "range": [
                        81,
                        82
                    ],
                    "children": [],
                    "content": ":GithubCredentialsInput"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        83,
                        87
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "GithubCredentialsField",
                            "range": [
                                84,
                                87
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "\"repo\"",
                                    "range": [
                                        86,
                                        87
                                    ],
                                    "children": [],
                                    "content": "\"repo\")"
                                }
                            ],
                            "content": "GithubCredentialsField(\"repo\")"
                        }
                    ],
                    "content": "=GithubCredentialsField(\"repo\")"
                }
            ],
            "content": "credentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\n"
        },
        {
            "type": "VariableDecl",
            "name": "repo_url",
            "range": [
                89,
                107
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        90,
                        91
                    ],
                    "children": [],
                    "content": ":str"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        92,
                        106
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                93,
                                106
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        96,
                                        98
                                    ],
                                    "children": [],
                                    "content": "description=\"URL of the GitHub repository\""
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        101,
                                        103
                                    ],
                                    "children": [],
                                    "content": "placeholder=\"https://github.com/owner/repo\""
                                }
                            ],
                            "content": "SchemaField(\ndescription=\"URL of the GitHub repository\",\nplaceholder=\"https://github.com/owner/repo\",\n)"
                        }
                    ],
                    "content": "=SchemaField(\ndescription=\"URL of the GitHub repository\",\nplaceholder=\"https://github.com/owner/repo\",\n)"
                }
            ],
            "content": "repo_url:str=SchemaField(\ndescription=\"URL of the GitHub repository\",\nplaceholder=\"https://github.com/owner/repo\",\n)\n"
        },
        {
            "type": "ClassDecl",
            "name": "Output",
            "range": [
                109,
                114
            ],
            "children": [
                {
                    "type": "Inheritance",
                    "name": "BlockSchema",
                    "range": [
                        111,
                        113
                    ],
                    "children": [],
                    "content": "(BlockSchema)"
                }
            ],
            "content": "class Output(BlockSchema):"
        },
        {
            "type": "ClassDecl",
            "name": "PRItem",
            "range": [
                116,
                121
            ],
            "children": [
                {
                    "type": "Inheritance",
                    "name": "TypedDict",
                    "range": [
                        118,
                        120
                    ],
                    "children": [],
                    "content": "(TypedDict)"
                }
            ],
            "content": "class PRItem(TypedDict):"
        },
        {
            "type": "VariableDecl",
            "name": "pull_request",
            "range": [
                132,
                148
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "PRItem",
                    "range": [
                        133,
                        134
                    ],
                    "children": [],
                    "content": ":PRItem"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        135,
                        147
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                136,
                                147
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "title",
                                    "range": [
                                        139,
                                        141
                                    ],
                                    "children": [],
                                    "content": "title=\"Pull Request\""
                                },
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        143,
                                        145
                                    ],
                                    "children": [],
                                    "content": "description=\"PRs with their title and URL\""
                                }
                            ],
                            "content": "SchemaField(\ntitle=\"Pull Request\",description=\"PRs with their title and URL\"\n)"
                        }
                    ],
                    "content": "=SchemaField(\ntitle=\"Pull Request\",description=\"PRs with their title and URL\"\n)"
                }
            ],
            "content": "pull_request:PRItem=SchemaField(\ntitle=\"Pull Request\",description=\"PRs with their title and URL\"\n)\n"
        },
        {
            "type": "VariableDecl",
            "name": "error",
            "range": [
                149,
                159
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        150,
                        151
                    ],
                    "children": [],
                    "content": ":str"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        152,
                        158
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                153,
                                158
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        155,
                                        157
                                    ],
                                    "children": [],
                                    "content": "description=\"Error message if listing issues failed\""
                                }
                            ],
                            "content": "SchemaField(description=\"Error message if listing issues failed\")"
                        }
                    ],
                    "content": "=SchemaField(description=\"Error message if listing issues failed\")"
                }
            ],
            "content": "error:str=SchemaField(description=\"Error message if listing issues failed\")\n"
        },
        {
            "type": "FunctionDecl",
            "name": "__init__",
            "range": [
                161,
                295
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        164,
                        165
                    ],
                    "children": [],
                    "content": "self)"
                },
                {
                    "type": "CallExpression",
                    "name": "super",
                    "range": [
                        168,
                        171
                    ],
                    "children": [],
                    "content": "super()."
                },
                {
                    "type": "CallExpression",
                    "name": "__init__",
                    "range": [
                        172,
                        294
                    ],
                    "children": [
                        {
                            "type": "Argument",
                            "name": "id",
                            "range": [
                                175,
                                177
                            ],
                            "children": [],
                            "content": "id=\"ffef3c4c-6cd0-48dd-817d-459f975219f4\""
                        },
                        {
                            "type": "Argument",
                            "name": "description",
                            "range": [
                                180,
                                182
                            ],
                            "children": [],
                            "content": "description=\"This block lists all pull requests for a specified GitHub repository.\""
                        },
                        {
                            "type": "Argument",
                            "name": "categories",
                            "range": [
                                185,
                                191
                            ],
                            "children": [],
                            "content": "categories={BlockCategory.DEVELOPER_TOOLS}"
                        },
                        {
                            "type": "Argument",
                            "name": "input_schema",
                            "range": [
                                194,
                                198
                            ],
                            "children": [],
                            "content": "input_schema=GithubListPullRequestsBlock.Input"
                        },
                        {
                            "type": "Argument",
                            "name": "output_schema",
                            "range": [
                                201,
                                205
                            ],
                            "children": [],
                            "content": "output_schema=GithubListPullRequestsBlock.Output"
                        },
                        {
                            "type": "Argument",
                            "name": "test_input",
                            "range": [
                                208,
                                222
                            ],
                            "children": [],
                            "content": "test_input={\n\"repo_url\":\"https://github.com/owner/repo\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n}"
                        },
                        {
                            "type": "Argument",
                            "name": "test_credentials",
                            "range": [
                                225,
                                227
                            ],
                            "children": [],
                            "content": "test_credentials=TEST_CREDENTIALS"
                        },
                        {
                            "type": "Argument",
                            "name": "test_output",
                            "range": [
                                230,
                                256
                            ],
                            "children": [],
                            "content": "test_output=[\n(\n\"pull_request\",\n{\n\"title\":\"Pull request 1\",\n\"url\":\"https://github.com/owner/repo/pull/1\",\n},\n)\n]"
                        },
                        {
                            "type": "Argument",
                            "name": "test_mock",
                            "range": [
                                259,
                                291
                            ],
                            "children": [],
                            "content": "test_mock={\n\"list_prs\":lambda*args,**kwargs:[\n{\n\"title\":\"Pull request 1\",\n\"url\":\"https://github.com/owner/repo/pull/1\",\n}\n]\n}"
                        }
                    ],
                    "content": "__init__(\nid=\"ffef3c4c-6cd0-48dd-817d-459f975219f4\",\ndescription=\"This block lists all pull requests for a specified GitHub repository.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubListPullRequestsBlock.Input,\noutput_schema=GithubListPullRequestsBlock.Output,\ntest_input={\n\"repo_url\":\"https://github.com/owner/repo\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\n\"pull_request\",\n{\n\"title\":\"Pull request 1\",\n\"url\":\"https://github.com/owner/repo/pull/1\",\n},\n)\n],\ntest_mock={\n\"list_prs\":lambda*args,**kwargs:[\n{\n\"title\":\"Pull request 1\",\n\"url\":\"https://github.com/owner/repo/pull/1\",\n}\n]\n},\n)"
                }
            ],
            "content": "def __init__(self):\nsuper().__init__(\nid=\"ffef3c4c-6cd0-48dd-817d-459f975219f4\",\ndescription=\"This block lists all pull requests for a specified GitHub repository.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubListPullRequestsBlock.Input,\noutput_schema=GithubListPullRequestsBlock.Output,\ntest_input={\n\"repo_url\":\"https://github.com/owner/repo\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\n\"pull_request\",\n{\n\"title\":\"Pull request 1\",\n\"url\":\"https://github.com/owner/repo/pull/1\",\n},\n)\n],\ntest_mock={\n\"list_prs\":lambda*args,**kwargs:[\n{\n\"title\":\"Pull request 1\",\n\"url\":\"https://github.com/owner/repo/pull/1\",\n}\n]\n},\n)\n"
        },
        {
            "type": "FunctionDecl",
            "name": "list_prs",
            "range": [
                300,
                388
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "credentials",
                    "range": [
                        303,
                        305
                    ],
                    "children": [],
                    "content": "credentials:GithubCredentials"
                },
                {
                    "type": "Parameter",
                    "name": "repo_url",
                    "range": [
                        307,
                        309
                    ],
                    "children": [],
                    "content": "repo_url:str"
                },
                {
                    "type": "ReturnType",
                    "name": "list[Output.PRItem]",
                    "range": [
                        311,
                        318
                    ],
                    "children": [],
                    "content": "->list[Output.PRItem]"
                },
                {
                    "type": "VariableDecl",
                    "name": "api",
                    "range": [
                        321,
                        327
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                322,
                                326
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "get_api",
                                    "range": [
                                        323,
                                        326
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "credentials",
                                            "range": [
                                                325,
                                                326
                                            ],
                                            "children": [],
                                            "content": "credentials)"
                                        }
                                    ],
                                    "content": "get_api(credentials)"
                                }
                            ],
                            "content": "=get_api(credentials)"
                        }
                    ],
                    "content": "api=get_api(credentials)\n"
                },
                {
                    "type": "VariableDecl",
                    "name": "pulls_url",
                    "range": [
                        328,
                        333
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                329,
                                332
                            ],
                            "children": [
                                {
                                    "type": "BinaryExpression",
                                    "name": "+",
                                    "range": [
                                        330,
                                        332
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "repo_url",
                                            "range": [
                                                330,
                                                330
                                            ],
                                            "children": [],
                                            "content": "repo_url"
                                        },
                                        {
                                            "type": "Literal",
                                            "name": "\"/pulls\"",
                                            "range": [
                                                332,
                                                332
                                            ],
                                            "children": [],
                                            "content": "\"/pulls\""
                                        }
                                    ],
                                    "content": "repo_url+\"/pulls\""
                                }
                            ],
                            "content": "=repo_url+\"/pulls\""
                        }
                    ],
                    "content": "pulls_url=repo_url+\"/pulls\"\n"
                },
                {
                    "type": "VariableDecl",
                    "name": "response",
                    "range": [
                        334,
                        342
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                335,
                                341
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "get",
                                    "range": [
                                        338,
                                        341
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "pulls_url",
                                            "range": [
                                                340,
                                                341
                                            ],
                                            "children": [],
                                            "content": "pulls_url)"
                                        }
                                    ],
                                    "content": "get(pulls_url)"
                                }
                            ],
                            "content": "=api.get(pulls_url)"
                        }
                    ],
                    "content": "response=api.get(pulls_url)\n"
                },
                {
                    "type": "VariableDecl",
                    "name": "data",
                    "range": [
                        343,
                        350
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                344,
                                349
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "json",
                                    "range": [
                                        347,
                                        349
                                    ],
                                    "children": [],
                                    "content": "json()"
                                }
                            ],
                            "content": "=response.json()"
                        }
                    ],
                    "content": "data=response.json()\n"
                },
                {
                    "type": "VariableDecl",
                    "name": "pull_requests",
                    "range": [
                        351,
                        384
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "list[GithubListPullRequestsBlock.Output.PRItem]",
                            "range": [
                                352,
                                360
                            ],
                            "children": [],
                            "content": ":list[GithubListPullRequestsBlock.Output.PRItem]"
                        },
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                361,
                                383
                            ],
                            "children": [
                                {
                                    "type": "ListExpression",
                                    "name": "[",
                                    "range": [
                                        362,
                                        383
                                    ],
                                    "children": [
                                        {
                                            "type": "ObjectExpression",
                                            "name": "{",
                                            "range": [
                                                364,
                                                378
                                            ],
                                            "children": [
                                                {
                                                    "type": "Property",
                                                    "name": "title",
                                                    "range": [
                                                        365,
                                                        371
                                                    ],
                                                    "children": [],
                                                    "content": "\"title\":pr[\"title\"],"
                                                },
                                                {
                                                    "type": "Property",
                                                    "name": "url",
                                                    "range": [
                                                        372,
                                                        378
                                                    ],
                                                    "children": [],
                                                    "content": "\"url\":pr[\"html_url\"]}"
                                                }
                                            ],
                                            "content": "{\"title\":pr[\"title\"],\"url\":pr[\"html_url\"]}"
                                        }
                                    ],
                                    "content": "[\n{\"title\":pr[\"title\"],\"url\":pr[\"html_url\"]}for pr in data\n"
                                }
                            ],
                            "content": "=[\n{\"title\":pr[\"title\"],\"url\":pr[\"html_url\"]}for pr in data\n"
                        }
                    ],
                    "content": "pull_requests:list[GithubListPullRequestsBlock.Output.PRItem]=[\n{\"title\":pr[\"title\"],\"url\":pr[\"html_url\"]}for pr in data\n]"
                },
                {
                    "type": "ReturnStatement",
                    "name": "return",
                    "range": [
                        386,
                        387
                    ],
                    "children": [
                        {
                            "type": "Identifier",
                            "name": "pull_requests",
                            "range": [
                                387,
                                387
                            ],
                            "children": [],
                            "content": "pull_requests"
                        }
                    ],
                    "content": "return pull_requests"
                }
            ],
            "content": "def list_prs(credentials:GithubCredentials,repo_url:str)->list[Output.PRItem]:\napi=get_api(credentials)\npulls_url=repo_url+\"/pulls\"\nresponse=api.get(pulls_url)\ndata=response.json()\npull_requests:list[GithubListPullRequestsBlock.Output.PRItem]=[\n{\"title\":pr[\"title\"],\"url\":pr[\"html_url\"]}for pr in data\n]\nreturn pull_requests\n"
        },
        {
            "type": "FunctionDecl",
            "name": "run",
            "range": [
                390,
                452
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        394,
                        395
                    ],
                    "children": [],
                    "content": "self,"
                },
                {
                    "type": "Parameter",
                    "name": "input_data",
                    "range": [
                        397,
                        399
                    ],
                    "children": [],
                    "content": "input_data:Input"
                },
                {
                    "type": "Parameter",
                    "name": "credentials",
                    "range": [
                        405,
                        407
                    ],
                    "children": [],
                    "content": "credentials:GithubCredentials"
                },
                {
                    "type": "ReturnType",
                    "name": "BlockOutput",
                    "range": [
                        416,
                        418
                    ],
                    "children": [],
                    "content": "->BlockOutput"
                },
                {
                    "type": "VariableDecl",
                    "name": "pull_requests",
                    "range": [
                        421,
                        436
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                422,
                                435
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "list_prs",
                                    "range": [
                                        425,
                                        435
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "credentials",
                                            "range": [
                                                428,
                                                429
                                            ],
                                            "children": [],
                                            "content": "credentials,"
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "input_data.repo_url",
                                            "range": [
                                                431,
                                                434
                                            ],
                                            "children": [],
                                            "content": "input_data.repo_url,"
                                        }
                                    ],
                                    "content": "list_prs(\ncredentials,\ninput_data.repo_url,\n"
                                }
                            ],
                            "content": "=self.list_prs(\ncredentials,\ninput_data.repo_url,\n"
                        }
                    ],
                    "content": "pull_requests=self.list_prs(\ncredentials,\ninput_data.repo_url,\n)"
                },
                {
                    "type": "YieldStatement",
                    "name": "yield",
                    "range": [
                        438,
                        450
                    ],
                    "children": [
                        {
                            "type": "GeneratorExpression",
                            "name": "from",
                            "range": [
                                439,
                                450
                            ],
                            "children": [
                                {
                                    "type": "TupleExpression",
                                    "name": "(",
                                    "range": [
                                        441,
                                        445
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "\"pull_request\"",
                                            "range": [
                                                442,
                                                442
                                            ],
                                            "children": [],
                                            "content": "\"pull_request\""
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "pr",
                                            "range": [
                                                444,
                                                444
                                            ],
                                            "children": [],
                                            "content": "pr"
                                        }
                                    ],
                                    "content": "(\"pull_request\",pr)"
                                }
                            ],
                            "content": "from((\"pull_request\",pr)for pr in pull_requests)"
                        }
                    ],
                    "content": "yield from((\"pull_request\",pr)for pr in pull_requests)"
                }
            ],
            "content": "def run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\npull_requests=self.list_prs(\ncredentials,\ninput_data.repo_url,\n)\nyield from((\"pull_request\",pr)for pr in pull_requests)\n\n"
        },
        {
            "type": "ClassDecl",
            "name": "GithubMakePullRequestBlock",
            "range": [
                453,
                459
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "Block",
                    "range": [
                        455,
                        457
                    ],
                    "children": [],
                    "content": "GithubMakePullRequestBlock(Block"
                }
            ],
            "content": "\nclass GithubMakePullRequestBlock(Block):"
        },
        {
            "type": "ClassDecl",
            "name": "Input",
            "range": [
                460,
                466
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "BlockSchema",
                    "range": [
                        462,
                        464
                    ],
                    "children": [],
                    "content": "Input(BlockSchema"
                }
            ],
            "content": "\nclass Input(BlockSchema):"
        },
        {
            "type": "VariableDecl",
            "name": "credentials",
            "range": [
                467,
                475
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "GithubCredentialsInput",
                    "range": [
                        469,
                        469
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        470,
                        470
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "GithubCredentialsField",
                            "range": [
                                471,
                                474
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "\"repo\"",
                                    "range": [
                                        473,
                                        473
                                    ],
                                    "children": [],
                                    "content": "("
                                }
                            ],
                            "content": "=GithubCredentialsField(\"repo\""
                        }
                    ],
                    "content": "GithubCredentialsInput"
                }
            ],
            "content": "\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")"
        },
        {
            "type": "VariableDecl",
            "name": "repo_url",
            "range": [
                476,
                494
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        478,
                        478
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        479,
                        479
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                480,
                                493
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        483,
                                        485
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        488,
                                        490
                                    ],
                                    "children": [],
                                    "content": "\nplaceholder="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"URL of the GitHub repository\",\nplaceholder=\"https://github.com/owner/repo\",\n"
                        }
                    ],
                    "content": "str"
                }
            ],
            "content": "\nrepo_url:str=SchemaField(\ndescription=\"URL of the GitHub repository\",\nplaceholder=\"https://github.com/owner/repo\",\n)"
        },
        {
            "type": "VariableDecl",
            "name": "title",
            "range": [
                495,
                513
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        497,
                        497
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        498,
                        498
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                499,
                                512
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        502,
                                        504
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        507,
                                        509
                                    ],
                                    "children": [],
                                    "content": "\nplaceholder="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"Title of the pull request\",\nplaceholder=\"Enter the pull request title\",\n"
                        }
                    ],
                    "content": "str"
                }
            ],
            "content": "\ntitle:str=SchemaField(\ndescription=\"Title of the pull request\",\nplaceholder=\"Enter the pull request title\",\n)"
        },
        {
            "type": "VariableDecl",
            "name": "body",
            "range": [
                514,
                532
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        516,
                        516
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        517,
                        517
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                518,
                                531
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        521,
                                        523
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        526,
                                        528
                                    ],
                                    "children": [],
                                    "content": "\nplaceholder="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"Body of the pull request\",\nplaceholder=\"Enter the pull request body\",\n"
                        }
                    ],
                    "content": "str"
                }
            ],
            "content": "\nbody:str=SchemaField(\ndescription=\"Body of the pull request\",\nplaceholder=\"Enter the pull request body\",\n)"
        },
        {
            "type": "VariableDecl",
            "name": "head",
            "range": [
                533,
                559
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        535,
                        535
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        536,
                        536
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                537,
                                558
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        540,
                                        550
                                    ],
                                    "children": [],
                                    "content": "\ndescription=(\n\"The name of the branch where your changes are implemented. \"\n\"For cross-repository pull requests in the same network, \"\n\"namespace head with a user like this: username:branch.\"\n"
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        553,
                                        555
                                    ],
                                    "children": [],
                                    "content": "\nplaceholder="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=(\n\"The name of the branch where your changes are implemented. \"\n\"For cross-repository pull requests in the same network, \"\n\"namespace head with a user like this: username:branch.\"\n),\nplaceholder=\"Enter the head branch\",\n"
                        }
                    ],
                    "content": "str"
                }
            ],
            "content": "\nhead:str=SchemaField(\ndescription=(\n\"The name of the branch where your changes are implemented. \"\n\"For cross-repository pull requests in the same network, \"\n\"namespace head with a user like this: username:branch.\"\n),\nplaceholder=\"Enter the head branch\",\n)"
        },
        {
            "type": "VariableDecl",
            "name": "base",
            "range": [
                560,
                578
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        562,
                        562
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        563,
                        563
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                564,
                                577
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        567,
                                        569
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                },
                                {
                                    "type": "Argument",
                                    "name": "placeholder",
                                    "range": [
                                        572,
                                        574
                                    ],
                                    "children": [],
                                    "content": "\nplaceholder="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"The name of the branch you want the changes pulled into.\",\nplaceholder=\"Enter the base branch\",\n"
                        }
                    ],
                    "content": "str"
                }
            ],
            "content": "\nbase:str=SchemaField(\ndescription=\"The name of the branch you want the changes pulled into.\",\nplaceholder=\"Enter the base branch\",\n)"
        },
        {
            "type": "ClassDecl",
            "name": "Output",
            "range": [
                580,
                586
            ],
            "children": [
                {
                    "type": "ClassInheritance",
                    "name": "BlockSchema",
                    "range": [
                        582,
                        584
                    ],
                    "children": [],
                    "content": "Output(BlockSchema"
                }
            ],
            "content": "\nclass Output(BlockSchema):"
        },
        {
            "type": "VariableDecl",
            "name": "number",
            "range": [
                587,
                597
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "int",
                    "range": [
                        589,
                        589
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        590,
                        590
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                591,
                                596
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        593,
                                        595
                                    ],
                                    "children": [],
                                    "content": "(description="
                                }
                            ],
                            "content": "=SchemaField(description=\"Number of the created pull request\""
                        }
                    ],
                    "content": "int"
                }
            ],
            "content": "\nnumber:int=SchemaField(description=\"Number of the created pull request\")"
        },
        {
            "type": "VariableDecl",
            "name": "url",
            "range": [
                598,
                608
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        600,
                        600
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        601,
                        601
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                602,
                                607
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        604,
                                        606
                                    ],
                                    "children": [],
                                    "content": "(description="
                                }
                            ],
                            "content": "=SchemaField(description=\"URL of the created pull request\""
                        }
                    ],
                    "content": "str"
                }
            ],
            "content": "\nurl:str=SchemaField(description=\"URL of the created pull request\")"
        },
        {
            "type": "VariableDecl",
            "name": "error",
            "range": [
                609,
                621
            ],
            "children": [
                {
                    "type": "TypeAnnotation",
                    "name": "str",
                    "range": [
                        611,
                        611
                    ],
                    "children": [],
                    "content": ":"
                },
                {
                    "type": "Assignment",
                    "name": "=",
                    "range": [
                        612,
                        612
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "SchemaField",
                            "range": [
                                613,
                                620
                            ],
                            "children": [
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        616,
                                        618
                                    ],
                                    "children": [],
                                    "content": "\ndescription="
                                }
                            ],
                            "content": "=SchemaField(\ndescription=\"Error message if the pull request creation failed\"\n"
                        }
                    ],
                    "content": "str"
                }
            ],
            "content": "\nerror:str=SchemaField(\ndescription=\"Error message if the pull request creation failed\"\n)"
        },
        {
            "type": "FunctionDecl",
            "name": "__init__",
            "range": [
                623,
                761
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        626,
                        626
                    ],
                    "children": [],
                    "content": "("
                },
                {
                    "type": "CallExpression",
                    "name": "super",
                    "range": [
                        630,
                        633
                    ],
                    "children": [],
                    "content": "\nsuper()"
                },
                {
                    "type": "CallExpression",
                    "name": "__init__",
                    "range": [
                        634,
                        760
                    ],
                    "children": [
                        {
                            "type": "Argument",
                            "name": "id",
                            "range": [
                                637,
                                639
                            ],
                            "children": [],
                            "content": "\nid="
                        },
                        {
                            "type": "Argument",
                            "name": "description",
                            "range": [
                                642,
                                644
                            ],
                            "children": [],
                            "content": "\ndescription="
                        },
                        {
                            "type": "Argument",
                            "name": "categories",
                            "range": [
                                647,
                                653
                            ],
                            "children": [],
                            "content": "\ncategories={BlockCategory.DEVELOPER_TOOLS"
                        },
                        {
                            "type": "Argument",
                            "name": "input_schema",
                            "range": [
                                656,
                                661
                            ],
                            "children": [],
                            "content": "\ninput_schema=GithubMakePullRequestBlock.Input"
                        },
                        {
                            "type": "Argument",
                            "name": "output_schema",
                            "range": [
                                663,
                                667
                            ],
                            "children": [],
                            "content": "\noutput_schema=GithubMakePullRequestBlock."
                        },
                        {
                            "type": "Argument",
                            "name": "test_input",
                            "range": [
                                670,
                                704
                            ],
                            "children": [],
                            "content": "\ntest_input={\n\"repo_url\":\"https://github.com/owner/repo\",\n\"title\":\"Test Pull Request\",\n\"body\":\"This is a test pull request.\",\n\"head\":\"feature-branch\",\n\"base\":\"main\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n"
                        },
                        {
                            "type": "Argument",
                            "name": "test_credentials",
                            "range": [
                                707,
                                709
                            ],
                            "children": [],
                            "content": "\ntest_credentials="
                        },
                        {
                            "type": "Argument",
                            "name": "test_output",
                            "range": [
                                712,
                                730
                            ],
                            "children": [],
                            "content": "\ntest_output=[\n(\"number\",1),\n(\"url\",\"https://github.com/owner/repo/pull/1\"),\n"
                        },
                        {
                            "type": "Argument",
                            "name": "test_mock",
                            "range": [
                                733,
                                757
                            ],
                            "children": [],
                            "content": "\ntest_mock={\n\"create_pr\":lambda*args,**kwargs:(\n1,\n\"https://github.com/owner/repo/pull/1\",\n)\n"
                        }
                    ],
                    "content": ".__init__(\nid=\"dfb987f8-f197-4b2e-bf19-111812afd692\",\ndescription=\"This block creates a new pull request on a specified GitHub repository.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubMakePullRequestBlock.Input,\noutput_schema=GithubMakePullRequestBlock.Output,\ntest_input={\n\"repo_url\":\"https://github.com/owner/repo\",\n\"title\":\"Test Pull Request\",\n\"body\":\"This is a test pull request.\",\n\"head\":\"feature-branch\",\n\"base\":\"main\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\"number\",1),\n(\"url\",\"https://github.com/owner/repo/pull/1\"),\n],\ntest_mock={\n\"create_pr\":lambda*args,**kwargs:(\n1,\n\"https://github.com/owner/repo/pull/1\",\n)\n},\n"
                }
            ],
            "content": "\ndef __init__(self):\nsuper().__init__(\nid=\"dfb987f8-f197-4b2e-bf19-111812afd692\",\ndescription=\"This block creates a new pull request on a specified GitHub repository.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubMakePullRequestBlock.Input,\noutput_schema=GithubMakePullRequestBlock.Output,\ntest_input={\n\"repo_url\":\"https://github.com/owner/repo\",\n\"title\":\"Test Pull Request\",\n\"body\":\"This is a test pull request.\",\n\"head\":\"feature-branch\",\n\"base\":\"main\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\"number\",1),\n(\"url\",\"https://github.com/owner/repo/pull/1\"),\n],\ntest_mock={\n\"create_pr\":lambda*args,**kwargs:(\n1,\n\"https://github.com/owner/repo/pull/1\",\n)\n},\n)"
        },
        {
            "type": "FunctionDecl",
            "name": "create_pr",
            "range": [
                763,
                876
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "credentials",
                    "range": [
                        770,
                        772
                    ],
                    "children": [],
                    "content": "\ncredentials:"
                },
                {
                    "type": "Parameter",
                    "name": "repo_url",
                    "range": [
                        775,
                        777
                    ],
                    "children": [],
                    "content": "\nrepo_url:"
                },
                {
                    "type": "Parameter",
                    "name": "title",
                    "range": [
                        780,
                        782
                    ],
                    "children": [],
                    "content": "\ntitle:"
                },
                {
                    "type": "Parameter",
                    "name": "body",
                    "range": [
                        785,
                        787
                    ],
                    "children": [],
                    "content": "\nbody:"
                },
                {
                    "type": "Parameter",
                    "name": "head",
                    "range": [
                        790,
                        792
                    ],
                    "children": [],
                    "content": "\nhead:"
                },
                {
                    "type": "Parameter",
                    "name": "base",
                    "range": [
                        795,
                        797
                    ],
                    "children": [],
                    "content": "\nbase:"
                },
                {
                    "type": "ReturnType",
                    "name": "tuple[int, str]",
                    "range": [
                        801,
                        808
                    ],
                    "children": [],
                    "content": ")->tuple[int,str"
                },
                {
                    "type": "VariableDecl",
                    "name": "api",
                    "range": [
                        811,
                        817
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                812,
                                812
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "get_api",
                                    "range": [
                                        813,
                                        816
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "credentials",
                                            "range": [
                                                815,
                                                815
                                            ],
                                            "children": [],
                                            "content": "("
                                        }
                                    ],
                                    "content": "=get_api(credentials"
                                }
                            ],
                            "content": "api"
                        }
                    ],
                    "content": "\napi=get_api(credentials)"
                },
                {
                    "type": "VariableDecl",
                    "name": "pulls_url",
                    "range": [
                        818,
                        823
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                819,
                                819
                            ],
                            "children": [
                                {
                                    "type": "BinaryExpression",
                                    "name": "+",
                                    "range": [
                                        820,
                                        822
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "repo_url",
                                            "range": [
                                                820,
                                                820
                                            ],
                                            "children": [],
                                            "content": "="
                                        },
                                        {
                                            "type": "Literal",
                                            "name": "\"/pulls\"",
                                            "range": [
                                                822,
                                                822
                                            ],
                                            "children": [],
                                            "content": "+"
                                        }
                                    ],
                                    "content": "=repo_url+"
                                }
                            ],
                            "content": "pulls_url"
                        }
                    ],
                    "content": "\npulls_url=repo_url+\"/pulls\""
                },
                {
                    "type": "VariableDecl",
                    "name": "data",
                    "range": [
                        824,
                        843
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                825,
                                825
                            ],
                            "children": [
                                {
                                    "type": "ObjectLiteral",
                                    "name": "",
                                    "range": [
                                        826,
                                        842
                                    ],
                                    "children": [
                                        {
                                            "type": "Property",
                                            "name": "title",
                                            "range": [
                                                827,
                                                829
                                            ],
                                            "children": [],
                                            "content": "{\"title\":"
                                        },
                                        {
                                            "type": "Property",
                                            "name": "body",
                                            "range": [
                                                831,
                                                833
                                            ],
                                            "children": [],
                                            "content": ",\"body\":"
                                        },
                                        {
                                            "type": "Property",
                                            "name": "head",
                                            "range": [
                                                835,
                                                837
                                            ],
                                            "children": [],
                                            "content": ",\"head\":"
                                        },
                                        {
                                            "type": "Property",
                                            "name": "base",
                                            "range": [
                                                839,
                                                841
                                            ],
                                            "children": [],
                                            "content": ",\"base\":"
                                        }
                                    ],
                                    "content": "={\"title\":title,\"body\":body,\"head\":head,\"base\":base"
                                }
                            ],
                            "content": "data"
                        }
                    ],
                    "content": "\ndata={\"title\":title,\"body\":body,\"head\":head,\"base\":base}"
                },
                {
                    "type": "VariableDecl",
                    "name": "response",
                    "range": [
                        844,
                        856
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                845,
                                845
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "post",
                                    "range": [
                                        846,
                                        855
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "pulls_url",
                                            "range": [
                                                850,
                                                850
                                            ],
                                            "children": [],
                                            "content": "("
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "json",
                                            "range": [
                                                852,
                                                854
                                            ],
                                            "children": [],
                                            "content": ",json="
                                        }
                                    ],
                                    "content": "=api.post(pulls_url,json=data"
                                }
                            ],
                            "content": "response"
                        }
                    ],
                    "content": "\nresponse=api.post(pulls_url,json=data)"
                },
                {
                    "type": "VariableDecl",
                    "name": "pr_data",
                    "range": [
                        857,
                        864
                    ],
                    "children": [
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                858,
                                858
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "json",
                                    "range": [
                                        859,
                                        863
                                    ],
                                    "children": [],
                                    "content": "=response.json("
                                }
                            ],
                            "content": "pr_data"
                        }
                    ],
                    "content": "\npr_data=response.json()"
                },
                {
                    "type": "ReturnStatement",
                    "name": "return",
                    "range": [
                        865,
                        875
                    ],
                    "children": [
                        {
                            "type": "ArrayAccess",
                            "name": "pr_data[\"number\"]",
                            "range": [
                                866,
                                869
                            ],
                            "children": [],
                            "content": "return pr_data[\"number\""
                        },
                        {
                            "type": "ArrayAccess",
                            "name": "pr_data[\"html_url\"]",
                            "range": [
                                871,
                                874
                            ],
                            "children": [],
                            "content": ",pr_data[\"html_url\""
                        }
                    ],
                    "content": "\nreturn pr_data[\"number\"],pr_data[\"html_url\"]"
                }
            ],
            "content": "\n@staticmethod\ndef create_pr(\ncredentials:GithubCredentials,\nrepo_url:str,\ntitle:str,\nbody:str,\nhead:str,\nbase:str,\n)->tuple[int,str]:\napi=get_api(credentials)\npulls_url=repo_url+\"/pulls\"\ndata={\"title\":title,\"body\":body,\"head\":head,\"base\":base}\nresponse=api.post(pulls_url,json=data)\npr_data=response.json()\nreturn pr_data[\"number\"],pr_data[\"html_url\"]\n"
        },
        {
            "type": "FunctionDecl",
            "name": "run",
            "range": [
                877,
                974
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        881,
                        881
                    ],
                    "children": [],
                    "content": "\n"
                },
                {
                    "type": "Parameter",
                    "name": "input_data",
                    "range": [
                        884,
                        886
                    ],
                    "children": [],
                    "content": "\ninput_data:"
                },
                {
                    "type": "Parameter",
                    "name": "credentials",
                    "range": [
                        893,
                        895
                    ],
                    "children": [],
                    "content": "credentials:GithubCredentials"
                },
                {
                    "type": "ReturnType",
                    "name": "BlockOutput",
                    "range": [
                        903,
                        905
                    ],
                    "children": [],
                    "content": ")->"
                },
                {
                    "type": "TryStatement",
                    "name": "try",
                    "range": [
                        908,
                        973
                    ],
                    "children": [
                        {
                            "type": "VariableDecl",
                            "name": "number",
                            "range": [
                                911,
                                914
                            ],
                            "children": [
                                {
                                    "type": "Assignment",
                                    "name": "=",
                                    "range": [
                                        912,
                                        912
                                    ],
                                    "children": [
                                        {
                                            "type": "CallExpression",
                                            "name": "create_pr",
                                            "range": [
                                                915,
                                                948
                                            ],
                                            "children": [
                                                {
                                                    "type": "Argument",
                                                    "name": "credentials",
                                                    "range": [
                                                        920,
                                                        920
                                                    ],
                                                    "children": [],
                                                    "content": "\n"
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "input_data.repo_url",
                                                    "range": [
                                                        923,
                                                        925
                                                    ],
                                                    "children": [],
                                                    "content": "\ninput_data."
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "input_data.title",
                                                    "range": [
                                                        928,
                                                        930
                                                    ],
                                                    "children": [],
                                                    "content": "\ninput_data."
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "input_data.body",
                                                    "range": [
                                                        933,
                                                        935
                                                    ],
                                                    "children": [],
                                                    "content": "\ninput_data."
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "input_data.head",
                                                    "range": [
                                                        938,
                                                        940
                                                    ],
                                                    "children": [],
                                                    "content": "\ninput_data."
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "input_data.base",
                                                    "range": [
                                                        943,
                                                        945
                                                    ],
                                                    "children": [],
                                                    "content": "\ninput_data."
                                                }
                                            ],
                                            "content": "=self.create_pr(\ncredentials,\ninput_data.repo_url,\ninput_data.title,\ninput_data.body,\ninput_data.head,\ninput_data.base,\n"
                                        }
                                    ],
                                    "content": "number"
                                }
                            ],
                            "content": "\nnumber,url"
                        },
                        {
                            "type": "YieldStatement",
                            "name": "yield",
                            "range": [
                                950,
                                954
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"number\"",
                                    "range": [
                                        951,
                                        951
                                    ],
                                    "children": [],
                                    "content": "yield"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "number",
                                    "range": [
                                        953,
                                        953
                                    ],
                                    "children": [],
                                    "content": ","
                                }
                            ],
                            "content": "\nyield \"number\",number"
                        },
                        {
                            "type": "YieldStatement",
                            "name": "yield",
                            "range": [
                                955,
                                959
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"url\"",
                                    "range": [
                                        956,
                                        956
                                    ],
                                    "children": [],
                                    "content": "yield"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "url",
                                    "range": [
                                        958,
                                        958
                                    ],
                                    "children": [],
                                    "content": ","
                                }
                            ],
                            "content": "\nyield \"url\",url"
                        },
                        {
                            "type": "CatchClause",
                            "name": "except",
                            "range": [
                                960,
                                973
                            ],
                            "children": [
                                {
                                    "type": "Parameter",
                                    "name": "e",
                                    "range": [
                                        963,
                                        963
                                    ],
                                    "children": [],
                                    "content": "as"
                                },
                                {
                                    "type": "YieldStatement",
                                    "name": "yield",
                                    "range": [
                                        966,
                                        973
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "\"error\"",
                                            "range": [
                                                967,
                                                967
                                            ],
                                            "children": [],
                                            "content": "yield"
                                        },
                                        {
                                            "type": "CallExpression",
                                            "name": "str",
                                            "range": [
                                                969,
                                                972
                                            ],
                                            "children": [
                                                {
                                                    "type": "Argument",
                                                    "name": "e",
                                                    "range": [
                                                        971,
                                                        971
                                                    ],
                                                    "children": [],
                                                    "content": "("
                                                }
                                            ],
                                            "content": ",str(e"
                                        }
                                    ],
                                    "content": "\nyield \"error\",str(e)"
                                }
                            ],
                            "content": "\nexcept Exception as e:\nyield \"error\",str(e)"
                        }
                    ],
                    "content": "\ntry:\nnumber,url=self.create_pr(\ncredentials,\ninput_data.repo_url,\ninput_data.title,\ninput_data.body,\ninput_data.head,\ninput_data.base,\n)\nyield \"number\",number\nyield \"url\",url\nexcept Exception as e:\nyield \"error\",str(e)"
                }
            ],
            "content": "\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\ntry:\nnumber,url=self.create_pr(\ncredentials,\ninput_data.repo_url,\ninput_data.title,\ninput_data.body,\ninput_data.head,\ninput_data.base,\n)\nyield \"number\",number\nyield \"url\",url\nexcept Exception as e:\nyield \"error\",str(e)\n"
        },
        {
            "type": "ClassDecl",
            "name": "Input",
            "range": [
                1587,
                1641
            ],
            "children": [
                {
                    "type": "VariableDecl",
                    "name": "credentials",
                    "range": [
                        1594,
                        1601
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "GithubCredentialsInput",
                            "range": [
                                1596,
                                1596
                            ],
                            "children": [],
                            "content": "class"
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                1597,
                                1597
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "GithubCredentialsField",
                                    "range": [
                                        1598,
                                        1601
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "\"repo\"",
                                            "range": [
                                                1600,
                                                1600
                                            ],
                                            "children": [],
                                            "content": ")"
                                        }
                                    ],
                                    "content": "(BlockSchema):"
                                }
                            ],
                            "content": "Input"
                        }
                    ],
                    "content": ":\nclass Input(BlockSchema):"
                },
                {
                    "type": "VariableDecl",
                    "name": "pr_url",
                    "range": [
                        1603,
                        1620
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                1605,
                                1605
                            ],
                            "children": [],
                            "content": "GithubCredentialsInput"
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                1606,
                                1606
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        1607,
                                        1620
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "description",
                                            "range": [
                                                1610,
                                                1612
                                            ],
                                            "children": [],
                                            "content": ")\npr_url"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "placeholder",
                                            "range": [
                                                1615,
                                                1617
                                            ],
                                            "children": [],
                                            "content": "=SchemaField("
                                        }
                                    ],
                                    "content": "GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription="
                                }
                            ],
                            "content": "="
                        }
                    ],
                    "content": "credentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription="
                },
                {
                    "type": "VariableDecl",
                    "name": "reviewer",
                    "range": [
                        1622,
                        1639
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                1624,
                                1624
                            ],
                            "children": [],
                            "content": "placeholder"
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                1625,
                                1625
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        1626,
                                        1639
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "description",
                                            "range": [
                                                1629,
                                                1631
                                            ],
                                            "children": [],
                                            "content": ")\nreviewer"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "placeholder",
                                            "range": [
                                                1634,
                                                1636
                                            ],
                                            "children": [],
                                            "content": "=SchemaField("
                                        }
                                    ],
                                    "content": "\"https://github.com/owner/repo/pull/1\",\n)\nreviewer:str=SchemaField(\ndescription="
                                }
                            ],
                            "content": "="
                        }
                    ],
                    "content": ",\nplaceholder=\"https://github.com/owner/repo/pull/1\",\n)\nreviewer:str=SchemaField(\ndescription="
                }
            ],
            "content": "\n\nclass GithubAssignPRReviewerBlock(Block):\nclass Input(BlockSchema):\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription=\"URL of the GitHub pull request\",\nplaceholder=\"https://github.com/owner/repo/pull/1\",\n)\nreviewer:str=SchemaField(\ndescription=\"Username of the reviewer to assign\","
        },
        {
            "type": "ClassDecl",
            "name": "Output",
            "range": [
                1642,
                1675
            ],
            "children": [
                {
                    "type": "VariableDecl",
                    "name": "status",
                    "range": [
                        1649,
                        1660
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                1651,
                                1651
                            ],
                            "children": [],
                            "content": "class"
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                1652,
                                1652
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        1653,
                                        1660
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "description",
                                            "range": [
                                                1656,
                                                1658
                                            ],
                                            "children": [],
                                            "content": ":\nstatus"
                                        }
                                    ],
                                    "content": "(BlockSchema):\nstatus:str"
                                }
                            ],
                            "content": "Output"
                        }
                    ],
                    "content": "\n\nclass Output(BlockSchema):\nstatus:str"
                },
                {
                    "type": "VariableDecl",
                    "name": "error",
                    "range": [
                        1662,
                        1673
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                1664,
                                1664
                            ],
                            "children": [],
                            "content": "\n"
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                1665,
                                1665
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        1666,
                                        1673
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "description",
                                            "range": [
                                                1669,
                                                1671
                                            ],
                                            "children": [],
                                            "content": ")\nerror"
                                        }
                                    ],
                                    "content": "=\"Status of the reviewer assignment operation\"\n)\nerror:str"
                                }
                            ],
                            "content": "description"
                        }
                    ],
                    "content": "SchemaField(\ndescription=\"Status of the reviewer assignment operation\"\n)\nerror:str"
                }
            ],
            "content": "\nplaceholder=\"Enter the reviewer's username\",\n)\n\nclass Output(BlockSchema):\nstatus:str=SchemaField(\ndescription=\"Status of the reviewer assignment operation\"\n)\nerror:str=SchemaField"
        },
        {
            "type": "FunctionDecl",
            "name": "__init__",
            "range": [
                1676,
                1781
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "super",
                    "range": [
                        1683,
                        1685
                    ],
                    "children": [],
                    "content": "\n\ndef"
                },
                {
                    "type": "CallExpression",
                    "name": "__init__",
                    "range": [
                        1687,
                        1780
                    ],
                    "children": [
                        {
                            "type": "Identifier",
                            "name": "id",
                            "range": [
                                1690,
                                1692
                            ],
                            "children": [],
                            "content": ":\nsuper"
                        },
                        {
                            "type": "Identifier",
                            "name": "description",
                            "range": [
                                1695,
                                1697
                            ],
                            "children": [],
                            "content": ".__init__("
                        },
                        {
                            "type": "Identifier",
                            "name": "categories",
                            "range": [
                                1700,
                                1706
                            ],
                            "children": [],
                            "content": "=\"c0d22c5e-e688-43e3-ba43-d5faba7927fd\",\ndescription=\"This block assigns a reviewer to a specified GitHub pull request.\""
                        },
                        {
                            "type": "Identifier",
                            "name": "input_schema",
                            "range": [
                                1709,
                                1714
                            ],
                            "children": [],
                            "content": "categories={BlockCategory.DEVELOPER_TOOLS"
                        },
                        {
                            "type": "Identifier",
                            "name": "output_schema",
                            "range": [
                                1716,
                                1721
                            ],
                            "children": [],
                            "content": ",\ninput_schema=GithubAssignPRReviewerBlock."
                        },
                        {
                            "type": "Identifier",
                            "name": "test_input",
                            "range": [
                                1723,
                                1742
                            ],
                            "children": [],
                            "content": ",\noutput_schema=GithubAssignPRReviewerBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"reviewer\":"
                        },
                        {
                            "type": "Identifier",
                            "name": "test_credentials",
                            "range": [
                                1745,
                                1747
                            ],
                            "children": [],
                            "content": "\n\"credentials\":"
                        },
                        {
                            "type": "Identifier",
                            "name": "test_output",
                            "range": [
                                1750,
                                1758
                            ],
                            "children": [],
                            "content": "\n},\ntest_credentials=TEST_CREDENTIALS,\n"
                        },
                        {
                            "type": "Identifier",
                            "name": "test_mock",
                            "range": [
                                1761,
                                1777
                            ],
                            "children": [],
                            "content": "[(\"status\",\"Reviewer assigned successfully\")],\ntest_mock={\n\"assign_reviewer\":lambda*"
                        }
                    ],
                    "content": "(self):\nsuper().__init__(\nid=\"c0d22c5e-e688-43e3-ba43-d5faba7927fd\",\ndescription=\"This block assigns a reviewer to a specified GitHub pull request.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubAssignPRReviewerBlock.Input,\noutput_schema=GithubAssignPRReviewerBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"reviewer\":\"reviewer_username\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[(\"status\",\"Reviewer assigned successfully\")],\ntest_mock={\n\"assign_reviewer\":lambda*args,*"
                }
            ],
            "content": "(\ndescription=\"Error message if the reviewer assignment failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\nid=\"c0d22c5e-e688-43e3-ba43-d5faba7927fd\",\ndescription=\"This block assigns a reviewer to a specified GitHub pull request.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubAssignPRReviewerBlock.Input,\noutput_schema=GithubAssignPRReviewerBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"reviewer\":\"reviewer_username\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[(\"status\",\"Reviewer assigned successfully\")],\ntest_mock={\n\"assign_reviewer\":lambda*args,**"
        },
        {
            "type": "FunctionDecl",
            "name": "assign_reviewer",
            "range": [
                1783,
                1851
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "credentials",
                    "range": [
                        1790,
                        1792
                    ],
                    "children": [],
                    "content": "\n\n@"
                },
                {
                    "type": "Parameter",
                    "name": "pr_url",
                    "range": [
                        1794,
                        1796
                    ],
                    "children": [],
                    "content": "\ndef assign_reviewer"
                },
                {
                    "type": "Parameter",
                    "name": "reviewer",
                    "range": [
                        1798,
                        1800
                    ],
                    "children": [],
                    "content": "\ncredentials:"
                },
                {
                    "type": "ReturnType",
                    "name": "str",
                    "range": [
                        1805,
                        1805
                    ],
                    "children": [],
                    "content": "str"
                },
                {
                    "type": "VariableDecl",
                    "name": "api",
                    "range": [
                        1808,
                        1813
                    ],
                    "children": [
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                1809,
                                1809
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "get_api",
                                    "range": [
                                        1810,
                                        1813
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "credentials",
                                            "range": [
                                                1812,
                                                1812
                                            ],
                                            "children": [],
                                            "content": "-"
                                        }
                                    ],
                                    "content": "\n)->"
                                }
                            ],
                            "content": "str"
                        }
                    ],
                    "content": ":str\n)->"
                },
                {
                    "type": "VariableDecl",
                    "name": "reviewers_url",
                    "range": [
                        1815,
                        1826
                    ],
                    "children": [
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                1816,
                                1816
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "prepare_pr_api_url",
                                    "range": [
                                        1817,
                                        1826
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "pr_url",
                                            "range": [
                                                1819,
                                                1821
                                            ],
                                            "children": [],
                                            "content": "get_api(credentials"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "path",
                                            "range": [
                                                1823,
                                                1825
                                            ],
                                            "children": [],
                                            "content": "\nreviewers_url="
                                        }
                                    ],
                                    "content": "api=get_api(credentials)\nreviewers_url=prepare_pr_api_url"
                                }
                            ],
                            "content": "\n"
                        }
                    ],
                    "content": ":\napi=get_api(credentials)\nreviewers_url=prepare_pr_api_url"
                },
                {
                    "type": "VariableDecl",
                    "name": "data",
                    "range": [
                        1828,
                        1836
                    ],
                    "children": [
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                1829,
                                1829
                            ],
                            "children": [
                                {
                                    "type": "ObjectExpression",
                                    "name": "",
                                    "range": [
                                        1830,
                                        1836
                                    ],
                                    "children": [
                                        {
                                            "type": "Property",
                                            "name": "reviewers",
                                            "range": [
                                                1831,
                                                1835
                                            ],
                                            "children": [],
                                            "content": ",path=\"requested_reviewers\")"
                                        }
                                    ],
                                    "content": "pr_url,path=\"requested_reviewers\")\n"
                                }
                            ],
                            "content": "="
                        }
                    ],
                    "content": "pr_url=pr_url,path=\"requested_reviewers\")\n"
                },
                {
                    "type": "ExpressionStatement",
                    "name": "",
                    "range": [
                        1838,
                        1847
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "api.post",
                            "range": [
                                1838,
                                1847
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "reviewers_url",
                                    "range": [
                                        1842,
                                        1842
                                    ],
                                    "children": [],
                                    "content": "["
                                },
                                {
                                    "type": "Identifier",
                                    "name": "json",
                                    "range": [
                                        1844,
                                        1846
                                    ],
                                    "children": [],
                                    "content": "]}\n"
                                }
                            ],
                            "content": "={\"reviewers\":[reviewer]}\napi"
                        }
                    ],
                    "content": "={\"reviewers\":[reviewer]}\napi"
                },
                {
                    "type": "ReturnStatement",
                    "name": "",
                    "range": [
                        1849,
                        1850
                    ],
                    "children": [
                        {
                            "type": "Literal",
                            "name": "\"Reviewer assigned successfully\"",
                            "range": [
                                1850,
                                1850
                            ],
                            "children": [],
                            "content": "("
                        }
                    ],
                    "content": "post("
                }
            ],
            "content": ":\"Reviewer assigned successfully\"\n},\n)\n\n@staticmethod\ndef assign_reviewer(\ncredentials:GithubCredentials,pr_url:str,reviewer:str\n)->str:\napi=get_api(credentials)\nreviewers_url=prepare_pr_api_url(pr_url=pr_url,path=\"requested_reviewers\")\ndata={\"reviewers\":[reviewer]}\napi.post(reviewers_url"
        },
        {
            "type": "FunctionDecl",
            "name": "run",
            "range": [
                1853,
                1928
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        1857,
                        1857
                    ],
                    "children": [],
                    "content": "\n"
                },
                {
                    "type": "Parameter",
                    "name": "input_data",
                    "range": [
                        1860,
                        1862
                    ],
                    "children": [],
                    "content": "\n\ndef"
                },
                {
                    "type": "Parameter",
                    "name": "credentials",
                    "range": [
                        1868,
                        1870
                    ],
                    "children": [],
                    "content": "\ninput_data:"
                },
                {
                    "type": "ReturnType",
                    "name": "BlockOutput",
                    "range": [
                        1881,
                        1881
                    ],
                    "children": [],
                    "content": "\n"
                },
                {
                    "type": "TryStatement",
                    "name": "",
                    "range": [
                        1884,
                        1927
                    ],
                    "children": [
                        {
                            "type": "BlockStatement",
                            "name": "",
                            "range": [
                                1886,
                                1913
                            ],
                            "children": [
                                {
                                    "type": "VariableDecl",
                                    "name": "status",
                                    "range": [
                                        1887,
                                        1907
                                    ],
                                    "children": [
                                        {
                                            "type": "AssignmentExpression",
                                            "name": "=",
                                            "range": [
                                                1888,
                                                1888
                                            ],
                                            "children": [
                                                {
                                                    "type": "CallExpression",
                                                    "name": "self.assign_reviewer",
                                                    "range": [
                                                        1889,
                                                        1907
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "credentials",
                                                            "range": [
                                                                1894,
                                                                1894
                                                            ],
                                                            "children": [],
                                                            "content": ":"
                                                        },
                                                        {
                                                            "type": "MemberExpression",
                                                            "name": "input_data.pr_url",
                                                            "range": [
                                                                1897,
                                                                1899
                                                            ],
                                                            "children": [],
                                                            "content": "=self."
                                                        },
                                                        {
                                                            "type": "MemberExpression",
                                                            "name": "input_data.reviewer",
                                                            "range": [
                                                                1902,
                                                                1904
                                                            ],
                                                            "children": [],
                                                            "content": "\ncredentials,"
                                                        }
                                                    ],
                                                    "content": ">BlockOutput:\ntry:\nstatus=self.assign_reviewer(\ncredentials,\ninput_data."
                                                }
                                            ],
                                            "content": "-"
                                        }
                                    ],
                                    "content": ")->BlockOutput:\ntry:\nstatus=self.assign_reviewer(\ncredentials,\ninput_data."
                                },
                                {
                                    "type": "YieldExpression",
                                    "name": "",
                                    "range": [
                                        1909,
                                        1912
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "\"status\"",
                                            "range": [
                                                1910,
                                                1910
                                            ],
                                            "children": [],
                                            "content": "\n"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "status",
                                            "range": [
                                                1912,
                                                1912
                                            ],
                                            "children": [],
                                            "content": "."
                                        }
                                    ],
                                    "content": ",\ninput_data."
                                }
                            ],
                            "content": "\n)->BlockOutput:\ntry:\nstatus=self.assign_reviewer(\ncredentials,\ninput_data.pr_url,\ninput_data.reviewer"
                        },
                        {
                            "type": "CatchClause",
                            "name": "",
                            "range": [
                                1914,
                                1927
                            ],
                            "children": [
                                {
                                    "type": "Parameter",
                                    "name": "e",
                                    "range": [
                                        1917,
                                        1917
                                    ],
                                    "children": [],
                                    "content": "\n"
                                },
                                {
                                    "type": "BlockStatement",
                                    "name": "",
                                    "range": [
                                        1919,
                                        1927
                                    ],
                                    "children": [
                                        {
                                            "type": "YieldExpression",
                                            "name": "",
                                            "range": [
                                                1920,
                                                1923
                                            ],
                                            "children": [
                                                {
                                                    "type": "Literal",
                                                    "name": "\"error\"",
                                                    "range": [
                                                        1921,
                                                        1921
                                                    ],
                                                    "children": [],
                                                    "content": "status"
                                                },
                                                {
                                                    "type": "CallExpression",
                                                    "name": "str",
                                                    "range": [
                                                        1923,
                                                        1926
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "e",
                                                            "range": [
                                                                1925,
                                                                1925
                                                            ],
                                                            "children": [],
                                                            "content": "as"
                                                        }
                                                    ],
                                                    "content": "except Exception as e"
                                                }
                                            ],
                                            "content": ",status\nexcept"
                                        }
                                    ],
                                    "content": "\"status\",status\nexcept Exception as e:"
                                }
                            ],
                            "content": ",\n)\nyield \"status\",status\nexcept Exception as e:"
                        }
                    ],
                    "content": "kwargs,\n)->BlockOutput:\ntry:\nstatus=self.assign_reviewer(\ncredentials,\ninput_data.pr_url,\ninput_data.reviewer,\n)\nyield \"status\",status\nexcept Exception as e:"
                }
            ],
            "content": "json=data)\nreturn \"Reviewer assigned successfully\"\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\ntry:\nstatus=self.assign_reviewer(\ncredentials,\ninput_data.pr_url,\ninput_data.reviewer,\n)\nyield \"status\",status\nexcept Exception as e:\n"
        },
        {
            "type": "ClassDecl",
            "name": "GithubUnassignPRReviewerBlock",
            "range": [
                1929,
                1951
            ],
            "children": [
                {
                    "type": "ClassDecl",
                    "name": "Input",
                    "range": [
                        1936,
                        1951
                    ],
                    "children": [
                        {
                            "type": "VariableDecl",
                            "name": "credentials",
                            "range": [
                                1943,
                                1950
                            ],
                            "children": [],
                            "content": "):\nclass Input(BlockSchema)"
                        },
                        {
                            "type": "VariableDecl",
                            "name": "pr_url",
                            "range": [
                                1952,
                                1969
                            ],
                            "children": [],
                            "content": "\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription"
                        },
                        {
                            "type": "VariableDecl",
                            "name": "reviewer",
                            "range": [
                                1971,
                                1988
                            ],
                            "children": [],
                            "content": "\"URL of the GitHub pull request\",\nplaceholder=\"https://github.com/owner/repo/pull/1\",\n)\nreviewer:str=SchemaField(\ndescription"
                        }
                    ],
                    "content": "\n\n\nclass GithubUnassignPRReviewerBlock(Block):\nclass Input(BlockSchema):"
                },
                {
                    "type": "ClassDecl",
                    "name": "Output",
                    "range": [
                        1991,
                        2010
                    ],
                    "children": [
                        {
                            "type": "VariableDecl",
                            "name": "status",
                            "range": [
                                1998,
                                2009
                            ],
                            "children": [],
                            "content": ")\n\nclass Output(BlockSchema):\nstatus:"
                        },
                        {
                            "type": "VariableDecl",
                            "name": "error",
                            "range": [
                                2011,
                                2022
                            ],
                            "children": [],
                            "content": "=SchemaField(\ndescription=\"Status of the reviewer unassignment operation\"\n)\nerror:"
                        }
                    ],
                    "content": ",\nplaceholder=\"Enter the reviewer's username\",\n)\n\nclass Output(BlockSchema):\nstatus:str"
                },
                {
                    "type": "FunctionDecl",
                    "name": "__init__",
                    "range": [
                        2025,
                        2130
                    ],
                    "children": [],
                    "content": "SchemaField(\ndescription=\"Error message if the reviewer unassignment failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\nid=\"9637945d-c602-4875-899a-9c22f8fd30de\",\ndescription=\"This block unassigns a reviewer from a specified GitHub pull request.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubUnassignPRReviewerBlock.Input,\noutput_schema=GithubUnassignPRReviewerBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"reviewer\":\"reviewer_username\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[(\"status\",\"Reviewer unassigned successfully\")],\ntest_mock={\n\"unassign_reviewer\":lambda*args,*"
                },
                {
                    "type": "FunctionDecl",
                    "name": "unassign_reviewer",
                    "range": [
                        2135,
                        2200
                    ],
                    "children": [],
                    "content": "\n},\n)\n\n@staticmethod\ndef unassign_reviewer(\ncredentials:GithubCredentials,pr_url:str,reviewer:str\n)->str:\napi=get_api(credentials)\nreviewers_url=prepare_pr_api_url(pr_url=pr_url,path=\"requested_reviewers\")\ndata={\"reviewers\":[reviewer]}\napi.delete("
                },
                {
                    "type": "FunctionDecl",
                    "name": "run",
                    "range": [
                        2202,
                        2276
                    ],
                    "children": [],
                    "content": ",json=data)\nreturn \"Reviewer unassigned successfully\"\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\ntry:\nstatus=self.unassign_reviewer(\ncredentials,\ninput_data.pr_url,\ninput_data.reviewer,\n)\nyield \"status\",status\nexcept Exception as e"
                }
            ],
            "content": "yield \"error\",str(e)\n\n\nclass GithubUnassignPRReviewerBlock(Block):\nclass Input(BlockSchema):"
        },
        {
            "type": "ClassDecl",
            "name": "Input",
            "range": [
                2285,
                2319
            ],
            "children": [
                {
                    "type": "FieldDecl",
                    "name": "credentials",
                    "range": [
                        2292,
                        2299
                    ],
                    "children": [],
                    "content": "Block):\nclass Input(BlockSchema"
                },
                {
                    "type": "FieldDecl",
                    "name": "pr_url",
                    "range": [
                        2301,
                        2318
                    ],
                    "children": [],
                    "content": ":\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\n"
                }
            ],
            "content": ")\n\n\nclass GithubListPRReviewersBlock(Block):\nclass Input(BlockSchema):\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription"
        },
        {
            "type": "ClassDecl",
            "name": "Output",
            "range": [
                2321,
                2375
            ],
            "children": [
                {
                    "type": "ClassDecl",
                    "name": "ReviewerItem",
                    "range": [
                        2328,
                        2342
                    ],
                    "children": [
                        {
                            "type": "FieldDecl",
                            "name": "username",
                            "range": [
                                2335,
                                2338
                            ],
                            "children": [],
                            "content": "BlockSchema):\n"
                        },
                        {
                            "type": "FieldDecl",
                            "name": "url",
                            "range": [
                                2339,
                                2342
                            ],
                            "children": [],
                            "content": "class ReviewerItem(TypedDict"
                        }
                    ],
                    "content": "\n)\n\nclass Output(BlockSchema):\nclass ReviewerItem(TypedDict"
                },
                {
                    "type": "FieldDecl",
                    "name": "reviewer",
                    "range": [
                        2344,
                        2361
                    ],
                    "children": [],
                    "content": ":\nusername:str\nurl:str\n\nreviewer:ReviewerItem=SchemaField(\n"
                },
                {
                    "type": "FieldDecl",
                    "name": "error",
                    "range": [
                        2363,
                        2374
                    ],
                    "children": [],
                    "content": "=\"Reviewer\",\ndescription=\"Reviewers with their username and profile URL\",\n)\nerror"
                }
            ],
            "content": "\"URL of the GitHub pull request\",\nplaceholder=\"https://github.com/owner/repo/pull/1\",\n)\n\nclass Output(BlockSchema):\nclass ReviewerItem(TypedDict):\nusername:str\nurl:str\n\nreviewer:ReviewerItem=SchemaField(\ntitle=\"Reviewer\",\ndescription=\"Reviewers with their username and profile URL\",\n)\nerror:"
        },
        {
            "type": "FunctionDecl",
            "name": "__init__",
            "range": [
                2377,
                2511
            ],
            "children": [
                {
                    "type": "SuperCall",
                    "name": "",
                    "range": [
                        2384,
                        2389
                    ],
                    "children": [],
                    "content": "\n)\n\ndef __init__"
                },
                {
                    "type": "Assignment",
                    "name": "id",
                    "range": [
                        2391,
                        2394
                    ],
                    "children": [],
                    "content": "self):\n"
                },
                {
                    "type": "Assignment",
                    "name": "description",
                    "range": [
                        2396,
                        2399
                    ],
                    "children": [],
                    "content": "().__init__"
                },
                {
                    "type": "Assignment",
                    "name": "categories",
                    "range": [
                        2401,
                        2408
                    ],
                    "children": [],
                    "content": "\nid=\"2646956e-96d5-4754-a3df-034017e7ed96\",\ndescription="
                },
                {
                    "type": "Assignment",
                    "name": "input_schema",
                    "range": [
                        2410,
                        2415
                    ],
                    "children": [],
                    "content": ",\ncategories={BlockCategory"
                },
                {
                    "type": "Assignment",
                    "name": "output_schema",
                    "range": [
                        2417,
                        2422
                    ],
                    "children": [],
                    "content": "DEVELOPER_TOOLS},\ninput_schema="
                },
                {
                    "type": "Assignment",
                    "name": "test_input",
                    "range": [
                        2424,
                        2438
                    ],
                    "children": [],
                    "content": ".Input,\noutput_schema=GithubListPRReviewersBlock.Output,\ntest_input={\n"
                },
                {
                    "type": "Assignment",
                    "name": "test_credentials",
                    "range": [
                        2441,
                        2444
                    ],
                    "children": [],
                    "content": "\"https://github.com/owner/repo/pull/1\",\n\"credentials\""
                },
                {
                    "type": "Assignment",
                    "name": "test_output",
                    "range": [
                        2446,
                        2472
                    ],
                    "children": [],
                    "content": "TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\n\"reviewer\",\n{\n\"username\":\"reviewer1\",\n"
                },
                {
                    "type": "Assignment",
                    "name": "test_mock",
                    "range": [
                        2475,
                        2507
                    ],
                    "children": [],
                    "content": "\"https://github.com/reviewer1\",\n},\n)\n],\ntest_mock={\n\"list_reviewers\":lambda*args,**kwargs:[\n{\n\"username\":\"reviewer1\","
                }
            ],
            "content": "=SchemaField(\ndescription=\"Error message if listing reviewers failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\nid=\"2646956e-96d5-4754-a3df-034017e7ed96\",\ndescription=\"This block lists all reviewers for a specified GitHub pull request.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubListPRReviewersBlock.Input,\noutput_schema=GithubListPRReviewersBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\n\"reviewer\",\n{\n\"username\":\"reviewer1\",\n\"url\":\"https://github.com/reviewer1\",\n},\n)\n],\ntest_mock={\n\"list_reviewers\":lambda*args,**kwargs:[\n{\n\"username\":\"reviewer1\",\n\"url\":\"https://github.com/reviewer1\""
        },
        {
            "type": "FunctionDecl",
            "name": "list_reviewers",
            "range": [
                2516,
                2622
            ],
            "children": [
                {
                    "type": "VariableDecl",
                    "name": "api",
                    "range": [
                        2539,
                        2545
                    ],
                    "children": [],
                    "content": ")->list[Output."
                },
                {
                    "type": "VariableDecl",
                    "name": "reviewers_url",
                    "range": [
                        2546,
                        2558
                    ],
                    "children": [],
                    "content": "ReviewerItem]:\napi=get_api(credentials)\nreviewers_url="
                },
                {
                    "type": "VariableDecl",
                    "name": "response",
                    "range": [
                        2559,
                        2567
                    ],
                    "children": [],
                    "content": "prepare_pr_api_url(pr_url=pr_url,path=\"requested_reviewers\""
                },
                {
                    "type": "VariableDecl",
                    "name": "data",
                    "range": [
                        2568,
                        2575
                    ],
                    "children": [],
                    "content": ")\nresponse=api.get("
                },
                {
                    "type": "VariableDecl",
                    "name": "reviewers",
                    "range": [
                        2576,
                        2618
                    ],
                    "children": [],
                    "content": "reviewers_url)\ndata=response.json()\nreviewers:list[GithubListPRReviewersBlock.Output.ReviewerItem]=[\n{\"username\":reviewer[\"login\"],\"url\":reviewer[\"html_url\"]}\nfor reviewer in"
                },
                {
                    "type": "ReturnStatement",
                    "name": "",
                    "range": [
                        2620,
                        2622
                    ],
                    "children": [],
                    "content": ".get("
                }
            ],
            "content": "]\n},\n)\n\n@staticmethod\ndef list_reviewers(\ncredentials:GithubCredentials,pr_url:str\n)->list[Output.ReviewerItem]:\napi=get_api(credentials)\nreviewers_url=prepare_pr_api_url(pr_url=pr_url,path=\"requested_reviewers\")\nresponse=api.get(reviewers_url)\ndata=response.json()\nreviewers:list[GithubListPRReviewersBlock.Output.ReviewerItem]=[\n{\"username\":reviewer[\"login\"],\"url\":reviewer[\"html_url\"]}\nfor reviewer in data.get("
        },
        {
            "type": "FunctionDecl",
            "name": "run",
            "range": [
                2624,
                2686
            ],
            "children": [
                {
                    "type": "VariableDecl",
                    "name": "reviewers",
                    "range": [
                        2655,
                        2671
                    ],
                    "children": [],
                    "content": "**kwargs,\n)->BlockOutput:\nreviewers=self.list_reviewers("
                },
                {
                    "type": "YieldStatement",
                    "name": "",
                    "range": [
                        2672,
                        2685
                    ],
                    "children": [],
                    "content": "\ncredentials,\ninput_data.pr_url,\n)\nyield from("
                }
            ],
            "content": ",[])\n]\nreturn reviewers\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\nreviewers=self.list_reviewers(\ncredentials,\ninput_data.pr_url,\n)\nyield from(("
        },
        {
            "type": "FunctionDecl",
            "name": "prepare_pr_api_url",
            "range": [
                2688,
                2756
            ],
            "children": [
                {
                    "type": "ParameterList",
                    "name": "parameters",
                    "range": [
                        2690,
                        2698
                    ],
                    "children": [
                        {
                            "type": "Parameter",
                            "name": "pr_url",
                            "range": [
                                2691,
                                2693
                            ],
                            "children": [],
                            "content": "for reviewer in"
                        },
                        {
                            "type": "Parameter",
                            "name": "path",
                            "range": [
                                2695,
                                2697
                            ],
                            "children": [],
                            "content": ")\n\n"
                        }
                    ],
                    "content": ")for reviewer in reviewers)\n\n\n"
                },
                {
                    "type": "ReturnType",
                    "name": "return_type",
                    "range": [
                        2699,
                        2701
                    ],
                    "children": [],
                    "content": "def prepare_pr_api_url("
                },
                {
                    "type": "Block",
                    "name": "body",
                    "range": [
                        2702,
                        2756
                    ],
                    "children": [
                        {
                            "type": "Comment",
                            "name": "comment",
                            "range": [
                                2704,
                                2717
                            ],
                            "children": [],
                            "content": "str,path:str)->str:\n#Pattern to"
                        },
                        {
                            "type": "VariableDecl",
                            "name": "pattern",
                            "range": [
                                2718,
                                2721
                            ],
                            "children": [],
                            "content": "capture the base repository"
                        },
                        {
                            "type": "VariableDecl",
                            "name": "match",
                            "range": [
                                2723,
                                2732
                            ],
                            "children": [],
                            "content": "and the pull request number\npattern=r \"^(?:https?://)?([^/]+/[^/]+/[^/]+)/pull/(\\d+)\""
                        },
                        {
                            "type": "IfStatement",
                            "name": "if_statement",
                            "range": [
                                2734,
                                2741
                            ],
                            "children": [
                                {
                                    "type": "Condition",
                                    "name": "condition",
                                    "range": [
                                        2735,
                                        2736
                                    ],
                                    "children": [],
                                    "content": "=re"
                                },
                                {
                                    "type": "Block",
                                    "name": "then_block",
                                    "range": [
                                        2737,
                                        2741
                                    ],
                                    "children": [
                                        {
                                            "type": "ReturnStatement",
                                            "name": "return_statement",
                                            "range": [
                                                2739,
                                                2740
                                            ],
                                            "children": [],
                                            "content": "(pattern"
                                        }
                                    ],
                                    "content": ".match(pattern,"
                                }
                            ],
                            "content": "match=re.match(pattern,"
                        },
                        {
                            "type": "VariableDecl",
                            "name": "base_url, pr_number",
                            "range": [
                                2743,
                                2751
                            ],
                            "children": [],
                            "content": ")\nif not match:\nreturn pr_url"
                        },
                        {
                            "type": "ReturnStatement",
                            "name": "return_statement",
                            "range": [
                                2753,
                                2755
                            ],
                            "children": [],
                            "content": "\nbase_url,"
                        }
                    ],
                    "content": "pr_url:str,path:str)->str:\n#Pattern to capture the base repository URL and the pull request number\npattern=r \"^(?:https?://)?([^/]+/[^/]+/[^/]+)/pull/(\\d+)\"\nmatch=re.match(pattern,pr_url)\nif not match:\nreturn pr_url\n\nbase_url,pr_number"
                }
            ],
            "content": ",reviewer)for reviewer in reviewers)\n\n\ndef prepare_pr_api_url(pr_url:str,path:str)->str:\n#Pattern to capture the base repository URL and the pull request number\npattern=r \"^(?:https?://)?([^/]+/[^/]+/[^/]+)/pull/(\\d+)\"\nmatch=re.match(pattern,pr_url)\nif not match:\nreturn pr_url\n\nbase_url,pr_number"
        }
    ],
    "content": "import re\n\nfrom typing_extensions import TypedDict\n\nfrom backend.data.block import Block,BlockCategory,BlockOutput,BlockSchema\nfrom backend.data.model import SchemaField\n\nfrom._api import get_api\nfrom._auth import(\nTEST_CREDENTIALS,\nTEST_CREDENTIALS_INPUT,\nGithubCredentials,\nGithubCredentialsField,\nGithubCredentialsInput,\n)\n\n\nclass GithubListPullRequestsBlock(Block):\nclass Input(BlockSchema):\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\nrepo_url:str=SchemaField(\ndescription=\"URL of the GitHub repository\",\nplaceholder=\"https://github.com/owner/repo\",\n)\n\nclass Output(BlockSchema):\nclass PRItem(TypedDict):\ntitle:str\nurl:str\n\npull_request:PRItem=SchemaField(\ntitle=\"Pull Request\",description=\"PRs with their title and URL\"\n)\nerror:str=SchemaField(description=\"Error message if listing issues failed\")\n\ndef __init__(self):\nsuper().__init__(\nid=\"ffef3c4c-6cd0-48dd-817d-459f975219f4\",\ndescription=\"This block lists all pull requests for a specified GitHub repository.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubListPullRequestsBlock.Input,\noutput_schema=GithubListPullRequestsBlock.Output,\ntest_input={\n\"repo_url\":\"https://github.com/owner/repo\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\n\"pull_request\",\n{\n\"title\":\"Pull request 1\",\n\"url\":\"https://github.com/owner/repo/pull/1\",\n},\n)\n],\ntest_mock={\n\"list_prs\":lambda*args,**kwargs:[\n{\n\"title\":\"Pull request 1\",\n\"url\":\"https://github.com/owner/repo/pull/1\",\n}\n]\n},\n)\n\n@staticmethod\ndef list_prs(credentials:GithubCredentials,repo_url:str)->list[Output.PRItem]:\napi=get_api(credentials)\npulls_url=repo_url+\"/pulls\"\nresponse=api.get(pulls_url)\ndata=response.json()\npull_requests:list[GithubListPullRequestsBlock.Output.PRItem]=[\n{\"title\":pr[\"title\"],\"url\":pr[\"html_url\"]}for pr in data\n]\nreturn pull_requests\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\npull_requests=self.list_prs(\ncredentials,\ninput_data.repo_url,\n)\nyield from((\"pull_request\",pr)for pr in pull_requests)\n\n\nclass GithubMakePullRequestBlock(Block):\nclass Input(BlockSchema):\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\nrepo_url:str=SchemaField(\ndescription=\"URL of the GitHub repository\",\nplaceholder=\"https://github.com/owner/repo\",\n)\ntitle:str=SchemaField(\ndescription=\"Title of the pull request\",\nplaceholder=\"Enter the pull request title\",\n)\nbody:str=SchemaField(\ndescription=\"Body of the pull request\",\nplaceholder=\"Enter the pull request body\",\n)\nhead:str=SchemaField(\ndescription=(\n\"The name of the branch where your changes are implemented. \"\n\"For cross-repository pull requests in the same network, \"\n\"namespace head with a user like this: username:branch.\"\n),\nplaceholder=\"Enter the head branch\",\n)\nbase:str=SchemaField(\ndescription=\"The name of the branch you want the changes pulled into.\",\nplaceholder=\"Enter the base branch\",\n)\n\nclass Output(BlockSchema):\nnumber:int=SchemaField(description=\"Number of the created pull request\")\nurl:str=SchemaField(description=\"URL of the created pull request\")\nerror:str=SchemaField(\ndescription=\"Error message if the pull request creation failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\nid=\"dfb987f8-f197-4b2e-bf19-111812afd692\",\ndescription=\"This block creates a new pull request on a specified GitHub repository.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubMakePullRequestBlock.Input,\noutput_schema=GithubMakePullRequestBlock.Output,\ntest_input={\n\"repo_url\":\"https://github.com/owner/repo\",\n\"title\":\"Test Pull Request\",\n\"body\":\"This is a test pull request.\",\n\"head\":\"feature-branch\",\n\"base\":\"main\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\"number\",1),\n(\"url\",\"https://github.com/owner/repo/pull/1\"),\n],\ntest_mock={\n\"create_pr\":lambda*args,**kwargs:(\n1,\n\"https://github.com/owner/repo/pull/1\",\n)\n},\n)\n\n@staticmethod\ndef create_pr(\ncredentials:GithubCredentials,\nrepo_url:str,\ntitle:str,\nbody:str,\nhead:str,\nbase:str,\n)->tuple[int,str]:\napi=get_api(credentials)\npulls_url=repo_url+\"/pulls\"\ndata={\"title\":title,\"body\":body,\"head\":head,\"base\":base}\nresponse=api.post(pulls_url,json=data)\npr_data=response.json()\nreturn pr_data[\"number\"],pr_data[\"html_url\"]\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\ntry:\nnumber,url=self.create_pr(\ncredentials,\ninput_data.repo_url,\ninput_data.title,\ninput_data.body,\ninput_data.head,\ninput_data.base,\n)\nyield \"number\",number\nyield \"url\",url\nexcept Exception as e:\nyield \"error\",str(e)\n\n\nclass GithubReadPullRequestBlock(Block):\nclass Input(BlockSchema):\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription=\"URL of the GitHub pull request\",\nplaceholder=\"https://github.com/owner/repo/pull/1\",\n)\ninclude_pr_changes:bool=SchemaField(\ndescription=\"Whether to include the changes made in the pull request\",\ndefault=False,\n)\n\nclass Output(BlockSchema):\ntitle:str=SchemaField(description=\"Title of the pull request\")\nbody:str=SchemaField(description=\"Body of the pull request\")\nauthor:str=SchemaField(description=\"User who created the pull request\")\nchanges:str=SchemaField(description=\"Changes made in the pull request\")\nerror:str=SchemaField(\ndescription=\"Error message if reading the pull request failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\nid=\"bf94b2a4-1a30-4600-a783-a8a44ee31301\",\ndescription=\"This block reads the body, title, user, and changes of a specified GitHub pull request.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubReadPullRequestBlock.Input,\noutput_schema=GithubReadPullRequestBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"include_pr_changes\":True,\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\"title\",\"Title of the pull request\"),\n(\"body\",\"This is the body of the pull request.\"),\n(\"author\",\"username\"),\n(\"changes\",\"List of changes made in the pull request.\"),\n],\ntest_mock={\n\"read_pr\":lambda*args,**kwargs:(\n\"Title of the pull request\",\n\"This is the body of the pull request.\",\n\"username\",\n),\n\"read_pr_changes\":lambda*args,**kwargs:\"List of changes made in the pull request.\",\n},\n)\n\n@staticmethod\ndef read_pr(credentials:GithubCredentials,pr_url:str)->tuple[str,str,str]:\napi=get_api(credentials)\n#Adjust the URL to access the issue endpoint for PR metadata\nissue_url=pr_url.replace(\"/pull/\",\"/issues/\")\nresponse=api.get(issue_url)\ndata=response.json()\ntitle=data.get(\"title\",\"No title found\")\nbody=data.get(\"body\",\"No body content found\")\nauthor=data.get(\"user\",{}).get(\"login\",\"No user found\")\nreturn title,body,author\n\n@staticmethod\ndef read_pr_changes(credentials:GithubCredentials,pr_url:str)->str:\napi=get_api(credentials)\nfiles_url=prepare_pr_api_url(pr_url=pr_url,path=\"files\")\nresponse=api.get(files_url)\nfiles=response.json()\nchanges=[]\nfor file in files:\nfilename=file.get(\"filename\")\npatch=file.get(\"patch\")\nif filename and patch:\nchanges.append(f \"File: {filename}\\n{patch}\")\nreturn \"\\n\\n\".join(changes)\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\ntitle,body,author=self.read_pr(\ncredentials,\ninput_data.pr_url,\n)\nyield \"title\",title\nyield \"body\",body\nyield \"author\",author\n\nif input_data.include_pr_changes:\nchanges=self.read_pr_changes(\ncredentials,\ninput_data.pr_url,\n)\nyield \"changes\",changes\n\n\nclass GithubAssignPRReviewerBlock(Block):\nclass Input(BlockSchema):\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription=\"URL of the GitHub pull request\",\nplaceholder=\"https://github.com/owner/repo/pull/1\",\n)\nreviewer:str=SchemaField(\ndescription=\"Username of the reviewer to assign\",\nplaceholder=\"Enter the reviewer's username\",\n)\n\nclass Output(BlockSchema):\nstatus:str=SchemaField(\ndescription=\"Status of the reviewer assignment operation\"\n)\nerror:str=SchemaField(\ndescription=\"Error message if the reviewer assignment failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\nid=\"c0d22c5e-e688-43e3-ba43-d5faba7927fd\",\ndescription=\"This block assigns a reviewer to a specified GitHub pull request.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubAssignPRReviewerBlock.Input,\noutput_schema=GithubAssignPRReviewerBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"reviewer\":\"reviewer_username\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[(\"status\",\"Reviewer assigned successfully\")],\ntest_mock={\n\"assign_reviewer\":lambda*args,**kwargs:\"Reviewer assigned successfully\"\n},\n)\n\n@staticmethod\ndef assign_reviewer(\ncredentials:GithubCredentials,pr_url:str,reviewer:str\n)->str:\napi=get_api(credentials)\nreviewers_url=prepare_pr_api_url(pr_url=pr_url,path=\"requested_reviewers\")\ndata={\"reviewers\":[reviewer]}\napi.post(reviewers_url,json=data)\nreturn \"Reviewer assigned successfully\"\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\ntry:\nstatus=self.assign_reviewer(\ncredentials,\ninput_data.pr_url,\ninput_data.reviewer,\n)\nyield \"status\",status\nexcept Exception as e:\nyield \"error\",str(e)\n\n\nclass GithubUnassignPRReviewerBlock(Block):\nclass Input(BlockSchema):\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription=\"URL of the GitHub pull request\",\nplaceholder=\"https://github.com/owner/repo/pull/1\",\n)\nreviewer:str=SchemaField(\ndescription=\"Username of the reviewer to unassign\",\nplaceholder=\"Enter the reviewer's username\",\n)\n\nclass Output(BlockSchema):\nstatus:str=SchemaField(\ndescription=\"Status of the reviewer unassignment operation\"\n)\nerror:str=SchemaField(\ndescription=\"Error message if the reviewer unassignment failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\nid=\"9637945d-c602-4875-899a-9c22f8fd30de\",\ndescription=\"This block unassigns a reviewer from a specified GitHub pull request.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubUnassignPRReviewerBlock.Input,\noutput_schema=GithubUnassignPRReviewerBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"reviewer\":\"reviewer_username\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[(\"status\",\"Reviewer unassigned successfully\")],\ntest_mock={\n\"unassign_reviewer\":lambda*args,**kwargs:\"Reviewer unassigned successfully\"\n},\n)\n\n@staticmethod\ndef unassign_reviewer(\ncredentials:GithubCredentials,pr_url:str,reviewer:str\n)->str:\napi=get_api(credentials)\nreviewers_url=prepare_pr_api_url(pr_url=pr_url,path=\"requested_reviewers\")\ndata={\"reviewers\":[reviewer]}\napi.delete(reviewers_url,json=data)\nreturn \"Reviewer unassigned successfully\"\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\ntry:\nstatus=self.unassign_reviewer(\ncredentials,\ninput_data.pr_url,\ninput_data.reviewer,\n)\nyield \"status\",status\nexcept Exception as e:\nyield \"error\",str(e)\n\n\nclass GithubListPRReviewersBlock(Block):\nclass Input(BlockSchema):\ncredentials:GithubCredentialsInput=GithubCredentialsField(\"repo\")\npr_url:str=SchemaField(\ndescription=\"URL of the GitHub pull request\",\nplaceholder=\"https://github.com/owner/repo/pull/1\",\n)\n\nclass Output(BlockSchema):\nclass ReviewerItem(TypedDict):\nusername:str\nurl:str\n\nreviewer:ReviewerItem=SchemaField(\ntitle=\"Reviewer\",\ndescription=\"Reviewers with their username and profile URL\",\n)\nerror:str=SchemaField(\ndescription=\"Error message if listing reviewers failed\"\n)\n\ndef __init__(self):\nsuper().__init__(\nid=\"2646956e-96d5-4754-a3df-034017e7ed96\",\ndescription=\"This block lists all reviewers for a specified GitHub pull request.\",\ncategories={BlockCategory.DEVELOPER_TOOLS},\ninput_schema=GithubListPRReviewersBlock.Input,\noutput_schema=GithubListPRReviewersBlock.Output,\ntest_input={\n\"pr_url\":\"https://github.com/owner/repo/pull/1\",\n\"credentials\":TEST_CREDENTIALS_INPUT,\n},\ntest_credentials=TEST_CREDENTIALS,\ntest_output=[\n(\n\"reviewer\",\n{\n\"username\":\"reviewer1\",\n\"url\":\"https://github.com/reviewer1\",\n},\n)\n],\ntest_mock={\n\"list_reviewers\":lambda*args,**kwargs:[\n{\n\"username\":\"reviewer1\",\n\"url\":\"https://github.com/reviewer1\",\n}\n]\n},\n)\n\n@staticmethod\ndef list_reviewers(\ncredentials:GithubCredentials,pr_url:str\n)->list[Output.ReviewerItem]:\napi=get_api(credentials)\nreviewers_url=prepare_pr_api_url(pr_url=pr_url,path=\"requested_reviewers\")\nresponse=api.get(reviewers_url)\ndata=response.json()\nreviewers:list[GithubListPRReviewersBlock.Output.ReviewerItem]=[\n{\"username\":reviewer[\"login\"],\"url\":reviewer[\"html_url\"]}\nfor reviewer in data.get(\"users\",[])\n]\nreturn reviewers\n\ndef run(\nself,\ninput_data:Input,\n*,\ncredentials:GithubCredentials,\n**kwargs,\n)->BlockOutput:\nreviewers=self.list_reviewers(\ncredentials,\ninput_data.pr_url,\n)\nyield from((\"reviewer\",reviewer)for reviewer in reviewers)\n\n\ndef prepare_pr_api_url(pr_url:str,path:str)->str:\n#Pattern to capture the base repository URL and the pull request number\npattern=r \"^(?:https?://)?([^/]+/[^/]+/[^/]+)/pull/(\\d+)\"\nmatch=re.match(pattern,pr_url)\nif not match:\nreturn pr_url\n\nbase_url,pr_number"
}