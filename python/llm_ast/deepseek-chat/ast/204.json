{
    "type": "Program",
    "name": "Global",
    "range": [
        55,
        1112
    ],
    "children": [
        {
            "type": "ClassDecl",
            "name": "HubSpotCompanyBlock",
            "range": [
                55,
                59
            ],
            "children": [],
            "content": "\n\nclass HubSpotCompanyBlock("
        },
        {
            "type": "ClassDecl",
            "name": "Input",
            "range": [
                62,
                66
            ],
            "children": [
                {
                    "type": "VariableDecl",
                    "name": "credentials",
                    "range": [
                        69,
                        75
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "HubSpotCredentialsInput",
                            "range": [
                                71,
                                71
                            ],
                            "children": [],
                            "content": "credentials"
                        },
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                72,
                                72
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "HubSpotCredentialsField",
                                    "range": [
                                        73,
                                        75
                                    ],
                                    "children": [],
                                    "content": "HubSpotCredentialsInput=HubSpotCredentialsField"
                                }
                            ],
                            "content": ":"
                        }
                    ],
                    "content": ":\ncredentials:HubSpotCredentialsInput=HubSpotCredentialsField"
                },
                {
                    "type": "VariableDecl",
                    "name": "operation",
                    "range": [
                        77,
                        92
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                79,
                                79
                            ],
                            "children": [],
                            "content": "operation"
                        },
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                80,
                                80
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        81,
                                        92
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                84,
                                                86
                                            ],
                                            "children": [],
                                            "content": "(\ndescription"
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "default",
                                            "range": [
                                                88,
                                                90
                                            ],
                                            "children": [],
                                            "content": "\"Operation to perform (create, update, get)\",default"
                                        }
                                    ],
                                    "content": "str=SchemaField(\ndescription=\"Operation to perform (create, update, get)\",default=\"get\""
                                }
                            ],
                            "content": ":"
                        }
                    ],
                    "content": ")\noperation:str=SchemaField(\ndescription=\"Operation to perform (create, update, get)\",default=\"get\""
                },
                {
                    "type": "VariableDecl",
                    "name": "company_data",
                    "range": [
                        94,
                        110
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "dict",
                            "range": [
                                96,
                                96
                            ],
                            "children": [],
                            "content": "company_data"
                        },
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                97,
                                97
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        98,
                                        110
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                101,
                                                103
                                            ],
                                            "children": [],
                                            "content": "(\ndescription"
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "default",
                                            "range": [
                                                105,
                                                107
                                            ],
                                            "children": [],
                                            "content": "\"Company data for create/update operations\",default"
                                        }
                                    ],
                                    "content": "dict=SchemaField(\ndescription=\"Company data for create/update operations\",default={}"
                                }
                            ],
                            "content": ":"
                        }
                    ],
                    "content": ")\ncompany_data:dict=SchemaField(\ndescription=\"Company data for create/update operations\",default={}"
                },
                {
                    "type": "VariableDecl",
                    "name": "domain",
                    "range": [
                        112,
                        127
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                114,
                                114
                            ],
                            "children": [],
                            "content": "domain"
                        },
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                115,
                                115
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        116,
                                        127
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                119,
                                                121
                                            ],
                                            "children": [],
                                            "content": "(\ndescription"
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "default",
                                            "range": [
                                                123,
                                                125
                                            ],
                                            "children": [],
                                            "content": "\"Company domain for get/update operations\",default"
                                        }
                                    ],
                                    "content": "str=SchemaField(\ndescription=\"Company domain for get/update operations\",default=\"\""
                                }
                            ],
                            "content": ":"
                        }
                    ],
                    "content": ")\ndomain:str=SchemaField(\ndescription=\"Company domain for get/update operations\",default=\"\""
                }
            ],
            "content": ":\nclass Input("
        },
        {
            "type": "ClassDecl",
            "name": "Output",
            "range": [
                130,
                134
            ],
            "children": [
                {
                    "type": "VariableDecl",
                    "name": "company",
                    "range": [
                        137,
                        146
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "dict",
                            "range": [
                                139,
                                139
                            ],
                            "children": [],
                            "content": "company"
                        },
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                140,
                                140
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        141,
                                        146
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                143,
                                                145
                                            ],
                                            "children": [],
                                            "content": "SchemaField(description"
                                        }
                                    ],
                                    "content": "dict=SchemaField(description="
                                }
                            ],
                            "content": ":"
                        }
                    ],
                    "content": ":\ncompany:dict=SchemaField(description="
                },
                {
                    "type": "VariableDecl",
                    "name": "status",
                    "range": [
                        148,
                        157
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                150,
                                150
                            ],
                            "children": [],
                            "content": "status"
                        },
                        {
                            "type": "Assignment",
                            "name": "=",
                            "range": [
                                151,
                                151
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        152,
                                        157
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                154,
                                                156
                                            ],
                                            "children": [],
                                            "content": "SchemaField(description"
                                        }
                                    ],
                                    "content": "str=SchemaField(description="
                                }
                            ],
                            "content": ":"
                        }
                    ],
                    "content": ")\nstatus:str=SchemaField(description="
                }
            ],
            "content": "\n\nclass Output("
        },
        {
            "type": "FunctionDecl",
            "name": "__init__",
            "range": [
                160,
                208
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "super",
                    "range": [
                        167,
                        170
                    ],
                    "children": [],
                    "content": ":\nsuper("
                },
                {
                    "type": "CallExpression",
                    "name": "__init__",
                    "range": [
                        171,
                        207
                    ],
                    "children": [
                        {
                            "type": "Argument",
                            "name": "id",
                            "range": [
                                174,
                                176
                            ],
                            "children": [],
                            "content": "(\nid"
                        },
                        {
                            "type": "Argument",
                            "name": "description",
                            "range": [
                                179,
                                181
                            ],
                            "children": [],
                            "content": ",\ndescription"
                        },
                        {
                            "type": "Argument",
                            "name": "categories",
                            "range": [
                                184,
                                190
                            ],
                            "children": [],
                            "content": ",\ncategories={BlockCategory."
                        },
                        {
                            "type": "Argument",
                            "name": "input_schema",
                            "range": [
                                193,
                                197
                            ],
                            "children": [],
                            "content": ",\ninput_schema=HubSpotCompanyBlock"
                        },
                        {
                            "type": "Argument",
                            "name": "output_schema",
                            "range": [
                                200,
                                204
                            ],
                            "children": [],
                            "content": ",\noutput_schema=HubSpotCompanyBlock"
                        }
                    ],
                    "content": ").__init__(\nid=\"3ae02219-d540-47cd-9c78-3ad6c7d9820a\",\ndescription=\"Manages HubSpot companies - create, update, and retrieve company information\",\ncategories={BlockCategory.CRM},\ninput_schema=HubSpotCompanyBlock.Input,\noutput_schema=HubSpotCompanyBlock.Output,"
                }
            ],
            "content": "\n\ndef __init__(self):\nsuper().__init__(\nid=\"3ae02219-d540-47cd-9c78-3ad6c7d9820a\",\ndescription=\"Manages HubSpot companies - create, update, and retrieve company information\",\ncategories={BlockCategory.CRM},\ninput_schema=HubSpotCompanyBlock.Input,\noutput_schema=HubSpotCompanyBlock.Output,\n"
        },
        {
            "type": "FunctionDecl",
            "name": "run",
            "range": [
                210,
                588
            ],
            "children": [
                {
                    "type": "VariableDecl",
                    "name": "base_url",
                    "range": [
                        236,
                        238
                    ],
                    "children": [],
                    "content": ":\nbase_url"
                },
                {
                    "type": "VariableDecl",
                    "name": "headers",
                    "range": [
                        241,
                        255
                    ],
                    "children": [
                        {
                            "type": "ObjectExpression",
                            "name": "",
                            "range": [
                                242,
                                255
                            ],
                            "children": [
                                {
                                    "type": "Property",
                                    "name": "Authorization",
                                    "range": [
                                        244,
                                        248
                                    ],
                                    "children": [],
                                    "content": "{\n\"Authorization\":f"
                                },
                                {
                                    "type": "Property",
                                    "name": "Content-Type",
                                    "range": [
                                        250,
                                        253
                                    ],
                                    "children": [],
                                    "content": ",\n\"Content-Type\":"
                                }
                            ],
                            "content": "headers={\n\"Authorization\":f \"Bearer {credentials.api_key.get_secret_value()}\",\n\"Content-Type\":\"application/json\","
                        }
                    ],
                    "content": "\nheaders={\n\"Authorization\":f \"Bearer {credentials.api_key.get_secret_value()}\",\n\"Content-Type\":\"application/json\","
                },
                {
                    "type": "IfStatement",
                    "name": "",
                    "range": [
                        258,
                        309
                    ],
                    "children": [
                        {
                            "type": "BinaryExpression",
                            "name": "==",
                            "range": [
                                262,
                                264
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "operation",
                                    "range": [
                                        260,
                                        261
                                    ],
                                    "children": [],
                                    "content": "if input_data"
                                },
                                {
                                    "type": "Literal",
                                    "name": "create",
                                    "range": [
                                        264,
                                        264
                                    ],
                                    "children": [],
                                    "content": "="
                                }
                            ],
                            "content": ".operation="
                        },
                        {
                            "type": "BlockStatement",
                            "name": "",
                            "range": [
                                266,
                                309
                            ],
                            "children": [
                                {
                                    "type": "VariableDecl",
                                    "name": "response",
                                    "range": [
                                        267,
                                        290
                                    ],
                                    "children": [
                                        {
                                            "type": "CallExpression",
                                            "name": "post",
                                            "range": [
                                                271,
                                                290
                                            ],
                                            "children": [
                                                {
                                                    "type": "Argument",
                                                    "name": "base_url",
                                                    "range": [
                                                        274,
                                                        274
                                                    ],
                                                    "children": [],
                                                    "content": "("
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "headers",
                                                    "range": [
                                                        277,
                                                        278
                                                    ],
                                                    "children": [],
                                                    "content": ",headers"
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "json",
                                                    "range": [
                                                        280,
                                                        288
                                                    ],
                                                    "children": [],
                                                    "content": "headers,json={\"properties\":input_data."
                                                }
                                            ],
                                            "content": "requests.post(\nbase_url,headers=headers,json={\"properties\":input_data.company_data}"
                                        }
                                    ],
                                    "content": ":\nresponse=requests.post(\nbase_url,headers=headers,json={\"properties\":input_data.company_data}"
                                },
                                {
                                    "type": "VariableDecl",
                                    "name": "result",
                                    "range": [
                                        292,
                                        299
                                    ],
                                    "children": [
                                        {
                                            "type": "CallExpression",
                                            "name": "json",
                                            "range": [
                                                296,
                                                299
                                            ],
                                            "children": [],
                                            "content": "response.json("
                                        }
                                    ],
                                    "content": ")\nresult=response.json("
                                },
                                {
                                    "type": "YieldExpression",
                                    "name": "",
                                    "range": [
                                        300,
                                        304
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "company",
                                            "range": [
                                                301,
                                                301
                                            ],
                                            "children": [],
                                            "content": "\n"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "result",
                                            "range": [
                                                303,
                                                303
                                            ],
                                            "children": [],
                                            "content": "\"company\""
                                        }
                                    ],
                                    "content": ")\nyield \"company\","
                                },
                                {
                                    "type": "YieldExpression",
                                    "name": "",
                                    "range": [
                                        305,
                                        309
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "status",
                                            "range": [
                                                306,
                                                306
                                            ],
                                            "children": [],
                                            "content": "\n"
                                        },
                                        {
                                            "type": "Literal",
                                            "name": "created",
                                            "range": [
                                                308,
                                                308
                                            ],
                                            "children": [],
                                            "content": "\"status\""
                                        }
                                    ],
                                    "content": "result\nyield \"status\","
                                }
                            ],
                            "content": "\"create\":\nresponse=requests.post(\nbase_url,headers=headers,json={\"properties\":input_data.company_data}\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\","
                        }
                    ],
                    "content": "\n\nif input_data.operation==\"create\":\nresponse=requests.post(\nbase_url,headers=headers,json={\"properties\":input_data.company_data}\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\","
                },
                {
                    "type": "IfStatement",
                    "name": "",
                    "range": [
                        311,
                        415
                    ],
                    "children": [
                        {
                            "type": "BinaryExpression",
                            "name": "==",
                            "range": [
                                315,
                                317
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "operation",
                                    "range": [
                                        313,
                                        314
                                    ],
                                    "children": [],
                                    "content": "elif input_data"
                                },
                                {
                                    "type": "Literal",
                                    "name": "get",
                                    "range": [
                                        317,
                                        317
                                    ],
                                    "children": [],
                                    "content": "="
                                }
                            ],
                            "content": ".operation="
                        },
                        {
                            "type": "BlockStatement",
                            "name": "",
                            "range": [
                                319,
                                415
                            ],
                            "children": [
                                {
                                    "type": "VariableDecl",
                                    "name": "search_url",
                                    "range": [
                                        320,
                                        324
                                    ],
                                    "children": [],
                                    "content": ":\nsearch_url=f"
                                },
                                {
                                    "type": "VariableDecl",
                                    "name": "search_data",
                                    "range": [
                                        325,
                                        366
                                    ],
                                    "children": [
                                        {
                                            "type": "ObjectExpression",
                                            "name": "",
                                            "range": [
                                                327,
                                                366
                                            ],
                                            "children": [
                                                {
                                                    "type": "Property",
                                                    "name": "filterGroups",
                                                    "range": [
                                                        329,
                                                        364
                                                    ],
                                                    "children": [],
                                                    "content": "{\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}"
                                                }
                                            ],
                                            "content": "search_data={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]"
                                        }
                                    ],
                                    "content": "\"{base_url}/search\"\nsearch_data={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]"
                                },
                                {
                                    "type": "VariableDecl",
                                    "name": "response",
                                    "range": [
                                        368,
                                        384
                                    ],
                                    "children": [
                                        {
                                            "type": "CallExpression",
                                            "name": "post",
                                            "range": [
                                                372,
                                                384
                                            ],
                                            "children": [
                                                {
                                                    "type": "Argument",
                                                    "name": "search_url",
                                                    "range": [
                                                        374,
                                                        374
                                                    ],
                                                    "children": [],
                                                    "content": "post"
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "headers",
                                                    "range": [
                                                        377,
                                                        378
                                                    ],
                                                    "children": [],
                                                    "content": ",headers"
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "json",
                                                    "range": [
                                                        380,
                                                        382
                                                    ],
                                                    "children": [],
                                                    "content": "headers,json"
                                                }
                                            ],
                                            "content": "requests.post(search_url,headers=headers,json=search_data"
                                        }
                                    ],
                                    "content": "}\nresponse=requests.post(search_url,headers=headers,json=search_data"
                                },
                                {
                                    "type": "VariableDecl",
                                    "name": "result",
                                    "range": [
                                        385,
                                        392
                                    ],
                                    "children": [
                                        {
                                            "type": "CallExpression",
                                            "name": "json",
                                            "range": [
                                                389,
                                                392
                                            ],
                                            "children": [],
                                            "content": "response.json("
                                        }
                                    ],
                                    "content": ")\nresult=response.json("
                                },
                                {
                                    "type": "YieldExpression",
                                    "name": "",
                                    "range": [
                                        393,
                                        410
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "company",
                                            "range": [
                                                394,
                                                394
                                            ],
                                            "children": [],
                                            "content": "\n"
                                        },
                                        {
                                            "type": "MemberExpression",
                                            "name": "get",
                                            "range": [
                                                397,
                                                406
                                            ],
                                            "children": [
                                                {
                                                    "type": "Literal",
                                                    "name": "results",
                                                    "range": [
                                                        400,
                                                        400
                                                    ],
                                                    "children": [],
                                                    "content": "get"
                                                },
                                                {
                                                    "type": "ArrayExpression",
                                                    "name": "",
                                                    "range": [
                                                        402,
                                                        405
                                                    ],
                                                    "children": [],
                                                    "content": "\"results\",[{"
                                                }
                                            ],
                                            "content": ",result.get(\"results\",[{}"
                                        }
                                    ],
                                    "content": ")\nyield \"company\",result.get(\"results\",[{}])[0"
                                },
                                {
                                    "type": "YieldExpression",
                                    "name": "",
                                    "range": [
                                        411,
                                        415
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "status",
                                            "range": [
                                                412,
                                                412
                                            ],
                                            "children": [],
                                            "content": "\n"
                                        },
                                        {
                                            "type": "Literal",
                                            "name": "retrieved",
                                            "range": [
                                                414,
                                                414
                                            ],
                                            "children": [],
                                            "content": "\"status\""
                                        }
                                    ],
                                    "content": "]\nyield \"status\","
                                }
                            ],
                            "content": "\"get\":\nsearch_url=f \"{base_url}/search\"\nsearch_data={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n}\nresponse=requests.post(search_url,headers=headers,json=search_data)\nresult=response.json()\nyield \"company\",result.get(\"results\",[{}])[0]\nyield \"status\","
                        }
                    ],
                    "content": "\n\nelif input_data.operation==\"get\":\nsearch_url=f \"{base_url}/search\"\nsearch_data={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n}\nresponse=requests.post(search_url,headers=headers,json=search_data)\nresult=response.json()\nyield \"company\",result.get(\"results\",[{}])[0]\nyield \"status\","
                },
                {
                    "type": "IfStatement",
                    "name": "",
                    "range": [
                        417,
                        587
                    ],
                    "children": [
                        {
                            "type": "BinaryExpression",
                            "name": "==",
                            "range": [
                                421,
                                423
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "operation",
                                    "range": [
                                        419,
                                        420
                                    ],
                                    "children": [],
                                    "content": "elif input_data"
                                },
                                {
                                    "type": "Literal",
                                    "name": "update",
                                    "range": [
                                        423,
                                        423
                                    ],
                                    "children": [],
                                    "content": "="
                                }
                            ],
                            "content": ".operation="
                        },
                        {
                            "type": "BlockStatement",
                            "name": "",
                            "range": [
                                425,
                                587
                            ],
                            "children": [
                                {
                                    "type": "VariableDecl",
                                    "name": "search_response",
                                    "range": [
                                        434,
                                        495
                                    ],
                                    "children": [
                                        {
                                            "type": "CallExpression",
                                            "name": "post",
                                            "range": [
                                                438,
                                                495
                                            ],
                                            "children": [
                                                {
                                                    "type": "Argument",
                                                    "name": "search_url",
                                                    "range": [
                                                        441,
                                                        443
                                                    ],
                                                    "children": [],
                                                    "content": "(\nf"
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "headers",
                                                    "range": [
                                                        445,
                                                        447
                                                    ],
                                                    "children": [],
                                                    "content": ",\nheaders"
                                                },
                                                {
                                                    "type": "Argument",
                                                    "name": "json",
                                                    "range": [
                                                        449,
                                                        491
                                                    ],
                                                    "children": [],
                                                    "content": "headers,\njson={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]"
                                                }
                                            ],
                                            "content": "requests.post(\nf \"{base_url}/search\",\nheaders=headers,\njson={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n},\n"
                                        }
                                    ],
                                    "content": "domain\nsearch_response=requests.post(\nf \"{base_url}/search\",\nheaders=headers,\njson={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n},\n"
                                },
                                {
                                    "type": "VariableDecl",
                                    "name": "company_id",
                                    "range": [
                                        496,
                                        521
                                    ],
                                    "children": [
                                        {
                                            "type": "CallExpression",
                                            "name": "json",
                                            "range": [
                                                500,
                                                501
                                            ],
                                            "children": [],
                                            "content": "search_response."
                                        },
                                        {
                                            "type": "CallExpression",
                                            "name": "get",
                                            "range": [
                                                504,
                                                520
                                            ],
                                            "children": [
                                                {
                                                    "type": "Literal",
                                                    "name": "id",
                                                    "range": [
                                                        519,
                                                        519
                                                    ],
                                                    "children": [],
                                                    "content": "get"
                                                }
                                            ],
                                            "content": ").get(\"results\",[{}])[0].get("
                                        }
                                    ],
                                    "content": ")\ncompany_id=search_response.json().get(\"results\",[{}])[0].get(\"id\""
                                },
                                {
                                    "type": "IfStatement",
                                    "name": "",
                                    "range": [
                                        523,
                                        573
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "company_id",
                                            "range": [
                                                524,
                                                524
                                            ],
                                            "children": [],
                                            "content": "\n"
                                        },
                                        {
                                            "type": "BlockStatement",
                                            "name": "",
                                            "range": [
                                                526,
                                                573
                                            ],
                                            "children": [
                                                {
                                                    "type": "VariableDecl",
                                                    "name": "response",
                                                    "range": [
                                                        527,
                                                        555
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "CallExpression",
                                                            "name": "patch",
                                                            "range": [
                                                                531,
                                                                555
                                                            ],
                                                            "children": [
                                                                {
                                                                    "type": "Argument",
                                                                    "name": "base_url",
                                                                    "range": [
                                                                        535,
                                                                        536
                                                                    ],
                                                                    "children": [],
                                                                    "content": "\nf"
                                                                },
                                                                {
                                                                    "type": "Argument",
                                                                    "name": "headers",
                                                                    "range": [
                                                                        538,
                                                                        540
                                                                    ],
                                                                    "children": [],
                                                                    "content": ",\nheaders"
                                                                },
                                                                {
                                                                    "type": "Argument",
                                                                    "name": "json",
                                                                    "range": [
                                                                        543,
                                                                        551
                                                                    ],
                                                                    "children": [],
                                                                    "content": ",\njson={\"properties\":input_data."
                                                                }
                                                            ],
                                                            "content": "requests.patch(\nf \"{base_url}/{company_id}\",\nheaders=headers,\njson={\"properties\":input_data.company_data},\n"
                                                        }
                                                    ],
                                                    "content": ":\nresponse=requests.patch(\nf \"{base_url}/{company_id}\",\nheaders=headers,\njson={\"properties\":input_data.company_data},\n"
                                                },
                                                {
                                                    "type": "VariableDecl",
                                                    "name": "result",
                                                    "range": [
                                                        556,
                                                        563
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "CallExpression",
                                                            "name": "json",
                                                            "range": [
                                                                560,
                                                                563
                                                            ],
                                                            "children": [],
                                                            "content": "response.json("
                                                        }
                                                    ],
                                                    "content": ")\nresult=response.json("
                                                },
                                                {
                                                    "type": "YieldExpression",
                                                    "name": "",
                                                    "range": [
                                                        564,
                                                        568
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Literal",
                                                            "name": "company",
                                                            "range": [
                                                                565,
                                                                565
                                                            ],
                                                            "children": [],
                                                            "content": "\n"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "result",
                                                            "range": [
                                                                567,
                                                                567
                                                            ],
                                                            "children": [],
                                                            "content": "\"company\""
                                                        }
                                                    ],
                                                    "content": ")\nyield \"company\","
                                                },
                                                {
                                                    "type": "YieldExpression",
                                                    "name": "",
                                                    "range": [
                                                        569,
                                                        573
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Literal",
                                                            "name": "status",
                                                            "range": [
                                                                570,
                                                                570
                                                            ],
                                                            "children": [],
                                                            "content": "\n"
                                                        },
                                                        {
                                                            "type": "Literal",
                                                            "name": "updated",
                                                            "range": [
                                                                572,
                                                                572
                                                            ],
                                                            "children": [],
                                                            "content": "\"status\""
                                                        }
                                                    ],
                                                    "content": "result\nyield \"status\","
                                                }
                                            ],
                                            "content": "company_id:\nresponse=requests.patch(\nf \"{base_url}/{company_id}\",\nheaders=headers,\njson={\"properties\":input_data.company_data},\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\","
                                        }
                                    ],
                                    "content": "\n\nif company_id:\nresponse=requests.patch(\nf \"{base_url}/{company_id}\",\nheaders=headers,\njson={\"properties\":input_data.company_data},\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\","
                                },
                                {
                                    "type": "ElseStatement",
                                    "name": "",
                                    "range": [
                                        575,
                                        587
                                    ],
                                    "children": [
                                        {
                                            "type": "BlockStatement",
                                            "name": "",
                                            "range": [
                                                577,
                                                587
                                            ],
                                            "children": [
                                                {
                                                    "type": "YieldExpression",
                                                    "name": "",
                                                    "range": [
                                                        578,
                                                        582
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Literal",
                                                            "name": "company",
                                                            "range": [
                                                                579,
                                                                579
                                                            ],
                                                            "children": [],
                                                            "content": "yield"
                                                        },
                                                        {
                                                            "type": "ObjectExpression",
                                                            "name": "",
                                                            "range": [
                                                                580,
                                                                581
                                                            ],
                                                            "children": [],
                                                            "content": "\"company\","
                                                        }
                                                    ],
                                                    "content": "\nyield \"company\",{"
                                                },
                                                {
                                                    "type": "YieldExpression",
                                                    "name": "",
                                                    "range": [
                                                        583,
                                                        587
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Literal",
                                                            "name": "status",
                                                            "range": [
                                                                584,
                                                                584
                                                            ],
                                                            "children": [],
                                                            "content": "\n"
                                                        },
                                                        {
                                                            "type": "Literal",
                                                            "name": "company_not_found",
                                                            "range": [
                                                                586,
                                                                586
                                                            ],
                                                            "children": [],
                                                            "content": "\"status\""
                                                        }
                                                    ],
                                                    "content": "}\nyield \"status\","
                                                }
                                            ],
                                            "content": ":\nyield \"company\",{}\nyield \"status\","
                                        }
                                    ],
                                    "content": "\nelse:\nyield \"company\",{}\nyield \"status\","
                                }
                            ],
                            "content": "\"update\":\n#First get company ID by domain\nsearch_response=requests.post(\nf \"{base_url}/search\",\nheaders=headers,\njson={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n},\n)\ncompany_id=search_response.json().get(\"results\",[{}])[0].get(\"id\")\n\nif company_id:\nresponse=requests.patch(\nf \"{base_url}/{company_id}\",\nheaders=headers,\njson={\"properties\":input_data.company_data},\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\",\"updated\"\nelse:\nyield \"company\",{}\nyield \"status\","
                        }
                    ],
                    "content": "\n\nelif input_data.operation==\"update\":\n#First get company ID by domain\nsearch_response=requests.post(\nf \"{base_url}/search\",\nheaders=headers,\njson={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n},\n)\ncompany_id=search_response.json().get(\"results\",[{}])[0].get(\"id\")\n\nif company_id:\nresponse=requests.patch(\nf \"{base_url}/{company_id}\",\nheaders=headers,\njson={\"properties\":input_data.company_data},\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\",\"updated\"\nelse:\nyield \"company\",{}\nyield \"status\","
                }
            ],
            "content": "\n\ndef run(\nself,input_data:Input,*,credentials:HubSpotCredentials,**kwargs\n)->BlockOutput:\nbase_url=\"https://api.hubapi.com/crm/v3/objects/companies\"\nheaders={\n\"Authorization\":f \"Bearer {credentials.api_key.get_secret_value()}\",\n\"Content-Type\":\"application/json\",\n}\n\nif input_data.operation==\"create\":\nresponse=requests.post(\nbase_url,headers=headers,json={\"properties\":input_data.company_data}\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\",\"created\"\n\nelif input_data.operation==\"get\":\nsearch_url=f \"{base_url}/search\"\nsearch_data={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n}\nresponse=requests.post(search_url,headers=headers,json=search_data)\nresult=response.json()\nyield \"company\",result.get(\"results\",[{}])[0]\nyield \"status\",\"retrieved\"\n\nelif input_data.operation==\"update\":\n#First get company ID by domain\nsearch_response=requests.post(\nf \"{base_url}/search\",\nheaders=headers,\njson={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n},\n)\ncompany_id=search_response.json().get(\"results\",[{}])[0].get(\"id\")\n\nif company_id:\nresponse=requests.patch(\nf \"{base_url}/{company_id}\",\nheaders=headers,\njson={\"properties\":input_data.company_data},\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\",\"updated\"\nelse:\nyield \"company\",{}\nyield \"status\",\"company_not_found\""
        },
        {
            "type": "ClassDecl",
            "name": "Input",
            "range": [
                589,
                655
            ],
            "children": [
                {
                    "type": "Property",
                    "name": "credentials",
                    "range": [
                        596,
                        602
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "HubSpotCredentialsInput",
                            "range": [
                                598,
                                598
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                599,
                                599
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "HubSpotCredentialsField",
                                    "range": [
                                        600,
                                        602
                                    ],
                                    "children": [],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        }
                    ],
                    "content": ""
                },
                {
                    "type": "Property",
                    "name": "operation",
                    "range": [
                        604,
                        619
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                606,
                                606
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                607,
                                607
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        608,
                                        619
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                611,
                                                613
                                            ],
                                            "children": [],
                                            "content": ""
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "default",
                                            "range": [
                                                615,
                                                617
                                            ],
                                            "children": [],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        }
                    ],
                    "content": ""
                },
                {
                    "type": "Property",
                    "name": "company_data",
                    "range": [
                        621,
                        637
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "dict",
                            "range": [
                                623,
                                623
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                624,
                                624
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        625,
                                        637
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                628,
                                                630
                                            ],
                                            "children": [],
                                            "content": ""
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "default",
                                            "range": [
                                                632,
                                                634
                                            ],
                                            "children": [],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        }
                    ],
                    "content": ""
                },
                {
                    "type": "Property",
                    "name": "domain",
                    "range": [
                        639,
                        654
                    ],
                    "children": [
                        {
                            "type": "TypeAnnotation",
                            "name": "str",
                            "range": [
                                641,
                                641
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "=",
                            "range": [
                                642,
                                642
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        643,
                                        654
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                646,
                                                648
                                            ],
                                            "children": [],
                                            "content": ""
                                        },
                                        {
                                            "type": "Argument",
                                            "name": "default",
                                            "range": [
                                                650,
                                                652
                                            ],
                                            "children": [],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        }
                    ],
                    "content": ""
                }
            ],
            "content": "\n"
        },
        {
            "type": "ClassDecl",
            "name": "Output",
            "range": [
                656,
                684
            ],
            "children": [
                {
                    "type": "ClassBody",
                    "range": [
                        662,
                        684
                    ],
                    "children": [
                        {
                            "type": "FieldDecl",
                            "name": "company",
                            "range": [
                                663,
                                672
                            ],
                            "children": [
                                {
                                    "type": "TypeAnnotation",
                                    "name": "dict",
                                    "range": [
                                        665
                                    ],
                                    "children": []
                                },
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        667,
                                        672
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                669,
                                                671
                                            ],
                                            "children": [
                                                {
                                                    "type": "Literal",
                                                    "name": "\"Company information\"",
                                                    "range": [
                                                        671
                                                    ],
                                                    "children": []
                                                }
                                            ],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        },
                        {
                            "type": "FieldDecl",
                            "name": "status",
                            "range": [
                                674,
                                683
                            ],
                            "children": [
                                {
                                    "type": "TypeAnnotation",
                                    "name": "str",
                                    "range": [
                                        676
                                    ],
                                    "children": []
                                },
                                {
                                    "type": "CallExpression",
                                    "name": "SchemaField",
                                    "range": [
                                        678,
                                        683
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "name": "description",
                                            "range": [
                                                680,
                                                682
                                            ],
                                            "children": [
                                                {
                                                    "type": "Literal",
                                                    "name": "\"Operation status\"",
                                                    "range": [
                                                        682
                                                    ],
                                                    "children": []
                                                }
                                            ],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        }
                    ],
                    "content": ""
                }
            ],
            "content": ""
        },
        {
            "type": "FunctionDecl",
            "name": "__init__",
            "range": [
                685,
                733
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        688,
                        688
                    ],
                    "content": ""
                },
                {
                    "type": "CallExpression",
                    "name": "super",
                    "range": [
                        692,
                        694
                    ],
                    "children": [],
                    "content": ""
                },
                {
                    "type": "CallExpression",
                    "name": "__init__",
                    "range": [
                        696,
                        732
                    ],
                    "children": [
                        {
                            "type": "AssignmentExpression",
                            "name": "id",
                            "range": [
                                699,
                                701
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"3ae02219-d540-47cd-9c78-3ad6c7d9820a\"",
                                    "range": [
                                        701,
                                        701
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "description",
                            "range": [
                                704,
                                706
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"Manages HubSpot companies - create, update, and retrieve company information\"",
                                    "range": [
                                        706,
                                        706
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "categories",
                            "range": [
                                709,
                                715
                            ],
                            "children": [
                                {
                                    "type": "ObjectExpression",
                                    "name": "",
                                    "range": [
                                        711,
                                        715
                                    ],
                                    "children": [
                                        {
                                            "type": "Property",
                                            "name": "BlockCategory.CRM",
                                            "range": [
                                                712,
                                                714
                                            ],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "input_schema",
                            "range": [
                                718,
                                723
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "HubSpotCompanyBlock.Input",
                                    "range": [
                                        720,
                                        722
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        },
                        {
                            "type": "AssignmentExpression",
                            "name": "output_schema",
                            "range": [
                                725,
                                730
                            ],
                            "children": [
                                {
                                    "type": "MemberExpression",
                                    "name": "HubSpotCompanyBlock.Output",
                                    "range": [
                                        727,
                                        729
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        }
                    ],
                    "content": ""
                }
            ],
            "content": ""
        },
        {
            "type": "FunctionDecl",
            "name": "run",
            "range": [
                734,
                758
            ],
            "children": [
                {
                    "type": "Parameter",
                    "name": "self",
                    "range": [
                        738,
                        738
                    ],
                    "children": [],
                    "content": ""
                },
                {
                    "type": "Parameter",
                    "name": "input_data",
                    "range": [
                        740,
                        742
                    ],
                    "children": [],
                    "content": ""
                },
                {
                    "type": "Parameter",
                    "name": "credentials",
                    "range": [
                        746,
                        748
                    ],
                    "children": [],
                    "content": ""
                },
                {
                    "type": "Parameter",
                    "name": "kwargs",
                    "range": [
                        752,
                        752
                    ],
                    "children": [],
                    "content": ""
                },
                {
                    "type": "ReturnType",
                    "name": "BlockOutput",
                    "range": [
                        757,
                        757
                    ],
                    "children": [],
                    "content": ""
                }
            ],
            "content": ""
        },
        {
            "type": "VariableDecl",
            "name": "base_url",
            "range": [
                760,
                762
            ],
            "children": [],
            "content": ""
        },
        {
            "type": "VariableDecl",
            "name": "headers",
            "range": [
                764,
                779
            ],
            "children": [
                {
                    "type": "ObjectLiteral",
                    "name": "",
                    "range": [
                        766,
                        779
                    ],
                    "children": [
                        {
                            "type": "Property",
                            "name": "Authorization",
                            "range": [
                                768,
                                771
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "Property",
                            "name": "Content-Type",
                            "range": [
                                774,
                                776
                            ],
                            "children": [],
                            "content": ""
                        }
                    ],
                    "content": ""
                }
            ],
            "content": ""
        },
        {
            "type": "IfStatement",
            "name": "",
            "range": [
                782,
                833
            ],
            "children": [
                {
                    "type": "Condition",
                    "name": "",
                    "range": [
                        783,
                        788
                    ],
                    "children": [],
                    "content": ""
                },
                {
                    "type": "Block",
                    "name": "",
                    "range": [
                        790,
                        833
                    ],
                    "children": [
                        {
                            "type": "VariableDecl",
                            "name": "response",
                            "range": [
                                791,
                                814
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "VariableDecl",
                            "name": "result",
                            "range": [
                                816,
                                822
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "YieldStatement",
                            "name": "",
                            "range": [
                                824,
                                827
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "YieldStatement",
                            "name": "",
                            "range": [
                                829,
                                832
                            ],
                            "children": [],
                            "content": ""
                        }
                    ],
                    "content": ""
                }
            ],
            "content": ""
        },
        {
            "type": "ElseIfStatement",
            "name": "",
            "range": [
                835,
                939
            ],
            "children": [
                {
                    "type": "Condition",
                    "name": "",
                    "range": [
                        836,
                        841
                    ],
                    "children": [],
                    "content": ""
                },
                {
                    "type": "Block",
                    "name": "",
                    "range": [
                        843,
                        939
                    ],
                    "children": [
                        {
                            "type": "VariableDecl",
                            "name": "search_url",
                            "range": [
                                844,
                                847
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "VariableDecl",
                            "name": "search_data",
                            "range": [
                                849,
                                890
                            ],
                            "children": [
                                {
                                    "type": "ObjectLiteral",
                                    "name": "",
                                    "range": [
                                        851,
                                        890
                                    ],
                                    "children": [
                                        {
                                            "type": "Property",
                                            "name": "filterGroups",
                                            "range": [
                                                853,
                                                888
                                            ],
                                            "children": [],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        },
                        {
                            "type": "VariableDecl",
                            "name": "response",
                            "range": [
                                892,
                                907
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "VariableDecl",
                            "name": "result",
                            "range": [
                                909,
                                915
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "YieldStatement",
                            "name": "",
                            "range": [
                                917,
                                920
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "YieldStatement",
                            "name": "",
                            "range": [
                                935,
                                938
                            ],
                            "children": [],
                            "content": ""
                        }
                    ],
                    "content": ""
                }
            ],
            "content": ""
        },
        {
            "type": "ElseIfStatement",
            "name": "",
            "range": [
                941,
                1111
            ],
            "children": [
                {
                    "type": "Condition",
                    "name": "",
                    "range": [
                        942,
                        947
                    ],
                    "children": [],
                    "content": ""
                },
                {
                    "type": "Block",
                    "name": "",
                    "range": [
                        949,
                        1111
                    ],
                    "children": [
                        {
                            "type": "Comment",
                            "name": "",
                            "range": [
                                950,
                                957
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "VariableDecl",
                            "name": "search_response",
                            "range": [
                                958,
                                1018
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "VariableDecl",
                            "name": "company_id",
                            "range": [
                                1020,
                                1045
                            ],
                            "children": [],
                            "content": ""
                        },
                        {
                            "type": "IfStatement",
                            "name": "",
                            "range": [
                                1047,
                                1097
                            ],
                            "children": [
                                {
                                    "type": "Condition",
                                    "name": "",
                                    "range": [
                                        1048,
                                        1048
                                    ],
                                    "children": [],
                                    "content": ""
                                },
                                {
                                    "type": "Block",
                                    "name": "",
                                    "range": [
                                        1050,
                                        1097
                                    ],
                                    "children": [
                                        {
                                            "type": "VariableDecl",
                                            "name": "response",
                                            "range": [
                                                1051,
                                                1078
                                            ],
                                            "children": [],
                                            "content": ""
                                        },
                                        {
                                            "type": "VariableDecl",
                                            "name": "result",
                                            "range": [
                                                1080,
                                                1086
                                            ],
                                            "children": [],
                                            "content": ""
                                        },
                                        {
                                            "type": "YieldStatement",
                                            "name": "",
                                            "range": [
                                                1088,
                                                1091
                                            ],
                                            "children": [],
                                            "content": ""
                                        },
                                        {
                                            "type": "YieldStatement",
                                            "name": "",
                                            "range": [
                                                1093,
                                                1096
                                            ],
                                            "children": [],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        },
                        {
                            "type": "ElseStatement",
                            "name": "",
                            "range": [
                                1098,
                                1111
                            ],
                            "children": [
                                {
                                    "type": "Block",
                                    "name": "",
                                    "range": [
                                        1100,
                                        1111
                                    ],
                                    "children": [
                                        {
                                            "type": "YieldStatement",
                                            "name": "",
                                            "range": [
                                                1101,
                                                1104
                                            ],
                                            "children": [],
                                            "content": ""
                                        },
                                        {
                                            "type": "YieldStatement",
                                            "name": "",
                                            "range": [
                                                1107,
                                                1110
                                            ],
                                            "children": [],
                                            "content": ""
                                        }
                                    ],
                                    "content": ""
                                }
                            ],
                            "content": ""
                        }
                    ],
                    "content": ""
                }
            ],
            "content": ""
        }
    ],
    "content": "\n\nclass HubSpotCompanyBlock(Block):\nclass Input(BlockSchema):\ncredentials:HubSpotCredentialsInput=HubSpotCredentialsField()\noperation:str=SchemaField(\ndescription=\"Operation to perform (create, update, get)\",default=\"get\"\n)\ncompany_data:dict=SchemaField(\ndescription=\"Company data for create/update operations\",default={}\n)\ndomain:str=SchemaField(\ndescription=\"Company domain for get/update operations\",default=\"\"\n)\n\nclass Output(BlockSchema):\ncompany:dict=SchemaField(description=\"Company information\")\nstatus:str=SchemaField(description=\"Operation status\")\n\ndef __init__(self):\nsuper().__init__(\nid=\"3ae02219-d540-47cd-9c78-3ad6c7d9820a\",\ndescription=\"Manages HubSpot companies - create, update, and retrieve company information\",\ncategories={BlockCategory.CRM},\ninput_schema=HubSpotCompanyBlock.Input,\noutput_schema=HubSpotCompanyBlock.Output,\n)\n\ndef run(\nself,input_data:Input,*,credentials:HubSpotCredentials,**kwargs\n)->BlockOutput:\nbase_url=\"https://api.hubapi.com/crm/v3/objects/companies\"\nheaders={\n\"Authorization\":f \"Bearer {credentials.api_key.get_secret_value()}\",\n\"Content-Type\":\"application/json\",\n}\n\nif input_data.operation==\"create\":\nresponse=requests.post(\nbase_url,headers=headers,json={\"properties\":input_data.company_data}\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\",\"created\"\n\nelif input_data.operation==\"get\":\nsearch_url=f \"{base_url}/search\"\nsearch_data={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n}\nresponse=requests.post(search_url,headers=headers,json=search_data)\nresult=response.json()\nyield \"company\",result.get(\"results\",[{}])[0]\nyield \"status\",\"retrieved\"\n\nelif input_data.operation==\"update\":\n#First get company ID by domain\nsearch_response=requests.post(\nf \"{base_url}/search\",\nheaders=headers,\njson={\n\"filterGroups\":[\n{\n\"filters\":[\n{\n\"propertyName\":\"domain\",\n\"operator\":\"EQ\",\n\"value\":input_data.domain,\n}\n]\n}\n]\n},\n)\ncompany_id=search_response.json().get(\"results\",[{}])[0].get(\"id\")\n\nif company_id:\nresponse=requests.patch(\nf \"{base_url}/{company_id}\",\nheaders=headers,\njson={\"properties\":input_data.company_data},\n)\nresult=response.json()\nyield \"company\",result\nyield \"status\",\"updated\"\nelse:\nyield \"company\",{}\nyield \"status\",\"company_not_found\"\n"
}