{
    "type": "Program",
    "name": "Global",
    "range": [
        0,
        173
    ],
    "children": [
        {
            "type": "VariableDeclaration",
            "name": "DiscordCredentials",
            "range": [
                69,
                87
            ],
            "children": [
                {
                    "type": "AssignmentExpression",
                    "name": "",
                    "range": [
                        70,
                        86
                    ],
                    "children": [
                        {
                            "type": "Identifier",
                            "name": "CredentialsMetaInput",
                            "range": [
                                71,
                                71
                            ],
                            "children": [],
                            "content": "CredentialsMetaInput"
                        },
                        {
                            "type": "ArrayExpression",
                            "name": "",
                            "range": [
                                72,
                                86
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "",
                                    "range": [
                                        74,
                                        74
                                    ],
                                    "children": [],
                                    "content": "Literal"
                                },
                                {
                                    "type": "ArrayExpression",
                                    "name": "",
                                    "range": [
                                        75,
                                        79
                                    ],
                                    "children": [
                                        {
                                            "type": "MemberExpression",
                                            "name": "",
                                            "range": [
                                                76,
                                                78
                                            ],
                                            "children": [
                                                {
                                                    "type": "Identifier",
                                                    "name": "ProviderName",
                                                    "range": [
                                                        76,
                                                        76
                                                    ],
                                                    "children": [],
                                                    "content": "ProviderName"
                                                },
                                                {
                                                    "type": "Identifier",
                                                    "name": "DISCORD",
                                                    "range": [
                                                        78,
                                                        78
                                                    ],
                                                    "children": [],
                                                    "content": "DISCORD"
                                                }
                                            ],
                                            "content": "ProviderName.DISCORD"
                                        }
                                    ],
                                    "content": "[ProviderName.DISCORD]"
                                },
                                {
                                    "type": "Literal",
                                    "name": "",
                                    "range": [
                                        81,
                                        81
                                    ],
                                    "children": [],
                                    "content": "Literal"
                                },
                                {
                                    "type": "ArrayExpression",
                                    "name": "",
                                    "range": [
                                        82,
                                        84
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "",
                                            "range": [
                                                83,
                                                83
                                            ],
                                            "children": [],
                                            "content": "\"api_key\""
                                        }
                                    ],
                                    "content": "[\"api_key\"]"
                                }
                            ],
                            "content": "[\nLiteral[ProviderName.DISCORD],Literal[\"api_key\"]\n]"
                        }
                    ],
                    "content": "=CredentialsMetaInput[\nLiteral[ProviderName.DISCORD],Literal[\"api_key\"]\n]"
                }
            ],
            "content": "DiscordCredentials=CredentialsMetaInput[\nLiteral[ProviderName.DISCORD],Literal[\"api_key\"]\n]\n"
        },
        {
            "type": "FunctionDecl",
            "name": "DiscordCredentialsField",
            "range": [
                88,
                104
            ],
            "children": [
                {
                    "type": "Keyword",
                    "name": "def",
                    "range": [
                        88,
                        88
                    ],
                    "children": [],
                    "content": "\n"
                },
                {
                    "type": "Identifier",
                    "name": "DiscordCredentialsField",
                    "range": [
                        89,
                        89
                    ],
                    "children": [],
                    "content": "\n"
                },
                {
                    "type": "ReturnType",
                    "name": "->",
                    "range": [
                        92,
                        93
                    ],
                    "children": [],
                    "content": "()"
                },
                {
                    "type": "Type",
                    "name": "DiscordCredentials",
                    "range": [
                        94,
                        94
                    ],
                    "children": [],
                    "content": "-"
                },
                {
                    "type": "ReturnStatement",
                    "name": "return",
                    "range": [
                        97,
                        97
                    ],
                    "children": [
                        {
                            "type": "CallExpression",
                            "name": "CredentialsField",
                            "range": [
                                98,
                                103
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "CredentialsField",
                                    "range": [
                                        98,
                                        98
                                    ],
                                    "children": [],
                                    "content": "\n"
                                },
                                {
                                    "type": "Argument",
                                    "name": "description",
                                    "range": [
                                        100,
                                        100
                                    ],
                                    "children": [],
                                    "content": "CredentialsField"
                                },
                                {
                                    "type": "Literal",
                                    "name": "\"Discord bot token\"",
                                    "range": [
                                        102,
                                        102
                                    ],
                                    "children": [],
                                    "content": "description"
                                }
                            ],
                            "content": "\nreturn CredentialsField(description="
                        }
                    ],
                    "content": ":"
                }
            ],
            "content": "\n\ndef DiscordCredentialsField()->DiscordCredentials:\nreturn CredentialsField(description=\"Discord bot token\""
        },
        {
            "type": "AssignmentExpression",
            "name": "=",
            "range": [
                105,
                139
            ],
            "children": [
                {
                    "type": "Identifier",
                    "name": "TEST_CREDENTIALS",
                    "range": [
                        105,
                        105
                    ],
                    "children": [],
                    "content": ")"
                },
                {
                    "type": "CallExpression",
                    "name": "APIKeyCredentials",
                    "range": [
                        107,
                        138
                    ],
                    "children": [
                        {
                            "type": "Argument",
                            "name": "id",
                            "range": [
                                110,
                                112
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"01234567-89ab-cdef-0123-456789abcdef\"",
                                    "range": [
                                        112,
                                        112
                                    ],
                                    "children": [],
                                    "content": "("
                                }
                            ],
                            "content": "=APIKeyCredentials("
                        },
                        {
                            "type": "Argument",
                            "name": "provider",
                            "range": [
                                115,
                                117
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"discord\"",
                                    "range": [
                                        117,
                                        117
                                    ],
                                    "children": [],
                                    "content": ","
                                }
                            ],
                            "content": "=\"01234567-89ab-cdef-0123-456789abcdef\","
                        },
                        {
                            "type": "Argument",
                            "name": "api_key",
                            "range": [
                                120,
                                125
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "SecretStr",
                                    "range": [
                                        122,
                                        125
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "name": "\"test_api_key\"",
                                            "range": [
                                                124,
                                                124
                                            ],
                                            "children": [],
                                            "content": "api_key"
                                        }
                                    ],
                                    "content": ",\napi_key="
                                }
                            ],
                            "content": "=\"discord\",\napi_key="
                        },
                        {
                            "type": "Argument",
                            "name": "title",
                            "range": [
                                128,
                                130
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"Mock Discord API key\"",
                                    "range": [
                                        130,
                                        130
                                    ],
                                    "children": [],
                                    "content": ","
                                }
                            ],
                            "content": "\"test_api_key\"),"
                        },
                        {
                            "type": "Argument",
                            "name": "expires_at",
                            "range": [
                                133,
                                135
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "None",
                                    "range": [
                                        135,
                                        135
                                    ],
                                    "children": [],
                                    "content": ","
                                }
                            ],
                            "content": "=\"Mock Discord API key\","
                        }
                    ],
                    "content": "\n\nTEST_CREDENTIALS=APIKeyCredentials(\nid=\"01234567-89ab-cdef-0123-456789abcdef\",\nprovider=\"discord\",\napi_key=SecretStr(\"test_api_key\"),\ntitle=\"Mock Discord API key\",\nexpires_at="
                }
            ],
            "content": ")\n\n\nTEST_CREDENTIALS=APIKeyCredentials(\nid=\"01234567-89ab-cdef-0123-456789abcdef\",\nprovider=\"discord\",\napi_key=SecretStr(\"test_api_key\"),\ntitle=\"Mock Discord API key\",\nexpires_at=None"
        },
        {
            "type": "VariableDeclaration",
            "name": "TEST_CREDENTIALS_INPUT",
            "range": [
                140,
                172
            ],
            "children": [
                {
                    "type": "ObjectExpression",
                    "name": "",
                    "range": [
                        142,
                        172
                    ],
                    "children": [
                        {
                            "type": "Property",
                            "name": "provider",
                            "range": [
                                144,
                                148
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"provider\"",
                                    "range": [
                                        144,
                                        144
                                    ],
                                    "children": [],
                                    "content": "TEST_CREDENTIALS_INPUT"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "TEST_CREDENTIALS",
                                    "range": [
                                        146,
                                        146
                                    ],
                                    "children": [],
                                    "content": "{"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "provider",
                                    "range": [
                                        148,
                                        148
                                    ],
                                    "children": [],
                                    "content": "\"provider\""
                                }
                            ],
                            "content": "TEST_CREDENTIALS_INPUT={\n\"provider\""
                        },
                        {
                            "type": "Property",
                            "name": "id",
                            "range": [
                                151,
                                155
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"id\"",
                                    "range": [
                                        151,
                                        151
                                    ],
                                    "children": [],
                                    "content": "."
                                },
                                {
                                    "type": "Identifier",
                                    "name": "TEST_CREDENTIALS",
                                    "range": [
                                        153,
                                        153
                                    ],
                                    "children": [],
                                    "content": ","
                                },
                                {
                                    "type": "Identifier",
                                    "name": "id",
                                    "range": [
                                        155,
                                        155
                                    ],
                                    "children": [],
                                    "content": "\"id\""
                                }
                            ],
                            "content": ".provider,\n\"id\""
                        },
                        {
                            "type": "Property",
                            "name": "type",
                            "range": [
                                158,
                                162
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"type\"",
                                    "range": [
                                        158,
                                        158
                                    ],
                                    "children": [],
                                    "content": "."
                                },
                                {
                                    "type": "Identifier",
                                    "name": "TEST_CREDENTIALS",
                                    "range": [
                                        160,
                                        160
                                    ],
                                    "children": [],
                                    "content": ","
                                },
                                {
                                    "type": "Identifier",
                                    "name": "type",
                                    "range": [
                                        162,
                                        162
                                    ],
                                    "children": [],
                                    "content": "\"type\""
                                }
                            ],
                            "content": ".id,\n\"type\""
                        },
                        {
                            "type": "Property",
                            "name": "title",
                            "range": [
                                165,
                                169
                            ],
                            "children": [
                                {
                                    "type": "Literal",
                                    "name": "\"title\"",
                                    "range": [
                                        165,
                                        165
                                    ],
                                    "children": [],
                                    "content": "."
                                },
                                {
                                    "type": "Identifier",
                                    "name": "TEST_CREDENTIALS",
                                    "range": [
                                        167,
                                        167
                                    ],
                                    "children": [],
                                    "content": ","
                                },
                                {
                                    "type": "Identifier",
                                    "name": "type",
                                    "range": [
                                        169,
                                        169
                                    ],
                                    "children": [],
                                    "content": "\"title\""
                                }
                            ],
                            "content": ".type,\n\"title\""
                        }
                    ],
                    "content": ")\nTEST_CREDENTIALS_INPUT={\n\"provider\":TEST_CREDENTIALS.provider,\n\"id\":TEST_CREDENTIALS.id,\n\"type\":TEST_CREDENTIALS.type,\n\"title\":TEST_CREDENTIALS."
                }
            ],
            "content": ",\n)\nTEST_CREDENTIALS_INPUT={\n\"provider\":TEST_CREDENTIALS.provider,\n\"id\":TEST_CREDENTIALS.id,\n\"type\":TEST_CREDENTIALS.type,\n\"title\":TEST_CREDENTIALS."
        }
    ],
    "content": "import asyncio\nfrom typing import Literal\n\nimport aiohttp\nimport discord\nfrom pydantic import SecretStr\n\nfrom backend.data.block import Block,BlockCategory,BlockOutput,BlockSchema\nfrom backend.data.model import(\nAPIKeyCredentials,\nCredentialsField,\nCredentialsMetaInput,\nSchemaField,\n)\nfrom backend.integrations.providers import ProviderName\n\nDiscordCredentials=CredentialsMetaInput[\nLiteral[ProviderName.DISCORD],Literal[\"api_key\"]\n]\n\n\ndef DiscordCredentialsField()->DiscordCredentials:\nreturn CredentialsField(description=\"Discord bot token\")\n\n\nTEST_CREDENTIALS=APIKeyCredentials(\nid=\"01234567-89ab-cdef-0123-456789abcdef\",\nprovider=\"discord\",\napi_key=SecretStr(\"test_api_key\"),\ntitle=\"Mock Discord API key\",\nexpires_at=None,\n)\nTEST_CREDENTIALS_INPUT={\n\"provider\":TEST_CREDENTIALS.provider,\n\"id\":TEST_CREDENTIALS.id,\n\"type\":TEST_CREDENTIALS.type,\n\"title\":TEST_CREDENTIALS.type"
}