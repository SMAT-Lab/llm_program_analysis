{
    "type": "Program",
    "name": "Global",
    "range": [
        66,
        502
    ],
    "children": [
        {
            "type": "FunctionDecl",
            "name": "create_test_user",
            "range": [
                66,
                108
            ],
            "children": [
                {
                    "type": "AsyncKeyword",
                    "range": [
                        66,
                        66
                    ],
                    "content": "async"
                },
                {
                    "type": "DefKeyword",
                    "range": [
                        67,
                        67
                    ],
                    "content": "def"
                },
                {
                    "type": "FunctionName",
                    "name": "create_test_user",
                    "range": [
                        68,
                        68
                    ],
                    "content": "create_test_user"
                },
                {
                    "type": "ParameterList",
                    "range": [
                        69,
                        70
                    ],
                    "children": [],
                    "content": "()"
                },
                {
                    "type": "ReturnType",
                    "range": [
                        71,
                        73
                    ],
                    "children": [
                        {
                            "type": "Arrow",
                            "range": [
                                71,
                                72
                            ],
                            "content": "->"
                        },
                        {
                            "type": "TypeName",
                            "name": "User",
                            "range": [
                                73,
                                73
                            ],
                            "content": "User"
                        }
                    ],
                    "content": "->User"
                },
                {
                    "type": "VariableDecl",
                    "name": "test_user_data",
                    "range": [
                        76,
                        95
                    ],
                    "children": [
                        {
                            "type": "ObjectLiteral",
                            "range": [
                                78,
                                95
                            ],
                            "children": [
                                {
                                    "type": "Property",
                                    "name": "sub",
                                    "range": [
                                        80,
                                        82
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "value": "ef3b97d7-1161-4eb4-92b2-10c24fb154c1",
                                            "range": [
                                                82,
                                                82
                                            ],
                                            "content": "\"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\""
                                        }
                                    ],
                                    "content": "\"sub\":\"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\""
                                },
                                {
                                    "type": "Property",
                                    "name": "email",
                                    "range": [
                                        85,
                                        87
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "value": "testuser#example.com",
                                            "range": [
                                                87,
                                                87
                                            ],
                                            "content": "\"testuser#example.com\""
                                        }
                                    ],
                                    "content": "\"email\":\"testuser#example.com\""
                                },
                                {
                                    "type": "Property",
                                    "name": "name",
                                    "range": [
                                        90,
                                        92
                                    ],
                                    "children": [
                                        {
                                            "type": "Literal",
                                            "value": "Test User",
                                            "range": [
                                                92,
                                                92
                                            ],
                                            "content": "\"Test User\""
                                        }
                                    ],
                                    "content": "\"name\":\"Test User\""
                                }
                            ],
                            "content": "{\n\"sub\":\"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n\"email\":\"testuser#example.com\",\n\"name\":\"Test User\",\n}"
                        }
                    ],
                    "content": "test_user_data={\n\"sub\":\"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n\"email\":\"testuser#example.com\",\n\"name\":\"Test User\",\n}"
                },
                {
                    "type": "VariableDecl",
                    "name": "user",
                    "range": [
                        97,
                        103
                    ],
                    "children": [
                        {
                            "type": "AwaitExpression",
                            "range": [
                                99,
                                103
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "get_or_create_user",
                                    "range": [
                                        100,
                                        103
                                    ],
                                    "children": [
                                        {
                                            "type": "Argument",
                                            "range": [
                                                102,
                                                102
                                            ],
                                            "content": "test_user_data"
                                        }
                                    ],
                                    "content": "get_or_create_user(test_user_data)"
                                }
                            ],
                            "content": "await get_or_create_user(test_user_data)"
                        }
                    ],
                    "content": "user=await get_or_create_user(test_user_data)"
                },
                {
                    "type": "ReturnStatement",
                    "range": [
                        105,
                        106
                    ],
                    "children": [
                        {
                            "type": "Identifier",
                            "name": "user",
                            "range": [
                                106,
                                106
                            ],
                            "content": "user"
                        }
                    ],
                    "content": "return user"
                }
            ],
            "content": "async def create_test_user()->User:\ntest_user_data={\n\"sub\":\"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n\"email\":\"testuser#example.com\",\n\"name\":\"Test User\",\n}\nuser=await get_or_create_user(test_user_data)\nreturn user\n\n"
        },
        {
            "type": "FunctionDecl",
            "name": "create_test_graph",
            "range": [
                109,
                379
            ],
            "children": [
                {
                    "type": "FunctionSignature",
                    "name": "create_test_graph",
                    "range": [
                        109,
                        118
                    ],
                    "children": [
                        {
                            "type": "Keyword",
                            "name": "def",
                            "range": [
                                109,
                                112
                            ],
                            "children": [],
                            "content": "\ndef create_test_graph("
                        },
                        {
                            "type": "Identifier",
                            "name": "create_test_graph",
                            "range": [
                                110,
                                118
                            ],
                            "children": [],
                            "content": "def create_test_graph()->graph.Graph"
                        },
                        {
                            "type": "ReturnType",
                            "name": "graph.Graph",
                            "range": [
                                113,
                                118
                            ],
                            "children": [],
                            "content": ")->graph.Graph"
                        }
                    ],
                    "content": "\ndef create_test_graph()->graph.Graph"
                },
                {
                    "type": "FunctionBody",
                    "name": "create_test_graph",
                    "range": [
                        119,
                        379
                    ],
                    "children": [
                        {
                            "type": "Docstring",
                            "name": "Docstring",
                            "range": [
                                120,
                                122
                            ],
                            "children": [],
                            "content": "\n\"\"\" \\n     InputBlock \\n                \\ \\n                  ---- FillTextTemplateBlock ---- PrintToConsoleBlock \\n                / \\n     InputBlock \\n     \""
                        },
                        {
                            "type": "VariableDecl",
                            "name": "nodes",
                            "range": [
                                124,
                                228
                            ],
                            "children": [
                                {
                                    "type": "Assignment",
                                    "name": "nodes",
                                    "range": [
                                        124,
                                        228
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "nodes",
                                            "range": [
                                                124,
                                                129
                                            ],
                                            "children": [],
                                            "content": "\nnodes=[\ngraph"
                                        },
                                        {
                                            "type": "List",
                                            "name": "nodes",
                                            "range": [
                                                126,
                                                228
                                            ],
                                            "children": [
                                                {
                                                    "type": "NodeCreation",
                                                    "name": "Node",
                                                    "range": [
                                                        128,
                                                        151
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "AgentInputBlock",
                                                            "range": [
                                                                133,
                                                                140
                                                            ],
                                                            "children": [],
                                                            "content": "\nblock_id=AgentInputBlock().id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "input_default",
                                                            "range": [
                                                                142,
                                                                148
                                                            ],
                                                            "children": [],
                                                            "content": "\ninput_default={\"name\":\"input_1\""
                                                        }
                                                    ],
                                                    "content": "\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_1\"},\n"
                                                },
                                                {
                                                    "type": "NodeCreation",
                                                    "name": "Node",
                                                    "range": [
                                                        154,
                                                        177
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "AgentInputBlock",
                                                            "range": [
                                                                159,
                                                                166
                                                            ],
                                                            "children": [],
                                                            "content": "\nblock_id=AgentInputBlock().id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "input_default",
                                                            "range": [
                                                                168,
                                                                174
                                                            ],
                                                            "children": [],
                                                            "content": "\ninput_default={\"name\":\"input_2\""
                                                        }
                                                    ],
                                                    "content": "\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_2\"},\n"
                                                },
                                                {
                                                    "type": "NodeCreation",
                                                    "name": "Node",
                                                    "range": [
                                                        180,
                                                        211
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "FillTextTemplateBlock",
                                                            "range": [
                                                                185,
                                                                192
                                                            ],
                                                            "children": [],
                                                            "content": "\nblock_id=FillTextTemplateBlock().id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "input_default",
                                                            "range": [
                                                                194,
                                                                208
                                                            ],
                                                            "children": [],
                                                            "content": "\ninput_default={\n\"format\":\"{a}, {b}{c}\",\n\"values_#_c\":\"!!!\",\n"
                                                        }
                                                    ],
                                                    "content": "\ngraph.Node(\nblock_id=FillTextTemplateBlock().id,\ninput_default={\n\"format\":\"{a}, {b}{c}\",\n\"values_#_c\":\"!!!\",\n},\n"
                                                },
                                                {
                                                    "type": "NodeCreation",
                                                    "name": "Node",
                                                    "range": [
                                                        214,
                                                        225
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "PrintToConsoleBlock",
                                                            "range": [
                                                                219,
                                                                224
                                                            ],
                                                            "children": [],
                                                            "content": "block_id=PrintToConsoleBlock()."
                                                        }
                                                    ],
                                                    "content": "\ngraph.Node(block_id=PrintToConsoleBlock().id"
                                                }
                                            ],
                                            "content": "=[\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_1\"},\n),\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_2\"},\n),\ngraph.Node(\nblock_id=FillTextTemplateBlock().id,\ninput_default={\n\"format\":\"{a}, {b}{c}\",\n\"values_#_c\":\"!!!\",\n},\n),\ngraph.Node(block_id=PrintToConsoleBlock().id),\n"
                                        }
                                    ],
                                    "content": "\nnodes=[\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_1\"},\n),\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_2\"},\n),\ngraph.Node(\nblock_id=FillTextTemplateBlock().id,\ninput_default={\n\"format\":\"{a}, {b}{c}\",\n\"values_#_c\":\"!!!\",\n},\n),\ngraph.Node(block_id=PrintToConsoleBlock().id),\n"
                                }
                            ],
                            "content": "\nnodes=[\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_1\"},\n),\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_2\"},\n),\ngraph.Node(\nblock_id=FillTextTemplateBlock().id,\ninput_default={\n\"format\":\"{a}, {b}{c}\",\n\"values_#_c\":\"!!!\",\n},\n),\ngraph.Node(block_id=PrintToConsoleBlock().id),\n"
                        },
                        {
                            "type": "VariableDecl",
                            "name": "links",
                            "range": [
                                230,
                                348
                            ],
                            "children": [
                                {
                                    "type": "Assignment",
                                    "name": "links",
                                    "range": [
                                        230,
                                        348
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "links",
                                            "range": [
                                                230,
                                                235
                                            ],
                                            "children": [],
                                            "content": "\nlinks=[\ngraph"
                                        },
                                        {
                                            "type": "List",
                                            "name": "links",
                                            "range": [
                                                232,
                                                348
                                            ],
                                            "children": [
                                                {
                                                    "type": "LinkCreation",
                                                    "name": "Link",
                                                    "range": [
                                                        234,
                                                        269
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "source_id",
                                                            "range": [
                                                                239,
                                                                247
                                                            ],
                                                            "children": [],
                                                            "content": "\nsource_id=nodes[0].id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "sink_id",
                                                            "range": [
                                                                249,
                                                                257
                                                            ],
                                                            "children": [],
                                                            "content": "\nsink_id=nodes[2].id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "source_name",
                                                            "range": [
                                                                259,
                                                                262
                                                            ],
                                                            "children": [],
                                                            "content": "\nsource_name=\"result\""
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "sink_name",
                                                            "range": [
                                                                264,
                                                                267
                                                            ],
                                                            "children": [],
                                                            "content": "\nsink_name=\"values_#_a\""
                                                        }
                                                    ],
                                                    "content": "\ngraph.Link(\nsource_id=nodes[0].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_a\",\n"
                                                },
                                                {
                                                    "type": "LinkCreation",
                                                    "name": "Link",
                                                    "range": [
                                                        272,
                                                        307
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "source_id",
                                                            "range": [
                                                                277,
                                                                285
                                                            ],
                                                            "children": [],
                                                            "content": "\nsource_id=nodes[1].id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "sink_id",
                                                            "range": [
                                                                287,
                                                                295
                                                            ],
                                                            "children": [],
                                                            "content": "\nsink_id=nodes[2].id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "source_name",
                                                            "range": [
                                                                297,
                                                                300
                                                            ],
                                                            "children": [],
                                                            "content": "\nsource_name=\"result\""
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "sink_name",
                                                            "range": [
                                                                302,
                                                                305
                                                            ],
                                                            "children": [],
                                                            "content": "\nsink_name=\"values_#_b\""
                                                        }
                                                    ],
                                                    "content": "\ngraph.Link(\nsource_id=nodes[1].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_b\",\n"
                                                },
                                                {
                                                    "type": "LinkCreation",
                                                    "name": "Link",
                                                    "range": [
                                                        310,
                                                        345
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "source_id",
                                                            "range": [
                                                                315,
                                                                323
                                                            ],
                                                            "children": [],
                                                            "content": "\nsource_id=nodes[2].id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "sink_id",
                                                            "range": [
                                                                325,
                                                                333
                                                            ],
                                                            "children": [],
                                                            "content": "\nsink_id=nodes[3].id"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "source_name",
                                                            "range": [
                                                                335,
                                                                338
                                                            ],
                                                            "children": [],
                                                            "content": "\nsource_name=\"output\""
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "sink_name",
                                                            "range": [
                                                                340,
                                                                343
                                                            ],
                                                            "children": [],
                                                            "content": "\nsink_name=\"text\""
                                                        }
                                                    ],
                                                    "content": "\ngraph.Link(\nsource_id=nodes[2].id,\nsink_id=nodes[3].id,\nsource_name=\"output\",\nsink_name=\"text\",\n"
                                                }
                                            ],
                                            "content": "=[\ngraph.Link(\nsource_id=nodes[0].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_a\",\n),\ngraph.Link(\nsource_id=nodes[1].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_b\",\n),\ngraph.Link(\nsource_id=nodes[2].id,\nsink_id=nodes[3].id,\nsource_name=\"output\",\nsink_name=\"text\",\n),\n"
                                        }
                                    ],
                                    "content": "\nlinks=[\ngraph.Link(\nsource_id=nodes[0].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_a\",\n),\ngraph.Link(\nsource_id=nodes[1].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_b\",\n),\ngraph.Link(\nsource_id=nodes[2].id,\nsink_id=nodes[3].id,\nsource_name=\"output\",\nsink_name=\"text\",\n),\n"
                                }
                            ],
                            "content": "\nlinks=[\ngraph.Link(\nsource_id=nodes[0].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_a\",\n),\ngraph.Link(\nsource_id=nodes[1].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_b\",\n),\ngraph.Link(\nsource_id=nodes[2].id,\nsink_id=nodes[3].id,\nsource_name=\"output\",\nsink_name=\"text\",\n),\n"
                        },
                        {
                            "type": "ReturnStatement",
                            "name": "return",
                            "range": [
                                351,
                                377
                            ],
                            "children": [
                                {
                                    "type": "GraphCreation",
                                    "name": "Graph",
                                    "range": [
                                        352,
                                        377
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "name",
                                            "range": [
                                                357,
                                                360
                                            ],
                                            "children": [],
                                            "content": "\nname=\"TestGraph\""
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "description",
                                            "range": [
                                                362,
                                                365
                                            ],
                                            "children": [],
                                            "content": "\ndescription=\"Test graph\""
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "nodes",
                                            "range": [
                                                367,
                                                370
                                            ],
                                            "children": [],
                                            "content": "\nnodes=nodes"
                                        },
                                        {
                                            "type": "Identifier",
                                            "name": "links",
                                            "range": [
                                                372,
                                                375
                                            ],
                                            "children": [],
                                            "content": "\nlinks=links"
                                        }
                                    ],
                                    "content": "return graph.Graph(\nname=\"TestGraph\",\ndescription=\"Test graph\",\nnodes=nodes,\nlinks=links,\n"
                                }
                            ],
                            "content": "\nreturn graph.Graph(\nname=\"TestGraph\",\ndescription=\"Test graph\",\nnodes=nodes,\nlinks=links,\n"
                        }
                    ],
                    "content": ":\n\"\"\" \\n     InputBlock \\n                \\ \\n                  ---- FillTextTemplateBlock ---- PrintToConsoleBlock \\n                / \\n     InputBlock \\n     \"\"\"\nnodes=[\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_1\"},\n),\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_2\"},\n),\ngraph.Node(\nblock_id=FillTextTemplateBlock().id,\ninput_default={\n\"format\":\"{a}, {b}{c}\",\n\"values_#_c\":\"!!!\",\n},\n),\ngraph.Node(block_id=PrintToConsoleBlock().id),\n]\nlinks=[\ngraph.Link(\nsource_id=nodes[0].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_a\",\n),\ngraph.Link(\nsource_id=nodes[1].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_b\",\n),\ngraph.Link(\nsource_id=nodes[2].id,\nsink_id=nodes[3].id,\nsource_name=\"output\",\nsink_name=\"text\",\n),\n]\n\nreturn graph.Graph(\nname=\"TestGraph\",\ndescription=\"Test graph\",\nnodes=nodes,\nlinks=links,\n)\n"
                }
            ],
            "content": "\ndef create_test_graph()->graph.Graph:\n\"\"\" \\n     InputBlock \\n                \\ \\n                  ---- FillTextTemplateBlock ---- PrintToConsoleBlock \\n                / \\n     InputBlock \\n     \"\"\"\nnodes=[\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_1\"},\n),\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_2\"},\n),\ngraph.Node(\nblock_id=FillTextTemplateBlock().id,\ninput_default={\n\"format\":\"{a}, {b}{c}\",\n\"values_#_c\":\"!!!\",\n},\n),\ngraph.Node(block_id=PrintToConsoleBlock().id),\n]\nlinks=[\ngraph.Link(\nsource_id=nodes[0].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_a\",\n),\ngraph.Link(\nsource_id=nodes[1].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_b\",\n),\ngraph.Link(\nsource_id=nodes[2].id,\nsink_id=nodes[3].id,\nsource_name=\"output\",\nsink_name=\"text\",\n),\n]\n\nreturn graph.Graph(\nname=\"TestGraph\",\ndescription=\"Test graph\",\nnodes=nodes,\nlinks=links,\n)\n"
        },
        {
            "type": "FunctionDecl",
            "name": "sample_agent",
            "range": [
                380,
                455
            ],
            "children": [
                {
                    "type": "AsyncKeyword",
                    "name": "async",
                    "range": [
                        380,
                        384
                    ],
                    "children": [],
                    "content": "\n\nasync def sample_agent"
                },
                {
                    "type": "DefKeyword",
                    "name": "def",
                    "range": [
                        381,
                        384
                    ],
                    "children": [],
                    "content": "\nasync def sample_agent"
                },
                {
                    "type": "Identifier",
                    "name": "sample_agent",
                    "range": [
                        382,
                        394
                    ],
                    "children": [],
                    "content": "async def sample_agent():\nasync with SpinTestServer()as"
                },
                {
                    "type": "BlockStatement",
                    "name": "",
                    "range": [
                        386,
                        455
                    ],
                    "children": [
                        {
                            "type": "AsyncWithStatement",
                            "name": "",
                            "range": [
                                387,
                                394
                            ],
                            "children": [
                                {
                                    "type": "AsyncKeyword",
                                    "name": "async",
                                    "range": [
                                        387,
                                        391
                                    ],
                                    "children": [],
                                    "content": ":\nasync with SpinTestServer"
                                },
                                {
                                    "type": "WithKeyword",
                                    "name": "with",
                                    "range": [
                                        388,
                                        392
                                    ],
                                    "children": [],
                                    "content": "\nasync with SpinTestServer("
                                },
                                {
                                    "type": "Identifier",
                                    "name": "SpinTestServer",
                                    "range": [
                                        389,
                                        393
                                    ],
                                    "children": [],
                                    "content": "async with SpinTestServer()"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "server",
                                    "range": [
                                        393,
                                        394
                                    ],
                                    "children": [],
                                    "content": ")as"
                                }
                            ],
                            "content": ":\nasync with SpinTestServer()as"
                        },
                        {
                            "type": "BlockStatement",
                            "name": "",
                            "range": [
                                395,
                                455
                            ],
                            "children": [
                                {
                                    "type": "VariableDecl",
                                    "name": "test_user",
                                    "range": [
                                        396,
                                        402
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "test_user",
                                            "range": [
                                                396,
                                                404
                                            ],
                                            "children": [],
                                            "content": ":\ntest_user=await create_test_user()\n"
                                        },
                                        {
                                            "type": "AwaitExpression",
                                            "name": "",
                                            "range": [
                                                398,
                                                402
                                            ],
                                            "children": [
                                                {
                                                    "type": "AwaitKeyword",
                                                    "name": "await",
                                                    "range": [
                                                        398,
                                                        403
                                                    ],
                                                    "children": [],
                                                    "content": "test_user=await create_test_user()"
                                                },
                                                {
                                                    "type": "CallExpression",
                                                    "name": "create_test_user",
                                                    "range": [
                                                        399,
                                                        402
                                                    ],
                                                    "children": [],
                                                    "content": "=await create_test_user("
                                                }
                                            ],
                                            "content": "test_user=await create_test_user("
                                        }
                                    ],
                                    "content": ":\ntest_user=await create_test_user("
                                },
                                {
                                    "type": "VariableDecl",
                                    "name": "test_graph",
                                    "range": [
                                        403,
                                        416
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "test_graph",
                                            "range": [
                                                403,
                                                413
                                            ],
                                            "children": [],
                                            "content": ")\ntest_graph=await create_graph(create_test_graph(),"
                                        },
                                        {
                                            "type": "AwaitExpression",
                                            "name": "",
                                            "range": [
                                                405,
                                                416
                                            ],
                                            "children": [
                                                {
                                                    "type": "AwaitKeyword",
                                                    "name": "await",
                                                    "range": [
                                                        405,
                                                        410
                                                    ],
                                                    "children": [],
                                                    "content": "test_graph=await create_graph(create_test_graph"
                                                },
                                                {
                                                    "type": "CallExpression",
                                                    "name": "create_graph",
                                                    "range": [
                                                        406,
                                                        416
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "CallExpression",
                                                            "name": "create_test_graph",
                                                            "range": [
                                                                408,
                                                                415
                                                            ],
                                                            "children": [],
                                                            "content": "create_graph(create_test_graph(),test_user."
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "test_user.id",
                                                            "range": [
                                                                412,
                                                                415
                                                            ],
                                                            "children": [],
                                                            "content": "),test_user."
                                                        }
                                                    ],
                                                    "content": "=await create_graph(create_test_graph(),test_user.id"
                                                }
                                            ],
                                            "content": "test_graph=await create_graph(create_test_graph(),test_user.id"
                                        }
                                    ],
                                    "content": ")\ntest_graph=await create_graph(create_test_graph(),test_user.id"
                                },
                                {
                                    "type": "VariableDecl",
                                    "name": "input_data",
                                    "range": [
                                        417,
                                        428
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "input_data",
                                            "range": [
                                                417,
                                                427
                                            ],
                                            "children": [],
                                            "content": ")\ninput_data={\"input_1\":\"Hello\",\"input_2\":"
                                        },
                                        {
                                            "type": "ObjectExpression",
                                            "name": "",
                                            "range": [
                                                419,
                                                428
                                            ],
                                            "children": [
                                                {
                                                    "type": "Property",
                                                    "name": "input_1",
                                                    "range": [
                                                        420,
                                                        423
                                                    ],
                                                    "children": [],
                                                    "content": "={\"input_1\":"
                                                },
                                                {
                                                    "type": "Property",
                                                    "name": "input_2",
                                                    "range": [
                                                        424,
                                                        427
                                                    ],
                                                    "children": [],
                                                    "content": "\"Hello\",\"input_2\":"
                                                }
                                            ],
                                            "content": "input_data={\"input_1\":\"Hello\",\"input_2\":\"World\""
                                        }
                                    ],
                                    "content": ")\ninput_data={\"input_1\":\"Hello\",\"input_2\":\"World\""
                                },
                                {
                                    "type": "VariableDecl",
                                    "name": "response",
                                    "range": [
                                        429,
                                        450
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "response",
                                            "range": [
                                                429,
                                                437
                                            ],
                                            "children": [],
                                            "content": "}\nresponse=await server.agent_server."
                                        },
                                        {
                                            "type": "AwaitExpression",
                                            "name": "",
                                            "range": [
                                                431,
                                                450
                                            ],
                                            "children": [
                                                {
                                                    "type": "AwaitKeyword",
                                                    "name": "await",
                                                    "range": [
                                                        431,
                                                        436
                                                    ],
                                                    "children": [],
                                                    "content": "response=await server.agent_server"
                                                },
                                                {
                                                    "type": "CallExpression",
                                                    "name": "server.agent_server.test_execute_graph",
                                                    "range": [
                                                        432,
                                                        450
                                                    ],
                                                    "children": [
                                                        {
                                                            "type": "Identifier",
                                                            "name": "test_graph.id",
                                                            "range": [
                                                                439,
                                                                442
                                                            ],
                                                            "children": [],
                                                            "content": "(\ntest_graph."
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "input_data",
                                                            "range": [
                                                                443,
                                                                444
                                                            ],
                                                            "children": [],
                                                            "content": "id,"
                                                        },
                                                        {
                                                            "type": "Identifier",
                                                            "name": "test_user.id",
                                                            "range": [
                                                                445,
                                                                448
                                                            ],
                                                            "children": [],
                                                            "content": "input_data,test_user."
                                                        }
                                                    ],
                                                    "content": "=await server.agent_server.test_execute_graph(\ntest_graph.id,input_data,test_user.id\n"
                                                }
                                            ],
                                            "content": "response=await server.agent_server.test_execute_graph(\ntest_graph.id,input_data,test_user.id\n"
                                        }
                                    ],
                                    "content": "}\nresponse=await server.agent_server.test_execute_graph(\ntest_graph.id,input_data,test_user.id\n"
                                },
                                {
                                    "type": "ExpressionStatement",
                                    "name": "",
                                    "range": [
                                        451,
                                        455
                                    ],
                                    "children": [
                                        {
                                            "type": "CallExpression",
                                            "name": "print",
                                            "range": [
                                                451,
                                                455
                                            ],
                                            "children": [
                                                {
                                                    "type": "Identifier",
                                                    "name": "response",
                                                    "range": [
                                                        453,
                                                        454
                                                    ],
                                                    "children": [],
                                                    "content": "print("
                                                }
                                            ],
                                            "content": ")\nprint(response"
                                        }
                                    ],
                                    "content": ")\nprint(response"
                                }
                            ],
                            "content": "server:\ntest_user=await create_test_user()\ntest_graph=await create_graph(create_test_graph(),test_user.id)\ninput_data={\"input_1\":\"Hello\",\"input_2\":\"World\"}\nresponse=await server.agent_server.test_execute_graph(\ntest_graph.id,input_data,test_user.id\n)\nprint(response"
                        }
                    ],
                    "content": "):\nasync with SpinTestServer()as server:\ntest_user=await create_test_user()\ntest_graph=await create_graph(create_test_graph(),test_user.id)\ninput_data={\"input_1\":\"Hello\",\"input_2\":\"World\"}\nresponse=await server.agent_server.test_execute_graph(\ntest_graph.id,input_data,test_user.id\n)\nprint(response"
                }
            ],
            "content": "\n\nasync def sample_agent():\nasync with SpinTestServer()as server:\ntest_user=await create_test_user()\ntest_graph=await create_graph(create_test_graph(),test_user.id)\ninput_data={\"input_1\":\"Hello\",\"input_2\":\"World\"}\nresponse=await server.agent_server.test_execute_graph(\ntest_graph.id,input_data,test_user.id\n)\nprint(response"
        },
        {
            "type": "VariableDecl",
            "name": "result",
            "range": [
                456,
                476
            ],
            "children": [
                {
                    "type": "Identifier",
                    "name": "result",
                    "range": [
                        456,
                        462
                    ],
                    "children": [],
                    "content": ")\nresult=await wait_execution("
                },
                {
                    "type": "AwaitExpression",
                    "name": "",
                    "range": [
                        458,
                        476
                    ],
                    "children": [
                        {
                            "type": "AwaitKeyword",
                            "name": "await",
                            "range": [
                                458,
                                463
                            ],
                            "children": [],
                            "content": "result=await wait_execution(test_user"
                        },
                        {
                            "type": "CallExpression",
                            "name": "wait_execution",
                            "range": [
                                459,
                                476
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "test_user.id",
                                    "range": [
                                        461,
                                        464
                                    ],
                                    "children": [],
                                    "content": "wait_execution(test_user."
                                },
                                {
                                    "type": "Identifier",
                                    "name": "test_graph.id",
                                    "range": [
                                        465,
                                        468
                                    ],
                                    "children": [],
                                    "content": "id,test_graph."
                                },
                                {
                                    "type": "Identifier",
                                    "name": "response[\"id\"]",
                                    "range": [
                                        469,
                                        472
                                    ],
                                    "children": [],
                                    "content": "id,response["
                                },
                                {
                                    "type": "Literal",
                                    "name": "10",
                                    "range": [
                                        474,
                                        475
                                    ],
                                    "children": [],
                                    "content": "],"
                                }
                            ],
                            "content": "=await wait_execution(test_user.id,test_graph.id,response[\"id\"],10"
                        }
                    ],
                    "content": "result=await wait_execution(test_user.id,test_graph.id,response[\"id\"],10"
                }
            ],
            "content": ")\nresult=await wait_execution(test_user.id,test_graph.id,response[\"id\"],10"
        },
        {
            "type": "ExpressionStatement",
            "name": "",
            "range": [
                477,
                481
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "print",
                    "range": [
                        477,
                        481
                    ],
                    "children": [
                        {
                            "type": "Identifier",
                            "name": "result",
                            "range": [
                                479,
                                480
                            ],
                            "children": [],
                            "content": "print("
                        }
                    ],
                    "content": ")\nprint(result"
                }
            ],
            "content": ")\nprint(result"
        },
        {
            "type": "IfStatement",
            "name": "",
            "range": [
                484,
                490
            ],
            "children": [
                {
                    "type": "Condition",
                    "name": "",
                    "range": [
                        484,
                        489
                    ],
                    "children": [
                        {
                            "type": "BinaryExpression",
                            "name": "",
                            "range": [
                                485,
                                488
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "__name__",
                                    "range": [
                                        485,
                                        485
                                    ],
                                    "children": [],
                                    "content": "\n"
                                },
                                {
                                    "type": "Operator",
                                    "name": "==",
                                    "range": [
                                        486,
                                        487
                                    ],
                                    "children": [],
                                    "content": "if __name__"
                                },
                                {
                                    "type": "StringLiteral",
                                    "name": "__main__",
                                    "range": [
                                        488,
                                        488
                                    ],
                                    "children": [],
                                    "content": "="
                                }
                            ],
                            "content": "\nif __name__="
                        }
                    ],
                    "content": "\n\nif __name__=="
                }
            ],
            "content": "\n\nif __name__==\"__main__\""
        },
        {
            "type": "ImportStatement",
            "name": "asyncio",
            "range": [
                491,
                493
            ],
            "children": [
                {
                    "type": "Module",
                    "name": "asyncio",
                    "range": [
                        492,
                        492
                    ],
                    "children": [],
                    "content": "\n"
                }
            ],
            "content": ":\nimport"
        },
        {
            "type": "ExpressionStatement",
            "name": "",
            "range": [
                495,
                502
            ],
            "children": [
                {
                    "type": "CallExpression",
                    "name": "",
                    "range": [
                        495,
                        502
                    ],
                    "children": [
                        {
                            "type": "MemberExpression",
                            "name": "",
                            "range": [
                                495,
                                497
                            ],
                            "children": [
                                {
                                    "type": "Identifier",
                                    "name": "asyncio",
                                    "range": [
                                        495,
                                        495
                                    ],
                                    "children": [],
                                    "content": "\n"
                                },
                                {
                                    "type": "Identifier",
                                    "name": "run",
                                    "range": [
                                        497,
                                        497
                                    ],
                                    "children": [],
                                    "content": "asyncio"
                                }
                            ],
                            "content": "\n\nasyncio"
                        },
                        {
                            "type": "Arguments",
                            "name": "",
                            "range": [
                                498,
                                502
                            ],
                            "children": [
                                {
                                    "type": "CallExpression",
                                    "name": "",
                                    "range": [
                                        499,
                                        501
                                    ],
                                    "children": [
                                        {
                                            "type": "Identifier",
                                            "name": "sample_agent",
                                            "range": [
                                                499,
                                                499
                                            ],
                                            "children": [],
                                            "content": "run"
                                        }
                                    ],
                                    "content": "run(sample_agent"
                                }
                            ],
                            "content": ".run(sample_agent("
                        }
                    ],
                    "content": "\n\nasyncio.run(sample_agent("
                }
            ],
            "content": "\n\nasyncio.run(sample_agent("
        }
    ],
    "content": "async def create_test_user()->User:\ntest_user_data={\n\"sub\":\"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n\"email\":\"testuser#example.com\",\n\"name\":\"Test User\",\n}\nuser=await get_or_create_user(test_user_data)\nreturn user\n\n\ndef create_test_graph()->graph.Graph:\n\"\"\" \\n     InputBlock \\n                \\ \\n                  ---- FillTextTemplateBlock ---- PrintToConsoleBlock \\n                / \\n     InputBlock \\n     \"\"\"\nnodes=[\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_1\"},\n),\ngraph.Node(\nblock_id=AgentInputBlock().id,\ninput_default={\"name\":\"input_2\"},\n),\ngraph.Node(\nblock_id=FillTextTemplateBlock().id,\ninput_default={\n\"format\":\"{a}, {b}{c}\",\n\"values_#_c\":\"!!!\",\n},\n),\ngraph.Node(block_id=PrintToConsoleBlock().id),\n]\nlinks=[\ngraph.Link(\nsource_id=nodes[0].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_a\",\n),\ngraph.Link(\nsource_id=nodes[1].id,\nsink_id=nodes[2].id,\nsource_name=\"result\",\nsink_name=\"values_#_b\",\n),\ngraph.Link(\nsource_id=nodes[2].id,\nsink_id=nodes[3].id,\nsource_name=\"output\",\nsink_name=\"text\",\n),\n]\n\nreturn graph.Graph(\nname=\"TestGraph\",\ndescription=\"Test graph\",\nnodes=nodes,\nlinks=links,\n)\n\n\nasync def sample_agent():\nasync with SpinTestServer()as server:\ntest_user=await create_test_user()\ntest_graph=await create_graph(create_test_graph(),test_user.id)\ninput_data={\"input_1\":\"Hello\",\"input_2\":\"World\"}\nresponse=await server.agent_server.test_execute_graph(\ntest_graph.id,input_data,test_user.id\n)\nprint(response)\nresult=await wait_execution(test_user.id,test_graph.id,response[\"id\"],10)\nprint(result)\n\n\nif __name__==\"__main__\":\nimport asyncio\n\nasyncio.run(sample_agent("
}