{
    "nodes": [
        {
            "id": "chunk_0_GlobalBlock_1",
            "code": "import logging\n"
        },
        {
            "id": "chunk_0_GlobalBlock_2",
            "code": "from fastapi import Request\nfrom strenum import StrEnum\n"
        },
        {
            "id": "chunk_0_GlobalBlock_3",
            "code": "from backend.data import integrations\nfrom backend.integrations.providers import ProviderName\n"
        },
        {
            "id": "chunk_0_GlobalBlock_4",
            "code": "from ._manual_base import ManualWebhookManagerBase\n"
        },
        {
            "id": "chunk_0_GlobalBlock_5",
            "code": "logger = logging.getLogger(__name__)\n"
        },
        {
            "id": "chunk_1_CompassWebhookType_1",
            "code": "class CompassWebhookType(StrEnum):\n    TRANSCRIPTION = \"transcription\"\n    TASK = \"task\"\n"
        },
        {
            "id": "chunk_2_CompassWebhookManager_1",
            "code": "class CompassWebhookManager(ManualWebhookManagerBase):\n    PROVIDER_NAME = ProviderName.COMPASS\n    WebhookType = CompassWebhookType\n\n"
        },
        {
            "id": "chunk_2_CompassWebhookManager_2",
            "code": "    @classmethod\n    async def validate_payload(\n        cls, webhook: integrations.Webhook, request: Request\n    ) -> tuple[dict, str]:\n"
        },
        {
            "id": "chunk_2_CompassWebhookManager_3",
            "code": "        payload = await request.json()\n        event_type = CompassWebhookType.TRANSCRIPTION  # currently the only type\n\n        return payload, event_type\n"
        }
    ],
    "edges": [
        {
            "from": "chunk_0_GlobalBlock_1",
            "to": "chunk_0_GlobalBlock_2"
        },
        {
            "from": "chunk_0_GlobalBlock_2",
            "to": "chunk_0_GlobalBlock_3"
        },
        {
            "from": "chunk_0_GlobalBlock_3",
            "to": "chunk_0_GlobalBlock_4"
        },
        {
            "from": "chunk_0_GlobalBlock_4",
            "to": "chunk_0_GlobalBlock_5"
        },
        {
            "from": "chunk_2_CompassWebhookManager_1",
            "to": "chunk_2_CompassWebhookManager_2"
        },
        {
            "from": "chunk_2_CompassWebhookManager_2",
            "to": "chunk_2_CompassWebhookManager_3"
        }
    ]
}