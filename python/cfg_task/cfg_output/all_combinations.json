{
  "nodes": [
    {
      "id": "1",
      "type": "block",
      "statements": [
        "'\\nIn this problem, we want to determine all possible combinations of k\\nnumbers out of 1 ... n. We use backtracking to solve this problem.\\n\\nTime complexity: O(C(n,k)) which is O(n choose k) = O((n!/(k! * (n - k)!))),\\n'",
        "from __future__ import annotations",
        "from itertools import combinations",
        "def combination_lists(n: int, k: int) -> list[list[int]]:\n    \"\"\"\n    >>> combination_lists(n=4, k=2)\n    [[1, 2], [1, 3], [1, 4], [2, 3], [2, 4], [3, 4]]\n    \"\"\"\n    return [list(x) for x in combinations(range(1, n + 1), k)]",
        "'\\n    >>> combination_lists(n=4, k=2)\\n    [[1, 2], [1, 3], [1, 4], [2, 3], [2, 4], [3, 4]]\\n    '",
        "return [list(x) for x in combinations(range(1, n + 1), k)]"
      ]
    },
    {
      "id": "2",
      "type": "block",
      "statements": [
        "def generate_all_combinations(n: int, k: int) -> list[list[int]]:\n    \"\"\"\n    >>> generate_all_combinations(n=4, k=2)\n    [[1, 2], [1, 3], [1, 4], [2, 3], [2, 4], [3, 4]]\n    >>> generate_all_combinations(n=0, k=0)\n    [[]]\n    >>> generate_all_combinations(n=10, k=-1)\n    Traceback (most recent call last):\n        ...\n    ValueError: k must not be negative\n    >>> generate_all_combinations(n=-1, k=10)\n    Traceback (most recent call last):\n        ...\n    ValueError: n must not be negative\n    >>> generate_all_combinations(n=5, k=4)\n    [[1, 2, 3, 4], [1, 2, 3, 5], [1, 2, 4, 5], [1, 3, 4, 5], [2, 3, 4, 5]]\n    >>> from itertools import combinations\n    >>> all(generate_all_combinations(n, k) == combination_lists(n, k)\n    ...     for n in range(1, 6) for k in range(1, 6))\n    True\n    \"\"\"\n    if k < 0:\n        raise ValueError('k must not be negative')\n    if n < 0:\n        raise ValueError('n must not be negative')\n    result: list[list[int]] = []\n    create_all_state(1, n, k, [], result)\n    return result",
        "'\\n    >>> generate_all_combinations(n=4, k=2)\\n    [[1, 2], [1, 3], [1, 4], [2, 3], [2, 4], [3, 4]]\\n    >>> generate_all_combinations(n=0, k=0)\\n    [[]]\\n    >>> generate_all_combinations(n=10, k=-1)\\n    Traceback (most recent call last):\\n        ...\\n    ValueError: k must not be negative\\n    >>> generate_all_combinations(n=-1, k=10)\\n    Traceback (most recent call last):\\n        ...\\n    ValueError: n must not be negative\\n    >>> generate_all_combinations(n=5, k=4)\\n    [[1, 2, 3, 4], [1, 2, 3, 5], [1, 2, 4, 5], [1, 3, 4, 5], [2, 3, 4, 5]]\\n    >>> from itertools import combinations\\n    >>> all(generate_all_combinations(n, k) == combination_lists(n, k)\\n    ...     for n in range(1, 6) for k in range(1, 6))\\n    True\\n    '",
        "k Lt 0"
      ]
    },
    {
      "id": "3",
      "type": "block",
      "statements": [
        "raise ValueError('k must not be negative')"
      ]
    },
    {
      "id": "4",
      "type": "block",
      "statements": []
    },
    {
      "id": "5",
      "type": "block",
      "statements": [
        "n Lt 0"
      ]
    },
    {
      "id": "6",
      "type": "block",
      "statements": [
        "raise ValueError('n must not be negative')"
      ]
    },
    {
      "id": "7",
      "type": "block",
      "statements": []
    },
    {
      "id": "8",
      "type": "block",
      "statements": [
        "result: list[list[int]] = []",
        "create_all_state(1, n, k, [], result)",
        "return result"
      ]
    },
    {
      "id": "9",
      "type": "block",
      "statements": [
        "def create_all_state(increment: int, total_number: int, level: int, current_list: list[int], total_list: list[list[int]]) -> None:\n    if level == 0:\n        total_list.append(current_list[:])\n        return\n    for i in range(increment, total_number - level + 2):\n        current_list.append(i)\n        create_all_state(i + 1, total_number, level - 1, current_list, total_list)\n        current_list.pop()",
        "level Eq 0"
      ]
    },
    {
      "id": "10",
      "type": "block",
      "statements": [
        "total_list.append(current_list[:])",
        "return"
      ]
    },
    {
      "id": "11",
      "type": "block",
      "statements": []
    },
    {
      "id": "12",
      "type": "block",
      "statements": []
    },
    {
      "id": "13",
      "type": "block",
      "statements": [
        "i",
        "range(increment, total_number Sub level Add 2)"
      ]
    },
    {
      "id": "14",
      "type": "block",
      "statements": [
        "current_list.append(i)",
        "create_all_state(i Add 1, total_number, level Sub 1, current_list, total_list)",
        "current_list.pop()"
      ]
    },
    {
      "id": "15",
      "type": "block",
      "statements": [
        "__name__ Eq '__main__'"
      ]
    },
    {
      "id": "16",
      "type": "block",
      "statements": [
        "from doctest import testmod",
        "testmod()",
        "print(generate_all_combinations())",
        "tests = ((n, k) for n in range(1, 5) for k in range(1, 5))"
      ]
    },
    {
      "id": "17",
      "type": "block",
      "statements": []
    },
    {
      "id": "18",
      "type": "block",
      "statements": []
    },
    {
      "id": "19",
      "type": "block",
      "statements": [
        "(n, k)",
        "tests"
      ]
    },
    {
      "id": "20",
      "type": "block",
      "statements": [
        "print(n, k, generate_all_combinations(n, k) Eq combination_lists(n, k))"
      ]
    },
    {
      "id": "21",
      "type": "block",
      "statements": [
        "print('Benchmark:')",
        "from timeit import timeit"
      ]
    },
    {
      "id": "22",
      "type": "block",
      "statements": [
        "func",
        "('combination_lists', 'generate_all_combinations')"
      ]
    },
    {
      "id": "23",
      "type": "block",
      "statements": [
        "print(f\"{func:>25}(): {timeit(f'{func}(n=4, k = 2)', globals=globals())}\")"
      ]
    },
    {
      "id": "24",
      "type": "block",
      "statements": []
    }
  ],
  "edges": [
    {
      "source": "2",
      "target": "3",
      "type": "true"
    },
    {
      "source": "2",
      "target": "4",
      "type": "false"
    },
    {
      "source": "3",
      "target": "5",
      "type": "next"
    },
    {
      "source": "4",
      "target": "5",
      "type": "next"
    },
    {
      "source": "5",
      "target": "6",
      "type": "true"
    },
    {
      "source": "5",
      "target": "7",
      "type": "false"
    },
    {
      "source": "6",
      "target": "8",
      "type": "next"
    },
    {
      "source": "7",
      "target": "8",
      "type": "next"
    },
    {
      "source": "9",
      "target": "10",
      "type": "true"
    },
    {
      "source": "9",
      "target": "11",
      "type": "false"
    },
    {
      "source": "11",
      "target": "12",
      "type": "next"
    },
    {
      "source": "12",
      "target": "13",
      "type": "next"
    },
    {
      "source": "13",
      "target": "14",
      "type": "true"
    },
    {
      "source": "13",
      "target": "15",
      "type": "false"
    },
    {
      "source": "14",
      "target": "13",
      "type": "next"
    },
    {
      "source": "15",
      "target": "16",
      "type": "true"
    },
    {
      "source": "15",
      "target": "17",
      "type": "false"
    },
    {
      "source": "16",
      "target": "19",
      "type": "next"
    },
    {
      "source": "17",
      "target": "18",
      "type": "next"
    },
    {
      "source": "19",
      "target": "20",
      "type": "true"
    },
    {
      "source": "19",
      "target": "21",
      "type": "false"
    },
    {
      "source": "20",
      "target": "19",
      "type": "next"
    },
    {
      "source": "21",
      "target": "22",
      "type": "next"
    },
    {
      "source": "22",
      "target": "23",
      "type": "true"
    },
    {
      "source": "22",
      "target": "24",
      "type": "false"
    },
    {
      "source": "23",
      "target": "22",
      "type": "next"
    },
    {
      "source": "24",
      "target": "18",
      "type": "next"
    }
  ]
}