{
  "nodes": [
    {
      "id": "1",
      "type": "block",
      "statements": [
        "from typing import Any, List",
        "from backend.data.block import Block, BlockCategory, BlockOutput, BlockSchema, BlockType",
        "from backend.data.model import SchemaField",
        "from backend.util.mock import MockObject",
        "from backend.util.text import TextFormatter",
        "formatter = TextFormatter()",
        "class StoreValueBlock(Block):\n    \"\"\"\n    This block allows you to provide a constant value as a block, in a stateless manner.\n    The common use-case is simply pass the `input` data, it will `output` the same data.\n    The block output will be static, the output can be consumed multiple times.\n    \"\"\"\n\n    class Input(BlockSchema):\n        input: Any = SchemaField(description='Trigger the block to produce the output. The value is only used when `data` is None.')\n        data: Any = SchemaField(description='The constant data to be retained in the block. This value is passed as `output`.', default=None)\n\n    class Output(BlockSchema):\n        output: Any = SchemaField(description='The stored data retained in the block.')\n\n    def __init__(self):\n        super().__init__(id='1ff065e9-88e8-4358-9d82-8dc91f622ba9', description='This block forwards an input value as output, allowing reuse without change.', categories={BlockCategory.BASIC}, input_schema=StoreValueBlock.Input, output_schema=StoreValueBlock.Output, test_input=[{'input': 'Hello, World!'}, {'input': 'Hello, World!', 'data': 'Existing Data'}], test_output=[('output', 'Hello, World!'), ('output', 'Existing Data')], static_output=True)\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        yield ('output', input_data.data or input_data.input)",
        "'\\n    This block allows you to provide a constant value as a block, in a stateless manner.\\n    The common use-case is simply pass the `input` data, it will `output` the same data.\\n    The block output will be static, the output can be consumed multiple times.\\n    '",
        "class Input(BlockSchema):\n    input: Any = SchemaField(description='Trigger the block to produce the output. The value is only used when `data` is None.')\n    data: Any = SchemaField(description='The constant data to be retained in the block. This value is passed as `output`.', default=None)",
        "input: Any = SchemaField(description='Trigger the block to produce the output. The value is only used when `data` is None.')",
        "data: Any = SchemaField(description='The constant data to be retained in the block. This value is passed as `output`.', default=None)",
        "class Output(BlockSchema):\n    output: Any = SchemaField(description='The stored data retained in the block.')",
        "output: Any = SchemaField(description='The stored data retained in the block.')",
        "def __init__(self):\n    super().__init__(id='1ff065e9-88e8-4358-9d82-8dc91f622ba9', description='This block forwards an input value as output, allowing reuse without change.', categories={BlockCategory.BASIC}, input_schema=StoreValueBlock.Input, output_schema=StoreValueBlock.Output, test_input=[{'input': 'Hello, World!'}, {'input': 'Hello, World!', 'data': 'Existing Data'}], test_output=[('output', 'Hello, World!'), ('output', 'Existing Data')], static_output=True)",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    yield ('output', input_data.data or input_data.input)",
        "(yield ('output', input_data.data or input_data.input))",
        "class PrintToConsoleBlock(Block):\n\n    class Input(BlockSchema):\n        text: str = SchemaField(description='The text to print to the console.')\n\n    class Output(BlockSchema):\n        status: str = SchemaField(description='The status of the print operation.')\n\n    def __init__(self):\n        super().__init__(id='f3b1c1b2-4c4f-4f0d-8d2f-4c4f0d8d2f4c', description='Print the given text to the console, this is used for a debugging purpose.', categories={BlockCategory.BASIC}, input_schema=PrintToConsoleBlock.Input, output_schema=PrintToConsoleBlock.Output, test_input={'text': 'Hello, World!'}, test_output=('status', 'printed'))\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        print('>>>>> Print: ', input_data.text)\n        yield ('status', 'printed')",
        "class Input(BlockSchema):\n    text: str = SchemaField(description='The text to print to the console.')",
        "text: str = SchemaField(description='The text to print to the console.')",
        "class Output(BlockSchema):\n    status: str = SchemaField(description='The status of the print operation.')",
        "status: str = SchemaField(description='The status of the print operation.')",
        "def __init__(self):\n    super().__init__(id='f3b1c1b2-4c4f-4f0d-8d2f-4c4f0d8d2f4c', description='Print the given text to the console, this is used for a debugging purpose.', categories={BlockCategory.BASIC}, input_schema=PrintToConsoleBlock.Input, output_schema=PrintToConsoleBlock.Output, test_input={'text': 'Hello, World!'}, test_output=('status', 'printed'))",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    print('>>>>> Print: ', input_data.text)\n    yield ('status', 'printed')",
        "print('>>>>> Print: ', input_data.text)",
        "(yield ('status', 'printed'))",
        "class FindInDictionaryBlock(Block):\n\n    class Input(BlockSchema):\n        input: Any = SchemaField(description='Dictionary to lookup from')\n        key: str | int = SchemaField(description='Key to lookup in the dictionary')\n\n    class Output(BlockSchema):\n        output: Any = SchemaField(description='Value found for the given key')\n        missing: Any = SchemaField(description='Value of the input that missing the key')\n\n    def __init__(self):\n        super().__init__(id='0e50422c-6dee-4145-83d6-3a5a392f65de', description='Lookup the given key in the input dictionary/object/list and return the value.', input_schema=FindInDictionaryBlock.Input, output_schema=FindInDictionaryBlock.Output, test_input=[{'input': {'apple': 1, 'banana': 2, 'cherry': 3}, 'key': 'banana'}, {'input': {'x': 10, 'y': 20, 'z': 30}, 'key': 'w'}, {'input': [1, 2, 3], 'key': 1}, {'input': [1, 2, 3], 'key': 3}, {'input': MockObject(value='!!', key='key'), 'key': 'key'}, {'input': [{'k1': 'v1'}, {'k2': 'v2'}, {'k1': 'v3'}], 'key': 'k1'}], test_output=[('output', 2), ('missing', {'x': 10, 'y': 20, 'z': 30}), ('output', 2), ('missing', [1, 2, 3]), ('output', 'key'), ('output', ['v1', 'v3'])], categories={BlockCategory.BASIC})\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        obj = input_data.input\n        key = input_data.key\n        if isinstance(obj, dict) and key in obj:\n            yield ('output', obj[key])\n        elif isinstance(obj, list) and isinstance(key, int) and (0 <= key < len(obj)):\n            yield ('output', obj[key])\n        elif isinstance(obj, list) and isinstance(key, str):\n            if len(obj) == 0:\n                yield ('output', [])\n            elif isinstance(obj[0], dict) and key in obj[0]:\n                yield ('output', [item[key] for item in obj if key in item])\n            else:\n                yield ('output', [getattr(val, key) for val in obj if hasattr(val, key)])\n        elif isinstance(obj, object) and isinstance(key, str) and hasattr(obj, key):\n            yield ('output', getattr(obj, key))\n        else:\n            yield ('missing', input_data.input)",
        "class Input(BlockSchema):\n    input: Any = SchemaField(description='Dictionary to lookup from')\n    key: str | int = SchemaField(description='Key to lookup in the dictionary')",
        "input: Any = SchemaField(description='Dictionary to lookup from')",
        "key: str | int = SchemaField(description='Key to lookup in the dictionary')",
        "class Output(BlockSchema):\n    output: Any = SchemaField(description='Value found for the given key')\n    missing: Any = SchemaField(description='Value of the input that missing the key')",
        "output: Any = SchemaField(description='Value found for the given key')",
        "missing: Any = SchemaField(description='Value of the input that missing the key')",
        "def __init__(self):\n    super().__init__(id='0e50422c-6dee-4145-83d6-3a5a392f65de', description='Lookup the given key in the input dictionary/object/list and return the value.', input_schema=FindInDictionaryBlock.Input, output_schema=FindInDictionaryBlock.Output, test_input=[{'input': {'apple': 1, 'banana': 2, 'cherry': 3}, 'key': 'banana'}, {'input': {'x': 10, 'y': 20, 'z': 30}, 'key': 'w'}, {'input': [1, 2, 3], 'key': 1}, {'input': [1, 2, 3], 'key': 3}, {'input': MockObject(value='!!', key='key'), 'key': 'key'}, {'input': [{'k1': 'v1'}, {'k2': 'v2'}, {'k1': 'v3'}], 'key': 'k1'}], test_output=[('output', 2), ('missing', {'x': 10, 'y': 20, 'z': 30}), ('output', 2), ('missing', [1, 2, 3]), ('output', 'key'), ('output', ['v1', 'v3'])], categories={BlockCategory.BASIC})",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    obj = input_data.input\n    key = input_data.key\n    if isinstance(obj, dict) and key in obj:\n        yield ('output', obj[key])\n    elif isinstance(obj, list) and isinstance(key, int) and (0 <= key < len(obj)):\n        yield ('output', obj[key])\n    elif isinstance(obj, list) and isinstance(key, str):\n        if len(obj) == 0:\n            yield ('output', [])\n        elif isinstance(obj[0], dict) and key in obj[0]:\n            yield ('output', [item[key] for item in obj if key in item])\n        else:\n            yield ('output', [getattr(val, key) for val in obj if hasattr(val, key)])\n    elif isinstance(obj, object) and isinstance(key, str) and hasattr(obj, key):\n        yield ('output', getattr(obj, key))\n    else:\n        yield ('missing', input_data.input)",
        "obj = input_data.input",
        "key = input_data.key",
        "isinstance(obj, dict) and key in obj"
      ]
    },
    {
      "id": "2",
      "type": "block",
      "statements": [
        "(yield ('output', obj[key]))"
      ]
    },
    {
      "id": "3",
      "type": "block",
      "statements": [
        "isinstance(obj, list) and isinstance(key, int) and (0 <= key < len(obj))"
      ]
    },
    {
      "id": "4",
      "type": "block",
      "statements": [
        "class AgentInputBlock(Block):\n    \"\"\"\n    This block is used to provide input to the graph.\n\n    It takes in a value, name, description, default values list and bool to limit selection to default values.\n\n    It Outputs the value passed as input.\n    \"\"\"\n\n    class Input(BlockSchema):\n        name: str = SchemaField(description='The name of the input.')\n        value: Any = SchemaField(description='The value to be passed as input.', default=None)\n        title: str | None = SchemaField(description='The title of the input.', default=None, advanced=True)\n        description: str | None = SchemaField(description='The description of the input.', default=None, advanced=True)\n        placeholder_values: List[Any] = SchemaField(description='The placeholder values to be passed as input.', default=[], advanced=True)\n        limit_to_placeholder_values: bool = SchemaField(description='Whether to limit the selection to placeholder values.', default=False, advanced=True)\n        advanced: bool = SchemaField(description='Whether to show the input in the advanced section, if the field is not required.', default=False, advanced=True)\n        secret: bool = SchemaField(description='Whether the input should be treated as a secret.', default=False, advanced=True)\n\n    class Output(BlockSchema):\n        result: Any = SchemaField(description='The value passed as input.')\n\n    def __init__(self):\n        super().__init__(id='c0a8e994-ebf1-4a9c-a4d8-89d09c86741b', description='This block is used to provide input to the graph.', input_schema=AgentInputBlock.Input, output_schema=AgentInputBlock.Output, test_input=[{'value': 'Hello, World!', 'name': 'input_1', 'description': 'This is a test input.', 'placeholder_values': [], 'limit_to_placeholder_values': False}, {'value': 'Hello, World!', 'name': 'input_2', 'description': 'This is a test input.', 'placeholder_values': ['Hello, World!'], 'limit_to_placeholder_values': True}], test_output=[('result', 'Hello, World!'), ('result', 'Hello, World!')], categories={BlockCategory.INPUT, BlockCategory.BASIC}, block_type=BlockType.INPUT, static_output=True)\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        yield ('result', input_data.value)",
        "'\\n    This block is used to provide input to the graph.\\n\\n    It takes in a value, name, description, default values list and bool to limit selection to default values.\\n\\n    It Outputs the value passed as input.\\n    '",
        "class Input(BlockSchema):\n    name: str = SchemaField(description='The name of the input.')\n    value: Any = SchemaField(description='The value to be passed as input.', default=None)\n    title: str | None = SchemaField(description='The title of the input.', default=None, advanced=True)\n    description: str | None = SchemaField(description='The description of the input.', default=None, advanced=True)\n    placeholder_values: List[Any] = SchemaField(description='The placeholder values to be passed as input.', default=[], advanced=True)\n    limit_to_placeholder_values: bool = SchemaField(description='Whether to limit the selection to placeholder values.', default=False, advanced=True)\n    advanced: bool = SchemaField(description='Whether to show the input in the advanced section, if the field is not required.', default=False, advanced=True)\n    secret: bool = SchemaField(description='Whether the input should be treated as a secret.', default=False, advanced=True)",
        "name: str = SchemaField(description='The name of the input.')",
        "value: Any = SchemaField(description='The value to be passed as input.', default=None)",
        "title: str | None = SchemaField(description='The title of the input.', default=None, advanced=True)",
        "description: str | None = SchemaField(description='The description of the input.', default=None, advanced=True)",
        "placeholder_values: List[Any] = SchemaField(description='The placeholder values to be passed as input.', default=[], advanced=True)",
        "limit_to_placeholder_values: bool = SchemaField(description='Whether to limit the selection to placeholder values.', default=False, advanced=True)",
        "advanced: bool = SchemaField(description='Whether to show the input in the advanced section, if the field is not required.', default=False, advanced=True)",
        "secret: bool = SchemaField(description='Whether the input should be treated as a secret.', default=False, advanced=True)",
        "class Output(BlockSchema):\n    result: Any = SchemaField(description='The value passed as input.')",
        "result: Any = SchemaField(description='The value passed as input.')",
        "def __init__(self):\n    super().__init__(id='c0a8e994-ebf1-4a9c-a4d8-89d09c86741b', description='This block is used to provide input to the graph.', input_schema=AgentInputBlock.Input, output_schema=AgentInputBlock.Output, test_input=[{'value': 'Hello, World!', 'name': 'input_1', 'description': 'This is a test input.', 'placeholder_values': [], 'limit_to_placeholder_values': False}, {'value': 'Hello, World!', 'name': 'input_2', 'description': 'This is a test input.', 'placeholder_values': ['Hello, World!'], 'limit_to_placeholder_values': True}], test_output=[('result', 'Hello, World!'), ('result', 'Hello, World!')], categories={BlockCategory.INPUT, BlockCategory.BASIC}, block_type=BlockType.INPUT, static_output=True)",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    yield ('result', input_data.value)",
        "(yield ('result', input_data.value))",
        "class AgentOutputBlock(Block):\n    \"\"\"\n    Records the output of the graph for users to see.\n\n    Behavior:\n        If `format` is provided and the `value` is of a type that can be formatted,\n        the block attempts to format the recorded_value using the `format`.\n        If formatting fails or no `format` is provided, the raw `value` is output.\n    \"\"\"\n\n    class Input(BlockSchema):\n        value: Any = SchemaField(description='The value to be recorded as output.', default=None, advanced=False)\n        name: str = SchemaField(description='The name of the output.')\n        title: str | None = SchemaField(description='The title of the output.', default=None, advanced=True)\n        description: str | None = SchemaField(description='The description of the output.', default=None, advanced=True)\n        format: str = SchemaField(description='The format string to be used to format the recorded_value.', default='', advanced=True)\n        advanced: bool = SchemaField(description='Whether to treat the output as advanced.', default=False, advanced=True)\n        secret: bool = SchemaField(description='Whether the output should be treated as a secret.', default=False, advanced=True)\n\n    class Output(BlockSchema):\n        output: Any = SchemaField(description='The value recorded as output.')\n\n    def __init__(self):\n        super().__init__(id='363ae599-353e-4804-937e-b2ee3cef3da4', description='Stores the output of the graph for users to see.', input_schema=AgentOutputBlock.Input, output_schema=AgentOutputBlock.Output, test_input=[{'value': 'Hello, World!', 'name': 'output_1', 'description': 'This is a test output.', 'format': '{{ output_1 }}!!'}, {'value': '42', 'name': 'output_2', 'description': 'This is another test output.', 'format': '{{ output_2 }}'}, {'value': MockObject(value='!!', key='key'), 'name': 'output_3', 'description': 'This is a test output with a mock object.', 'format': '{{ output_3 }}'}], test_output=[('output', 'Hello, World!!!'), ('output', '42'), ('output', MockObject(value='!!', key='key'))], categories={BlockCategory.OUTPUT, BlockCategory.BASIC}, block_type=BlockType.OUTPUT, static_output=True)\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        \"\"\"\n        Attempts to format the recorded_value using the fmt_string if provided.\n        If formatting fails or no fmt_string is given, returns the original recorded_value.\n        \"\"\"\n        if input_data.format:\n            try:\n                yield ('output', formatter.format_string(input_data.format, {input_data.name: input_data.value}))\n            except Exception as e:\n                yield ('output', f'Error: {e}, {input_data.value}')\n        else:\n            yield ('output', input_data.value)",
        "'\\n    Records the output of the graph for users to see.\\n\\n    Behavior:\\n        If `format` is provided and the `value` is of a type that can be formatted,\\n        the block attempts to format the recorded_value using the `format`.\\n        If formatting fails or no `format` is provided, the raw `value` is output.\\n    '",
        "class Input(BlockSchema):\n    value: Any = SchemaField(description='The value to be recorded as output.', default=None, advanced=False)\n    name: str = SchemaField(description='The name of the output.')\n    title: str | None = SchemaField(description='The title of the output.', default=None, advanced=True)\n    description: str | None = SchemaField(description='The description of the output.', default=None, advanced=True)\n    format: str = SchemaField(description='The format string to be used to format the recorded_value.', default='', advanced=True)\n    advanced: bool = SchemaField(description='Whether to treat the output as advanced.', default=False, advanced=True)\n    secret: bool = SchemaField(description='Whether the output should be treated as a secret.', default=False, advanced=True)",
        "value: Any = SchemaField(description='The value to be recorded as output.', default=None, advanced=False)",
        "name: str = SchemaField(description='The name of the output.')",
        "title: str | None = SchemaField(description='The title of the output.', default=None, advanced=True)",
        "description: str | None = SchemaField(description='The description of the output.', default=None, advanced=True)",
        "format: str = SchemaField(description='The format string to be used to format the recorded_value.', default='', advanced=True)",
        "advanced: bool = SchemaField(description='Whether to treat the output as advanced.', default=False, advanced=True)",
        "secret: bool = SchemaField(description='Whether the output should be treated as a secret.', default=False, advanced=True)",
        "class Output(BlockSchema):\n    output: Any = SchemaField(description='The value recorded as output.')",
        "output: Any = SchemaField(description='The value recorded as output.')",
        "def __init__(self):\n    super().__init__(id='363ae599-353e-4804-937e-b2ee3cef3da4', description='Stores the output of the graph for users to see.', input_schema=AgentOutputBlock.Input, output_schema=AgentOutputBlock.Output, test_input=[{'value': 'Hello, World!', 'name': 'output_1', 'description': 'This is a test output.', 'format': '{{ output_1 }}!!'}, {'value': '42', 'name': 'output_2', 'description': 'This is another test output.', 'format': '{{ output_2 }}'}, {'value': MockObject(value='!!', key='key'), 'name': 'output_3', 'description': 'This is a test output with a mock object.', 'format': '{{ output_3 }}'}], test_output=[('output', 'Hello, World!!!'), ('output', '42'), ('output', MockObject(value='!!', key='key'))], categories={BlockCategory.OUTPUT, BlockCategory.BASIC}, block_type=BlockType.OUTPUT, static_output=True)",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    \"\"\"\n        Attempts to format the recorded_value using the fmt_string if provided.\n        If formatting fails or no fmt_string is given, returns the original recorded_value.\n        \"\"\"\n    if input_data.format:\n        try:\n            yield ('output', formatter.format_string(input_data.format, {input_data.name: input_data.value}))\n        except Exception as e:\n            yield ('output', f'Error: {e}, {input_data.value}')\n    else:\n        yield ('output', input_data.value)",
        "'\\n        Attempts to format the recorded_value using the fmt_string if provided.\\n        If formatting fails or no fmt_string is given, returns the original recorded_value.\\n        '",
        "input_data.format"
      ]
    },
    {
      "id": "5",
      "type": "block",
      "statements": [
        "(yield ('output', obj[key]))"
      ]
    },
    {
      "id": "6",
      "type": "block",
      "statements": [
        "isinstance(obj, list) and isinstance(key, str)"
      ]
    },
    {
      "id": "7",
      "type": "block",
      "statements": []
    },
    {
      "id": "8",
      "type": "block",
      "statements": [
        "len(obj) Eq 0"
      ]
    },
    {
      "id": "9",
      "type": "block",
      "statements": [
        "isinstance(obj, object) and isinstance(key, str) and hasattr(obj, key)"
      ]
    },
    {
      "id": "10",
      "type": "block",
      "statements": []
    },
    {
      "id": "11",
      "type": "block",
      "statements": [
        "(yield ('output', []))"
      ]
    },
    {
      "id": "12",
      "type": "block",
      "statements": [
        "isinstance(obj[0], dict) and key in obj[0]"
      ]
    },
    {
      "id": "13",
      "type": "block",
      "statements": []
    },
    {
      "id": "14",
      "type": "block",
      "statements": [
        "(yield ('output', [item[key] for item in obj if key in item]))"
      ]
    },
    {
      "id": "15",
      "type": "block",
      "statements": [
        "(yield ('output', [getattr(val, key) for val in obj if hasattr(val, key)]))"
      ]
    },
    {
      "id": "16",
      "type": "block",
      "statements": []
    },
    {
      "id": "17",
      "type": "block",
      "statements": [
        "(yield ('output', getattr(obj, key)))"
      ]
    },
    {
      "id": "18",
      "type": "block",
      "statements": [
        "(yield ('missing', input_data.input))"
      ]
    },
    {
      "id": "19",
      "type": "block",
      "statements": []
    },
    {
      "id": "20",
      "type": "block",
      "statements": [
        "try:\n    yield ('output', formatter.format_string(input_data.format, {input_data.name: input_data.value}))\nexcept Exception as e:\n    yield ('output', f'Error: {e}, {input_data.value}')",
        "(yield ('output', formatter.format_string(input_data.format, {input_data.name: input_data.value})))",
        "(yield ('output', f'Error: {e}, {input_data.value}'))"
      ]
    },
    {
      "id": "21",
      "type": "block",
      "statements": [
        "(yield ('output', input_data.value))"
      ]
    },
    {
      "id": "22",
      "type": "block",
      "statements": [
        "class AddToDictionaryBlock(Block):\n\n    class Input(BlockSchema):\n        dictionary: dict[Any, Any] = SchemaField(default={}, description='The dictionary to add the entry to. If not provided, a new dictionary will be created.')\n        key: str = SchemaField(default='', description='The key for the new entry.', placeholder='new_key', advanced=False)\n        value: Any = SchemaField(default=None, description='The value for the new entry.', placeholder='new_value', advanced=False)\n        entries: dict[Any, Any] = SchemaField(default={}, description='The entries to add to the dictionary. This is the batch version of the `key` and `value` fields.', advanced=True)\n\n    class Output(BlockSchema):\n        updated_dictionary: dict = SchemaField(description='The dictionary with the new entry added.')\n        error: str = SchemaField(description='Error message if the operation failed.')\n\n    def __init__(self):\n        super().__init__(id='31d1064e-7446-4693-a7d4-65e5ca1180d1', description='Adds a new key-value pair to a dictionary. If no dictionary is provided, a new one is created.', categories={BlockCategory.BASIC}, input_schema=AddToDictionaryBlock.Input, output_schema=AddToDictionaryBlock.Output, test_input=[{'dictionary': {'existing_key': 'existing_value'}, 'key': 'new_key', 'value': 'new_value'}, {'key': 'first_key', 'value': 'first_value'}, {'dictionary': {'existing_key': 'existing_value'}, 'entries': {'new_key': 'new_value', 'first_key': 'first_value'}}], test_output=[('updated_dictionary', {'existing_key': 'existing_value', 'new_key': 'new_value'}), ('updated_dictionary', {'first_key': 'first_value'}), ('updated_dictionary', {'existing_key': 'existing_value', 'new_key': 'new_value', 'first_key': 'first_value'})])\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        updated_dict = input_data.dictionary.copy()\n        if input_data.value is not None and input_data.key:\n            updated_dict[input_data.key] = input_data.value\n        for (key, value) in input_data.entries.items():\n            updated_dict[key] = value\n        yield ('updated_dictionary', updated_dict)",
        "class Input(BlockSchema):\n    dictionary: dict[Any, Any] = SchemaField(default={}, description='The dictionary to add the entry to. If not provided, a new dictionary will be created.')\n    key: str = SchemaField(default='', description='The key for the new entry.', placeholder='new_key', advanced=False)\n    value: Any = SchemaField(default=None, description='The value for the new entry.', placeholder='new_value', advanced=False)\n    entries: dict[Any, Any] = SchemaField(default={}, description='The entries to add to the dictionary. This is the batch version of the `key` and `value` fields.', advanced=True)",
        "dictionary: dict[Any, Any] = SchemaField(default={}, description='The dictionary to add the entry to. If not provided, a new dictionary will be created.')",
        "key: str = SchemaField(default='', description='The key for the new entry.', placeholder='new_key', advanced=False)",
        "value: Any = SchemaField(default=None, description='The value for the new entry.', placeholder='new_value', advanced=False)",
        "entries: dict[Any, Any] = SchemaField(default={}, description='The entries to add to the dictionary. This is the batch version of the `key` and `value` fields.', advanced=True)",
        "class Output(BlockSchema):\n    updated_dictionary: dict = SchemaField(description='The dictionary with the new entry added.')\n    error: str = SchemaField(description='Error message if the operation failed.')",
        "updated_dictionary: dict = SchemaField(description='The dictionary with the new entry added.')",
        "error: str = SchemaField(description='Error message if the operation failed.')",
        "def __init__(self):\n    super().__init__(id='31d1064e-7446-4693-a7d4-65e5ca1180d1', description='Adds a new key-value pair to a dictionary. If no dictionary is provided, a new one is created.', categories={BlockCategory.BASIC}, input_schema=AddToDictionaryBlock.Input, output_schema=AddToDictionaryBlock.Output, test_input=[{'dictionary': {'existing_key': 'existing_value'}, 'key': 'new_key', 'value': 'new_value'}, {'key': 'first_key', 'value': 'first_value'}, {'dictionary': {'existing_key': 'existing_value'}, 'entries': {'new_key': 'new_value', 'first_key': 'first_value'}}], test_output=[('updated_dictionary', {'existing_key': 'existing_value', 'new_key': 'new_value'}), ('updated_dictionary', {'first_key': 'first_value'}), ('updated_dictionary', {'existing_key': 'existing_value', 'new_key': 'new_value', 'first_key': 'first_value'})])",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    updated_dict = input_data.dictionary.copy()\n    if input_data.value is not None and input_data.key:\n        updated_dict[input_data.key] = input_data.value\n    for (key, value) in input_data.entries.items():\n        updated_dict[key] = value\n    yield ('updated_dictionary', updated_dict)",
        "updated_dict = input_data.dictionary.copy()",
        "input_data.value is not None and input_data.key"
      ]
    },
    {
      "id": "23",
      "type": "block",
      "statements": [
        "updated_dict[input_data.key] = input_data.value"
      ]
    },
    {
      "id": "24",
      "type": "block",
      "statements": []
    },
    {
      "id": "25",
      "type": "block",
      "statements": []
    },
    {
      "id": "26",
      "type": "block",
      "statements": [
        "(key, value)",
        "input_data.entries.items()"
      ]
    },
    {
      "id": "27",
      "type": "block",
      "statements": [
        "updated_dict[key] = value"
      ]
    },
    {
      "id": "28",
      "type": "block",
      "statements": [
        "(yield ('updated_dictionary', updated_dict))",
        "class AddToListBlock(Block):\n\n    class Input(BlockSchema):\n        list: List[Any] = SchemaField(default=[], advanced=False, description='The list to add the entry to. If not provided, a new list will be created.')\n        entry: Any = SchemaField(description='The entry to add to the list. Can be of any type (string, int, dict, etc.).', advanced=False, default=None)\n        entries: List[Any] = SchemaField(default=[], description='The entries to add to the list. This is the batch version of the `entry` field.', advanced=True)\n        position: int | None = SchemaField(default=None, description='The position to insert the new entry. If not provided, the entry will be appended to the end of the list.')\n\n    class Output(BlockSchema):\n        updated_list: List[Any] = SchemaField(description='The list with the new entry added.')\n        error: str = SchemaField(description='Error message if the operation failed.')\n\n    def __init__(self):\n        super().__init__(id='aeb08fc1-2fc1-4141-bc8e-f758f183a822', description='Adds a new entry to a list. The entry can be of any type. If no list is provided, a new one is created.', categories={BlockCategory.BASIC}, input_schema=AddToListBlock.Input, output_schema=AddToListBlock.Output, test_input=[{'list': [1, 'string', {'existing_key': 'existing_value'}], 'entry': {'new_key': 'new_value'}, 'position': 1}, {'entry': 'first_entry'}, {'list': ['a', 'b', 'c'], 'entry': 'd'}, {'entry': 'e', 'entries': ['f', 'g'], 'list': ['a', 'b'], 'position': 1}], test_output=[('updated_list', [1, {'new_key': 'new_value'}, 'string', {'existing_key': 'existing_value'}]), ('updated_list', ['first_entry']), ('updated_list', ['a', 'b', 'c', 'd']), ('updated_list', ['a', 'f', 'g', 'e', 'b'])])\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        entries_added = input_data.entries.copy()\n        if input_data.entry:\n            entries_added.append(input_data.entry)\n        updated_list = input_data.list.copy()\n        if (pos := input_data.position) is not None:\n            updated_list = updated_list[:pos] + entries_added + updated_list[pos:]\n        else:\n            updated_list += entries_added\n        yield ('updated_list', updated_list)",
        "class Input(BlockSchema):\n    list: List[Any] = SchemaField(default=[], advanced=False, description='The list to add the entry to. If not provided, a new list will be created.')\n    entry: Any = SchemaField(description='The entry to add to the list. Can be of any type (string, int, dict, etc.).', advanced=False, default=None)\n    entries: List[Any] = SchemaField(default=[], description='The entries to add to the list. This is the batch version of the `entry` field.', advanced=True)\n    position: int | None = SchemaField(default=None, description='The position to insert the new entry. If not provided, the entry will be appended to the end of the list.')",
        "list: List[Any] = SchemaField(default=[], advanced=False, description='The list to add the entry to. If not provided, a new list will be created.')",
        "entry: Any = SchemaField(description='The entry to add to the list. Can be of any type (string, int, dict, etc.).', advanced=False, default=None)",
        "entries: List[Any] = SchemaField(default=[], description='The entries to add to the list. This is the batch version of the `entry` field.', advanced=True)",
        "position: int | None = SchemaField(default=None, description='The position to insert the new entry. If not provided, the entry will be appended to the end of the list.')",
        "class Output(BlockSchema):\n    updated_list: List[Any] = SchemaField(description='The list with the new entry added.')\n    error: str = SchemaField(description='Error message if the operation failed.')",
        "updated_list: List[Any] = SchemaField(description='The list with the new entry added.')",
        "error: str = SchemaField(description='Error message if the operation failed.')",
        "def __init__(self):\n    super().__init__(id='aeb08fc1-2fc1-4141-bc8e-f758f183a822', description='Adds a new entry to a list. The entry can be of any type. If no list is provided, a new one is created.', categories={BlockCategory.BASIC}, input_schema=AddToListBlock.Input, output_schema=AddToListBlock.Output, test_input=[{'list': [1, 'string', {'existing_key': 'existing_value'}], 'entry': {'new_key': 'new_value'}, 'position': 1}, {'entry': 'first_entry'}, {'list': ['a', 'b', 'c'], 'entry': 'd'}, {'entry': 'e', 'entries': ['f', 'g'], 'list': ['a', 'b'], 'position': 1}], test_output=[('updated_list', [1, {'new_key': 'new_value'}, 'string', {'existing_key': 'existing_value'}]), ('updated_list', ['first_entry']), ('updated_list', ['a', 'b', 'c', 'd']), ('updated_list', ['a', 'f', 'g', 'e', 'b'])])",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    entries_added = input_data.entries.copy()\n    if input_data.entry:\n        entries_added.append(input_data.entry)\n    updated_list = input_data.list.copy()\n    if (pos := input_data.position) is not None:\n        updated_list = updated_list[:pos] + entries_added + updated_list[pos:]\n    else:\n        updated_list += entries_added\n    yield ('updated_list', updated_list)",
        "entries_added = input_data.entries.copy()",
        "input_data.entry"
      ]
    },
    {
      "id": "29",
      "type": "block",
      "statements": [
        "entries_added.append(input_data.entry)"
      ]
    },
    {
      "id": "30",
      "type": "block",
      "statements": []
    },
    {
      "id": "31",
      "type": "block",
      "statements": [
        "updated_list = input_data.list.copy()",
        "(pos := input_data.position) IsNot None"
      ]
    },
    {
      "id": "32",
      "type": "block",
      "statements": [
        "updated_list = updated_list[:pos] + entries_added + updated_list[pos:]"
      ]
    },
    {
      "id": "33",
      "type": "block",
      "statements": [
        "updated_list += entries_added"
      ]
    },
    {
      "id": "34",
      "type": "block",
      "statements": [
        "(yield ('updated_list', updated_list))",
        "class NoteBlock(Block):\n\n    class Input(BlockSchema):\n        text: str = SchemaField(description='The text to display in the sticky note.')\n\n    class Output(BlockSchema):\n        output: str = SchemaField(description='The text to display in the sticky note.')\n\n    def __init__(self):\n        super().__init__(id='cc10ff7b-7753-4ff2-9af6-9399b1a7eddc', description='This block is used to display a sticky note with the given text.', categories={BlockCategory.BASIC}, input_schema=NoteBlock.Input, output_schema=NoteBlock.Output, test_input={'text': 'Hello, World!'}, test_output=[('output', 'Hello, World!')], block_type=BlockType.NOTE)\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        yield ('output', input_data.text)",
        "class Input(BlockSchema):\n    text: str = SchemaField(description='The text to display in the sticky note.')",
        "text: str = SchemaField(description='The text to display in the sticky note.')",
        "class Output(BlockSchema):\n    output: str = SchemaField(description='The text to display in the sticky note.')",
        "output: str = SchemaField(description='The text to display in the sticky note.')",
        "def __init__(self):\n    super().__init__(id='cc10ff7b-7753-4ff2-9af6-9399b1a7eddc', description='This block is used to display a sticky note with the given text.', categories={BlockCategory.BASIC}, input_schema=NoteBlock.Input, output_schema=NoteBlock.Output, test_input={'text': 'Hello, World!'}, test_output=[('output', 'Hello, World!')], block_type=BlockType.NOTE)",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    yield ('output', input_data.text)",
        "(yield ('output', input_data.text))",
        "class CreateDictionaryBlock(Block):\n\n    class Input(BlockSchema):\n        values: dict[str, Any] = SchemaField(description='Key-value pairs to create the dictionary with', placeholder=\"e.g., {'name': 'Alice', 'age': 25}\")\n\n    class Output(BlockSchema):\n        dictionary: dict[str, Any] = SchemaField(description='The created dictionary containing the specified key-value pairs')\n        error: str = SchemaField(description='Error message if dictionary creation failed')\n\n    def __init__(self):\n        super().__init__(id='b924ddf4-de4f-4b56-9a85-358930dcbc91', description='Creates a dictionary with the specified key-value pairs. Use this when you know all the values you want to add upfront.', categories={BlockCategory.DATA}, input_schema=CreateDictionaryBlock.Input, output_schema=CreateDictionaryBlock.Output, test_input=[{'values': {'name': 'Alice', 'age': 25, 'city': 'New York'}}, {'values': {'numbers': [1, 2, 3], 'active': True, 'score': 95.5}}], test_output=[('dictionary', {'name': 'Alice', 'age': 25, 'city': 'New York'}), ('dictionary', {'numbers': [1, 2, 3], 'active': True, 'score': 95.5})])\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        try:\n            yield ('dictionary', input_data.values)\n        except Exception as e:\n            yield ('error', f'Failed to create dictionary: {str(e)}')",
        "class Input(BlockSchema):\n    values: dict[str, Any] = SchemaField(description='Key-value pairs to create the dictionary with', placeholder=\"e.g., {'name': 'Alice', 'age': 25}\")",
        "values: dict[str, Any] = SchemaField(description='Key-value pairs to create the dictionary with', placeholder=\"e.g., {'name': 'Alice', 'age': 25}\")",
        "class Output(BlockSchema):\n    dictionary: dict[str, Any] = SchemaField(description='The created dictionary containing the specified key-value pairs')\n    error: str = SchemaField(description='Error message if dictionary creation failed')",
        "dictionary: dict[str, Any] = SchemaField(description='The created dictionary containing the specified key-value pairs')",
        "error: str = SchemaField(description='Error message if dictionary creation failed')",
        "def __init__(self):\n    super().__init__(id='b924ddf4-de4f-4b56-9a85-358930dcbc91', description='Creates a dictionary with the specified key-value pairs. Use this when you know all the values you want to add upfront.', categories={BlockCategory.DATA}, input_schema=CreateDictionaryBlock.Input, output_schema=CreateDictionaryBlock.Output, test_input=[{'values': {'name': 'Alice', 'age': 25, 'city': 'New York'}}, {'values': {'numbers': [1, 2, 3], 'active': True, 'score': 95.5}}], test_output=[('dictionary', {'name': 'Alice', 'age': 25, 'city': 'New York'}), ('dictionary', {'numbers': [1, 2, 3], 'active': True, 'score': 95.5})])",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    try:\n        yield ('dictionary', input_data.values)\n    except Exception as e:\n        yield ('error', f'Failed to create dictionary: {str(e)}')",
        "try:\n    yield ('dictionary', input_data.values)\nexcept Exception as e:\n    yield ('error', f'Failed to create dictionary: {str(e)}')",
        "(yield ('dictionary', input_data.values))",
        "(yield ('error', f'Failed to create dictionary: {str(e)}'))",
        "class CreateListBlock(Block):\n\n    class Input(BlockSchema):\n        values: List[Any] = SchemaField(description='A list of values to be combined into a new list.', placeholder=\"e.g., ['Alice', 25, True]\")\n\n    class Output(BlockSchema):\n        list: List[Any] = SchemaField(description='The created list containing the specified values.')\n        error: str = SchemaField(description='Error message if list creation failed.')\n\n    def __init__(self):\n        super().__init__(id='a912d5c7-6e00-4542-b2a9-8034136930e4', description='Creates a list with the specified values. Use this when you know all the values you want to add upfront.', categories={BlockCategory.DATA}, input_schema=CreateListBlock.Input, output_schema=CreateListBlock.Output, test_input=[{'values': ['Alice', 25, True]}, {'values': [1, 2, 3, 'four', {'key': 'value'}]}], test_output=[('list', ['Alice', 25, True]), ('list', [1, 2, 3, 'four', {'key': 'value'}])])\n\n    def run(self, input_data: Input, **kwargs) -> BlockOutput:\n        try:\n            yield ('list', input_data.values)\n        except Exception as e:\n            yield ('error', f'Failed to create list: {str(e)}')",
        "class Input(BlockSchema):\n    values: List[Any] = SchemaField(description='A list of values to be combined into a new list.', placeholder=\"e.g., ['Alice', 25, True]\")",
        "values: List[Any] = SchemaField(description='A list of values to be combined into a new list.', placeholder=\"e.g., ['Alice', 25, True]\")",
        "class Output(BlockSchema):\n    list: List[Any] = SchemaField(description='The created list containing the specified values.')\n    error: str = SchemaField(description='Error message if list creation failed.')",
        "list: List[Any] = SchemaField(description='The created list containing the specified values.')",
        "error: str = SchemaField(description='Error message if list creation failed.')",
        "def __init__(self):\n    super().__init__(id='a912d5c7-6e00-4542-b2a9-8034136930e4', description='Creates a list with the specified values. Use this when you know all the values you want to add upfront.', categories={BlockCategory.DATA}, input_schema=CreateListBlock.Input, output_schema=CreateListBlock.Output, test_input=[{'values': ['Alice', 25, True]}, {'values': [1, 2, 3, 'four', {'key': 'value'}]}], test_output=[('list', ['Alice', 25, True]), ('list', [1, 2, 3, 'four', {'key': 'value'}])])",
        "super().__init__()",
        "def run(self, input_data: Input, **kwargs) -> BlockOutput:\n    try:\n        yield ('list', input_data.values)\n    except Exception as e:\n        yield ('error', f'Failed to create list: {str(e)}')",
        "try:\n    yield ('list', input_data.values)\nexcept Exception as e:\n    yield ('error', f'Failed to create list: {str(e)}')",
        "(yield ('list', input_data.values))",
        "(yield ('error', f'Failed to create list: {str(e)}'))"
      ]
    }
  ],
  "edges": [
    {
      "source": "1",
      "target": "2",
      "type": "true"
    },
    {
      "source": "1",
      "target": "3",
      "type": "false"
    },
    {
      "source": "2",
      "target": "4",
      "type": "next"
    },
    {
      "source": "3",
      "target": "5",
      "type": "true"
    },
    {
      "source": "3",
      "target": "6",
      "type": "false"
    },
    {
      "source": "4",
      "target": "20",
      "type": "true"
    },
    {
      "source": "4",
      "target": "21",
      "type": "false"
    },
    {
      "source": "5",
      "target": "7",
      "type": "next"
    },
    {
      "source": "6",
      "target": "8",
      "type": "true"
    },
    {
      "source": "6",
      "target": "9",
      "type": "false"
    },
    {
      "source": "7",
      "target": "4",
      "type": "next"
    },
    {
      "source": "8",
      "target": "11",
      "type": "true"
    },
    {
      "source": "8",
      "target": "12",
      "type": "false"
    },
    {
      "source": "9",
      "target": "17",
      "type": "true"
    },
    {
      "source": "9",
      "target": "18",
      "type": "false"
    },
    {
      "source": "10",
      "target": "7",
      "type": "next"
    },
    {
      "source": "11",
      "target": "13",
      "type": "next"
    },
    {
      "source": "12",
      "target": "14",
      "type": "true"
    },
    {
      "source": "12",
      "target": "15",
      "type": "false"
    },
    {
      "source": "13",
      "target": "10",
      "type": "next"
    },
    {
      "source": "14",
      "target": "16",
      "type": "next"
    },
    {
      "source": "15",
      "target": "16",
      "type": "next"
    },
    {
      "source": "16",
      "target": "13",
      "type": "next"
    },
    {
      "source": "17",
      "target": "19",
      "type": "next"
    },
    {
      "source": "18",
      "target": "19",
      "type": "next"
    },
    {
      "source": "19",
      "target": "10",
      "type": "next"
    },
    {
      "source": "20",
      "target": "22",
      "type": "next"
    },
    {
      "source": "21",
      "target": "22",
      "type": "next"
    },
    {
      "source": "22",
      "target": "23",
      "type": "true"
    },
    {
      "source": "22",
      "target": "24",
      "type": "false"
    },
    {
      "source": "23",
      "target": "25",
      "type": "next"
    },
    {
      "source": "24",
      "target": "25",
      "type": "next"
    },
    {
      "source": "25",
      "target": "26",
      "type": "next"
    },
    {
      "source": "26",
      "target": "27",
      "type": "true"
    },
    {
      "source": "26",
      "target": "28",
      "type": "false"
    },
    {
      "source": "27",
      "target": "26",
      "type": "next"
    },
    {
      "source": "28",
      "target": "29",
      "type": "true"
    },
    {
      "source": "28",
      "target": "30",
      "type": "false"
    },
    {
      "source": "29",
      "target": "31",
      "type": "next"
    },
    {
      "source": "30",
      "target": "31",
      "type": "next"
    },
    {
      "source": "31",
      "target": "32",
      "type": "true"
    },
    {
      "source": "31",
      "target": "33",
      "type": "false"
    },
    {
      "source": "32",
      "target": "34",
      "type": "next"
    },
    {
      "source": "33",
      "target": "34",
      "type": "next"
    }
  ]
}