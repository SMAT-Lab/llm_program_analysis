{
  "value": "from pathlib import Path\n\nfrom prisma.models import User\n\nfrom backend.blocks.basic import StoreValueBlock\nfrom backend.blocks.block import BlockInstallationBlock\nfrom backend.blocks.http import SendWebRequestBlock\nfrom backend.blocks.llm import AITextGeneratorBlock\nfrom backend.blocks.text import ExtractTextInformationBlock, FillTextTemplateBlock\nfrom backend.data.graph import Graph, Link, Node, create_graph\nfrom backend.data.user import get_or_create_user\nfrom backend.util.test import SpinTestServer, wait_execution\n\nsample_block_modules = {\n    \"llm\": \"Block that calls the AI model to generate text.\",\n    \"basic\": \"Block that does basic operations.\",\n    \"text\": \"Blocks that do text operations.\",\n    \"reddit\": \"Blocks that interacts with Reddit.\",\n}\nsample_block_codes = {}\nfor module, description in sample_block_modules.items():\n    current_dir = Path(__file__).parent\n    file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"\n    with open(file_path, \"r\") as f:\n        code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"\n\n\nasync def create_test_user() -> User:\n    test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }\n    user = await get_or_create_user(test_user_data)\n    return user\n\n\ndef create_test_graph() -> Graph:\n    \"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"\n    # ======= Nodes ========= #\n    input_data = Node(block_id=StoreValueBlock().id)\n    input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )\n    input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )\n    search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )\n    search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )\n    prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )\n    code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )\n    code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )\n    block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )\n    nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]\n\n    # ======= Links ========= #\n    links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]\n\n    # ======= Graph ========= #\n    return Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )\n\n\nasync def block_autogen_agent():\n    async with SpinTestServer() as server:\n        test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)\n\n\nif __name__ == \"__main__\":\n    import asyncio\n\n    asyncio.run(block_autogen_agent())",
  "children": [
    {
      "value": "from pathlib import Path",
      "children": [
        {
          "value": "pathlib",
          "children": [
            {
              "value": "pathlib",
              "children": []
            }
          ]
        },
        {
          "value": "Path",
          "children": [
            {
              "value": "Path",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from prisma.models import User",
      "children": [
        {
          "value": "prisma.models",
          "children": [
            {
              "value": "prisma",
              "children": []
            },
            {
              "value": "models",
              "children": []
            }
          ]
        },
        {
          "value": "User",
          "children": [
            {
              "value": "User",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from backend.blocks.basic import StoreValueBlock",
      "children": [
        {
          "value": "backend.blocks.basic",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "blocks",
              "children": []
            },
            {
              "value": "basic",
              "children": []
            }
          ]
        },
        {
          "value": "StoreValueBlock",
          "children": [
            {
              "value": "StoreValueBlock",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from backend.blocks.block import BlockInstallationBlock",
      "children": [
        {
          "value": "backend.blocks.block",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "blocks",
              "children": []
            },
            {
              "value": "block",
              "children": []
            }
          ]
        },
        {
          "value": "BlockInstallationBlock",
          "children": [
            {
              "value": "BlockInstallationBlock",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from backend.blocks.http import SendWebRequestBlock",
      "children": [
        {
          "value": "backend.blocks.http",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "blocks",
              "children": []
            },
            {
              "value": "http",
              "children": []
            }
          ]
        },
        {
          "value": "SendWebRequestBlock",
          "children": [
            {
              "value": "SendWebRequestBlock",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from backend.blocks.llm import AITextGeneratorBlock",
      "children": [
        {
          "value": "backend.blocks.llm",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "blocks",
              "children": []
            },
            {
              "value": "llm",
              "children": []
            }
          ]
        },
        {
          "value": "AITextGeneratorBlock",
          "children": [
            {
              "value": "AITextGeneratorBlock",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from backend.blocks.text import ExtractTextInformationBlock, FillTextTemplateBlock",
      "children": [
        {
          "value": "backend.blocks.text",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "blocks",
              "children": []
            },
            {
              "value": "text",
              "children": []
            }
          ]
        },
        {
          "value": "ExtractTextInformationBlock",
          "children": [
            {
              "value": "ExtractTextInformationBlock",
              "children": []
            }
          ]
        },
        {
          "value": "FillTextTemplateBlock",
          "children": [
            {
              "value": "FillTextTemplateBlock",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from backend.data.graph import Graph, Link, Node, create_graph",
      "children": [
        {
          "value": "backend.data.graph",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "data",
              "children": []
            },
            {
              "value": "graph",
              "children": []
            }
          ]
        },
        {
          "value": "Graph",
          "children": [
            {
              "value": "Graph",
              "children": []
            }
          ]
        },
        {
          "value": "Link",
          "children": [
            {
              "value": "Link",
              "children": []
            }
          ]
        },
        {
          "value": "Node",
          "children": [
            {
              "value": "Node",
              "children": []
            }
          ]
        },
        {
          "value": "create_graph",
          "children": [
            {
              "value": "create_graph",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from backend.data.user import get_or_create_user",
      "children": [
        {
          "value": "backend.data.user",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "data",
              "children": []
            },
            {
              "value": "user",
              "children": []
            }
          ]
        },
        {
          "value": "get_or_create_user",
          "children": [
            {
              "value": "get_or_create_user",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from backend.util.test import SpinTestServer, wait_execution",
      "children": [
        {
          "value": "backend.util.test",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "util",
              "children": []
            },
            {
              "value": "test",
              "children": []
            }
          ]
        },
        {
          "value": "SpinTestServer",
          "children": [
            {
              "value": "SpinTestServer",
              "children": []
            }
          ]
        },
        {
          "value": "wait_execution",
          "children": [
            {
              "value": "wait_execution",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "sample_block_modules = {\n    \"llm\": \"Block that calls the AI model to generate text.\",\n    \"basic\": \"Block that does basic operations.\",\n    \"text\": \"Blocks that do text operations.\",\n    \"reddit\": \"Blocks that interacts with Reddit.\",\n}",
      "children": [
        {
          "value": "sample_block_modules = {\n    \"llm\": \"Block that calls the AI model to generate text.\",\n    \"basic\": \"Block that does basic operations.\",\n    \"text\": \"Blocks that do text operations.\",\n    \"reddit\": \"Blocks that interacts with Reddit.\",\n}",
          "children": [
            {
              "value": "sample_block_modules",
              "children": []
            },
            {
              "value": "{\n    \"llm\": \"Block that calls the AI model to generate text.\",\n    \"basic\": \"Block that does basic operations.\",\n    \"text\": \"Blocks that do text operations.\",\n    \"reddit\": \"Blocks that interacts with Reddit.\",\n}",
              "children": [
                {
                  "value": "\"llm\": \"Block that calls the AI model to generate text.\"",
                  "children": [
                    {
                      "value": "\"llm\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "llm",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"Block that calls the AI model to generate text.\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "Block that calls the AI model to generate text.",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "\"basic\": \"Block that does basic operations.\"",
                  "children": [
                    {
                      "value": "\"basic\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "basic",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"Block that does basic operations.\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "Block that does basic operations.",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "\"text\": \"Blocks that do text operations.\"",
                  "children": [
                    {
                      "value": "\"text\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "text",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"Blocks that do text operations.\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "Blocks that do text operations.",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "\"reddit\": \"Blocks that interacts with Reddit.\"",
                  "children": [
                    {
                      "value": "\"reddit\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "reddit",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"Blocks that interacts with Reddit.\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "Blocks that interacts with Reddit.",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "sample_block_codes = {}",
      "children": [
        {
          "value": "sample_block_codes = {}",
          "children": [
            {
              "value": "sample_block_codes",
              "children": []
            },
            {
              "value": "{}",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "for module, description in sample_block_modules.items():\n    current_dir = Path(__file__).parent\n    file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"\n    with open(file_path, \"r\") as f:\n        code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
      "children": [
        {
          "value": "module, description",
          "children": [
            {
              "value": "module",
              "children": []
            },
            {
              "value": "description",
              "children": []
            }
          ]
        },
        {
          "value": "sample_block_modules.items()",
          "children": [
            {
              "value": "sample_block_modules.items",
              "children": [
                {
                  "value": "sample_block_modules",
                  "children": []
                },
                {
                  "value": "items",
                  "children": []
                }
              ]
            },
            {
              "value": "()",
              "children": []
            }
          ]
        },
        {
          "value": "current_dir = Path(__file__).parent\n    file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"\n    with open(file_path, \"r\") as f:\n        code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
          "children": [
            {
              "value": "current_dir = Path(__file__).parent",
              "children": [
                {
                  "value": "current_dir = Path(__file__).parent",
                  "children": [
                    {
                      "value": "current_dir",
                      "children": []
                    },
                    {
                      "value": "Path(__file__).parent",
                      "children": [
                        {
                          "value": "Path(__file__)",
                          "children": [
                            {
                              "value": "Path",
                              "children": []
                            },
                            {
                              "value": "(__file__)",
                              "children": [
                                {
                                  "value": "__file__",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "parent",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"",
              "children": [
                {
                  "value": "file_path = current_dir.parent / \"blocks\" / f\"{module}.py\"",
                  "children": [
                    {
                      "value": "file_path",
                      "children": []
                    },
                    {
                      "value": "current_dir.parent / \"blocks\" / f\"{module}.py\"",
                      "children": [
                        {
                          "value": "current_dir.parent / \"blocks\"",
                          "children": [
                            {
                              "value": "current_dir.parent",
                              "children": [
                                {
                                  "value": "current_dir",
                                  "children": []
                                },
                                {
                                  "value": "parent",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "\"blocks\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "blocks",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "f\"{module}.py\"",
                          "children": [
                            {
                              "value": "f\"",
                              "children": []
                            },
                            {
                              "value": "{module}",
                              "children": [
                                {
                                  "value": "module",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": ".py",
                              "children": []
                            },
                            {
                              "value": "\"",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "with open(file_path, \"r\") as f:\n        code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
              "children": [
                {
                  "value": "open(file_path, \"r\") as f",
                  "children": [
                    {
                      "value": "open(file_path, \"r\") as f",
                      "children": [
                        {
                          "value": "open(file_path, \"r\") as f",
                          "children": [
                            {
                              "value": "open(file_path, \"r\")",
                              "children": [
                                {
                                  "value": "open",
                                  "children": []
                                },
                                {
                                  "value": "(file_path, \"r\")",
                                  "children": [
                                    {
                                      "value": "file_path",
                                      "children": []
                                    },
                                    {
                                      "value": "\"r\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "r",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "f",
                              "children": [
                                {
                                  "value": "f",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "code = \"\\n\".join([\"```python\", f.read(), \"```\"])\n        sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
                  "children": [
                    {
                      "value": "code = \"\\n\".join([\"```python\", f.read(), \"```\"])",
                      "children": [
                        {
                          "value": "code = \"\\n\".join([\"```python\", f.read(), \"```\"])",
                          "children": [
                            {
                              "value": "code",
                              "children": []
                            },
                            {
                              "value": "\"\\n\".join([\"```python\", f.read(), \"```\"])",
                              "children": [
                                {
                                  "value": "\"\\n\".join",
                                  "children": [
                                    {
                                      "value": "\"\\n\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "\\n",
                                          "children": [
                                            {
                                              "value": "\\n",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "join",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "([\"```python\", f.read(), \"```\"])",
                                  "children": [
                                    {
                                      "value": "[\"```python\", f.read(), \"```\"]",
                                      "children": [
                                        {
                                          "value": "\"```python\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "```python",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "f.read()",
                                          "children": [
                                            {
                                              "value": "f.read",
                                              "children": [
                                                {
                                                  "value": "f",
                                                  "children": []
                                                },
                                                {
                                                  "value": "read",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "()",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"```\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "```",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
                      "children": [
                        {
                          "value": "sample_block_codes[module] = f\"[Example: {description}]\\n{code}\"",
                          "children": [
                            {
                              "value": "sample_block_codes[module]",
                              "children": [
                                {
                                  "value": "sample_block_codes",
                                  "children": []
                                },
                                {
                                  "value": "module",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "f\"[Example: {description}]\\n{code}\"",
                              "children": [
                                {
                                  "value": "f\"",
                                  "children": []
                                },
                                {
                                  "value": "[Example:",
                                  "children": []
                                },
                                {
                                  "value": "{description}",
                                  "children": [
                                    {
                                      "value": "description",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "]\\n",
                                  "children": [
                                    {
                                      "value": "\\n",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "{code}",
                                  "children": [
                                    {
                                      "value": "code",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "async def create_test_user() -> User:\n    test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }\n    user = await get_or_create_user(test_user_data)\n    return user",
      "children": [
        {
          "value": "create_test_user",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "User",
          "children": [
            {
              "value": "User",
              "children": []
            }
          ]
        },
        {
          "value": "test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }\n    user = await get_or_create_user(test_user_data)\n    return user",
          "children": [
            {
              "value": "test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }",
              "children": [
                {
                  "value": "test_user_data = {\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }",
                  "children": [
                    {
                      "value": "test_user_data",
                      "children": []
                    },
                    {
                      "value": "{\n        \"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\",\n        \"email\": \"testuser@example.com\",\n        \"name\": \"Test User\",\n    }",
                      "children": [
                        {
                          "value": "\"sub\": \"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\"",
                          "children": [
                            {
                              "value": "\"sub\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "sub",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "\"ef3b97d7-1161-4eb4-92b2-10c24fb154c1\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "ef3b97d7-1161-4eb4-92b2-10c24fb154c1",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "\"email\": \"testuser@example.com\"",
                          "children": [
                            {
                              "value": "\"email\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "email",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "\"testuser@example.com\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "testuser@example.com",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "\"name\": \"Test User\"",
                          "children": [
                            {
                              "value": "\"name\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "name",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "\"Test User\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "Test User",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "user = await get_or_create_user(test_user_data)",
              "children": [
                {
                  "value": "user = await get_or_create_user(test_user_data)",
                  "children": [
                    {
                      "value": "user",
                      "children": []
                    },
                    {
                      "value": "await get_or_create_user(test_user_data)",
                      "children": [
                        {
                          "value": "get_or_create_user(test_user_data)",
                          "children": [
                            {
                              "value": "get_or_create_user",
                              "children": []
                            },
                            {
                              "value": "(test_user_data)",
                              "children": [
                                {
                                  "value": "test_user_data",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "return user",
              "children": [
                {
                  "value": "user",
                  "children": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def create_test_graph() -> Graph:\n    \"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"\n    # ======= Nodes ========= #\n    input_data = Node(block_id=StoreValueBlock().id)\n    input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )\n    input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )\n    search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )\n    search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )\n    prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )\n    code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )\n    code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )\n    block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )\n    nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]\n\n    # ======= Links ========= #\n    links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]\n\n    # ======= Graph ========= #\n    return Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
      "children": [
        {
          "value": "create_test_graph",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "Graph",
          "children": [
            {
              "value": "Graph",
              "children": []
            }
          ]
        },
        {
          "value": "\"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"\n    # ======= Nodes ========= #\n    input_data = Node(block_id=StoreValueBlock().id)\n    input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )\n    input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )\n    search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )\n    search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )\n    prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )\n    code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )\n    code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )\n    block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )\n    nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]\n\n    # ======= Links ========= #\n    links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]\n\n    # ======= Graph ========= #\n    return Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
          "children": [
            {
              "value": "\"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"",
              "children": [
                {
                  "value": "\"\"\"\n            StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======\n    \"\"\"",
                  "children": [
                    {
                      "value": "\"\"\"",
                      "children": []
                    },
                    {
                      "value": "StoreValueBlock (input)\n                 ||\n                 v\n        FillTextTemplateBlock (input query)\n                 ||\n                 v\n         SendWebRequestBlock (browse)\n                 ||\n                 v\n     ------> StoreValueBlock===============\n    |           |  |                    ||\n    |            --                     ||\n    |                                   ||\n    |                                   ||\n    |                                    v\n    |        AITextGeneratorBlock  <===== FillTextTemplateBlock (query)\n    |            ||                      ^\n    |            v                      ||\n    |       ExtractTextInformationBlock             ||\n    |            ||                     ||\n    |            v                      ||\n    ------ BlockInstallationBlock  ======",
                      "children": []
                    },
                    {
                      "value": "\"\"\"",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# ======= Nodes ========= #",
              "children": []
            },
            {
              "value": "input_data = Node(block_id=StoreValueBlock().id)",
              "children": [
                {
                  "value": "input_data = Node(block_id=StoreValueBlock().id)",
                  "children": [
                    {
                      "value": "input_data",
                      "children": []
                    },
                    {
                      "value": "Node(block_id=StoreValueBlock().id)",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(block_id=StoreValueBlock().id)",
                          "children": [
                            {
                              "value": "block_id=StoreValueBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "StoreValueBlock().id",
                                  "children": [
                                    {
                                      "value": "StoreValueBlock()",
                                      "children": [
                                        {
                                          "value": "StoreValueBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )",
              "children": [
                {
                  "value": "input_query_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )",
                  "children": [
                    {
                      "value": "input_query_constant",
                      "children": []
                    },
                    {
                      "value": "Node(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(\n        block_id=StoreValueBlock().id,\n        input_default={\"data\": None},\n    )",
                          "children": [
                            {
                              "value": "block_id=StoreValueBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "StoreValueBlock().id",
                                  "children": [
                                    {
                                      "value": "StoreValueBlock()",
                                      "children": [
                                        {
                                          "value": "StoreValueBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "input_default={\"data\": None}",
                              "children": [
                                {
                                  "value": "input_default",
                                  "children": []
                                },
                                {
                                  "value": "{\"data\": None}",
                                  "children": [
                                    {
                                      "value": "\"data\": None",
                                      "children": [
                                        {
                                          "value": "\"data\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "data",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "None",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )",
              "children": [
                {
                  "value": "input_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )",
                  "children": [
                    {
                      "value": "input_text_formatter",
                      "children": []
                    },
                    {
                      "value": "Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        },\n    )",
                          "children": [
                            {
                              "value": "block_id=FillTextTemplateBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "FillTextTemplateBlock().id",
                                  "children": [
                                    {
                                      "value": "FillTextTemplateBlock()",
                                      "children": [
                                        {
                                          "value": "FillTextTemplateBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "input_default={\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        }",
                              "children": [
                                {
                                  "value": "input_default",
                                  "children": []
                                },
                                {
                                  "value": "{\n            \"format\": \"Show me how to make a python code for this query: `{query}`\",\n        }",
                                  "children": [
                                    {
                                      "value": "\"format\": \"Show me how to make a python code for this query: `{query}`\"",
                                      "children": [
                                        {
                                          "value": "\"format\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "format",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"Show me how to make a python code for this query: `{query}`\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "Show me how to make a python code for this query: `{query}`",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )",
              "children": [
                {
                  "value": "search_http_request = Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )",
                  "children": [
                    {
                      "value": "search_http_request",
                      "children": []
                    },
                    {
                      "value": "Node(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(\n        block_id=SendWebRequestBlock().id,\n        input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        },\n    )",
                          "children": [
                            {
                              "value": "block_id=SendWebRequestBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "SendWebRequestBlock().id",
                                  "children": [
                                    {
                                      "value": "SendWebRequestBlock()",
                                      "children": [
                                        {
                                          "value": "SendWebRequestBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "input_default={\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        }",
                              "children": [
                                {
                                  "value": "input_default",
                                  "children": []
                                },
                                {
                                  "value": "{\n            \"url\": \"https://osit-v2.bentlybro.com/search\",\n        }",
                                  "children": [
                                    {
                                      "value": "\"url\": \"https://osit-v2.bentlybro.com/search\"",
                                      "children": [
                                        {
                                          "value": "\"url\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "url",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"https://osit-v2.bentlybro.com/search\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "https://osit-v2.bentlybro.com/search",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )",
              "children": [
                {
                  "value": "search_result_constant = Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )",
                  "children": [
                    {
                      "value": "search_result_constant",
                      "children": []
                    },
                    {
                      "value": "Node(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(\n        block_id=StoreValueBlock().id,\n        input_default={\n            \"data\": None,\n        },\n    )",
                          "children": [
                            {
                              "value": "block_id=StoreValueBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "StoreValueBlock().id",
                                  "children": [
                                    {
                                      "value": "StoreValueBlock()",
                                      "children": [
                                        {
                                          "value": "StoreValueBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "input_default={\n            \"data\": None,\n        }",
                              "children": [
                                {
                                  "value": "input_default",
                                  "children": []
                                },
                                {
                                  "value": "{\n            \"data\": None,\n        }",
                                  "children": [
                                    {
                                      "value": "\"data\": None",
                                      "children": [
                                        {
                                          "value": "\"data\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "data",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "None",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )",
              "children": [
                {
                  "value": "prompt_text_formatter = Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )",
                  "children": [
                    {
                      "value": "prompt_text_formatter",
                      "children": []
                    },
                    {
                      "value": "Node(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(\n        block_id=FillTextTemplateBlock().id,\n        input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        },\n    )",
                          "children": [
                            {
                              "value": "block_id=FillTextTemplateBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "FillTextTemplateBlock().id",
                                  "children": [
                                    {
                                      "value": "FillTextTemplateBlock()",
                                      "children": [
                                        {
                                          "value": "FillTextTemplateBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "input_default={\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        }",
                              "children": [
                                {
                                  "value": "input_default",
                                  "children": []
                                },
                                {
                                  "value": "{\n            \"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\",\n            \"values_#_previous_attempt\": \"No previous attempt found.\",\n        }",
                                  "children": [
                                    {
                                      "value": "\"format\": \"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\"",
                                      "children": [
                                        {
                                          "value": "\"format\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "format",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"\"\"\nWrite me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}\n\"\"\"",
                                          "children": [
                                            {
                                              "value": "\"\"\"",
                                              "children": []
                                            },
                                            {
                                              "value": "Write me a full Block implementation for this query: `{query}`\n\nHere is the information I get to write a Python code for that:\n{search_result}\n\nHere is your previous attempt:\n{previous_attempt}",
                                              "children": []
                                            },
                                            {
                                              "value": "\"\"\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"values_#_previous_attempt\": \"No previous attempt found.\"",
                                      "children": [
                                        {
                                          "value": "\"values_#_previous_attempt\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "values_#_previous_attempt",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"No previous attempt found.\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "No previous attempt found.",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )",
              "children": [
                {
                  "value": "code_gen_llm_call = Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )",
                  "children": [
                    {
                      "value": "code_gen_llm_call",
                      "children": []
                    },
                    {
                      "value": "Node(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(\n        block_id=AITextGeneratorBlock().id,\n        input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        },\n    )",
                          "children": [
                            {
                              "value": "block_id=AITextGeneratorBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "AITextGeneratorBlock().id",
                                  "children": [
                                    {
                                      "value": "AITextGeneratorBlock()",
                                      "children": [
                                        {
                                          "value": "AITextGeneratorBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "input_default={\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        }",
                              "children": [
                                {
                                  "value": "input_default",
                                  "children": []
                                },
                                {
                                  "value": "{\n            \"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\",\n        }",
                                  "children": [
                                    {
                                      "value": "\"sys_prompt\": f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\"",
                                      "children": [
                                        {
                                          "value": "\"sys_prompt\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "sys_prompt",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "f\"\"\"\nYou are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:\n\n{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}\n\"\"\"",
                                          "children": [
                                            {
                                              "value": "f\"\"\"",
                                              "children": []
                                            },
                                            {
                                              "value": "You are a software engineer and you are asked to write the full class implementation.\nThe class that you are implementing is extending a class called `Block`.\nThis class will be used as a node in a graph of other blocks to build a complex system.\nThis class has a method called `run` that takes an input and returns an output.\nIt also has an `id` attribute that is a UUID, input_schema, and output_schema.\nFor UUID, you have to hardcode it, like `d2e2ecd2-9ae6-422d-8dfe-ceca500ce6a6`,\ndon't use any automatic UUID generation, because it needs to be consistent.\nTo validate the correctness of your implementation, you can also define a test.\nThere is `test_input` and `test_output` you can use to validate your implementation.\nThere is also `test_mock` to mock a helper function on your block class for testing.\n\nFeel free to start your answer by explaining your plan what's required how to test, etc.\nBut make sure to produce the fully working implementation at the end,\nand it should be enclosed within this block format:\n```python\n<Your implementation here>\n```\n\nHere are a couple of sample of the Block class implementation:",
                                              "children": []
                                            },
                                            {
                                              "value": "{\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])}",
                                              "children": [
                                                {
                                                  "value": "\"--------------\".join([sample_block_codes[v] for v in sample_block_modules])",
                                                  "children": [
                                                    {
                                                      "value": "\"--------------\".join",
                                                      "children": [
                                                        {
                                                          "value": "\"--------------\"",
                                                          "children": [
                                                            {
                                                              "value": "\"",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "--------------",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "\"",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "join",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "([sample_block_codes[v] for v in sample_block_modules])",
                                                      "children": [
                                                        {
                                                          "value": "[sample_block_codes[v] for v in sample_block_modules]",
                                                          "children": [
                                                            {
                                                              "value": "sample_block_codes[v]",
                                                              "children": [
                                                                {
                                                                  "value": "sample_block_codes",
                                                                  "children": []
                                                                },
                                                                {
                                                                  "value": "v",
                                                                  "children": []
                                                                }
                                                              ]
                                                            },
                                                            {
                                                              "value": "for v in sample_block_modules",
                                                              "children": [
                                                                {
                                                                  "value": "v",
                                                                  "children": []
                                                                },
                                                                {
                                                                  "value": "sample_block_modules",
                                                                  "children": []
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "",
                                              "children": []
                                            },
                                            {
                                              "value": "\"\"\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )",
              "children": [
                {
                  "value": "code_text_parser = Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )",
                  "children": [
                    {
                      "value": "code_text_parser",
                      "children": []
                    },
                    {
                      "value": "Node(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(\n        block_id=ExtractTextInformationBlock().id,\n        input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        },\n    )",
                          "children": [
                            {
                              "value": "block_id=ExtractTextInformationBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "ExtractTextInformationBlock().id",
                                  "children": [
                                    {
                                      "value": "ExtractTextInformationBlock()",
                                      "children": [
                                        {
                                          "value": "ExtractTextInformationBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "input_default={\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        }",
                              "children": [
                                {
                                  "value": "input_default",
                                  "children": []
                                },
                                {
                                  "value": "{\n            \"pattern\": \"```python\\n(.+?)\\n```\",\n            \"group\": 1,\n        }",
                                  "children": [
                                    {
                                      "value": "\"pattern\": \"```python\\n(.+?)\\n```\"",
                                      "children": [
                                        {
                                          "value": "\"pattern\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "pattern",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"```python\\n(.+?)\\n```\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "```python\\n(.+?)\\n```",
                                              "children": [
                                                {
                                                  "value": "\\n",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\\n",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"group\": 1",
                                      "children": [
                                        {
                                          "value": "\"group\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "group",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "1",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )",
              "children": [
                {
                  "value": "block_installation = Node(\n        block_id=BlockInstallationBlock().id,\n    )",
                  "children": [
                    {
                      "value": "block_installation",
                      "children": []
                    },
                    {
                      "value": "Node(\n        block_id=BlockInstallationBlock().id,\n    )",
                      "children": [
                        {
                          "value": "Node",
                          "children": []
                        },
                        {
                          "value": "(\n        block_id=BlockInstallationBlock().id,\n    )",
                          "children": [
                            {
                              "value": "block_id=BlockInstallationBlock().id",
                              "children": [
                                {
                                  "value": "block_id",
                                  "children": []
                                },
                                {
                                  "value": "BlockInstallationBlock().id",
                                  "children": [
                                    {
                                      "value": "BlockInstallationBlock()",
                                      "children": [
                                        {
                                          "value": "BlockInstallationBlock",
                                          "children": []
                                        },
                                        {
                                          "value": "()",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "id",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]",
              "children": [
                {
                  "value": "nodes = [\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]",
                  "children": [
                    {
                      "value": "nodes",
                      "children": []
                    },
                    {
                      "value": "[\n        input_data,\n        input_query_constant,\n        input_text_formatter,\n        search_http_request,\n        search_result_constant,\n        prompt_text_formatter,\n        code_gen_llm_call,\n        code_text_parser,\n        block_installation,\n    ]",
                      "children": [
                        {
                          "value": "input_data",
                          "children": []
                        },
                        {
                          "value": "input_query_constant",
                          "children": []
                        },
                        {
                          "value": "input_text_formatter",
                          "children": []
                        },
                        {
                          "value": "search_http_request",
                          "children": []
                        },
                        {
                          "value": "search_result_constant",
                          "children": []
                        },
                        {
                          "value": "prompt_text_formatter",
                          "children": []
                        },
                        {
                          "value": "code_gen_llm_call",
                          "children": []
                        },
                        {
                          "value": "code_text_parser",
                          "children": []
                        },
                        {
                          "value": "block_installation",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "# ======= Links ========= #",
              "children": []
            },
            {
              "value": "links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]",
              "children": [
                {
                  "value": "links = [\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]",
                  "children": [
                    {
                      "value": "links",
                      "children": []
                    },
                    {
                      "value": "[\n        Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        ),\n        Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        ),\n        Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        ),\n        Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        ),\n        Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        ),\n        Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        ),\n        Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        ),\n        Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        ),\n        Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        ),\n        Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n        Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        ),\n    ]",
                      "children": [
                        {
                          "value": "Link(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=input_data.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"input\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=input_data.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_data.id",
                                      "children": [
                                        {
                                          "value": "input_data",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=input_query_constant.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_query_constant.id",
                                      "children": [
                                        {
                                          "value": "input_query_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"output\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"output\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "output",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"input\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"input\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "input",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=input_data.id,\n            sink_id=input_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=input_data.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_data.id",
                                      "children": [
                                        {
                                          "value": "input_data",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=input_text_formatter.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_text_formatter.id",
                                      "children": [
                                        {
                                          "value": "input_text_formatter",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"output\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"output\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "output",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"values_#_query\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"values_#_query\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "values_#_query",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=input_query_constant.id,\n            sink_id=input_query_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=input_query_constant.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_query_constant.id",
                                      "children": [
                                        {
                                          "value": "input_query_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=input_query_constant.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_query_constant.id",
                                      "children": [
                                        {
                                          "value": "input_query_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"output\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"output\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "output",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"data\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"data\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "data",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=input_text_formatter.id,\n            sink_id=search_http_request.id,\n            source_name=\"output\",\n            sink_name=\"body_#_query\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=input_text_formatter.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_text_formatter.id",
                                      "children": [
                                        {
                                          "value": "input_text_formatter",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=search_http_request.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "search_http_request.id",
                                      "children": [
                                        {
                                          "value": "search_http_request",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"output\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"output\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "output",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"body_#_query\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"body_#_query\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "body_#_query",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=search_http_request.id,\n            sink_id=search_result_constant.id,\n            source_name=\"response_#_reply\",\n            sink_name=\"input\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=search_http_request.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "search_http_request.id",
                                      "children": [
                                        {
                                          "value": "search_http_request",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=search_result_constant.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "search_result_constant.id",
                                      "children": [
                                        {
                                          "value": "search_result_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"response_#_reply\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"response_#_reply\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "response_#_reply",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"input\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"input\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "input",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(  # Loopback for constant block\n            source_id=search_result_constant.id,\n            sink_id=search_result_constant.id,\n            source_name=\"output\",\n            sink_name=\"data\",\n        )",
                              "children": [
                                {
                                  "value": "# Loopback for constant block",
                                  "children": []
                                },
                                {
                                  "value": "source_id=search_result_constant.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "search_result_constant.id",
                                      "children": [
                                        {
                                          "value": "search_result_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=search_result_constant.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "search_result_constant.id",
                                      "children": [
                                        {
                                          "value": "search_result_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"output\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"output\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "output",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"data\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"data\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "data",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=search_result_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_search_result\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=search_result_constant.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "search_result_constant.id",
                                      "children": [
                                        {
                                          "value": "search_result_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=prompt_text_formatter.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "prompt_text_formatter.id",
                                      "children": [
                                        {
                                          "value": "prompt_text_formatter",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"output\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"output\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "output",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"values_#_search_result\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"values_#_search_result\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "values_#_search_result",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=input_query_constant.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"output\",\n            sink_name=\"values_#_query\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=input_query_constant.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_query_constant.id",
                                      "children": [
                                        {
                                          "value": "input_query_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=prompt_text_formatter.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "prompt_text_formatter.id",
                                      "children": [
                                        {
                                          "value": "prompt_text_formatter",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"output\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"output\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "output",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"values_#_query\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"values_#_query\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "values_#_query",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=prompt_text_formatter.id,\n            sink_id=code_gen_llm_call.id,\n            source_name=\"output\",\n            sink_name=\"prompt\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=prompt_text_formatter.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "prompt_text_formatter.id",
                                      "children": [
                                        {
                                          "value": "prompt_text_formatter",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=code_gen_llm_call.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "code_gen_llm_call.id",
                                      "children": [
                                        {
                                          "value": "code_gen_llm_call",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"output\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"output\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "output",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"prompt\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"prompt\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "prompt",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=code_gen_llm_call.id,\n            sink_id=code_text_parser.id,\n            source_name=\"response\",\n            sink_name=\"text\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=code_gen_llm_call.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "code_gen_llm_call.id",
                                      "children": [
                                        {
                                          "value": "code_gen_llm_call",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=code_text_parser.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "code_text_parser.id",
                                      "children": [
                                        {
                                          "value": "code_text_parser",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"response\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"response\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "response",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"text\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"text\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "text",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=code_text_parser.id,\n            sink_id=block_installation.id,\n            source_name=\"positive\",\n            sink_name=\"code\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=code_text_parser.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "code_text_parser.id",
                                      "children": [
                                        {
                                          "value": "code_text_parser",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=block_installation.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "block_installation.id",
                                      "children": [
                                        {
                                          "value": "block_installation",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"positive\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"positive\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "positive",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"code\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"code\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "code",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(\n            source_id=block_installation.id,\n            sink_id=prompt_text_formatter.id,\n            source_name=\"error\",\n            sink_name=\"values_#_previous_attempt\",\n        )",
                              "children": [
                                {
                                  "value": "source_id=block_installation.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "block_installation.id",
                                      "children": [
                                        {
                                          "value": "block_installation",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=prompt_text_formatter.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "prompt_text_formatter.id",
                                      "children": [
                                        {
                                          "value": "prompt_text_formatter",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"error\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"error\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "error",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"values_#_previous_attempt\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"values_#_previous_attempt\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "values_#_previous_attempt",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=search_result_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        )",
                              "children": [
                                {
                                  "value": "# Re-trigger search result.",
                                  "children": []
                                },
                                {
                                  "value": "source_id=block_installation.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "block_installation.id",
                                      "children": [
                                        {
                                          "value": "block_installation",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=search_result_constant.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "search_result_constant.id",
                                      "children": [
                                        {
                                          "value": "search_result_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"error\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"error\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "error",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"input\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"input\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "input",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "Link(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        )",
                          "children": [
                            {
                              "value": "Link",
                              "children": []
                            },
                            {
                              "value": "(  # Re-trigger search result.\n            source_id=block_installation.id,\n            sink_id=input_query_constant.id,\n            source_name=\"error\",\n            sink_name=\"input\",\n        )",
                              "children": [
                                {
                                  "value": "# Re-trigger search result.",
                                  "children": []
                                },
                                {
                                  "value": "source_id=block_installation.id",
                                  "children": [
                                    {
                                      "value": "source_id",
                                      "children": []
                                    },
                                    {
                                      "value": "block_installation.id",
                                      "children": [
                                        {
                                          "value": "block_installation",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_id=input_query_constant.id",
                                  "children": [
                                    {
                                      "value": "sink_id",
                                      "children": []
                                    },
                                    {
                                      "value": "input_query_constant.id",
                                      "children": [
                                        {
                                          "value": "input_query_constant",
                                          "children": []
                                        },
                                        {
                                          "value": "id",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "source_name=\"error\"",
                                  "children": [
                                    {
                                      "value": "source_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"error\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "error",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "sink_name=\"input\"",
                                  "children": [
                                    {
                                      "value": "sink_name",
                                      "children": []
                                    },
                                    {
                                      "value": "\"input\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "input",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "# ======= Graph ========= #",
              "children": []
            },
            {
              "value": "return Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
              "children": [
                {
                  "value": "Graph(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
                  "children": [
                    {
                      "value": "Graph",
                      "children": []
                    },
                    {
                      "value": "(\n        name=\"BlockAutoGen\",\n        description=\"Block auto generation agent\",\n        nodes=nodes,\n        links=links,\n    )",
                      "children": [
                        {
                          "value": "name=\"BlockAutoGen\"",
                          "children": [
                            {
                              "value": "name",
                              "children": []
                            },
                            {
                              "value": "\"BlockAutoGen\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "BlockAutoGen",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "description=\"Block auto generation agent\"",
                          "children": [
                            {
                              "value": "description",
                              "children": []
                            },
                            {
                              "value": "\"Block auto generation agent\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "Block auto generation agent",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "nodes=nodes",
                          "children": [
                            {
                              "value": "nodes",
                              "children": []
                            },
                            {
                              "value": "nodes",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "links=links",
                          "children": [
                            {
                              "value": "links",
                              "children": []
                            },
                            {
                              "value": "links",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "async def block_autogen_agent():\n    async with SpinTestServer() as server:\n        test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)",
      "children": [
        {
          "value": "block_autogen_agent",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "async with SpinTestServer() as server:\n        test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)",
          "children": [
            {
              "value": "async with SpinTestServer() as server:\n        test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)",
              "children": [
                {
                  "value": "SpinTestServer() as server",
                  "children": [
                    {
                      "value": "SpinTestServer() as server",
                      "children": [
                        {
                          "value": "SpinTestServer() as server",
                          "children": [
                            {
                              "value": "SpinTestServer()",
                              "children": [
                                {
                                  "value": "SpinTestServer",
                                  "children": []
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "server",
                              "children": [
                                {
                                  "value": "server",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "test_user = await create_test_user()\n        test_graph = await create_graph(create_test_graph(), user_id=test_user.id)\n        input_data = {\"input\": \"Write me a block that writes a string into a file.\"}\n        response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )\n        print(response)\n        result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )\n        print(result)",
                  "children": [
                    {
                      "value": "test_user = await create_test_user()",
                      "children": [
                        {
                          "value": "test_user = await create_test_user()",
                          "children": [
                            {
                              "value": "test_user",
                              "children": []
                            },
                            {
                              "value": "await create_test_user()",
                              "children": [
                                {
                                  "value": "create_test_user()",
                                  "children": [
                                    {
                                      "value": "create_test_user",
                                      "children": []
                                    },
                                    {
                                      "value": "()",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "test_graph = await create_graph(create_test_graph(), user_id=test_user.id)",
                      "children": [
                        {
                          "value": "test_graph = await create_graph(create_test_graph(), user_id=test_user.id)",
                          "children": [
                            {
                              "value": "test_graph",
                              "children": []
                            },
                            {
                              "value": "await create_graph(create_test_graph(), user_id=test_user.id)",
                              "children": [
                                {
                                  "value": "create_graph(create_test_graph(), user_id=test_user.id)",
                                  "children": [
                                    {
                                      "value": "create_graph",
                                      "children": []
                                    },
                                    {
                                      "value": "(create_test_graph(), user_id=test_user.id)",
                                      "children": [
                                        {
                                          "value": "create_test_graph()",
                                          "children": [
                                            {
                                              "value": "create_test_graph",
                                              "children": []
                                            },
                                            {
                                              "value": "()",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "user_id=test_user.id",
                                          "children": [
                                            {
                                              "value": "user_id",
                                              "children": []
                                            },
                                            {
                                              "value": "test_user.id",
                                              "children": [
                                                {
                                                  "value": "test_user",
                                                  "children": []
                                                },
                                                {
                                                  "value": "id",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "input_data = {\"input\": \"Write me a block that writes a string into a file.\"}",
                      "children": [
                        {
                          "value": "input_data = {\"input\": \"Write me a block that writes a string into a file.\"}",
                          "children": [
                            {
                              "value": "input_data",
                              "children": []
                            },
                            {
                              "value": "{\"input\": \"Write me a block that writes a string into a file.\"}",
                              "children": [
                                {
                                  "value": "\"input\": \"Write me a block that writes a string into a file.\"",
                                  "children": [
                                    {
                                      "value": "\"input\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "input",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"Write me a block that writes a string into a file.\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "Write me a block that writes a string into a file.",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )",
                      "children": [
                        {
                          "value": "response = await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )",
                          "children": [
                            {
                              "value": "response",
                              "children": []
                            },
                            {
                              "value": "await server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )",
                              "children": [
                                {
                                  "value": "server.agent_server.test_execute_graph(\n            test_graph.id, input_data, test_user.id\n        )",
                                  "children": [
                                    {
                                      "value": "server.agent_server.test_execute_graph",
                                      "children": [
                                        {
                                          "value": "server.agent_server",
                                          "children": [
                                            {
                                              "value": "server",
                                              "children": []
                                            },
                                            {
                                              "value": "agent_server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "test_execute_graph",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            test_graph.id, input_data, test_user.id\n        )",
                                      "children": [
                                        {
                                          "value": "test_graph.id",
                                          "children": [
                                            {
                                              "value": "test_graph",
                                              "children": []
                                            },
                                            {
                                              "value": "id",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "input_data",
                                          "children": []
                                        },
                                        {
                                          "value": "test_user.id",
                                          "children": [
                                            {
                                              "value": "test_user",
                                              "children": []
                                            },
                                            {
                                              "value": "id",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "print(response)",
                      "children": [
                        {
                          "value": "print(response)",
                          "children": [
                            {
                              "value": "print",
                              "children": []
                            },
                            {
                              "value": "(response)",
                              "children": [
                                {
                                  "value": "response",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                      "children": [
                        {
                          "value": "result = await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                          "children": [
                            {
                              "value": "result",
                              "children": []
                            },
                            {
                              "value": "await wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                              "children": [
                                {
                                  "value": "wait_execution(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                                  "children": [
                                    {
                                      "value": "wait_execution",
                                      "children": []
                                    },
                                    {
                                      "value": "(\n            graph_id=test_graph.id,\n            graph_exec_id=response[\"id\"],\n            timeout=1200,\n            user_id=test_user.id,\n        )",
                                      "children": [
                                        {
                                          "value": "graph_id=test_graph.id",
                                          "children": [
                                            {
                                              "value": "graph_id",
                                              "children": []
                                            },
                                            {
                                              "value": "test_graph.id",
                                              "children": [
                                                {
                                                  "value": "test_graph",
                                                  "children": []
                                                },
                                                {
                                                  "value": "id",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": "graph_exec_id=response[\"id\"]",
                                          "children": [
                                            {
                                              "value": "graph_exec_id",
                                              "children": []
                                            },
                                            {
                                              "value": "response[\"id\"]",
                                              "children": [
                                                {
                                                  "value": "response",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"id\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "id",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "value": "timeout=1200",
                                          "children": [
                                            {
                                              "value": "timeout",
                                              "children": []
                                            },
                                            {
                                              "value": "1200",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "user_id=test_user.id",
                                          "children": [
                                            {
                                              "value": "user_id",
                                              "children": []
                                            },
                                            {
                                              "value": "test_user.id",
                                              "children": [
                                                {
                                                  "value": "test_user",
                                                  "children": []
                                                },
                                                {
                                                  "value": "id",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "print(result)",
                      "children": [
                        {
                          "value": "print(result)",
                          "children": [
                            {
                              "value": "print",
                              "children": []
                            },
                            {
                              "value": "(result)",
                              "children": [
                                {
                                  "value": "result",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "if __name__ == \"__main__\":\n    import asyncio\n\n    asyncio.run(block_autogen_agent())",
      "children": [
        {
          "value": "__name__ == \"__main__\"",
          "children": [
            {
              "value": "__name__",
              "children": []
            },
            {
              "value": "\"__main__\"",
              "children": [
                {
                  "value": "\"",
                  "children": []
                },
                {
                  "value": "__main__",
                  "children": []
                },
                {
                  "value": "\"",
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "value": "import asyncio\n\n    asyncio.run(block_autogen_agent())",
          "children": [
            {
              "value": "import asyncio",
              "children": [
                {
                  "value": "asyncio",
                  "children": [
                    {
                      "value": "asyncio",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "asyncio.run(block_autogen_agent())",
              "children": [
                {
                  "value": "asyncio.run(block_autogen_agent())",
                  "children": [
                    {
                      "value": "asyncio.run",
                      "children": [
                        {
                          "value": "asyncio",
                          "children": []
                        },
                        {
                          "value": "run",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(block_autogen_agent())",
                      "children": [
                        {
                          "value": "block_autogen_agent()",
                          "children": [
                            {
                              "value": "block_autogen_agent",
                              "children": []
                            },
                            {
                              "value": "()",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}