{
  "value": "import pytest\n\nfrom .depends import requires_admin_user, requires_user, verify_user\n\n\ndef test_verify_user_no_payload():\n    user = verify_user(None, admin_only=False)\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"\n\n\ndef test_verify_user_no_user_id():\n    with pytest.raises(Exception):\n        verify_user({\"role\": \"admin\"}, admin_only=False)\n\n\ndef test_verify_user_not_admin():\n    with pytest.raises(Exception):\n        verify_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )\n\n\ndef test_verify_user_with_admin_role():\n    user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"},\n        admin_only=True,\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"\n\n\ndef test_verify_user_with_user_role():\n    user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n        admin_only=False,\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"user\"\n\n\ndef test_requires_user():\n    user = requires_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"user\"\n\n\ndef test_requires_user_no_user_id():\n    with pytest.raises(Exception):\n        requires_user({\"role\": \"user\"})\n\n\ndef test_requires_admin_user():\n    user = requires_admin_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"\n\n\ndef test_requires_admin_user_not_admin():\n    with pytest.raises(Exception):\n        requires_admin_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )",
  "children": [
    {
      "value": "import pytest",
      "children": [
        {
          "value": "pytest",
          "children": [
            {
              "value": "pytest",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "from .depends import requires_admin_user, requires_user, verify_user",
      "children": [
        {
          "value": ".depends",
          "children": [
            {
              "value": ".",
              "children": []
            },
            {
              "value": "depends",
              "children": [
                {
                  "value": "depends",
                  "children": []
                }
              ]
            }
          ]
        },
        {
          "value": "requires_admin_user",
          "children": [
            {
              "value": "requires_admin_user",
              "children": []
            }
          ]
        },
        {
          "value": "requires_user",
          "children": [
            {
              "value": "requires_user",
              "children": []
            }
          ]
        },
        {
          "value": "verify_user",
          "children": [
            {
              "value": "verify_user",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "def test_verify_user_no_payload():\n    user = verify_user(None, admin_only=False)\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"",
      "children": [
        {
          "value": "test_verify_user_no_payload",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "user = verify_user(None, admin_only=False)\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"",
          "children": [
            {
              "value": "user = verify_user(None, admin_only=False)",
              "children": [
                {
                  "value": "user = verify_user(None, admin_only=False)",
                  "children": [
                    {
                      "value": "user",
                      "children": []
                    },
                    {
                      "value": "verify_user(None, admin_only=False)",
                      "children": [
                        {
                          "value": "verify_user",
                          "children": []
                        },
                        {
                          "value": "(None, admin_only=False)",
                          "children": [
                            {
                              "value": "None",
                              "children": []
                            },
                            {
                              "value": "admin_only=False",
                              "children": [
                                {
                                  "value": "admin_only",
                                  "children": []
                                },
                                {
                                  "value": "False",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
              "children": [
                {
                  "value": "user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                  "children": [
                    {
                      "value": "user.user_id",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "user_id",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.role == \"admin\"",
              "children": [
                {
                  "value": "user.role == \"admin\"",
                  "children": [
                    {
                      "value": "user.role",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "role",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"admin\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "admin",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_verify_user_no_user_id():\n    with pytest.raises(Exception):\n        verify_user({\"role\": \"admin\"}, admin_only=False)",
      "children": [
        {
          "value": "test_verify_user_no_user_id",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "with pytest.raises(Exception):\n        verify_user({\"role\": \"admin\"}, admin_only=False)",
          "children": [
            {
              "value": "with pytest.raises(Exception):\n        verify_user({\"role\": \"admin\"}, admin_only=False)",
              "children": [
                {
                  "value": "pytest.raises(Exception)",
                  "children": [
                    {
                      "value": "pytest.raises(Exception)",
                      "children": [
                        {
                          "value": "pytest.raises(Exception)",
                          "children": [
                            {
                              "value": "pytest.raises",
                              "children": [
                                {
                                  "value": "pytest",
                                  "children": []
                                },
                                {
                                  "value": "raises",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "(Exception)",
                              "children": [
                                {
                                  "value": "Exception",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "verify_user({\"role\": \"admin\"}, admin_only=False)",
                  "children": [
                    {
                      "value": "verify_user({\"role\": \"admin\"}, admin_only=False)",
                      "children": [
                        {
                          "value": "verify_user({\"role\": \"admin\"}, admin_only=False)",
                          "children": [
                            {
                              "value": "verify_user",
                              "children": []
                            },
                            {
                              "value": "({\"role\": \"admin\"}, admin_only=False)",
                              "children": [
                                {
                                  "value": "{\"role\": \"admin\"}",
                                  "children": [
                                    {
                                      "value": "\"role\": \"admin\"",
                                      "children": [
                                        {
                                          "value": "\"role\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "role",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"admin\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "admin",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "admin_only=False",
                                  "children": [
                                    {
                                      "value": "admin_only",
                                      "children": []
                                    },
                                    {
                                      "value": "False",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_verify_user_not_admin():\n    with pytest.raises(Exception):\n        verify_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )",
      "children": [
        {
          "value": "test_verify_user_not_admin",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "with pytest.raises(Exception):\n        verify_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )",
          "children": [
            {
              "value": "with pytest.raises(Exception):\n        verify_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )",
              "children": [
                {
                  "value": "pytest.raises(Exception)",
                  "children": [
                    {
                      "value": "pytest.raises(Exception)",
                      "children": [
                        {
                          "value": "pytest.raises(Exception)",
                          "children": [
                            {
                              "value": "pytest.raises",
                              "children": [
                                {
                                  "value": "pytest",
                                  "children": []
                                },
                                {
                                  "value": "raises",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "(Exception)",
                              "children": [
                                {
                                  "value": "Exception",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "verify_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )",
                  "children": [
                    {
                      "value": "verify_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )",
                      "children": [
                        {
                          "value": "verify_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )",
                          "children": [
                            {
                              "value": "verify_user",
                              "children": []
                            },
                            {
                              "value": "(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )",
                              "children": [
                                {
                                  "value": "{\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}",
                                  "children": [
                                    {
                                      "value": "\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                      "children": [
                                        {
                                          "value": "\"sub\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "sub",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"role\": \"user\"",
                                      "children": [
                                        {
                                          "value": "\"role\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "role",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"user\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "user",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "admin_only=True",
                                  "children": [
                                    {
                                      "value": "admin_only",
                                      "children": []
                                    },
                                    {
                                      "value": "True",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_verify_user_with_admin_role():\n    user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"},\n        admin_only=True,\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"",
      "children": [
        {
          "value": "test_verify_user_with_admin_role",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"},\n        admin_only=True,\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"",
          "children": [
            {
              "value": "user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"},\n        admin_only=True,\n    )",
              "children": [
                {
                  "value": "user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"},\n        admin_only=True,\n    )",
                  "children": [
                    {
                      "value": "user",
                      "children": []
                    },
                    {
                      "value": "verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"},\n        admin_only=True,\n    )",
                      "children": [
                        {
                          "value": "verify_user",
                          "children": []
                        },
                        {
                          "value": "(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"},\n        admin_only=True,\n    )",
                          "children": [
                            {
                              "value": "{\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}",
                              "children": [
                                {
                                  "value": "\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                  "children": [
                                    {
                                      "value": "\"sub\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "sub",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "\"role\": \"admin\"",
                                  "children": [
                                    {
                                      "value": "\"role\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "role",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"admin\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "admin",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "admin_only=True",
                              "children": [
                                {
                                  "value": "admin_only",
                                  "children": []
                                },
                                {
                                  "value": "True",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
              "children": [
                {
                  "value": "user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                  "children": [
                    {
                      "value": "user.user_id",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "user_id",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.role == \"admin\"",
              "children": [
                {
                  "value": "user.role == \"admin\"",
                  "children": [
                    {
                      "value": "user.role",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "role",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"admin\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "admin",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_verify_user_with_user_role():\n    user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n        admin_only=False,\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"user\"",
      "children": [
        {
          "value": "test_verify_user_with_user_role",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n        admin_only=False,\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"user\"",
          "children": [
            {
              "value": "user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n        admin_only=False,\n    )",
              "children": [
                {
                  "value": "user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n        admin_only=False,\n    )",
                  "children": [
                    {
                      "value": "user",
                      "children": []
                    },
                    {
                      "value": "verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n        admin_only=False,\n    )",
                      "children": [
                        {
                          "value": "verify_user",
                          "children": []
                        },
                        {
                          "value": "(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n        admin_only=False,\n    )",
                          "children": [
                            {
                              "value": "{\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}",
                              "children": [
                                {
                                  "value": "\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                  "children": [
                                    {
                                      "value": "\"sub\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "sub",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "\"role\": \"user\"",
                                  "children": [
                                    {
                                      "value": "\"role\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "role",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"user\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "user",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "admin_only=False",
                              "children": [
                                {
                                  "value": "admin_only",
                                  "children": []
                                },
                                {
                                  "value": "False",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
              "children": [
                {
                  "value": "user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                  "children": [
                    {
                      "value": "user.user_id",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "user_id",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.role == \"user\"",
              "children": [
                {
                  "value": "user.role == \"user\"",
                  "children": [
                    {
                      "value": "user.role",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "role",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"user\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_requires_user():\n    user = requires_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"user\"",
      "children": [
        {
          "value": "test_requires_user",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "user = requires_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"user\"",
          "children": [
            {
              "value": "user = requires_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n    )",
              "children": [
                {
                  "value": "user = requires_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n    )",
                  "children": [
                    {
                      "value": "user",
                      "children": []
                    },
                    {
                      "value": "requires_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n    )",
                      "children": [
                        {
                          "value": "requires_user",
                          "children": []
                        },
                        {
                          "value": "(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n    )",
                          "children": [
                            {
                              "value": "{\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}",
                              "children": [
                                {
                                  "value": "\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                  "children": [
                                    {
                                      "value": "\"sub\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "sub",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "\"role\": \"user\"",
                                  "children": [
                                    {
                                      "value": "\"role\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "role",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"user\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "user",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
              "children": [
                {
                  "value": "user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                  "children": [
                    {
                      "value": "user.user_id",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "user_id",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.role == \"user\"",
              "children": [
                {
                  "value": "user.role == \"user\"",
                  "children": [
                    {
                      "value": "user.role",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "role",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"user\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_requires_user_no_user_id():\n    with pytest.raises(Exception):\n        requires_user({\"role\": \"user\"})",
      "children": [
        {
          "value": "test_requires_user_no_user_id",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "with pytest.raises(Exception):\n        requires_user({\"role\": \"user\"})",
          "children": [
            {
              "value": "with pytest.raises(Exception):\n        requires_user({\"role\": \"user\"})",
              "children": [
                {
                  "value": "pytest.raises(Exception)",
                  "children": [
                    {
                      "value": "pytest.raises(Exception)",
                      "children": [
                        {
                          "value": "pytest.raises(Exception)",
                          "children": [
                            {
                              "value": "pytest.raises",
                              "children": [
                                {
                                  "value": "pytest",
                                  "children": []
                                },
                                {
                                  "value": "raises",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "(Exception)",
                              "children": [
                                {
                                  "value": "Exception",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "requires_user({\"role\": \"user\"})",
                  "children": [
                    {
                      "value": "requires_user({\"role\": \"user\"})",
                      "children": [
                        {
                          "value": "requires_user({\"role\": \"user\"})",
                          "children": [
                            {
                              "value": "requires_user",
                              "children": []
                            },
                            {
                              "value": "({\"role\": \"user\"})",
                              "children": [
                                {
                                  "value": "{\"role\": \"user\"}",
                                  "children": [
                                    {
                                      "value": "\"role\": \"user\"",
                                      "children": [
                                        {
                                          "value": "\"role\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "role",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"user\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "user",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_requires_admin_user():\n    user = requires_admin_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"",
      "children": [
        {
          "value": "test_requires_admin_user",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "user = requires_admin_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}\n    )\n    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"",
          "children": [
            {
              "value": "user = requires_admin_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}\n    )",
              "children": [
                {
                  "value": "user = requires_admin_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}\n    )",
                  "children": [
                    {
                      "value": "user",
                      "children": []
                    },
                    {
                      "value": "requires_admin_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}\n    )",
                      "children": [
                        {
                          "value": "requires_admin_user",
                          "children": []
                        },
                        {
                          "value": "(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}\n    )",
                          "children": [
                            {
                              "value": "{\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}",
                              "children": [
                                {
                                  "value": "\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                  "children": [
                                    {
                                      "value": "\"sub\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "sub",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "value": "\"role\": \"admin\"",
                                  "children": [
                                    {
                                      "value": "\"role\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "role",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"admin\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "admin",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
              "children": [
                {
                  "value": "user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                  "children": [
                    {
                      "value": "user.user_id",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "user_id",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert user.role == \"admin\"",
              "children": [
                {
                  "value": "user.role == \"admin\"",
                  "children": [
                    {
                      "value": "user.role",
                      "children": [
                        {
                          "value": "user",
                          "children": []
                        },
                        {
                          "value": "role",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"admin\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "admin",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_requires_admin_user_not_admin():\n    with pytest.raises(Exception):\n        requires_admin_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )",
      "children": [
        {
          "value": "test_requires_admin_user_not_admin",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "with pytest.raises(Exception):\n        requires_admin_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )",
          "children": [
            {
              "value": "with pytest.raises(Exception):\n        requires_admin_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )",
              "children": [
                {
                  "value": "pytest.raises(Exception)",
                  "children": [
                    {
                      "value": "pytest.raises(Exception)",
                      "children": [
                        {
                          "value": "pytest.raises(Exception)",
                          "children": [
                            {
                              "value": "pytest.raises",
                              "children": [
                                {
                                  "value": "pytest",
                                  "children": []
                                },
                                {
                                  "value": "raises",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "(Exception)",
                              "children": [
                                {
                                  "value": "Exception",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "value": "requires_admin_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )",
                  "children": [
                    {
                      "value": "requires_admin_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )",
                      "children": [
                        {
                          "value": "requires_admin_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )",
                          "children": [
                            {
                              "value": "requires_admin_user",
                              "children": []
                            },
                            {
                              "value": "(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )",
                              "children": [
                                {
                                  "value": "{\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}",
                                  "children": [
                                    {
                                      "value": "\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                      "children": [
                                        {
                                          "value": "\"sub\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "sub",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "3e53486c-cf57-477e-ba2a-cb02dc828e1a",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"role\": \"user\"",
                                      "children": [
                                        {
                                          "value": "\"role\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "role",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "\"user\"",
                                          "children": [
                                            {
                                              "value": "\"",
                                              "children": []
                                            },
                                            {
                                              "value": "user",
                                              "children": []
                                            },
                                            {
                                              "value": "\"",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}