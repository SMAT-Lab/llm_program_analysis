{
  "value": "import datetime\n\nimport autogpt_libs.auth.depends\nimport autogpt_libs.auth.middleware\nimport fastapi\nimport fastapi.testclient\nimport prisma.enums\nimport pytest_mock\n\nimport backend.server.v2.store.model\nimport backend.server.v2.store.routes\n\napp = fastapi.FastAPI()\napp.include_router(backend.server.v2.store.routes.router)\n\nclient = fastapi.testclient.TestClient(app)\n\n\ndef override_auth_middleware():\n    \"\"\"Override auth middleware for testing\"\"\"\n    return {\"sub\": \"test-user-id\"}\n\n\ndef override_get_user_id():\n    \"\"\"Override get_user_id for testing\"\"\"\n    return \"test-user-id\"\n\n\napp.dependency_overrides[autogpt_libs.auth.middleware.auth_middleware] = (\n    override_auth_middleware\n)\napp.dependency_overrides[autogpt_libs.auth.depends.get_user_id] = override_get_user_id\n\n\ndef test_get_agents_defaults(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.agents == []\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_featured(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?featured=true\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].slug == \"featured-agent\"\n    mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_by_creator(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?creator=specific-creator\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].creator == \"specific-creator\"\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_sorted(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?sorted_by=runs\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].runs == 1000\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_search(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?search_query=specific\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert \"specific\" in data.agents[0].description.lower()\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_category(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?category=test-category\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )\n\n\ndef test_get_agents_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?page=2&page_size=5\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )\n\n\ndef test_get_agents_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/agents?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/agents?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/agents?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.assert_not_called()\n\n\ndef test_get_agent_details(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/agents/creator1/test-agent\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )\n    assert data.agent_name == \"Test Agent\"\n    assert data.creator == \"creator1\"\n    mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")\n\n\ndef test_get_creators_defaults(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.creators == []\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )\n\n\ndef test_get_creators_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.creators) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )\n\n\ndef test_get_creators_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/creators?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/creators?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/creators?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.assert_not_called()\n\n\ndef test_get_creator_details(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creator/creator1\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())\n    assert data.username == \"creator1\"\n    assert data.name == \"Test User\"\n    mock_db_call.assert_called_once_with(username=\"creator1\")\n\n\ndef test_get_submissions_success(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.submissions) == 1\n    assert data.submissions[0].name == \"Test Agent\"\n    assert data.pagination.current_page == 1\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)\n\n\ndef test_get_submissions_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)\n\n\ndef test_get_submissions_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/submissions?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/submissions?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/submissions?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.assert_not_called()",
  "children": [
    {
      "value": "import datetime",
      "children": [
        {
          "value": "datetime",
          "children": [
            {
              "value": "datetime",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "import autogpt_libs.auth.depends",
      "children": [
        {
          "value": "autogpt_libs.auth.depends",
          "children": [
            {
              "value": "autogpt_libs",
              "children": []
            },
            {
              "value": "auth",
              "children": []
            },
            {
              "value": "depends",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "import autogpt_libs.auth.middleware",
      "children": [
        {
          "value": "autogpt_libs.auth.middleware",
          "children": [
            {
              "value": "autogpt_libs",
              "children": []
            },
            {
              "value": "auth",
              "children": []
            },
            {
              "value": "middleware",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "import fastapi",
      "children": [
        {
          "value": "fastapi",
          "children": [
            {
              "value": "fastapi",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "import fastapi.testclient",
      "children": [
        {
          "value": "fastapi.testclient",
          "children": [
            {
              "value": "fastapi",
              "children": []
            },
            {
              "value": "testclient",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "import prisma.enums",
      "children": [
        {
          "value": "prisma.enums",
          "children": [
            {
              "value": "prisma",
              "children": []
            },
            {
              "value": "enums",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "import pytest_mock",
      "children": [
        {
          "value": "pytest_mock",
          "children": [
            {
              "value": "pytest_mock",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "import backend.server.v2.store.model",
      "children": [
        {
          "value": "backend.server.v2.store.model",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "server",
              "children": []
            },
            {
              "value": "v2",
              "children": []
            },
            {
              "value": "store",
              "children": []
            },
            {
              "value": "model",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "import backend.server.v2.store.routes",
      "children": [
        {
          "value": "backend.server.v2.store.routes",
          "children": [
            {
              "value": "backend",
              "children": []
            },
            {
              "value": "server",
              "children": []
            },
            {
              "value": "v2",
              "children": []
            },
            {
              "value": "store",
              "children": []
            },
            {
              "value": "routes",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "app = fastapi.FastAPI()",
      "children": [
        {
          "value": "app = fastapi.FastAPI()",
          "children": [
            {
              "value": "app",
              "children": []
            },
            {
              "value": "fastapi.FastAPI()",
              "children": [
                {
                  "value": "fastapi.FastAPI",
                  "children": [
                    {
                      "value": "fastapi",
                      "children": []
                    },
                    {
                      "value": "FastAPI",
                      "children": []
                    }
                  ]
                },
                {
                  "value": "()",
                  "children": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "app.include_router(backend.server.v2.store.routes.router)",
      "children": [
        {
          "value": "app.include_router(backend.server.v2.store.routes.router)",
          "children": [
            {
              "value": "app.include_router",
              "children": [
                {
                  "value": "app",
                  "children": []
                },
                {
                  "value": "include_router",
                  "children": []
                }
              ]
            },
            {
              "value": "(backend.server.v2.store.routes.router)",
              "children": [
                {
                  "value": "backend.server.v2.store.routes.router",
                  "children": [
                    {
                      "value": "backend.server.v2.store.routes",
                      "children": [
                        {
                          "value": "backend.server.v2.store",
                          "children": [
                            {
                              "value": "backend.server.v2",
                              "children": [
                                {
                                  "value": "backend.server",
                                  "children": [
                                    {
                                      "value": "backend",
                                      "children": []
                                    },
                                    {
                                      "value": "server",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "v2",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "store",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "routes",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "router",
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "client = fastapi.testclient.TestClient(app)",
      "children": [
        {
          "value": "client = fastapi.testclient.TestClient(app)",
          "children": [
            {
              "value": "client",
              "children": []
            },
            {
              "value": "fastapi.testclient.TestClient(app)",
              "children": [
                {
                  "value": "fastapi.testclient.TestClient",
                  "children": [
                    {
                      "value": "fastapi.testclient",
                      "children": [
                        {
                          "value": "fastapi",
                          "children": []
                        },
                        {
                          "value": "testclient",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "TestClient",
                      "children": []
                    }
                  ]
                },
                {
                  "value": "(app)",
                  "children": [
                    {
                      "value": "app",
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def override_auth_middleware():\n    \"\"\"Override auth middleware for testing\"\"\"\n    return {\"sub\": \"test-user-id\"}",
      "children": [
        {
          "value": "override_auth_middleware",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "\"\"\"Override auth middleware for testing\"\"\"\n    return {\"sub\": \"test-user-id\"}",
          "children": [
            {
              "value": "\"\"\"Override auth middleware for testing\"\"\"",
              "children": [
                {
                  "value": "\"\"\"Override auth middleware for testing\"\"\"",
                  "children": [
                    {
                      "value": "\"\"\"",
                      "children": []
                    },
                    {
                      "value": "Override auth middleware for testing",
                      "children": []
                    },
                    {
                      "value": "\"\"\"",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "return {\"sub\": \"test-user-id\"}",
              "children": [
                {
                  "value": "{\"sub\": \"test-user-id\"}",
                  "children": [
                    {
                      "value": "\"sub\": \"test-user-id\"",
                      "children": [
                        {
                          "value": "\"sub\"",
                          "children": [
                            {
                              "value": "\"",
                              "children": []
                            },
                            {
                              "value": "sub",
                              "children": []
                            },
                            {
                              "value": "\"",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "\"test-user-id\"",
                          "children": [
                            {
                              "value": "\"",
                              "children": []
                            },
                            {
                              "value": "test-user-id",
                              "children": []
                            },
                            {
                              "value": "\"",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def override_get_user_id():\n    \"\"\"Override get_user_id for testing\"\"\"\n    return \"test-user-id\"",
      "children": [
        {
          "value": "override_get_user_id",
          "children": []
        },
        {
          "value": "()",
          "children": []
        },
        {
          "value": "\"\"\"Override get_user_id for testing\"\"\"\n    return \"test-user-id\"",
          "children": [
            {
              "value": "\"\"\"Override get_user_id for testing\"\"\"",
              "children": [
                {
                  "value": "\"\"\"Override get_user_id for testing\"\"\"",
                  "children": [
                    {
                      "value": "\"\"\"",
                      "children": []
                    },
                    {
                      "value": "Override get_user_id for testing",
                      "children": []
                    },
                    {
                      "value": "\"\"\"",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "return \"test-user-id\"",
              "children": [
                {
                  "value": "\"test-user-id\"",
                  "children": [
                    {
                      "value": "\"",
                      "children": []
                    },
                    {
                      "value": "test-user-id",
                      "children": []
                    },
                    {
                      "value": "\"",
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "app.dependency_overrides[autogpt_libs.auth.middleware.auth_middleware] = (\n    override_auth_middleware\n)",
      "children": [
        {
          "value": "app.dependency_overrides[autogpt_libs.auth.middleware.auth_middleware] = (\n    override_auth_middleware\n)",
          "children": [
            {
              "value": "app.dependency_overrides[autogpt_libs.auth.middleware.auth_middleware]",
              "children": [
                {
                  "value": "app.dependency_overrides",
                  "children": [
                    {
                      "value": "app",
                      "children": []
                    },
                    {
                      "value": "dependency_overrides",
                      "children": []
                    }
                  ]
                },
                {
                  "value": "autogpt_libs.auth.middleware.auth_middleware",
                  "children": [
                    {
                      "value": "autogpt_libs.auth.middleware",
                      "children": [
                        {
                          "value": "autogpt_libs.auth",
                          "children": [
                            {
                              "value": "autogpt_libs",
                              "children": []
                            },
                            {
                              "value": "auth",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "middleware",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "auth_middleware",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "(\n    override_auth_middleware\n)",
              "children": [
                {
                  "value": "override_auth_middleware",
                  "children": []
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "app.dependency_overrides[autogpt_libs.auth.depends.get_user_id] = override_get_user_id",
      "children": [
        {
          "value": "app.dependency_overrides[autogpt_libs.auth.depends.get_user_id] = override_get_user_id",
          "children": [
            {
              "value": "app.dependency_overrides[autogpt_libs.auth.depends.get_user_id]",
              "children": [
                {
                  "value": "app.dependency_overrides",
                  "children": [
                    {
                      "value": "app",
                      "children": []
                    },
                    {
                      "value": "dependency_overrides",
                      "children": []
                    }
                  ]
                },
                {
                  "value": "autogpt_libs.auth.depends.get_user_id",
                  "children": [
                    {
                      "value": "autogpt_libs.auth.depends",
                      "children": [
                        {
                          "value": "autogpt_libs.auth",
                          "children": [
                            {
                              "value": "autogpt_libs",
                              "children": []
                            },
                            {
                              "value": "auth",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "depends",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "get_user_id",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "override_get_user_id",
              "children": []
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agents_defaults(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.agents == []\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
      "children": [
        {
          "value": "test_get_agents_defaults",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.agents == []\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreAgentsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        agents=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                          "children": [
                            {
                              "value": "agents=[]",
                              "children": [
                                {
                                  "value": "agents",
                                  "children": []
                                },
                                {
                                  "value": "[]",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=0",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "0",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=0",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "0",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=0",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "0",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=10",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "10",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agents\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/agents\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents\")",
                          "children": [
                            {
                              "value": "\"/agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreAgentsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreAgentsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.total_pages == 0",
              "children": [
                {
                  "value": "data.pagination.total_pages == 0",
                  "children": [
                    {
                      "value": "data.pagination.total_pages",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "total_pages",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "0",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.agents == []",
              "children": [
                {
                  "value": "data.agents == []",
                  "children": [
                    {
                      "value": "data.agents",
                      "children": [
                        {
                          "value": "data",
                          "children": []
                        },
                        {
                          "value": "agents",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "[]",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                      "children": [
                        {
                          "value": "featured=False",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "False",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "creator=None",
                          "children": [
                            {
                              "value": "creator",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=None",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "search_query=None",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "category=None",
                          "children": [
                            {
                              "value": "category",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page=1",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "1",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=20",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "20",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agents_featured(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?featured=true\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].slug == \"featured-agent\"\n    mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
      "children": [
        {
          "value": "test_get_agents_featured",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?featured=true\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].slug == \"featured-agent\"\n    mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreAgentsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                          "children": [
                            {
                              "value": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ]",
                              "children": [
                                {
                                  "value": "agents",
                                  "children": []
                                },
                                {
                                  "value": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )\n        ]",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.StoreAgent(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model.StoreAgent",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store.model",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2.store",
                                                  "children": [
                                                    {
                                                      "value": "backend.server.v2",
                                                      "children": [
                                                        {
                                                          "value": "backend.server",
                                                          "children": [
                                                            {
                                                              "value": "backend",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "server",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "v2",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "store",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "model",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "StoreAgent",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "(\n                slug=\"featured-agent\",\n                agent_name=\"Featured Agent\",\n                agent_image=\"featured.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Featured agent subheading\",\n                description=\"Featured agent description\",\n                runs=100,\n                rating=4.5,\n            )",
                                          "children": [
                                            {
                                              "value": "slug=\"featured-agent\"",
                                              "children": [
                                                {
                                                  "value": "slug",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"featured-agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "featured-agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_name=\"Featured Agent\"",
                                              "children": [
                                                {
                                                  "value": "agent_name",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Featured Agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Featured Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_image=\"featured.jpg\"",
                                              "children": [
                                                {
                                                  "value": "agent_image",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"featured.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "featured.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator=\"creator1\"",
                                              "children": [
                                                {
                                                  "value": "creator",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"creator1\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "creator1",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator_avatar=\"avatar1.jpg\"",
                                              "children": [
                                                {
                                                  "value": "creator_avatar",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"avatar1.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "avatar1.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "sub_heading=\"Featured agent subheading\"",
                                              "children": [
                                                {
                                                  "value": "sub_heading",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Featured agent subheading\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Featured agent subheading",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "description=\"Featured agent description\"",
                                              "children": [
                                                {
                                                  "value": "description",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Featured agent description\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Featured agent description",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "runs=100",
                                              "children": [
                                                {
                                                  "value": "runs",
                                                  "children": []
                                                },
                                                {
                                                  "value": "100",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "rating=4.5",
                                              "children": [
                                                {
                                                  "value": "rating",
                                                  "children": []
                                                },
                                                {
                                                  "value": "4.5",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=1",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=1",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=1",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=20",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "20",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agents\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/agents?featured=true\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?featured=true\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?featured=true\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?featured=true\")",
                          "children": [
                            {
                              "value": "\"/agents?featured=true\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?featured=true",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreAgentsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreAgentsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert len(data.agents) == 1",
              "children": [
                {
                  "value": "len(data.agents) == 1",
                  "children": [
                    {
                      "value": "len(data.agents)",
                      "children": [
                        {
                          "value": "len",
                          "children": []
                        },
                        {
                          "value": "(data.agents)",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "1",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.agents[0].slug == \"featured-agent\"",
              "children": [
                {
                  "value": "data.agents[0].slug == \"featured-agent\"",
                  "children": [
                    {
                      "value": "data.agents[0].slug",
                      "children": [
                        {
                          "value": "data.agents[0]",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "0",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "slug",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"featured-agent\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "featured-agent",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=True,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                      "children": [
                        {
                          "value": "featured=True",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "True",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "creator=None",
                          "children": [
                            {
                              "value": "creator",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=None",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "search_query=None",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "category=None",
                          "children": [
                            {
                              "value": "category",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page=1",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "1",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=20",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "20",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agents_by_creator(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?creator=specific-creator\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].creator == \"specific-creator\"\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
      "children": [
        {
          "value": "test_get_agents_by_creator",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?creator=specific-creator\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].creator == \"specific-creator\"\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreAgentsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                          "children": [
                            {
                              "value": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ]",
                              "children": [
                                {
                                  "value": "agents",
                                  "children": []
                                },
                                {
                                  "value": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )\n        ]",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.StoreAgent(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model.StoreAgent",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store.model",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2.store",
                                                  "children": [
                                                    {
                                                      "value": "backend.server.v2",
                                                      "children": [
                                                        {
                                                          "value": "backend.server",
                                                          "children": [
                                                            {
                                                              "value": "backend",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "server",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "v2",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "store",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "model",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "StoreAgent",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "(\n                slug=\"creator-agent\",\n                agent_name=\"Creator Agent\",\n                agent_image=\"agent.jpg\",\n                creator=\"specific-creator\",\n                creator_avatar=\"avatar.jpg\",\n                sub_heading=\"Creator agent subheading\",\n                description=\"Creator agent description\",\n                runs=50,\n                rating=4.0,\n            )",
                                          "children": [
                                            {
                                              "value": "slug=\"creator-agent\"",
                                              "children": [
                                                {
                                                  "value": "slug",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"creator-agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "creator-agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_name=\"Creator Agent\"",
                                              "children": [
                                                {
                                                  "value": "agent_name",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Creator Agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Creator Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_image=\"agent.jpg\"",
                                              "children": [
                                                {
                                                  "value": "agent_image",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"agent.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "agent.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator=\"specific-creator\"",
                                              "children": [
                                                {
                                                  "value": "creator",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"specific-creator\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "specific-creator",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator_avatar=\"avatar.jpg\"",
                                              "children": [
                                                {
                                                  "value": "creator_avatar",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"avatar.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "avatar.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "sub_heading=\"Creator agent subheading\"",
                                              "children": [
                                                {
                                                  "value": "sub_heading",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Creator agent subheading\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Creator agent subheading",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "description=\"Creator agent description\"",
                                              "children": [
                                                {
                                                  "value": "description",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Creator agent description\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Creator agent description",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "runs=50",
                                              "children": [
                                                {
                                                  "value": "runs",
                                                  "children": []
                                                },
                                                {
                                                  "value": "50",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "rating=4.0",
                                              "children": [
                                                {
                                                  "value": "rating",
                                                  "children": []
                                                },
                                                {
                                                  "value": "4.0",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=1",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=1",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=1",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=20",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "20",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agents\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/agents?creator=specific-creator\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?creator=specific-creator\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?creator=specific-creator\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?creator=specific-creator\")",
                          "children": [
                            {
                              "value": "\"/agents?creator=specific-creator\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?creator=specific-creator",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreAgentsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreAgentsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert len(data.agents) == 1",
              "children": [
                {
                  "value": "len(data.agents) == 1",
                  "children": [
                    {
                      "value": "len(data.agents)",
                      "children": [
                        {
                          "value": "len",
                          "children": []
                        },
                        {
                          "value": "(data.agents)",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "1",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.agents[0].creator == \"specific-creator\"",
              "children": [
                {
                  "value": "data.agents[0].creator == \"specific-creator\"",
                  "children": [
                    {
                      "value": "data.agents[0].creator",
                      "children": [
                        {
                          "value": "data.agents[0]",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "0",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "creator",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"specific-creator\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "specific-creator",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=False,\n        creator=\"specific-creator\",\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                      "children": [
                        {
                          "value": "featured=False",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "False",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "creator=\"specific-creator\"",
                          "children": [
                            {
                              "value": "creator",
                              "children": []
                            },
                            {
                              "value": "\"specific-creator\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "specific-creator",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=None",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "search_query=None",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "category=None",
                          "children": [
                            {
                              "value": "category",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page=1",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "1",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=20",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "20",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agents_sorted(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?sorted_by=runs\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].runs == 1000\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
      "children": [
        {
          "value": "test_get_agents_sorted",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?sorted_by=runs\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert data.agents[0].runs == 1000\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreAgentsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                          "children": [
                            {
                              "value": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ]",
                              "children": [
                                {
                                  "value": "agents",
                                  "children": []
                                },
                                {
                                  "value": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )\n        ]",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.StoreAgent(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model.StoreAgent",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store.model",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2.store",
                                                  "children": [
                                                    {
                                                      "value": "backend.server.v2",
                                                      "children": [
                                                        {
                                                          "value": "backend.server",
                                                          "children": [
                                                            {
                                                              "value": "backend",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "server",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "v2",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "store",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "model",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "StoreAgent",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "(\n                slug=\"top-agent\",\n                agent_name=\"Top Agent\",\n                agent_image=\"top.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Top agent subheading\",\n                description=\"Top agent description\",\n                runs=1000,\n                rating=5.0,\n            )",
                                          "children": [
                                            {
                                              "value": "slug=\"top-agent\"",
                                              "children": [
                                                {
                                                  "value": "slug",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"top-agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "top-agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_name=\"Top Agent\"",
                                              "children": [
                                                {
                                                  "value": "agent_name",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Top Agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Top Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_image=\"top.jpg\"",
                                              "children": [
                                                {
                                                  "value": "agent_image",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"top.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "top.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator=\"creator1\"",
                                              "children": [
                                                {
                                                  "value": "creator",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"creator1\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "creator1",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator_avatar=\"avatar1.jpg\"",
                                              "children": [
                                                {
                                                  "value": "creator_avatar",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"avatar1.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "avatar1.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "sub_heading=\"Top agent subheading\"",
                                              "children": [
                                                {
                                                  "value": "sub_heading",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Top agent subheading\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Top agent subheading",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "description=\"Top agent description\"",
                                              "children": [
                                                {
                                                  "value": "description",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Top agent description\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Top agent description",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "runs=1000",
                                              "children": [
                                                {
                                                  "value": "runs",
                                                  "children": []
                                                },
                                                {
                                                  "value": "1000",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "rating=5.0",
                                              "children": [
                                                {
                                                  "value": "rating",
                                                  "children": []
                                                },
                                                {
                                                  "value": "5.0",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=1",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=1",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=1",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=20",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "20",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agents\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/agents?sorted_by=runs\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?sorted_by=runs\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?sorted_by=runs\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?sorted_by=runs\")",
                          "children": [
                            {
                              "value": "\"/agents?sorted_by=runs\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?sorted_by=runs",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreAgentsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreAgentsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert len(data.agents) == 1",
              "children": [
                {
                  "value": "len(data.agents) == 1",
                  "children": [
                    {
                      "value": "len(data.agents)",
                      "children": [
                        {
                          "value": "len",
                          "children": []
                        },
                        {
                          "value": "(data.agents)",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "1",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.agents[0].runs == 1000",
              "children": [
                {
                  "value": "data.agents[0].runs == 1000",
                  "children": [
                    {
                      "value": "data.agents[0].runs",
                      "children": [
                        {
                          "value": "data.agents[0]",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "0",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "runs",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "1000",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=False,\n        creator=None,\n        sorted_by=\"runs\",\n        search_query=None,\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                      "children": [
                        {
                          "value": "featured=False",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "False",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "creator=None",
                          "children": [
                            {
                              "value": "creator",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=\"runs\"",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "\"runs\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "runs",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "search_query=None",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "category=None",
                          "children": [
                            {
                              "value": "category",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page=1",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "1",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=20",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "20",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agents_search(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?search_query=specific\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert \"specific\" in data.agents[0].description.lower()\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
      "children": [
        {
          "value": "test_get_agents_search",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?search_query=specific\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    assert \"specific\" in data.agents[0].description.lower()\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreAgentsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                          "children": [
                            {
                              "value": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ]",
                              "children": [
                                {
                                  "value": "agents",
                                  "children": []
                                },
                                {
                                  "value": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )\n        ]",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.StoreAgent(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model.StoreAgent",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store.model",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2.store",
                                                  "children": [
                                                    {
                                                      "value": "backend.server.v2",
                                                      "children": [
                                                        {
                                                          "value": "backend.server",
                                                          "children": [
                                                            {
                                                              "value": "backend",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "server",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "v2",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "store",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "model",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "StoreAgent",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "(\n                slug=\"search-agent\",\n                agent_name=\"Search Agent\",\n                agent_image=\"search.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Search agent subheading\",\n                description=\"Specific search term description\",\n                runs=75,\n                rating=4.2,\n            )",
                                          "children": [
                                            {
                                              "value": "slug=\"search-agent\"",
                                              "children": [
                                                {
                                                  "value": "slug",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"search-agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "search-agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_name=\"Search Agent\"",
                                              "children": [
                                                {
                                                  "value": "agent_name",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Search Agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Search Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_image=\"search.jpg\"",
                                              "children": [
                                                {
                                                  "value": "agent_image",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"search.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "search.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator=\"creator1\"",
                                              "children": [
                                                {
                                                  "value": "creator",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"creator1\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "creator1",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator_avatar=\"avatar1.jpg\"",
                                              "children": [
                                                {
                                                  "value": "creator_avatar",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"avatar1.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "avatar1.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "sub_heading=\"Search agent subheading\"",
                                              "children": [
                                                {
                                                  "value": "sub_heading",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Search agent subheading\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Search agent subheading",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "description=\"Specific search term description\"",
                                              "children": [
                                                {
                                                  "value": "description",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Specific search term description\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Specific search term description",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "runs=75",
                                              "children": [
                                                {
                                                  "value": "runs",
                                                  "children": []
                                                },
                                                {
                                                  "value": "75",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "rating=4.2",
                                              "children": [
                                                {
                                                  "value": "rating",
                                                  "children": []
                                                },
                                                {
                                                  "value": "4.2",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=1",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=1",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=1",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=20",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "20",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agents\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/agents?search_query=specific\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?search_query=specific\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?search_query=specific\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?search_query=specific\")",
                          "children": [
                            {
                              "value": "\"/agents?search_query=specific\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?search_query=specific",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreAgentsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreAgentsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert len(data.agents) == 1",
              "children": [
                {
                  "value": "len(data.agents) == 1",
                  "children": [
                    {
                      "value": "len(data.agents)",
                      "children": [
                        {
                          "value": "len",
                          "children": []
                        },
                        {
                          "value": "(data.agents)",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "1",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert \"specific\" in data.agents[0].description.lower()",
              "children": [
                {
                  "value": "\"specific\" in data.agents[0].description.lower()",
                  "children": [
                    {
                      "value": "\"specific\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "specific",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "data.agents[0].description.lower()",
                      "children": [
                        {
                          "value": "data.agents[0].description.lower",
                          "children": [
                            {
                              "value": "data.agents[0].description",
                              "children": [
                                {
                                  "value": "data.agents[0]",
                                  "children": [
                                    {
                                      "value": "data.agents",
                                      "children": [
                                        {
                                          "value": "data",
                                          "children": []
                                        },
                                        {
                                          "value": "agents",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "0",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "description",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "lower",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "()",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=\"specific\",\n        category=None,\n        page=1,\n        page_size=20,\n    )",
                      "children": [
                        {
                          "value": "featured=False",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "False",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "creator=None",
                          "children": [
                            {
                              "value": "creator",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=None",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "search_query=\"specific\"",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "\"specific\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "specific",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "category=None",
                          "children": [
                            {
                              "value": "category",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page=1",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "1",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=20",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "20",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agents_category(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?category=test-category\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
      "children": [
        {
          "value": "test_get_agents_category",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?category=test-category\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 1\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreAgentsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                          "children": [
                            {
                              "value": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ]",
                              "children": [
                                {
                                  "value": "agents",
                                  "children": []
                                },
                                {
                                  "value": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )\n        ]",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.StoreAgent(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model.StoreAgent",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store.model",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2.store",
                                                  "children": [
                                                    {
                                                      "value": "backend.server.v2",
                                                      "children": [
                                                        {
                                                          "value": "backend.server",
                                                          "children": [
                                                            {
                                                              "value": "backend",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "server",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "v2",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "store",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "model",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "StoreAgent",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "(\n                slug=\"category-agent\",\n                agent_name=\"Category Agent\",\n                agent_image=\"category.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=\"Category agent subheading\",\n                description=\"Category agent description\",\n                runs=60,\n                rating=4.1,\n            )",
                                          "children": [
                                            {
                                              "value": "slug=\"category-agent\"",
                                              "children": [
                                                {
                                                  "value": "slug",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"category-agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "category-agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_name=\"Category Agent\"",
                                              "children": [
                                                {
                                                  "value": "agent_name",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Category Agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Category Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_image=\"category.jpg\"",
                                              "children": [
                                                {
                                                  "value": "agent_image",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"category.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "category.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator=\"creator1\"",
                                              "children": [
                                                {
                                                  "value": "creator",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"creator1\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "creator1",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator_avatar=\"avatar1.jpg\"",
                                              "children": [
                                                {
                                                  "value": "creator_avatar",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"avatar1.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "avatar1.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "sub_heading=\"Category agent subheading\"",
                                              "children": [
                                                {
                                                  "value": "sub_heading",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Category agent subheading\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Category agent subheading",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "description=\"Category agent description\"",
                                              "children": [
                                                {
                                                  "value": "description",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Category agent description\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Category agent description",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "runs=60",
                                              "children": [
                                                {
                                                  "value": "runs",
                                                  "children": []
                                                },
                                                {
                                                  "value": "60",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "rating=4.1",
                                              "children": [
                                                {
                                                  "value": "rating",
                                                  "children": []
                                                },
                                                {
                                                  "value": "4.1",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=1",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=1",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=1",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=20",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "20",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agents\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/agents?category=test-category\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?category=test-category\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?category=test-category\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?category=test-category\")",
                          "children": [
                            {
                              "value": "\"/agents?category=test-category\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?category=test-category",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreAgentsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreAgentsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert len(data.agents) == 1",
              "children": [
                {
                  "value": "len(data.agents) == 1",
                  "children": [
                    {
                      "value": "len(data.agents)",
                      "children": [
                        {
                          "value": "len",
                          "children": []
                        },
                        {
                          "value": "(data.agents)",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "1",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=\"test-category\",\n        page=1,\n        page_size=20,\n    )",
                      "children": [
                        {
                          "value": "featured=False",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "False",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "creator=None",
                          "children": [
                            {
                              "value": "creator",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=None",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "search_query=None",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "category=\"test-category\"",
                          "children": [
                            {
                              "value": "category",
                              "children": []
                            },
                            {
                              "value": "\"test-category\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "test-category",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "page=1",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "1",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=20",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "20",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agents_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?page=2&page_size=5\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
      "children": [
        {
          "value": "test_get_agents_pagination",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.return_value = mocked_value\n    response = client.get(\"/agents?page=2&page_size=5\")\n    assert response.status_code == 200\n    data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.agents) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreAgentsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                          "children": [
                            {
                              "value": "agents=[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ]",
                              "children": [
                                {
                                  "value": "agents",
                                  "children": []
                                },
                                {
                                  "value": "[\n            backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )\n            for i in range(5)\n        ]",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.StoreAgent(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model.StoreAgent",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store.model",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2.store",
                                                  "children": [
                                                    {
                                                      "value": "backend.server.v2",
                                                      "children": [
                                                        {
                                                          "value": "backend.server",
                                                          "children": [
                                                            {
                                                              "value": "backend",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "server",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "v2",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "store",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "model",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "StoreAgent",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "(\n                slug=f\"agent-{i}\",\n                agent_name=f\"Agent {i}\",\n                agent_image=f\"agent{i}.jpg\",\n                creator=\"creator1\",\n                creator_avatar=\"avatar1.jpg\",\n                sub_heading=f\"Agent {i} subheading\",\n                description=f\"Agent {i} description\",\n                runs=i * 10,\n                rating=4.0,\n            )",
                                          "children": [
                                            {
                                              "value": "slug=f\"agent-{i}\"",
                                              "children": [
                                                {
                                                  "value": "slug",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"agent-{i}\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "agent-",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_name=f\"Agent {i}\"",
                                              "children": [
                                                {
                                                  "value": "agent_name",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"Agent {i}\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_image=f\"agent{i}.jpg\"",
                                              "children": [
                                                {
                                                  "value": "agent_image",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"agent{i}.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": ".jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator=\"creator1\"",
                                              "children": [
                                                {
                                                  "value": "creator",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"creator1\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "creator1",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "creator_avatar=\"avatar1.jpg\"",
                                              "children": [
                                                {
                                                  "value": "creator_avatar",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"avatar1.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "avatar1.jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "sub_heading=f\"Agent {i} subheading\"",
                                              "children": [
                                                {
                                                  "value": "sub_heading",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"Agent {i} subheading\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "subheading",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "description=f\"Agent {i} description\"",
                                              "children": [
                                                {
                                                  "value": "description",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"Agent {i} description\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "description",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "runs=i * 10",
                                              "children": [
                                                {
                                                  "value": "runs",
                                                  "children": []
                                                },
                                                {
                                                  "value": "i * 10",
                                                  "children": [
                                                    {
                                                      "value": "i",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "10",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "rating=4.0",
                                              "children": [
                                                {
                                                  "value": "rating",
                                                  "children": []
                                                },
                                                {
                                                  "value": "4.0",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": "for i in range(5)",
                                      "children": [
                                        {
                                          "value": "i",
                                          "children": []
                                        },
                                        {
                                          "value": "range(5)",
                                          "children": [
                                            {
                                              "value": "range",
                                              "children": []
                                            },
                                            {
                                              "value": "(5)",
                                              "children": [
                                                {
                                                  "value": "5",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=2",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=15",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "15",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=3",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "3",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=5",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "5",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agents\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/agents?page=2&page_size=5\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?page=2&page_size=5\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?page=2&page_size=5\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?page=2&page_size=5\")",
                          "children": [
                            {
                              "value": "\"/agents?page=2&page_size=5\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?page=2&page_size=5",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreAgentsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreAgentsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert len(data.agents) == 5",
              "children": [
                {
                  "value": "len(data.agents) == 5",
                  "children": [
                    {
                      "value": "len(data.agents)",
                      "children": [
                        {
                          "value": "len",
                          "children": []
                        },
                        {
                          "value": "(data.agents)",
                          "children": [
                            {
                              "value": "data.agents",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "agents",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "5",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.current_page == 2",
              "children": [
                {
                  "value": "data.pagination.current_page == 2",
                  "children": [
                    {
                      "value": "data.pagination.current_page",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "current_page",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "2",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.page_size == 5",
              "children": [
                {
                  "value": "data.pagination.page_size == 5",
                  "children": [
                    {
                      "value": "data.pagination.page_size",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "5",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=False,\n        creator=None,\n        sorted_by=None,\n        search_query=None,\n        category=None,\n        page=2,\n        page_size=5,\n    )",
                      "children": [
                        {
                          "value": "featured=False",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "False",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "creator=None",
                          "children": [
                            {
                              "value": "creator",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=None",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "search_query=None",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "category=None",
                          "children": [
                            {
                              "value": "category",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page=2",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "2",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=5",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "5",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agents_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/agents?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/agents?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/agents?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.assert_not_called()",
      "children": [
        {
          "value": "test_get_agents_malformed_request",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "# Test with invalid page number",
          "children": []
        },
        {
          "value": "response = client.get(\"/agents?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/agents?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/agents?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")\n    mock_db_call.assert_not_called()",
          "children": [
            {
              "value": "response = client.get(\"/agents?page=-1\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?page=-1\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?page=-1\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?page=-1\")",
                          "children": [
                            {
                              "value": "\"/agents?page=-1\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?page=-1",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Test with invalid page size",
              "children": []
            },
            {
              "value": "response = client.get(\"/agents?page_size=0\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?page_size=0\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?page_size=0\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?page_size=0\")",
                          "children": [
                            {
                              "value": "\"/agents?page_size=0\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?page_size=0",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Test with non-numeric values",
              "children": []
            },
            {
              "value": "response = client.get(\"/agents?page=abc&page_size=def\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents?page=abc&page_size=def\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents?page=abc&page_size=def\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents?page=abc&page_size=def\")",
                          "children": [
                            {
                              "value": "\"/agents?page=abc&page_size=def\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents?page=abc&page_size=def",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Verify no DB calls were made",
              "children": []
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agents\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agents\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agents\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agents",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_not_called()",
              "children": [
                {
                  "value": "mock_db_call.assert_not_called()",
                  "children": [
                    {
                      "value": "mock_db_call.assert_not_called",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_not_called",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "()",
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_agent_details(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/agents/creator1/test-agent\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )\n    assert data.agent_name == \"Test Agent\"\n    assert data.creator == \"creator1\"\n    mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")",
      "children": [
        {
          "value": "test_get_agent_details",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/agents/creator1/test-agent\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )\n    assert data.agent_name == \"Test Agent\"\n    assert data.creator == \"creator1\"\n    mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentDetails(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentDetails",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreAgentDetails",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        store_listing_version_id=\"test-version-id\",\n        slug=\"test-agent\",\n        agent_name=\"Test Agent\",\n        agent_video=\"video.mp4\",\n        agent_image=[\"image1.jpg\", \"image2.jpg\"],\n        creator=\"creator1\",\n        creator_avatar=\"avatar1.jpg\",\n        sub_heading=\"Test agent subheading\",\n        description=\"Test agent description\",\n        categories=[\"category1\", \"category2\"],\n        runs=100,\n        rating=4.5,\n        versions=[\"1.0.0\", \"1.1.0\"],\n        last_updated=datetime.datetime.now(),\n    )",
                          "children": [
                            {
                              "value": "store_listing_version_id=\"test-version-id\"",
                              "children": [
                                {
                                  "value": "store_listing_version_id",
                                  "children": []
                                },
                                {
                                  "value": "\"test-version-id\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "test-version-id",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "slug=\"test-agent\"",
                              "children": [
                                {
                                  "value": "slug",
                                  "children": []
                                },
                                {
                                  "value": "\"test-agent\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "test-agent",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "agent_name=\"Test Agent\"",
                              "children": [
                                {
                                  "value": "agent_name",
                                  "children": []
                                },
                                {
                                  "value": "\"Test Agent\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "Test Agent",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "agent_video=\"video.mp4\"",
                              "children": [
                                {
                                  "value": "agent_video",
                                  "children": []
                                },
                                {
                                  "value": "\"video.mp4\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "video.mp4",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "agent_image=[\"image1.jpg\", \"image2.jpg\"]",
                              "children": [
                                {
                                  "value": "agent_image",
                                  "children": []
                                },
                                {
                                  "value": "[\"image1.jpg\", \"image2.jpg\"]",
                                  "children": [
                                    {
                                      "value": "\"image1.jpg\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "image1.jpg",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"image2.jpg\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "image2.jpg",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "creator=\"creator1\"",
                              "children": [
                                {
                                  "value": "creator",
                                  "children": []
                                },
                                {
                                  "value": "\"creator1\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "creator1",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "creator_avatar=\"avatar1.jpg\"",
                              "children": [
                                {
                                  "value": "creator_avatar",
                                  "children": []
                                },
                                {
                                  "value": "\"avatar1.jpg\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "avatar1.jpg",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "sub_heading=\"Test agent subheading\"",
                              "children": [
                                {
                                  "value": "sub_heading",
                                  "children": []
                                },
                                {
                                  "value": "\"Test agent subheading\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "Test agent subheading",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "description=\"Test agent description\"",
                              "children": [
                                {
                                  "value": "description",
                                  "children": []
                                },
                                {
                                  "value": "\"Test agent description\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "Test agent description",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "categories=[\"category1\", \"category2\"]",
                              "children": [
                                {
                                  "value": "categories",
                                  "children": []
                                },
                                {
                                  "value": "[\"category1\", \"category2\"]",
                                  "children": [
                                    {
                                      "value": "\"category1\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "category1",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"category2\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "category2",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "runs=100",
                              "children": [
                                {
                                  "value": "runs",
                                  "children": []
                                },
                                {
                                  "value": "100",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "rating=4.5",
                              "children": [
                                {
                                  "value": "rating",
                                  "children": []
                                },
                                {
                                  "value": "4.5",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "versions=[\"1.0.0\", \"1.1.0\"]",
                              "children": [
                                {
                                  "value": "versions",
                                  "children": []
                                },
                                {
                                  "value": "[\"1.0.0\", \"1.1.0\"]",
                                  "children": [
                                    {
                                      "value": "\"1.0.0\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "1.0.0",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"1.1.0\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "1.1.0",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "last_updated=datetime.datetime.now()",
                              "children": [
                                {
                                  "value": "last_updated",
                                  "children": []
                                },
                                {
                                  "value": "datetime.datetime.now()",
                                  "children": [
                                    {
                                      "value": "datetime.datetime.now",
                                      "children": [
                                        {
                                          "value": "datetime.datetime",
                                          "children": [
                                            {
                                              "value": "datetime",
                                              "children": []
                                            },
                                            {
                                              "value": "datetime",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "now",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "()",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_agent_details\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_agent_details\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_agent_details\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_agent_details",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/agents/creator1/test-agent\")",
              "children": [
                {
                  "value": "response = client.get(\"/agents/creator1/test-agent\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/agents/creator1/test-agent\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/agents/creator1/test-agent\")",
                          "children": [
                            {
                              "value": "\"/agents/creator1/test-agent\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/agents/creator1/test-agent",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreAgentDetails.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreAgentDetails.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreAgentDetails",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreAgentDetails",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.agent_name == \"Test Agent\"",
              "children": [
                {
                  "value": "data.agent_name == \"Test Agent\"",
                  "children": [
                    {
                      "value": "data.agent_name",
                      "children": [
                        {
                          "value": "data",
                          "children": []
                        },
                        {
                          "value": "agent_name",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"Test Agent\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "Test Agent",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.creator == \"creator1\"",
              "children": [
                {
                  "value": "data.creator == \"creator1\"",
                  "children": [
                    {
                      "value": "data.creator",
                      "children": [
                        {
                          "value": "data",
                          "children": []
                        },
                        {
                          "value": "creator",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"creator1\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "creator1",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(username=\"creator1\", agent_name=\"test-agent\")",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(username=\"creator1\", agent_name=\"test-agent\")",
                      "children": [
                        {
                          "value": "username=\"creator1\"",
                          "children": [
                            {
                              "value": "username",
                              "children": []
                            },
                            {
                              "value": "\"creator1\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "creator1",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "agent_name=\"test-agent\"",
                          "children": [
                            {
                              "value": "agent_name",
                              "children": []
                            },
                            {
                              "value": "\"test-agent\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "test-agent",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_creators_defaults(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.creators == []\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
      "children": [
        {
          "value": "test_get_creators_defaults",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.total_pages == 0\n    assert data.creators == []\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.CreatorsResponse(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.CreatorsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "CreatorsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        creators=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        ),\n    )",
                          "children": [
                            {
                              "value": "creators=[]",
                              "children": [
                                {
                                  "value": "creators",
                                  "children": []
                                },
                                {
                                  "value": "[]",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=0,\n            total_items=0,\n            total_pages=0,\n            page_size=10,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=0",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "0",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=0",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "0",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=0",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "0",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=10",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "10",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_creators\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_creators\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_creators",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/creators\")",
              "children": [
                {
                  "value": "response = client.get(\"/creators\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/creators\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/creators\")",
                          "children": [
                            {
                              "value": "\"/creators\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/creators",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.CreatorsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.CreatorsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "CreatorsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.total_pages == 0",
              "children": [
                {
                  "value": "data.pagination.total_pages == 0",
                  "children": [
                    {
                      "value": "data.pagination.total_pages",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "total_pages",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "0",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.creators == []",
              "children": [
                {
                  "value": "data.creators == []",
                  "children": [
                    {
                      "value": "data.creators",
                      "children": [
                        {
                          "value": "data",
                          "children": []
                        },
                        {
                          "value": "creators",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "[]",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=False, search_query=None, sorted_by=None, page=1, page_size=20\n    )",
                      "children": [
                        {
                          "value": "featured=False",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "False",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "search_query=None",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=None",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page=1",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "1",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=20",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "20",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_creators_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.creators) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
      "children": [
        {
          "value": "test_get_creators_pagination",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creators?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.creators) == 5\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.CreatorsResponse(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.CreatorsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "CreatorsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        ),\n    )",
                          "children": [
                            {
                              "value": "creators=[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ]",
                              "children": [
                                {
                                  "value": "creators",
                                  "children": []
                                },
                                {
                                  "value": "[\n            backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )\n            for i in range(5)\n        ]",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Creator(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model.Creator",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store.model",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2.store",
                                                  "children": [
                                                    {
                                                      "value": "backend.server.v2",
                                                      "children": [
                                                        {
                                                          "value": "backend.server",
                                                          "children": [
                                                            {
                                                              "value": "backend",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "server",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "v2",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "store",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "model",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "Creator",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "(\n                name=f\"Creator {i}\",\n                username=f\"creator{i}\",\n                description=f\"Creator {i} description\",\n                avatar_url=f\"avatar{i}.jpg\",\n                num_agents=1,\n                agent_rating=4.5,\n                agent_runs=100,\n                is_featured=False,\n            )",
                                          "children": [
                                            {
                                              "value": "name=f\"Creator {i}\"",
                                              "children": [
                                                {
                                                  "value": "name",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"Creator {i}\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Creator",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "username=f\"creator{i}\"",
                                              "children": [
                                                {
                                                  "value": "username",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"creator{i}\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "creator",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "description=f\"Creator {i} description\"",
                                              "children": [
                                                {
                                                  "value": "description",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"Creator {i} description\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Creator",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "description",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "avatar_url=f\"avatar{i}.jpg\"",
                                              "children": [
                                                {
                                                  "value": "avatar_url",
                                                  "children": []
                                                },
                                                {
                                                  "value": "f\"avatar{i}.jpg\"",
                                                  "children": [
                                                    {
                                                      "value": "f\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "avatar",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "{i}",
                                                      "children": [
                                                        {
                                                          "value": "i",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": ".jpg",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "num_agents=1",
                                              "children": [
                                                {
                                                  "value": "num_agents",
                                                  "children": []
                                                },
                                                {
                                                  "value": "1",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_rating=4.5",
                                              "children": [
                                                {
                                                  "value": "agent_rating",
                                                  "children": []
                                                },
                                                {
                                                  "value": "4.5",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_runs=100",
                                              "children": [
                                                {
                                                  "value": "agent_runs",
                                                  "children": []
                                                },
                                                {
                                                  "value": "100",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "is_featured=False",
                                              "children": [
                                                {
                                                  "value": "is_featured",
                                                  "children": []
                                                },
                                                {
                                                  "value": "False",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "value": "for i in range(5)",
                                      "children": [
                                        {
                                          "value": "i",
                                          "children": []
                                        },
                                        {
                                          "value": "range(5)",
                                          "children": [
                                            {
                                              "value": "range",
                                              "children": []
                                            },
                                            {
                                              "value": "(5)",
                                              "children": [
                                                {
                                                  "value": "5",
                                                  "children": []
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=2,\n            total_items=15,\n            total_pages=3,\n            page_size=5,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=2",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=15",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "15",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=3",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "3",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=5",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "5",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_creators\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_creators\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_creators",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/creators?page=2&page_size=5\")",
              "children": [
                {
                  "value": "response = client.get(\"/creators?page=2&page_size=5\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/creators?page=2&page_size=5\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/creators?page=2&page_size=5\")",
                          "children": [
                            {
                              "value": "\"/creators?page=2&page_size=5\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/creators?page=2&page_size=5",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.CreatorsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.CreatorsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.CreatorsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "CreatorsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert len(data.creators) == 5",
              "children": [
                {
                  "value": "len(data.creators) == 5",
                  "children": [
                    {
                      "value": "len(data.creators)",
                      "children": [
                        {
                          "value": "len",
                          "children": []
                        },
                        {
                          "value": "(data.creators)",
                          "children": [
                            {
                              "value": "data.creators",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "creators",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "5",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.current_page == 2",
              "children": [
                {
                  "value": "data.pagination.current_page == 2",
                  "children": [
                    {
                      "value": "data.pagination.current_page",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "current_page",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "2",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.page_size == 5",
              "children": [
                {
                  "value": "data.pagination.page_size == 5",
                  "children": [
                    {
                      "value": "data.pagination.page_size",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "5",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(\n        featured=False, search_query=None, sorted_by=None, page=2, page_size=5\n    )",
                      "children": [
                        {
                          "value": "featured=False",
                          "children": [
                            {
                              "value": "featured",
                              "children": []
                            },
                            {
                              "value": "False",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "search_query=None",
                          "children": [
                            {
                              "value": "search_query",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "sorted_by=None",
                          "children": [
                            {
                              "value": "sorted_by",
                              "children": []
                            },
                            {
                              "value": "None",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page=2",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "2",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=5",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "5",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_creators_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/creators?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/creators?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/creators?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.assert_not_called()",
      "children": [
        {
          "value": "test_get_creators_malformed_request",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "# Test with invalid page number",
          "children": []
        },
        {
          "value": "response = client.get(\"/creators?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/creators?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/creators?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")\n    mock_db_call.assert_not_called()",
          "children": [
            {
              "value": "response = client.get(\"/creators?page=-1\")",
              "children": [
                {
                  "value": "response = client.get(\"/creators?page=-1\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/creators?page=-1\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/creators?page=-1\")",
                          "children": [
                            {
                              "value": "\"/creators?page=-1\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/creators?page=-1",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Test with invalid page size",
              "children": []
            },
            {
              "value": "response = client.get(\"/creators?page_size=0\")",
              "children": [
                {
                  "value": "response = client.get(\"/creators?page_size=0\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/creators?page_size=0\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/creators?page_size=0\")",
                          "children": [
                            {
                              "value": "\"/creators?page_size=0\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/creators?page_size=0",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Test with non-numeric values",
              "children": []
            },
            {
              "value": "response = client.get(\"/creators?page=abc&page_size=def\")",
              "children": [
                {
                  "value": "response = client.get(\"/creators?page=abc&page_size=def\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/creators?page=abc&page_size=def\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/creators?page=abc&page_size=def\")",
                          "children": [
                            {
                              "value": "\"/creators?page=abc&page_size=def\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/creators?page=abc&page_size=def",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Verify no DB calls were made",
              "children": []
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_creators\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_creators\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_creators\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_creators",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_not_called()",
              "children": [
                {
                  "value": "mock_db_call.assert_not_called()",
                  "children": [
                    {
                      "value": "mock_db_call.assert_not_called",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_not_called",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "()",
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_creator_details(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creator/creator1\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())\n    assert data.username == \"creator1\"\n    assert data.name == \"Test User\"\n    mock_db_call.assert_called_once_with(username=\"creator1\")",
      "children": [
        {
          "value": "test_get_creator_details",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/creator/creator1\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())\n    assert data.username == \"creator1\"\n    assert data.name == \"Test User\"\n    mock_db_call.assert_called_once_with(username=\"creator1\")",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.CreatorDetails(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.CreatorDetails",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "CreatorDetails",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        name=\"Test User\",\n        username=\"creator1\",\n        description=\"Test creator description\",\n        links=[\"link1.com\", \"link2.com\"],\n        avatar_url=\"avatar.jpg\",\n        agent_rating=4.8,\n        agent_runs=1000,\n        top_categories=[\"category1\", \"category2\"],\n    )",
                          "children": [
                            {
                              "value": "name=\"Test User\"",
                              "children": [
                                {
                                  "value": "name",
                                  "children": []
                                },
                                {
                                  "value": "\"Test User\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "Test User",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "username=\"creator1\"",
                              "children": [
                                {
                                  "value": "username",
                                  "children": []
                                },
                                {
                                  "value": "\"creator1\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "creator1",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "description=\"Test creator description\"",
                              "children": [
                                {
                                  "value": "description",
                                  "children": []
                                },
                                {
                                  "value": "\"Test creator description\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "Test creator description",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "links=[\"link1.com\", \"link2.com\"]",
                              "children": [
                                {
                                  "value": "links",
                                  "children": []
                                },
                                {
                                  "value": "[\"link1.com\", \"link2.com\"]",
                                  "children": [
                                    {
                                      "value": "\"link1.com\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "link1.com",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"link2.com\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "link2.com",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "avatar_url=\"avatar.jpg\"",
                              "children": [
                                {
                                  "value": "avatar_url",
                                  "children": []
                                },
                                {
                                  "value": "\"avatar.jpg\"",
                                  "children": [
                                    {
                                      "value": "\"",
                                      "children": []
                                    },
                                    {
                                      "value": "avatar.jpg",
                                      "children": []
                                    },
                                    {
                                      "value": "\"",
                                      "children": []
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "agent_rating=4.8",
                              "children": [
                                {
                                  "value": "agent_rating",
                                  "children": []
                                },
                                {
                                  "value": "4.8",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "agent_runs=1000",
                              "children": [
                                {
                                  "value": "agent_runs",
                                  "children": []
                                },
                                {
                                  "value": "1000",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "top_categories=[\"category1\", \"category2\"]",
                              "children": [
                                {
                                  "value": "top_categories",
                                  "children": []
                                },
                                {
                                  "value": "[\"category1\", \"category2\"]",
                                  "children": [
                                    {
                                      "value": "\"category1\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "category1",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "\"category2\"",
                                      "children": [
                                        {
                                          "value": "\"",
                                          "children": []
                                        },
                                        {
                                          "value": "category2",
                                          "children": []
                                        },
                                        {
                                          "value": "\"",
                                          "children": []
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_creator_details\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_creator_details\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_creator_details\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_creator_details",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/creator/creator1\")",
              "children": [
                {
                  "value": "response = client.get(\"/creator/creator1\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/creator/creator1\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/creator/creator1\")",
                          "children": [
                            {
                              "value": "\"/creator/creator1\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/creator/creator1",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.CreatorDetails.model_validate(response.json())",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.CreatorDetails.model_validate(response.json())",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.CreatorDetails.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.CreatorDetails",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "CreatorDetails",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(response.json())",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.username == \"creator1\"",
              "children": [
                {
                  "value": "data.username == \"creator1\"",
                  "children": [
                    {
                      "value": "data.username",
                      "children": [
                        {
                          "value": "data",
                          "children": []
                        },
                        {
                          "value": "username",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"creator1\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "creator1",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.name == \"Test User\"",
              "children": [
                {
                  "value": "data.name == \"Test User\"",
                  "children": [
                    {
                      "value": "data.name",
                      "children": [
                        {
                          "value": "data",
                          "children": []
                        },
                        {
                          "value": "name",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"Test User\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "Test User",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(username=\"creator1\")",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(username=\"creator1\")",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(username=\"creator1\")",
                      "children": [
                        {
                          "value": "username=\"creator1\"",
                          "children": [
                            {
                              "value": "username",
                              "children": []
                            },
                            {
                              "value": "\"creator1\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "creator1",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_submissions_success(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.submissions) == 1\n    assert data.submissions[0].name == \"Test Agent\"\n    assert data.pagination.current_page == 1\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)",
      "children": [
        {
          "value": "test_get_submissions_success",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert len(data.submissions) == 1\n    assert data.submissions[0].name == \"Test Agent\"\n    assert data.pagination.current_page == 1\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreSubmissionsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreSubmissionsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        ),\n    )",
                          "children": [
                            {
                              "value": "submissions=[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ]",
                              "children": [
                                {
                                  "value": "submissions",
                                  "children": []
                                },
                                {
                                  "value": "[\n            backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )\n        ]",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.StoreSubmission(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model.StoreSubmission",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store.model",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2.store",
                                                  "children": [
                                                    {
                                                      "value": "backend.server.v2",
                                                      "children": [
                                                        {
                                                          "value": "backend.server",
                                                          "children": [
                                                            {
                                                              "value": "backend",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "server",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "v2",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "store",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "model",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "StoreSubmission",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "(\n                name=\"Test Agent\",\n                description=\"Test agent description\",\n                image_urls=[\"test.jpg\"],\n                date_submitted=datetime.datetime.now(),\n                status=prisma.enums.SubmissionStatus.APPROVED,\n                runs=50,\n                rating=4.2,\n                agent_id=\"test-agent-id\",\n                agent_version=1,\n                sub_heading=\"Test agent subheading\",\n                slug=\"test-agent\",\n            )",
                                          "children": [
                                            {
                                              "value": "name=\"Test Agent\"",
                                              "children": [
                                                {
                                                  "value": "name",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Test Agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Test Agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "description=\"Test agent description\"",
                                              "children": [
                                                {
                                                  "value": "description",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Test agent description\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Test agent description",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "image_urls=[\"test.jpg\"]",
                                              "children": [
                                                {
                                                  "value": "image_urls",
                                                  "children": []
                                                },
                                                {
                                                  "value": "[\"test.jpg\"]",
                                                  "children": [
                                                    {
                                                      "value": "\"test.jpg\"",
                                                      "children": [
                                                        {
                                                          "value": "\"",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "test.jpg",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "\"",
                                                          "children": []
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "date_submitted=datetime.datetime.now()",
                                              "children": [
                                                {
                                                  "value": "date_submitted",
                                                  "children": []
                                                },
                                                {
                                                  "value": "datetime.datetime.now()",
                                                  "children": [
                                                    {
                                                      "value": "datetime.datetime.now",
                                                      "children": [
                                                        {
                                                          "value": "datetime.datetime",
                                                          "children": [
                                                            {
                                                              "value": "datetime",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "datetime",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "now",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "()",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "status=prisma.enums.SubmissionStatus.APPROVED",
                                              "children": [
                                                {
                                                  "value": "status",
                                                  "children": []
                                                },
                                                {
                                                  "value": "prisma.enums.SubmissionStatus.APPROVED",
                                                  "children": [
                                                    {
                                                      "value": "prisma.enums.SubmissionStatus",
                                                      "children": [
                                                        {
                                                          "value": "prisma.enums",
                                                          "children": [
                                                            {
                                                              "value": "prisma",
                                                              "children": []
                                                            },
                                                            {
                                                              "value": "enums",
                                                              "children": []
                                                            }
                                                          ]
                                                        },
                                                        {
                                                          "value": "SubmissionStatus",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "APPROVED",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "runs=50",
                                              "children": [
                                                {
                                                  "value": "runs",
                                                  "children": []
                                                },
                                                {
                                                  "value": "50",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "rating=4.2",
                                              "children": [
                                                {
                                                  "value": "rating",
                                                  "children": []
                                                },
                                                {
                                                  "value": "4.2",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_id=\"test-agent-id\"",
                                              "children": [
                                                {
                                                  "value": "agent_id",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"test-agent-id\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "test-agent-id",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "agent_version=1",
                                              "children": [
                                                {
                                                  "value": "agent_version",
                                                  "children": []
                                                },
                                                {
                                                  "value": "1",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "sub_heading=\"Test agent subheading\"",
                                              "children": [
                                                {
                                                  "value": "sub_heading",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"Test agent subheading\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "Test agent subheading",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            },
                                            {
                                              "value": "slug=\"test-agent\"",
                                              "children": [
                                                {
                                                  "value": "slug",
                                                  "children": []
                                                },
                                                {
                                                  "value": "\"test-agent\"",
                                                  "children": [
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "test-agent",
                                                      "children": []
                                                    },
                                                    {
                                                      "value": "\"",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=1,\n            total_items=1,\n            total_pages=1,\n            page_size=20,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=1",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=1",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=1",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "1",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=20",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "20",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_submissions\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_submissions\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_submissions",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/submissions\")",
              "children": [
                {
                  "value": "response = client.get(\"/submissions\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/submissions\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/submissions\")",
                          "children": [
                            {
                              "value": "\"/submissions\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/submissions",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreSubmissionsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreSubmissionsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreSubmissionsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert len(data.submissions) == 1",
              "children": [
                {
                  "value": "len(data.submissions) == 1",
                  "children": [
                    {
                      "value": "len(data.submissions)",
                      "children": [
                        {
                          "value": "len",
                          "children": []
                        },
                        {
                          "value": "(data.submissions)",
                          "children": [
                            {
                              "value": "data.submissions",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "submissions",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "value": "1",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.submissions[0].name == \"Test Agent\"",
              "children": [
                {
                  "value": "data.submissions[0].name == \"Test Agent\"",
                  "children": [
                    {
                      "value": "data.submissions[0].name",
                      "children": [
                        {
                          "value": "data.submissions[0]",
                          "children": [
                            {
                              "value": "data.submissions",
                              "children": [
                                {
                                  "value": "data",
                                  "children": []
                                },
                                {
                                  "value": "submissions",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "0",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "name",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "\"Test Agent\"",
                      "children": [
                        {
                          "value": "\"",
                          "children": []
                        },
                        {
                          "value": "Test Agent",
                          "children": []
                        },
                        {
                          "value": "\"",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.current_page == 1",
              "children": [
                {
                  "value": "data.pagination.current_page == 1",
                  "children": [
                    {
                      "value": "data.pagination.current_page",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "current_page",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "1",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=1, page_size=20)",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(user_id=\"test-user-id\", page=1, page_size=20)",
                      "children": [
                        {
                          "value": "user_id=\"test-user-id\"",
                          "children": [
                            {
                              "value": "user_id",
                              "children": []
                            },
                            {
                              "value": "\"test-user-id\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "test-user-id",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "page=1",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "1",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=20",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "20",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_submissions_pagination(mocker: pytest_mock.MockFixture):\n    mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)",
      "children": [
        {
          "value": "test_get_submissions_pagination",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.return_value = mocked_value\n\n    response = client.get(\"/submissions?page=2&page_size=5\")\n    assert response.status_code == 200\n\n    data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )\n    assert data.pagination.current_page == 2\n    assert data.pagination.page_size == 5\n    mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)",
          "children": [
            {
              "value": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )",
              "children": [
                {
                  "value": "mocked_value = backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )",
                  "children": [
                    {
                      "value": "mocked_value",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreSubmissionsResponse(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreSubmissionsResponse",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model",
                              "children": [
                                {
                                  "value": "backend.server.v2.store",
                                  "children": [
                                    {
                                      "value": "backend.server.v2",
                                      "children": [
                                        {
                                          "value": "backend.server",
                                          "children": [
                                            {
                                              "value": "backend",
                                              "children": []
                                            },
                                            {
                                              "value": "server",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "v2",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "store",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "model",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "StoreSubmissionsResponse",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        submissions=[],\n        pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        ),\n    )",
                          "children": [
                            {
                              "value": "submissions=[]",
                              "children": [
                                {
                                  "value": "submissions",
                                  "children": []
                                },
                                {
                                  "value": "[]",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "pagination=backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        )",
                              "children": [
                                {
                                  "value": "pagination",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.model.Pagination(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        )",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store.model.Pagination",
                                      "children": [
                                        {
                                          "value": "backend.server.v2.store.model",
                                          "children": [
                                            {
                                              "value": "backend.server.v2.store",
                                              "children": [
                                                {
                                                  "value": "backend.server.v2",
                                                  "children": [
                                                    {
                                                      "value": "backend.server",
                                                      "children": [
                                                        {
                                                          "value": "backend",
                                                          "children": []
                                                        },
                                                        {
                                                          "value": "server",
                                                          "children": []
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "value": "v2",
                                                      "children": []
                                                    }
                                                  ]
                                                },
                                                {
                                                  "value": "store",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "model",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "Pagination",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "(\n            current_page=2,\n            total_items=10,\n            total_pages=2,\n            page_size=5,\n        )",
                                      "children": [
                                        {
                                          "value": "current_page=2",
                                          "children": [
                                            {
                                              "value": "current_page",
                                              "children": []
                                            },
                                            {
                                              "value": "2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_items=10",
                                          "children": [
                                            {
                                              "value": "total_items",
                                              "children": []
                                            },
                                            {
                                              "value": "10",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "total_pages=2",
                                          "children": [
                                            {
                                              "value": "total_pages",
                                              "children": []
                                            },
                                            {
                                              "value": "2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "page_size=5",
                                          "children": [
                                            {
                                              "value": "page_size",
                                              "children": []
                                            },
                                            {
                                              "value": "5",
                                              "children": []
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_submissions\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_submissions\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_submissions",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.return_value = mocked_value",
              "children": [
                {
                  "value": "mock_db_call.return_value = mocked_value",
                  "children": [
                    {
                      "value": "mock_db_call.return_value",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "return_value",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "mocked_value",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "response = client.get(\"/submissions?page=2&page_size=5\")",
              "children": [
                {
                  "value": "response = client.get(\"/submissions?page=2&page_size=5\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/submissions?page=2&page_size=5\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/submissions?page=2&page_size=5\")",
                          "children": [
                            {
                              "value": "\"/submissions?page=2&page_size=5\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/submissions?page=2&page_size=5",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 200",
              "children": [
                {
                  "value": "response.status_code == 200",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "200",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
              "children": [
                {
                  "value": "data = backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                  "children": [
                    {
                      "value": "data",
                      "children": []
                    },
                    {
                      "value": "backend.server.v2.store.model.StoreSubmissionsResponse.model_validate(\n        response.json()\n    )",
                      "children": [
                        {
                          "value": "backend.server.v2.store.model.StoreSubmissionsResponse.model_validate",
                          "children": [
                            {
                              "value": "backend.server.v2.store.model.StoreSubmissionsResponse",
                              "children": [
                                {
                                  "value": "backend.server.v2.store.model",
                                  "children": [
                                    {
                                      "value": "backend.server.v2.store",
                                      "children": [
                                        {
                                          "value": "backend.server.v2",
                                          "children": [
                                            {
                                              "value": "backend.server",
                                              "children": [
                                                {
                                                  "value": "backend",
                                                  "children": []
                                                },
                                                {
                                                  "value": "server",
                                                  "children": []
                                                }
                                              ]
                                            },
                                            {
                                              "value": "v2",
                                              "children": []
                                            }
                                          ]
                                        },
                                        {
                                          "value": "store",
                                          "children": []
                                        }
                                      ]
                                    },
                                    {
                                      "value": "model",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "StoreSubmissionsResponse",
                                  "children": []
                                }
                              ]
                            },
                            {
                              "value": "model_validate",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\n        response.json()\n    )",
                          "children": [
                            {
                              "value": "response.json()",
                              "children": [
                                {
                                  "value": "response.json",
                                  "children": [
                                    {
                                      "value": "response",
                                      "children": []
                                    },
                                    {
                                      "value": "json",
                                      "children": []
                                    }
                                  ]
                                },
                                {
                                  "value": "()",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.current_page == 2",
              "children": [
                {
                  "value": "data.pagination.current_page == 2",
                  "children": [
                    {
                      "value": "data.pagination.current_page",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "current_page",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "2",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert data.pagination.page_size == 5",
              "children": [
                {
                  "value": "data.pagination.page_size == 5",
                  "children": [
                    {
                      "value": "data.pagination.page_size",
                      "children": [
                        {
                          "value": "data.pagination",
                          "children": [
                            {
                              "value": "data",
                              "children": []
                            },
                            {
                              "value": "pagination",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "5",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)",
              "children": [
                {
                  "value": "mock_db_call.assert_called_once_with(user_id=\"test-user-id\", page=2, page_size=5)",
                  "children": [
                    {
                      "value": "mock_db_call.assert_called_once_with",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_called_once_with",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "(user_id=\"test-user-id\", page=2, page_size=5)",
                      "children": [
                        {
                          "value": "user_id=\"test-user-id\"",
                          "children": [
                            {
                              "value": "user_id",
                              "children": []
                            },
                            {
                              "value": "\"test-user-id\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "test-user-id",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "value": "page=2",
                          "children": [
                            {
                              "value": "page",
                              "children": []
                            },
                            {
                              "value": "2",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "page_size=5",
                          "children": [
                            {
                              "value": "page_size",
                              "children": []
                            },
                            {
                              "value": "5",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "value": "def test_get_submissions_malformed_request(mocker: pytest_mock.MockFixture):\n    # Test with invalid page number\n    response = client.get(\"/submissions?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/submissions?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/submissions?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.assert_not_called()",
      "children": [
        {
          "value": "test_get_submissions_malformed_request",
          "children": []
        },
        {
          "value": "(mocker: pytest_mock.MockFixture)",
          "children": [
            {
              "value": "mocker: pytest_mock.MockFixture",
              "children": [
                {
                  "value": "mocker",
                  "children": []
                },
                {
                  "value": "pytest_mock.MockFixture",
                  "children": [
                    {
                      "value": "pytest_mock.MockFixture",
                      "children": [
                        {
                          "value": "pytest_mock",
                          "children": []
                        },
                        {
                          "value": "MockFixture",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "value": "# Test with invalid page number",
          "children": []
        },
        {
          "value": "response = client.get(\"/submissions?page=-1\")\n    assert response.status_code == 422\n\n    # Test with invalid page size\n    response = client.get(\"/submissions?page_size=0\")\n    assert response.status_code == 422\n\n    # Test with non-numeric values\n    response = client.get(\"/submissions?page=abc&page_size=def\")\n    assert response.status_code == 422\n\n    # Verify no DB calls were made\n    mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")\n    mock_db_call.assert_not_called()",
          "children": [
            {
              "value": "response = client.get(\"/submissions?page=-1\")",
              "children": [
                {
                  "value": "response = client.get(\"/submissions?page=-1\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/submissions?page=-1\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/submissions?page=-1\")",
                          "children": [
                            {
                              "value": "\"/submissions?page=-1\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/submissions?page=-1",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Test with invalid page size",
              "children": []
            },
            {
              "value": "response = client.get(\"/submissions?page_size=0\")",
              "children": [
                {
                  "value": "response = client.get(\"/submissions?page_size=0\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/submissions?page_size=0\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/submissions?page_size=0\")",
                          "children": [
                            {
                              "value": "\"/submissions?page_size=0\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/submissions?page_size=0",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Test with non-numeric values",
              "children": []
            },
            {
              "value": "response = client.get(\"/submissions?page=abc&page_size=def\")",
              "children": [
                {
                  "value": "response = client.get(\"/submissions?page=abc&page_size=def\")",
                  "children": [
                    {
                      "value": "response",
                      "children": []
                    },
                    {
                      "value": "client.get(\"/submissions?page=abc&page_size=def\")",
                      "children": [
                        {
                          "value": "client.get",
                          "children": [
                            {
                              "value": "client",
                              "children": []
                            },
                            {
                              "value": "get",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"/submissions?page=abc&page_size=def\")",
                          "children": [
                            {
                              "value": "\"/submissions?page=abc&page_size=def\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "/submissions?page=abc&page_size=def",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "assert response.status_code == 422",
              "children": [
                {
                  "value": "response.status_code == 422",
                  "children": [
                    {
                      "value": "response.status_code",
                      "children": [
                        {
                          "value": "response",
                          "children": []
                        },
                        {
                          "value": "status_code",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "422",
                      "children": []
                    }
                  ]
                }
              ]
            },
            {
              "value": "# Verify no DB calls were made",
              "children": []
            },
            {
              "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
              "children": [
                {
                  "value": "mock_db_call = mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                  "children": [
                    {
                      "value": "mock_db_call",
                      "children": []
                    },
                    {
                      "value": "mocker.patch(\"backend.server.v2.store.db.get_store_submissions\")",
                      "children": [
                        {
                          "value": "mocker.patch",
                          "children": [
                            {
                              "value": "mocker",
                              "children": []
                            },
                            {
                              "value": "patch",
                              "children": []
                            }
                          ]
                        },
                        {
                          "value": "(\"backend.server.v2.store.db.get_store_submissions\")",
                          "children": [
                            {
                              "value": "\"backend.server.v2.store.db.get_store_submissions\"",
                              "children": [
                                {
                                  "value": "\"",
                                  "children": []
                                },
                                {
                                  "value": "backend.server.v2.store.db.get_store_submissions",
                                  "children": []
                                },
                                {
                                  "value": "\"",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "value": "mock_db_call.assert_not_called()",
              "children": [
                {
                  "value": "mock_db_call.assert_not_called()",
                  "children": [
                    {
                      "value": "mock_db_call.assert_not_called",
                      "children": [
                        {
                          "value": "mock_db_call",
                          "children": []
                        },
                        {
                          "value": "assert_not_called",
                          "children": []
                        }
                      ]
                    },
                    {
                      "value": "()",
                      "children": []
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}