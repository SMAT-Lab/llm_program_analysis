{
    "nodes": [
        {
            "id": "chunk_0_GlobalBlock_1",
            "code": "import pytest\n"
        },
        {
            "id": "chunk_0_GlobalBlock_2",
            "code": "from .depends import requires_admin_user, requires_user, verify_user\n"
        },
        {
            "id": "chunk_1_test_verify_user_no_payload_1",
            "code": "def test_verify_user_no_payload():\n    user = verify_user(None, admin_only=False)\n"
        },
        {
            "id": "chunk_1_test_verify_user_no_payload_2",
            "code": "    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"\n"
        },
        {
            "id": "chunk_2_test_verify_user_no_user_id_1",
            "code": "def test_verify_user_no_user_id():\n"
        },
        {
            "id": "chunk_2_test_verify_user_no_user_id_2",
            "code": "    with pytest.raises(Exception):\n        verify_user({\"role\": \"admin\"}, admin_only=False)\n"
        },
        {
            "id": "chunk_3_test_verify_user_not_admin_1",
            "code": "def test_verify_user_not_admin():\n    with pytest.raises(Exception):\n        verify_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n            admin_only=True,\n        )\n"
        },
        {
            "id": "chunk_4_test_verify_user_with_admin_role_1",
            "code": "def test_verify_user_with_admin_role():\n    user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"},\n        admin_only=True,\n    )\n"
        },
        {
            "id": "chunk_4_test_verify_user_with_admin_role_2",
            "code": "    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"\n"
        },
        {
            "id": "chunk_5_test_verify_user_with_user_role_1",
            "code": "def test_verify_user_with_user_role():\n    user = verify_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"},\n        admin_only=False,\n    )\n"
        },
        {
            "id": "chunk_5_test_verify_user_with_user_role_2",
            "code": "    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"user\"\n"
        },
        {
            "id": "chunk_6_test_requires_user_1",
            "code": "def test_requires_user():\n    user = requires_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n    )\n"
        },
        {
            "id": "chunk_6_test_requires_user_2",
            "code": "    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"user\"\n"
        },
        {
            "id": "chunk_7_test_requires_user_no_user_id_1",
            "code": "def test_requires_user_no_user_id():\n"
        },
        {
            "id": "chunk_7_test_requires_user_no_user_id_2",
            "code": "    with pytest.raises(Exception):\n        requires_user({\"role\": \"user\"})\n"
        },
        {
            "id": "chunk_8_test_requires_admin_user_1",
            "code": "def test_requires_admin_user():\n    user = requires_admin_user(\n        {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"admin\"}\n    )\n"
        },
        {
            "id": "chunk_8_test_requires_admin_user_2",
            "code": "    assert user.user_id == \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\"\n    assert user.role == \"admin\"\n"
        },
        {
            "id": "chunk_9_test_requires_admin_user_not_admin_1",
            "code": "def test_requires_admin_user_not_admin():\n    with pytest.raises(Exception):\n        requires_admin_user(\n            {\"sub\": \"3e53486c-cf57-477e-ba2a-cb02dc828e1a\", \"role\": \"user\"}\n        )\n"
        }
    ],
    "edges": [
        {
            "from": "chunk_0_GlobalBlock_1",
            "to": "chunk_0_GlobalBlock_2"
        },
        {
            "from": "chunk_1_test_verify_user_no_payload_1",
            "to": "chunk_1_test_verify_user_no_payload_2"
        },
        {
            "from": "chunk_2_test_verify_user_no_user_id_1",
            "to": "chunk_2_test_verify_user_no_user_id_2"
        },
        {
            "from": "chunk_4_test_verify_user_with_admin_role_1",
            "to": "chunk_4_test_verify_user_with_admin_role_2"
        },
        {
            "from": "chunk_5_test_verify_user_with_user_role_1",
            "to": "chunk_5_test_verify_user_with_user_role_2"
        },
        {
            "from": "chunk_6_test_requires_user_1",
            "to": "chunk_6_test_requires_user_2"
        },
        {
            "from": "chunk_7_test_requires_user_no_user_id_1",
            "to": "chunk_7_test_requires_user_no_user_id_2"
        },
        {
            "from": "chunk_8_test_requires_admin_user_1",
            "to": "chunk_8_test_requires_admin_user_2"
        }
    ]
}